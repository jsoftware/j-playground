rem %1 is path to source library
rem ....\copy_library_from_current j64-903

cd /users/eric/gitdev/jsource/jlibrary

rmdir /S /Q addons
rmdir /S /Q bin
rmdir /S /Q system

mkdir addons
mkdir addons\ide
mkdir addons\ide\jhs
mkdir addons\data
mkdir addons\data\jmf

xcopy %userprofile%\%1\addons\ide\jhs  addons\ide\jhs  /S /Q
xcopy %userprofile%\%1\addons\data\jmf addons\data\jmf /S /Q

mkdir bin
copy %userprofile%\%1\bin\profile.ijs bin\profile.ijs

mkdir system
xcopy %userprofile%\%1\system  system  /S /Q

cd %userprofile%
NB. do not edit -- created by sym2ijs
cocurrent<'jdefs'

F_OK=:0
R_OK=:4
W_OK=:2
X_OK=:1
SEEK_CUR=: 1
SEEK_END=: 2
SEEK_SET=: 0

O_APPEND=: 8
O_CREAT=: 256
O_EXCL=: 1024
O_RDONLY=: 0
O_RDWR=: 2
O_TRUNC=: 512
O_WRONLY=: 1


REG_EXTENDED=: 1
REG_ICASE=: 2
REG_NOSUB=: 8
REG_NEWLINE=: 4

regex_t_sz=: 280
re_nsub_off=: 8
re_nsub_sz=: 4
regmatch_t_sz=: 12
rm_so_off=: 0
rm_so_sz=: 4
rm_eo_off=: 4
rm_eo_sz=: 4


FD_SETSIZE=: 64
timeval_sz=: 8
tv_sec_off=: 0
tv_sec_sz=: 4
tv_usec_off=: 4
tv_usec_sz=: 4

E2BIG=: 7
EFAULT=: 14
ENFILE=: 23
ENOTTY=: 25
EACCES=: 13
EFBIG=: 27
ENODEV=: 19
ENXIO=: 6
EAGAIN=: 11
ENOENT=: 2
EPERM=: 1
EBADF=: 9
EINTR=: 4
ENOEXEC=: 8
EPIPE=: 32
EINVAL=: 22
ENOLCK=: 39
ERANGE=: 34
EBUSY=: 16
EIO=: 5
ENOMEM=: 12
EROFS=: 30
EISDIR=: 21
ENOSPC=: 28
ESPIPE=: 29
ECHILD=: 10
EMFILE=: 24
ENOSYS=: 40
ESRCH=: 3
EDEADLK=: 36
EMLINK=: 31
ENOTDIR=: 20
EDOM=: 33
ENOTEMPTY=: 41
EXDEV=: 18
EEXIST=: 17
ENAMETOOLONG=: 38

NB. do not edit -- created by sym2ijs

cocurrent <'jdefs'

FIONBIO=: 21537
FIONREAD=: 21531
FD_SETSIZE=: 1024


sockaddr_sz=: 16
sa_family_off=: 0
sa_family_sz=: 2
sa_data_off=: 2
sa_data_sz=: 14

sockaddr_in_sz=: 16
sin_family_off=: 0
sin_family_sz=: 2
sin_port_off=: 2
sin_port_sz=: 2
sin_addr_off=: 4
sin_addr_sz=: 4

in_addr_sz=: 4
s_addr_off=: 0
s_addr_sz=: 4

hostent_sz=: 20
h_name_off=: 0
h_name_sz=: 4
h_aliases_off=: 4
h_aliases_sz=: 4
h_addrtype_off=: 8
h_addrtype_sz=: 4
h_length_off=: 12
h_length_sz=: 4
h_addr_list_off=: 16
h_addr_list_sz=: 4


SIOCATMARK=: 35077


IPPROTO_IP=: 0
IPPROTO_ICMP=: 1
IPPROTO_IGMP=: 2
IPPROTO_TCP=: 6
IPPROTO_PUP=: 12
IPPROTO_UDP=: 17
IPPROTO_IDP=: 22
IPPROTO_RAW=: 255
IPPROTO_MAX=: 256


INADDR_ANY=: 0
INADDR_LOOPBACK=: 2130706433
INADDR_BROADCAST=: -1
INADDR_NONE=: -1

INADDR_UNSPEC_GROUP=: -536870912
INADDR_ALLHOSTS_GROUP=: -536870911
INADDR_MAX_LOCAL_GROUP=: -536870657
IN_LOOPBACKNET=: 127

SOCK_STREAM=: 1
SOCK_DGRAM=: 2
SOCK_RAW=: 3
SOCK_RDM=: 4
SOCK_SEQPACKET=: 5

SOL_SOCKET=: 1
SO_DEBUG=: 1
SO_REUSEADDR=: 2
SO_KEEPALIVE=: 9
SO_DONTROUTE=: 5
SO_BROADCAST=: 6
SO_LINGER=: 13
SO_OOBINLINE=: 10

SO_SNDBUF=: 7
SO_RCVBUF=: 8
SO_SNDLOWAT=: 19
SO_RCVLOWAT=: 18
SO_SNDTIMEO=: 21
SO_RCVTIMEO=: 20
SO_ERROR=: 4
SO_TYPE=: 3

linger_sz=: 8
l_onoff_off=: 0
l_onoff_sz=: 4
l_linger_off=: 4
l_linger_sz=: 4

AF_UNSPEC=: 0
AF_UNIX=: 1
AF_INET=: 2
AF_SNA=: 22
AF_DECnet=: 12
AF_APPLETALK=: 5
AF_IPX=: 4
AF_MAX=: 32
PF_UNSPEC=: 0
PF_UNIX=: 1
PF_INET=: 2
PF_SNA=: 22
PF_DECnet=: 12
PF_APPLETALK=: 5
PF_IPX=: 4
PF_MAX=: 32

SOMAXCONN=: 128
MSG_OOB=: 1
MSG_PEEK=: 2
MSG_DONTROUTE=: 4

msghdr_sz=: 28
msg_name_off=: 0
msg_name_sz=: 4
msg_namelen_off=: 4
msg_namelen_sz=: 4
msg_iov_off=: 8
msg_iov_sz=: 4
msg_iovlen_off=: 12
msg_iovlen_sz=: 4
msg_control_off=: 16
msg_control_sz=: 4
msg_controllen_off=: 20
msg_controllen_sz=: 4
msg_flags_off=: 24
msg_flags_sz=: 4

NB. do not edit -- created by sym2ijs
cocurrent<'jdefs'

FIONBIO=: 21537
FIONREAD=: 21531
FD_SETSIZE=: 1024

sockaddr_sz=: 16
sa_family_off=: 0
sa_family_sz=: 2
sa_data_off=: 2
sa_data_sz=: 14

sockaddr_in_sz=: 16
sin_family_off=: 0
sin_family_sz=: 2
sin_port_off=: 2
sin_port_sz=: 2
sin_addr_off=: 4
sin_addr_sz=: 4

in_addr_sz=: 4
s_addr_off=: 0
s_addr_sz=: 4

hostent_sz=: 20
h_name_off=: 0
h_name_sz=: 4
h_aliases_off=: 4
h_aliases_sz=: 4
h_addrtype_off=: 8
h_addrtype_sz=: 4
h_length_off=: 12
h_length_sz=: 4
h_addr_list_off=: 16
h_addr_list_sz=: 4


SIOCATMARK=: 35077


IPPROTO_IP=: 0
IPPROTO_ICMP=: 1
IPPROTO_IGMP=: 2
IPPROTO_TCP=: 6
IPPROTO_PUP=: 12
IPPROTO_UDP=: 17
IPPROTO_IDP=: 22
IPPROTO_RAW=: 255
IPPROTO_MAX=: 256


INADDR_ANY=: 0
INADDR_LOOPBACK=: 2130706433
INADDR_BROADCAST=: -1
INADDR_NONE=: -1

INADDR_UNSPEC_GROUP=: -536870912
INADDR_ALLHOSTS_GROUP=: -536870911
INADDR_MAX_LOCAL_GROUP=: -536870657
IN_LOOPBACKNET=: 127

SOCK_STREAM=: 1
SOCK_DGRAM=: 2
SOCK_RAW=: 3
SOCK_RDM=: 4
SOCK_SEQPACKET=: 5

SOL_SOCKET=: 1
SO_DEBUG=: 1
SO_REUSEADDR=: 2
SO_KEEPALIVE=: 9
SO_DONTROUTE=: 5
SO_BROADCAST=: 6
SO_LINGER=: 13
SO_OOBINLINE=: 10

SO_SNDBUF=: 7
SO_RCVBUF=: 8
SO_SNDLOWAT=: 19
SO_RCVLOWAT=: 18
SO_SNDTIMEO=: 21
SO_RCVTIMEO=: 20
SO_ERROR=: 4
SO_TYPE=: 3

linger_sz=: 8
l_onoff_off=: 0
l_onoff_sz=: 4
l_linger_off=: 4
l_linger_sz=: 4

AF_UNSPEC=: 0
AF_UNIX=: 1
AF_INET=: 2
AF_SNA=: 22
AF_DECnet=: 12
AF_APPLETALK=: 5
AF_IPX=: 4
AF_MAX=: 32
PF_UNSPEC=: 0
PF_UNIX=: 1
PF_INET=: 2
PF_SNA=: 22
PF_DECnet=: 12
PF_APPLETALK=: 5
PF_IPX=: 4
PF_MAX=: 32

SOMAXCONN=: 128
MSG_OOB=: 1
MSG_PEEK=: 2
MSG_DONTROUTE=: 4

msghdr_sz=: 28
msg_name_off=: 0
msg_name_sz=: 4
msg_namelen_off=: 4
msg_namelen_sz=: 4
msg_iov_off=: 8
msg_iov_sz=: 4
msg_iovlen_off=: 12
msg_iovlen_sz=: 4
msg_control_off=: 16
msg_control_sz=: 4
msg_controllen_off=: 20
msg_controllen_sz=: 4
msg_flags_off=: 24
msg_flags_sz=: 4

NB. do not edit -- created by sym2ijs
cocurrent<'jdefs'

F_OK =: 0
R_OK =: 4
W_OK =: 2
X_OK =: 1
STDIN_FILENO =: 0
STDOUT_FILENO =: 1
STDERR_FILENO =: 2
SEEK_CUR =: 1
SEEK_END =: 2
SEEK_SET =: 0

O_APPEND =: 8
O_CREAT =: 512
O_EXCL =: 2048
O_RDONLY =: 0
O_RDWR =: 2
O_TRUNC =: 1024
O_WRONLY =: 1

O_ACCMODE =: 3
O_NOCTTY =: 0
O_NONBLOCK =: 4
FD_CLOEXEC =: 1
F_DUPFD =: 0
F_GETFD =: 1
F_SETFD =: 2
F_GETFL =: 3
F_SETFL =: 4
F_SETLK =: 8
F_SETLKW =: 9
F_GETLK =: 7
F_UNLCK =: 2
F_WRLCK =: 3
flock_sz =: 24
l_len_off =: 8
l_len_sz =: 8
l_pid_off =: 16
l_pid_sz =: 4
l_start_off =: 0
l_start_sz =: 8
l_type_off =: 20
l_type_sz =: 2
l_whence_off =: 22
l_whence_sz =: 2

PROT_READ =: 1
PROT_WRITE =: 2
PROT_EXEC =: 4
PROT_NONE =: 0
MAP_SHARED =: 1
MAP_PRIVATE =: 2
MAP_FIXED =: 16

REG_EXTENDED =: 1
REG_ICASE =: 2
REG_NOSUB =: 4
REG_NEWLINE =: 8

regex_t_sz =: 16
re_nsub_off =: 4
re_nsub_sz =: 4
regmatch_t_sz =: 16
rm_so_off =: 4
rm_so_sz =: 4
rm_eo_off =: 12
rm_eo_sz =: 4


fd_set_sz =: 128
fds_bits_off =: 0
fds_bits_sz =: 128
FD_SETSIZE =: 1024
timeval_sz =: 8
tv_sec_off =: 0
tv_sec_sz =: 4
tv_usec_off =: 4
tv_usec_sz =: 4

E2BIG =: 7
EFAULT =: 14
ENFILE =: 23
ENOTTY =: 25
EACCES =: 13
EFBIG =: 27
ENODEV =: 19
ENXIO =: 6
EAGAIN =: 35
ENOENT =: 2
EPERM =: 1
EBADF =: 9
EINTR =: 4
ENOEXEC =: 8
EPIPE =: 32
EINVAL =: 22
ENOLCK =: 77
ERANGE =: 34
EBUSY =: 16
EIO =: 5
ENOMEM =: 12
EROFS =: 30
EISDIR =: 21
ENOSPC =: 28
ESPIPE =: 29
ECHILD =: 10
EMFILE =: 24
ENOSYS =: 78
ESRCH =: 3
EDEADLK =: 11
EMLINK =: 31
ENOTDIR =: 20
EDOM =: 33
ENOTEMPTY =: 66
EXDEV =: 18
EEXIST =: 17
ENAMETOOLONG =: 63

EINPROGRESS =: 36
ECANCELED =: 89
ETIMEDOUT =: 60
EMSGSIZE =: 40
ENOTSUP =: 45
NB. do not edit -- created by sym2ijs
cocurrent<'jdefs'

FIONBIO=: -2147195266
FIONREAD=: 1074030207
FD_SETSIZE=: 1024

sockaddr_sz=: 16
sa_family_off=: 1
sa_family_sz=: 1
sa_data_off=: 2
sa_data_sz=: 14

sockaddr_in_sz=: 16
sin_family_off=: 1
sin_family_sz=: 1
sin_port_off=: 2
sin_port_sz=: 2
sin_addr_off=: 4
sin_addr_sz=: 4

in_addr_sz=: 4
s_addr_off=: 0
s_addr_sz=: 4

hostent_sz=: 20
h_name_off=: 0
h_name_sz=: 4
h_aliases_off=: 4
h_aliases_sz=: 4
h_addrtype_off=: 8
h_addrtype_sz=: 4
h_length_off=: 12
h_length_sz=: 4
h_addr_list_off=: 16
h_addr_list_sz=: 4




IPPROTO_IP=: 0
IPPROTO_ICMP=: 1
IPPROTO_IGMP=: 2
IPPROTO_TCP=: 6
IPPROTO_PUP=: 12
IPPROTO_UDP=: 17
IPPROTO_IDP=: 22
IPPROTO_RAW=: 255
IPPROTO_MAX=: 256


INADDR_ANY=: 0
INADDR_LOOPBACK=: 2130706433
INADDR_BROADCAST=: -1
INADDR_NONE=: -1

INADDR_UNSPEC_GROUP=: -536870912
INADDR_ALLHOSTS_GROUP=: -536870911
INADDR_MAX_LOCAL_GROUP=: -536870657
IN_LOOPBACKNET=: 127

SOCK_STREAM=: 1
SOCK_DGRAM=: 2
SOCK_RAW=: 3
SOCK_RDM=: 4
SOCK_SEQPACKET=: 5

SOL_SOCKET=: 65535
SO_DEBUG=: 1
SO_REUSEADDR=: 4
SO_KEEPALIVE=: 8
SO_DONTROUTE=: 16
SO_BROADCAST=: 32
SO_LINGER=: 128
SO_OOBINLINE=: 256

SO_SNDBUF=: 4097
SO_RCVBUF=: 4098
SO_SNDLOWAT=: 4099
SO_RCVLOWAT=: 4100
SO_SNDTIMEO=: 4101
SO_RCVTIMEO=: 4102
SO_ERROR=: 4103
SO_TYPE=: 4104

linger_sz=: 8
l_onoff_off=: 0
l_onoff_sz=: 4
l_linger_off=: 4
l_linger_sz=: 4

AF_UNSPEC=: 0
AF_UNIX=: 1
AF_INET=: 2
AF_SNA=: 11
AF_DECnet=: 12
AF_APPLETALK=: 16
AF_MAX=: 30
PF_UNSPEC=: 0
PF_UNIX=: 1
PF_INET=: 2
PF_SNA=: 11
PF_DECnet=: 12
PF_APPLETALK=: 16
PF_MAX=: 30

SOMAXCONN=: 1024
MSG_OOB=: 1
MSG_PEEK=: 2
MSG_DONTROUTE=: 4

msghdr_sz=: 28
msg_name_off=: 0
msg_name_sz=: 4
msg_namelen_off=: 4
msg_namelen_sz=: 4
msg_iov_off=: 8
msg_iov_sz=: 4
msg_iovlen_off=: 12
msg_iovlen_sz=: 4

NB. do not edit -- created by sym2ijs

cocurrent <'jdefs'

FIONBIO=: 21537
FIONREAD=: 21531
FD_SETSIZE=: 1024

sockaddr_sz=: 16
sa_family_off=: 0
sa_family_sz=: 2
sa_data_off=: 2
sa_data_sz=: 14

sockaddr_in_sz=: 16
sin_family_off=: 0
sin_family_sz=: 2
sin_port_off=: 2
sin_port_sz=: 2
sin_addr_off=: 4
sin_addr_sz=: 4

in_addr_sz=: 4
s_addr_off=: 0
s_addr_sz=: 4

hostent_sz=: 32
h_name_off=: 0
h_name_sz=: 8
h_aliases_off=: 8
h_aliases_sz=: 8
h_addrtype_off=: 16
h_addrtype_sz=: 4
h_length_off=: 20
h_length_sz=: 4
h_addr_list_off=: 24
h_addr_list_sz=: 8


SIOCATMARK=: 35077


IPPROTO_IP=: 0
IPPROTO_ICMP=: 1
IPPROTO_IGMP=: 2
IPPROTO_TCP=: 6
IPPROTO_PUP=: 12
IPPROTO_UDP=: 17
IPPROTO_IDP=: 22
IPPROTO_RAW=: 255
IPPROTO_MAX=: 256


INADDR_ANY=: 0
INADDR_LOOPBACK=: 2130706433
INADDR_BROADCAST=: -1
INADDR_NONE=: -1

INADDR_UNSPEC_GROUP=: -536870912
INADDR_ALLHOSTS_GROUP=: -536870911
INADDR_MAX_LOCAL_GROUP=: -536870657
IN_LOOPBACKNET=: 127

SOCK_STREAM=: 1
SOCK_DGRAM=: 2
SOCK_RAW=: 3
SOCK_RDM=: 4
SOCK_SEQPACKET=: 5

SOL_SOCKET=: 1
SO_DEBUG=: 1
SO_REUSEADDR=: 2
SO_KEEPALIVE=: 9
SO_DONTROUTE=: 5
SO_BROADCAST=: 6
SO_LINGER=: 13
SO_OOBINLINE=: 10

SO_SNDBUF=: 7
SO_RCVBUF=: 8
SO_SNDLOWAT=: 19
SO_RCVLOWAT=: 18
SO_SNDTIMEO=: 21
SO_RCVTIMEO=: 20
SO_ERROR=: 4
SO_TYPE=: 3

linger_sz=: 8
l_onoff_off=: 0
l_onoff_sz=: 4
l_linger_off=: 4
l_linger_sz=: 4

AF_UNSPEC=: 0
AF_UNIX=: 1
AF_INET=: 2
AF_SNA=: 22
AF_DECnet=: 12
AF_APPLETALK=: 5
AF_IPX=: 4
AF_MAX=: 32
PF_UNSPEC=: 0
PF_UNIX=: 1
PF_INET=: 2
PF_SNA=: 22
PF_DECnet=: 12
PF_APPLETALK=: 5
PF_IPX=: 4
PF_MAX=: 32

SOMAXCONN=: 128
MSG_OOB=: 1
MSG_PEEK=: 2
MSG_DONTROUTE=: 4

msghdr_sz=: 56
msg_name_off=: 0
msg_name_sz=: 8
msg_namelen_off=: 8
msg_namelen_sz=: 4
msg_iov_off=: 16
msg_iov_sz=: 8
msg_iovlen_off=: 24
msg_iovlen_sz=: 8
msg_control_off=: 32
msg_control_sz=: 8
msg_controllen_off=: 40
msg_controllen_sz=: 8
msg_flags_off=: 48
msg_flags_sz=: 4

NB. do not edit -- created by sym2ijs
cocurrent<'jdefs'

FIONBIO =: -2147195266
FIONREAD =: 1074030207
FD_SETSIZE=: 1024

sockaddr_sz =: 16
sa_family_off =: 1
sa_family_sz =: 1
sa_data_off =: 2
sa_data_sz =: 14

sockaddr_in_sz =: 16
sin_family_off =: 1
sin_family_sz =: 1
sin_port_off =: 2
sin_port_sz =: 2
sin_addr_off =: 4
sin_addr_sz =: 4

in_addr_sz =: 4
s_addr_off =: 0
s_addr_sz =: 4

hostent_sz =: 20
h_name_off =: 0
h_name_sz =: 4
h_aliases_off =: 4
h_aliases_sz =: 4
h_addrtype_off =: 8
h_addrtype_sz =: 4
h_length_off =: 12
h_length_sz =: 4
h_addr_list_off =: 16
h_addr_list_sz =: 4


SIOCATMARK =: 1074033415


IPPROTO_IP =: 0
IPPROTO_ICMP =: 1
IPPROTO_IGMP =: 2
IPPROTO_TCP =: 6
IPPROTO_PUP =: 12
IPPROTO_UDP =: 17
IPPROTO_IDP =: 22
IPPROTO_RAW =: 255
IPPROTO_MAX =: 256


INADDR_ANY =: 0
INADDR_LOOPBACK =: 2130706433
INADDR_BROADCAST =: -1
INADDR_NONE =: -1

INADDR_UNSPEC_GROUP =: -536870912
INADDR_ALLHOSTS_GROUP =: -536870911
INADDR_MAX_LOCAL_GROUP =: -536870657
IN_LOOPBACKNET =: 127

SOCK_STREAM =: 1
SOCK_DGRAM =: 2
SOCK_RAW =: 3
SOCK_RDM =: 4
SOCK_SEQPACKET =: 5

SOL_SOCKET =: 65535
SO_DEBUG =: 1
SO_REUSEADDR =: 4
SO_KEEPALIVE =: 8
SO_DONTROUTE =: 16
SO_BROADCAST =: 32
SO_LINGER =: 128
SO_OOBINLINE =: 256

SO_SNDBUF =: 4097
SO_RCVBUF =: 4098
SO_SNDLOWAT =: 4099
SO_RCVLOWAT =: 4100
SO_SNDTIMEO =: 4101
SO_RCVTIMEO =: 4102
SO_ERROR =: 4103
SO_TYPE =: 4104

linger_sz =: 8
l_onoff_off =: 0
l_onoff_sz =: 4
l_linger_off =: 4
l_linger_sz =: 4

AF_UNSPEC =: 0
AF_UNIX =: 1
AF_INET =: 2
AF_SNA =: 11
AF_DECnet =: 12
AF_APPLETALK =: 16
AF_IPX =: 23
AF_MAX =: 36
PF_UNSPEC =: 0
PF_UNIX =: 1
PF_INET =: 2
PF_SNA =: 11
PF_DECnet =: 12
PF_APPLETALK =: 16
PF_IPX =: 23
PF_MAX =: 36

SOMAXCONN =: 128
MSG_OOB =: 1
MSG_PEEK =: 2
MSG_DONTROUTE =: 4

msghdr_sz =: 28
msg_name_off =: 0
msg_name_sz =: 4
msg_namelen_off =: 4
msg_namelen_sz =: 4
msg_iov_off =: 8
msg_iov_sz =: 4
msg_iovlen_off =: 12
msg_iovlen_sz =: 4
msg_control_off =: 16
msg_control_sz =: 4
msg_controllen_off =: 20
msg_controllen_sz =: 4
msg_flags_off =: 24
msg_flags_sz =: 4

NB. do not edit -- created by sym2ijs

cocurrent <'jdefs'

F_OK=: 0
R_OK=: 4
W_OK=: 2
X_OK=: 1
STDIN_FILENO=: 0
STDOUT_FILENO=: 1
STDERR_FILENO=: 2
SEEK_CUR=: 1
SEEK_END=: 2
SEEK_SET=: 0

O_APPEND=: 1024
O_CREAT=: 64
O_EXCL=: 128
O_RDONLY=: 0
O_RDWR=: 2
O_TRUNC=: 512
O_WRONLY=: 1

O_ACCMODE=: 3
O_NOCTTY=: 256
O_NONBLOCK=: 2048
FD_CLOEXEC=: 1
F_DUPFD=: 0
F_GETFD=: 1
F_SETFD=: 2
F_GETFL=: 3
F_SETFL=: 4
F_SETLK=: 6
F_SETLKW=: 7
F_GETLK=: 5
F_UNLCK=: 2
F_WRLCK=: 1
flock_sz=: 16
l_len_off=: 8
l_len_sz=: 4
l_pid_off=: 12
l_pid_sz=: 4
l_start_off=: 4
l_start_sz=: 4
l_type_off=: 0
l_type_sz=: 2
l_whence_off=: 2
l_whence_sz=: 2

PROT_READ=: 1
PROT_WRITE=: 2
PROT_EXEC=: 4
PROT_NONE=: 0
MAP_SHARED=: 1
MAP_PRIVATE=: 2
MAP_FIXED=: 16

REG_EXTENDED=: 1
REG_ICASE=: 2
REG_NOSUB=: 4
REG_NEWLINE=: 8

regex_t_sz=: 16
re_nsub_off=: 4
re_nsub_sz=: 4
regmatch_t_sz=: 8
rm_so_off=: 0
rm_so_sz=: 4
rm_eo_off=: 4
rm_eo_sz=: 4


fd_set_sz=: 128
fds_bits_off=: 0
fds_bits_sz=: 128
FD_SETSIZE=: 1024
timeval_sz=: 8
tv_sec_off=: 0
tv_sec_sz=: 4
tv_usec_off=: 4
tv_usec_sz=: 4

E2BIG=: 7
EFAULT=: 14
ENFILE=: 23
ENOTTY=: 25
EACCES=: 13
EFBIG=: 27
ENODEV=: 19
ENXIO=: 6
EAGAIN=: 11
ENOENT=: 2
EPERM=: 1
EBADF=: 9
EINTR=: 4
ENOEXEC=: 8
EPIPE=: 32
EINVAL=: 22
ENOLCK=: 37
ERANGE=: 34
EBUSY=: 16
EIO=: 5
ENOMEM=: 12
EROFS=: 30
EISDIR=: 21
ENOSPC=: 28
ESPIPE=: 29
ECHILD=: 10
EMFILE=: 24
ENOSYS=: 38
ESRCH=: 3
EDEADLK=: 35
EMLINK=: 31
ENOTDIR=: 20
EDOM=: 33
ENOTEMPTY=: 39
EXDEV=: 18
EEXIST=: 17
ENAMETOOLONG=: 36

EINPROGRESS=: 115
ECANCELED=: 125
ETIMEDOUT=: 110
EMSGSIZE=: 90
ENOTSUP=: 95
NB. do not edit -- created by sym2ijs

cocurrent <'jdefs'

F_OK=: 0
R_OK=: 4
W_OK=: 2
X_OK=: 1
STDIN_FILENO=: 0
STDOUT_FILENO=: 1
STDERR_FILENO=: 2
SEEK_CUR=: 1
SEEK_END=: 2
SEEK_SET=: 0

O_APPEND=: 1024
O_CREAT=: 64
O_EXCL=: 128
O_RDONLY=: 0
O_RDWR=: 2
O_TRUNC=: 512
O_WRONLY=: 1

O_ACCMODE=: 3
O_NOCTTY=: 256
O_NONBLOCK=: 2048
FD_CLOEXEC=: 1
F_DUPFD=: 0
F_GETFD=: 1
F_SETFD=: 2
F_GETFL=: 3
F_SETFL=: 4
F_SETLK=: 6
F_SETLKW=: 7
F_GETLK=: 5
F_UNLCK=: 2
F_WRLCK=: 1
flock_sz=: 32
l_len_off=: 16
l_len_sz=: 8
l_pid_off=: 24
l_pid_sz=: 4
l_start_off=: 8
l_start_sz=: 8
l_type_off=: 0
l_type_sz=: 2
l_whence_off=: 2
l_whence_sz=: 2

PROT_READ=: 1
PROT_WRITE=: 2
PROT_EXEC=: 4
PROT_NONE=: 0
MAP_SHARED=: 1
MAP_PRIVATE=: 2
MAP_FIXED=: 16

REG_EXTENDED=: 1
REG_ICASE=: 2
REG_NOSUB=: 8
REG_NEWLINE=: 4

regex_t_sz=: 64
re_nsub_off=: 48
re_nsub_sz=: 8
regmatch_t_sz=: 8
rm_so_off=: 0
rm_so_sz=: 4
rm_eo_off=: 4
rm_eo_sz=: 4


fd_set_sz=: 128
fds_bits_off=: 0
fds_bits_sz=: 128
FD_SETSIZE=: 1024
timeval_sz=: 16
tv_sec_off=: 0
tv_sec_sz=: 8
tv_usec_off=: 8
tv_usec_sz=: 8

E2BIG=: 7
EFAULT=: 14
ENFILE=: 23
ENOTTY=: 25
EACCES=: 13
EFBIG=: 27
ENODEV=: 19
ENXIO=: 6
EAGAIN=: 11
ENOENT=: 2
EPERM=: 1
EBADF=: 9
EINTR=: 4
ENOEXEC=: 8
EPIPE=: 32
EINVAL=: 22
ENOLCK=: 37
ERANGE=: 34
EBUSY=: 16
EIO=: 5
ENOMEM=: 12
EROFS=: 30
EISDIR=: 21
ENOSPC=: 28
ESPIPE=: 29
ECHILD=: 10
EMFILE=: 24
ENOSYS=: 38
ESRCH=: 3
EDEADLK=: 35
EMLINK=: 31
ENOTDIR=: 20
EDOM=: 33
ENOTEMPTY=: 39
EXDEV=: 18
EEXIST=: 17
ENAMETOOLONG=: 36

EINPROGRESS=: 115
ECANCELED=: 125
ETIMEDOUT=: 110
EMSGSIZE=: 90
ENOTSUP=: 95
NB. do not edit -- created by sym2ijs

cocurrent <'jdefs'

F_OK=:0
R_OK=:4
W_OK=:2
X_OK=:1
SEEK_CUR=: 1
SEEK_END=: 2
SEEK_SET=: 0

O_APPEND=: 8
O_CREAT=: 256
O_EXCL=: 1024
O_RDONLY=: 0
O_RDWR=: 2
O_TRUNC=: 512
O_WRONLY=: 1


REG_EXTENDED=: 1
REG_ICASE=: 2
REG_NOSUB=: 8
REG_NEWLINE=: 4

regex_t_sz=: 304
re_nsub_off=: 16
re_nsub_sz=: 8
regmatch_t_sz=: 12
rm_so_off=: 0
rm_so_sz=: 4
rm_eo_off=: 4
rm_eo_sz=: 4


FD_SETSIZE=: 64
timeval_sz=: 8
tv_sec_off=: 0
tv_sec_sz=: 4
tv_usec_off=: 4
tv_usec_sz=: 4

E2BIG=: 7
EFAULT=: 14
ENFILE=: 23
ENOTTY=: 25
EACCES=: 13
EFBIG=: 27
ENODEV=: 19
ENXIO=: 6
EAGAIN=: 11
ENOENT=: 2
EPERM=: 1
EBADF=: 9
EINTR=: 4
ENOEXEC=: 8
EPIPE=: 32
EINVAL=: 22
ENOLCK=: 39
ERANGE=: 34
EBUSY=: 16
EIO=: 5
ENOMEM=: 12
EROFS=: 30
EISDIR=: 21
ENOSPC=: 28
ESPIPE=: 29
ECHILD=: 10
EMFILE=: 24
ENOSYS=: 40
ESRCH=: 3
EDEADLK=: 36
EMLINK=: 31
ENOTDIR=: 20
EDOM=: 33
ENOTEMPTY=: 41
EXDEV=: 18
EEXIST=: 17
ENAMETOOLONG=: 38

NB. do not edit -- created by sym2ijs

cocurrent <'jdefs'

F_OK=: 0
R_OK=: 4
W_OK=: 2
X_OK=: 1
STDIN_FILENO=: 0
STDOUT_FILENO=: 1
STDERR_FILENO=: 2
SEEK_CUR=: 1
SEEK_END=: 2
SEEK_SET=: 0

O_APPEND=: 8
O_CREAT=: 512
O_EXCL=: 2048
O_RDONLY=: 0
O_RDWR=: 2
O_TRUNC=: 1024
O_WRONLY=: 1

O_ACCMODE=: 3
O_NOCTTY=: 131072
O_NONBLOCK=: 4
FD_CLOEXEC=: 1
F_DUPFD=: 0
F_GETFD=: 1
F_SETFD=: 2
F_GETFL=: 3
F_SETFL=: 4
F_SETLK=: 8
F_SETLKW=: 9
F_GETLK=: 7
F_UNLCK=: 2
F_WRLCK=: 3
flock_sz=: 24
l_len_off=: 8
l_len_sz=: 8
l_pid_off=: 16
l_pid_sz=: 4
l_start_off=: 0
l_start_sz=: 8
l_type_off=: 20
l_type_sz=: 2
l_whence_off=: 22
l_whence_sz=: 2

PROT_READ=: 1
PROT_WRITE=: 2
PROT_EXEC=: 4
PROT_NONE=: 0
MAP_SHARED=: 1
MAP_PRIVATE=: 2
MAP_FIXED=: 16

REG_EXTENDED=: 1
REG_ICASE=: 2
REG_NOSUB=: 4
REG_NEWLINE=: 8

regex_t_sz=: 32
re_nsub_off=: 8
re_nsub_sz=: 8
regmatch_t_sz=: 16
rm_so_off=: 0
rm_so_sz=: 8
rm_eo_off=: 8
rm_eo_sz=: 8


fd_set_sz=: 128
fds_bits_off=: 0
fds_bits_sz=: 128
FD_SETSIZE=: 1024
timeval_sz=: 16
tv_sec_off=: 0
tv_sec_sz=: 8
tv_usec_off=: 8
tv_usec_sz=: 4

E2BIG=: 7
EFAULT=: 14
ENFILE=: 23
ENOTTY=: 25
EACCES=: 13
EFBIG=: 27
ENODEV=: 19
ENXIO=: 6
EAGAIN=: 35
ENOENT=: 2
EPERM=: 1
EBADF=: 9
EINTR=: 4
ENOEXEC=: 8
EPIPE=: 32
EINVAL=: 22
ENOLCK=: 77
ERANGE=: 34
EBUSY=: 16
EIO=: 5
ENOMEM=: 12
EROFS=: 30
EISDIR=: 21
ENOSPC=: 28
ESPIPE=: 29
ECHILD=: 10
EMFILE=: 24
ENOSYS=: 78
ESRCH=: 3
EDEADLK=: 11
EMLINK=: 31
ENOTDIR=: 20
EDOM=: 33
ENOTEMPTY=: 66
EXDEV=: 18
EEXIST=: 17
ENAMETOOLONG=: 63

EINPROGRESS=: 36
ECANCELED=: 89
ETIMEDOUT=: 60
EMSGSIZE=: 40
ENOTSUP=: 45
NB. do not edit -- created by sym2ijs

cocurrent <'jdefs'

FIONBIO=: -2147195266
FIONREAD=: 1074030207
FD_SETSIZE=: 64

sockaddr_sz=: 16
sa_family_off=: 0
sa_family_sz=: 2
sa_data_off=: 2
sa_data_sz=: 14

sockaddr_in_sz=: 16
sin_family_off=: 0
sin_family_sz=: 2
sin_port_off=: 2
sin_port_sz=: 2
sin_addr_off=: 4
sin_addr_sz=: 4

in_addr_sz=: 4
s_addr_off=: 0
s_addr_sz=: 4

hostent_sz=: 32
h_name_off=: 0
h_name_sz=: 8
h_aliases_off=: 8
h_aliases_sz=: 8
h_addrtype_off=: 16
h_addrtype_sz=: 2
h_length_off=: 18
h_length_sz=: 2
h_addr_list_off=: 24
h_addr_list_sz=: 8


SIOCATMARK=: 1074033415


IPPROTO_IP=: 0
IPPROTO_ICMP=: 1
IPPROTO_IGMP=: 2
IPPROTO_TCP=: 6
IPPROTO_PUP=: 12
IPPROTO_UDP=: 17
IPPROTO_IDP=: 22
IPPROTO_RAW=: 255
IPPROTO_MAX=: 256


INADDR_ANY=: 0
INADDR_LOOPBACK=: 2130706433
INADDR_BROADCAST=: -1
INADDR_NONE=: -1


SOCK_STREAM=: 1
SOCK_DGRAM=: 2
SOCK_RAW=: 3
SOCK_RDM=: 4
SOCK_SEQPACKET=: 5

SOL_SOCKET=: 65535
SO_DEBUG=: 1
SO_REUSEADDR=: 4
SO_KEEPALIVE=: 8
SO_DONTROUTE=: 16
SO_BROADCAST=: 32
SO_LINGER=: 128
SO_OOBINLINE=: 256

SO_SNDBUF=: 4097
SO_RCVBUF=: 4098
SO_SNDLOWAT=: 4099
SO_RCVLOWAT=: 4100
SO_SNDTIMEO=: 4101
SO_RCVTIMEO=: 4102
SO_ERROR=: 4103
SO_TYPE=: 4104

linger_sz=: 4
l_onoff_off=: 0
l_onoff_sz=: 2
l_linger_off=: 2
l_linger_sz=: 2

AF_UNSPEC=: 0
AF_UNIX=: 1
AF_INET=: 2
AF_SNA=: 11
AF_DECnet=: 12
AF_APPLETALK=: 16
AF_IPX=: 6
AF_MAX=: 22
PF_UNSPEC=: 0
PF_UNIX=: 1
PF_INET=: 2
PF_SNA=: 11
PF_DECnet=: 12
PF_APPLETALK=: 16
PF_IPX=: 6
PF_MAX=: 22

SOMAXCONN=: 5
MSG_OOB=: 1
MSG_PEEK=: 2
MSG_DONTROUTE=: 4


SOCKET_ERROR=: -1
FD_READ=: 1
FD_WRITE=: 2
FD_OOB=: 4
FD_ACCEPT=: 8
FD_CONNECT=: 16
FD_CLOSE=: 32
WSABASEERR=: 10000
WSAEINTR=: 10004
WSAEBADF=: 10009
WSAEACCES=: 10013
WSAEFAULT=: 10014
WSAEINVAL=: 10022
WSAEMFILE=: 10024
WSAEWOULDBLOCK=: 10035
WSAEINPROGRESS=: 10036
WSAEALREADY=: 10037
WSAENOTSOCK=: 10038
WSAEDESTADDRREQ=: 10039
WSAEMSGSIZE=: 10040
WSAEPROTOTYPE=: 10041
WSAENOPROTOOPT=: 10042
WSAEPROTONOSUPPORT=: 10043
WSAESOCKTNOSUPPORT=: 10044
WSAEOPNOTSUPP=: 10045
WSAEPFNOSUPPORT=: 10046
WSAEAFNOSUPPORT=: 10047
WSAEADDRINUSE=: 10048
WSAEADDRNOTAVAIL=: 10049
WSAENETDOWN=: 10050
WSAENETUNREACH=: 10051
WSAENETRESET=: 10052
WSAECONNABORTED=: 10053
WSAECONNRESET=: 10054
WSAENOBUFS=: 10055
WSAEISCONN=: 10056
WSAENOTCONN=: 10057
WSAESHUTDOWN=: 10058
WSAETOOMANYREFS=: 10059
WSAETIMEDOUT=: 10060
WSAECONNREFUSED=: 10061
WSAELOOP=: 10062
WSAENAMETOOLONG=: 10063
WSAEHOSTDOWN=: 10064
WSAEHOSTUNREACH=: 10065
WSAENOTEMPTY=: 10066
WSAEPROCLIM=: 10067
WSAEUSERS=: 10068
WSAEDQUOT=: 10069
WSAESTALE=: 10070
WSAEREMOTE=: 10071
WSASYSNOTREADY=: 10091
WSAVERNOTSUPPORTED=: 10092
WSANOTINITIALISED=: 10093
WSAHOST_NOT_FOUND=: 11001
HOST_NOT_FOUND=: 11001
WSATRY_AGAIN=: 11002
TRY_AGAIN=: 11002
WSANO_RECOVERY=: 11003
NO_RECOVERY=: 11003
WSANO_DATA=: 11004
NO_DATA=: 11004
WSANO_ADDRESS=: 11004
NO_ADDRESS=: 11004
WM_USER=: 1024
NB. do not edit -- created by sym2ijs

cocurrent <'jdefs'

F_OK=: 0
R_OK=: 4
W_OK=: 2
X_OK=: 1
STDIN_FILENO=: 0
STDOUT_FILENO=: 1
STDERR_FILENO=: 2
SEEK_CUR=: 1
SEEK_END=: 2
SEEK_SET=: 0

O_APPEND=: 1024
O_CREAT=: 64
O_EXCL=: 128
O_RDONLY=: 0
O_RDWR=: 2
O_TRUNC=: 512
O_WRONLY=: 1

O_ACCMODE=: 3
O_NOCTTY=: 256
O_NONBLOCK=: 2048
FD_CLOEXEC=: 1
F_DUPFD=: 0
F_GETFD=: 1
F_SETFD=: 2
F_GETFL=: 3
F_SETFL=: 4
F_SETLK=: 6
F_SETLKW=: 7
F_GETLK=: 5
F_UNLCK=: 2
F_WRLCK=: 1
flock_sz=: 32
l_len_off=: 16
l_len_sz=: 8
l_pid_off=: 24
l_pid_sz=: 4
l_start_off=: 8
l_start_sz=: 8
l_type_off=: 0
l_type_sz=: 2
l_whence_off=: 2
l_whence_sz=: 2

PROT_READ=: 1
PROT_WRITE=: 2
PROT_EXEC=: 4
PROT_NONE=: 0
MAP_SHARED=: 1
MAP_PRIVATE=: 2
MAP_FIXED=: 16

REG_EXTENDED=: 1
REG_ICASE=: 2
REG_NOSUB=: 4
REG_NEWLINE=: 8

regex_t_sz=: 32
re_nsub_off=: 8
re_nsub_sz=: 8
regmatch_t_sz=: 16
rm_so_off=: 0
rm_so_sz=: 8
rm_eo_off=: 8
rm_eo_sz=: 8


fd_set_sz=: 128
fds_bits_off=: 0
fds_bits_sz=: 128
FD_SETSIZE=: 1024
timeval_sz=: 16
tv_sec_off=: 0
tv_sec_sz=: 8
tv_usec_off=: 8
tv_usec_sz=: 8

E2BIG=: 7
EFAULT=: 14
ENFILE=: 23
ENOTTY=: 25
EACCES=: 13
EFBIG=: 27
ENODEV=: 19
ENXIO=: 6
EAGAIN=: 11
ENOENT=: 2
EPERM=: 1
EBADF=: 9
EINTR=: 4
ENOEXEC=: 8
EPIPE=: 32
EINVAL=: 22
ENOLCK=: 37
ERANGE=: 34
EBUSY=: 16
EIO=: 5
ENOMEM=: 12
EROFS=: 30
EISDIR=: 21
ENOSPC=: 28
ESPIPE=: 29
ECHILD=: 10
EMFILE=: 24
ENOSYS=: 38
ESRCH=: 3
EDEADLK=: 35
EMLINK=: 31
ENOTDIR=: 20
EDOM=: 33
ENOTEMPTY=: 39
EXDEV=: 18
EEXIST=: 17
ENAMETOOLONG=: 36

EINPROGRESS=: 115
ECANCELED=: 125
ETIMEDOUT=: 110
EMSGSIZE=: 90
ENOTSUP=: 95
NB. do not edit -- created by sym2ijs
cocurrent<'jdefs'

F_OK=: 0
R_OK=: 4
W_OK=: 2
X_OK=: 1
STDIN_FILENO=: 0
STDOUT_FILENO=: 1
STDERR_FILENO=: 2
SEEK_CUR=: 1
SEEK_END=: 2
SEEK_SET=: 0

O_APPEND=: 8
O_CREAT=: 256
O_EXCL=: 1024
O_RDONLY=: 0
O_RDWR=: 2
O_TRUNC=: 512
O_WRONLY=: 1

O_ACCMODE=: 3
O_NOCTTY=: 2048
O_NONBLOCK=: 4
FD_CLOEXEC=: 1
F_DUPFD=: 0
F_GETFD=: 1
F_SETFD=: 2
F_GETFL=: 3
F_SETFL=: 4
F_SETLK=: 6
F_SETLKW=: 7
F_GETLK=: 5
F_UNLCK=: 3
F_WRLCK=: 2
flock_sz=: 24
l_len_off=: 8
l_len_sz=: 4
l_pid_off=: 16
l_pid_sz=: 4
l_start_off=: 4
l_start_sz=: 4
l_type_off=: 0
l_type_sz=: 2
l_whence_off=: 2
l_whence_sz=: 2

PROT_READ=: 1
PROT_WRITE=: 2
PROT_EXEC=: 4
PROT_NONE=: 0
MAP_SHARED=: 1
MAP_PRIVATE=: 2
MAP_FIXED=: 256

REG_EXTENDED=: 1
REG_ICASE=: 2
REG_NOSUB=: 8
REG_NEWLINE=: 4

regex_t_sz=: 360
re_nsub_off=: 0
re_nsub_sz=: 4
regmatch_t_sz=: 8
rm_so_off=: 0
rm_so_sz=: 4
rm_eo_off=: 4
rm_eo_sz=: 4


fd_set_sz=: 4096
fds_bits_off=: 0
fds_bits_sz=: 4096
FD_SETSIZE=: 32767
timeval_sz=: 8
tv_sec_off=: 0
tv_sec_sz=: 4
tv_usec_off=: 4
tv_usec_sz=: 4

E2BIG=: 7
EFAULT=: 14
ENFILE=: 23
ENOTTY=: 25
EACCES=: 13
EFBIG=: 27
ENODEV=: 19
ENXIO=: 6
EAGAIN=: 11
ENOENT=: 2
EPERM=: 1
EBADF=: 9
EINTR=: 4
ENOEXEC=: 8
EPIPE=: 32
EINVAL=: 22
ENOLCK=: 49
ERANGE=: 34
EBUSY=: 16
EIO=: 5
ENOMEM=: 12
EROFS=: 30
EISDIR=: 21
ENOSPC=: 28
ESPIPE=: 29
ECHILD=: 10
EMFILE=: 24
ENOSYS=: 109
ESRCH=: 3
EDEADLK=: 45
EMLINK=: 31
ENOTDIR=: 20
EDOM=: 33
ENOTEMPTY=: 17
EXDEV=: 18
EEXIST=: 17
ENAMETOOLONG=: 86

EINPROGRESS=: 55
ECANCELED=: 117
ETIMEDOUT=: 78
EMSGSIZE=: 59
ENOTSUP=: 124
NB. do not edit -- created by sym2ijs
cocurrent<'jdefs'

FIONBIO=: -2147195266
FIONREAD=: 1074030207
FD_SETSIZE=: 64

sockaddr_sz=: 16
sa_family_off=: 0
sa_family_sz=: 2
sa_data_off=: 2
sa_data_sz=: 14

sockaddr_in_sz=: 16
sin_family_off=: 0
sin_family_sz=: 2
sin_port_off=: 2
sin_port_sz=: 2
sin_addr_off=: 4
sin_addr_sz=: 4

in_addr_sz=: 4
s_addr_off=: 0
s_addr_sz=: 4

hostent_sz=: 16
h_name_off=: 0
h_name_sz=: 4
h_aliases_off=: 4
h_aliases_sz=: 4
h_addrtype_off=: 8
h_addrtype_sz=: 2
h_length_off=: 10
h_length_sz=: 2
h_addr_list_off=: 12
h_addr_list_sz=: 4


SIOCATMARK=: 1074033415


IPPROTO_IP=: 0
IPPROTO_ICMP=: 1
IPPROTO_IGMP=: 2
IPPROTO_TCP=: 6
IPPROTO_PUP=: 12
IPPROTO_UDP=: 17
IPPROTO_IDP=: 22
IPPROTO_RAW=: 255
IPPROTO_MAX=: 256


INADDR_ANY=: 0
INADDR_LOOPBACK=: 2130706433
INADDR_BROADCAST=: -1
INADDR_NONE=: -1


SOCK_STREAM=: 1
SOCK_DGRAM=: 2
SOCK_RAW=: 3
SOCK_RDM=: 4
SOCK_SEQPACKET=: 5

SOL_SOCKET=: 65535
SO_DEBUG=: 1
SO_REUSEADDR=: 4
SO_KEEPALIVE=: 8
SO_DONTROUTE=: 16
SO_BROADCAST=: 32
SO_LINGER=: 128
SO_OOBINLINE=: 256

SO_SNDBUF=: 4097
SO_RCVBUF=: 4098
SO_SNDLOWAT=: 4099
SO_RCVLOWAT=: 4100
SO_SNDTIMEO=: 4101
SO_RCVTIMEO=: 4102
SO_ERROR=: 4103
SO_TYPE=: 4104

linger_sz=: 4
l_onoff_off=: 0
l_onoff_sz=: 2
l_linger_off=: 2
l_linger_sz=: 2

AF_UNSPEC=: 0
AF_UNIX=: 1
AF_INET=: 2
AF_SNA=: 11
AF_DECnet=: 12
AF_APPLETALK=: 16
AF_IPX=: 6
AF_MAX=: 22
PF_UNSPEC=: 0
PF_UNIX=: 1
PF_INET=: 2
PF_SNA=: 11
PF_DECnet=: 12
PF_APPLETALK=: 16
PF_IPX=: 6
PF_MAX=: 22

SOMAXCONN=: 5
MSG_OOB=: 1
MSG_PEEK=: 2
MSG_DONTROUTE=: 4


SOCKET_ERROR=: -1
FD_READ=: 1
FD_WRITE=: 2
FD_OOB=: 4
FD_ACCEPT=: 8
FD_CONNECT=: 16
FD_CLOSE=: 32
WSABASEERR=: 10000
WSAEINTR=: 10004
WSAEBADF=: 10009
WSAEACCES=: 10013
WSAEFAULT=: 10014
WSAEINVAL=: 10022
WSAEMFILE=: 10024
WSAEWOULDBLOCK=: 10035
WSAEINPROGRESS=: 10036
WSAEALREADY=: 10037
WSAENOTSOCK=: 10038
WSAEDESTADDRREQ=: 10039
WSAEMSGSIZE=: 10040
WSAEPROTOTYPE=: 10041
WSAENOPROTOOPT=: 10042
WSAEPROTONOSUPPORT=: 10043
WSAESOCKTNOSUPPORT=: 10044
WSAEOPNOTSUPP=: 10045
WSAEPFNOSUPPORT=: 10046
WSAEAFNOSUPPORT=: 10047
WSAEADDRINUSE=: 10048
WSAEADDRNOTAVAIL=: 10049
WSAENETDOWN=: 10050
WSAENETUNREACH=: 10051
WSAENETRESET=: 10052
WSAECONNABORTED=: 10053
WSAECONNRESET=: 10054
WSAENOBUFS=: 10055
WSAEISCONN=: 10056
WSAENOTCONN=: 10057
WSAESHUTDOWN=: 10058
WSAETOOMANYREFS=: 10059
WSAETIMEDOUT=: 10060
WSAECONNREFUSED=: 10061
WSAELOOP=: 10062
WSAENAMETOOLONG=: 10063
WSAEHOSTDOWN=: 10064
WSAEHOSTUNREACH=: 10065
WSAENOTEMPTY=: 10066
WSAEPROCLIM=: 10067
WSAEUSERS=: 10068
WSAEDQUOT=: 10069
WSAESTALE=: 10070
WSAEREMOTE=: 10071
WSASYSNOTREADY=: 10091
WSAVERNOTSUPPORTED=: 10092
WSANOTINITIALISED=: 10093
WSAHOST_NOT_FOUND=: 11001
HOST_NOT_FOUND=: 11001
WSATRY_AGAIN=: 11002
TRY_AGAIN=: 11002
WSANO_RECOVERY=: 11003
NO_RECOVERY=: 11003
WSANO_DATA=: 11004
NO_DATA=: 11004
WSANO_ADDRESS=: 11004
NO_ADDRESS=: 11004
WM_USER=: 1024
NB. do not edit -- created by sym2ijs

cocurrent <'jdefs'

FIONBIO=: 21537
FIONREAD=: 21531
FD_SETSIZE=: 1024

sockaddr_sz=: 16
sa_family_off=: 0
sa_family_sz=: 2
sa_data_off=: 2
sa_data_sz=: 14

sockaddr_in_sz=: 16
sin_family_off=: 0
sin_family_sz=: 2
sin_port_off=: 2
sin_port_sz=: 2
sin_addr_off=: 4
sin_addr_sz=: 4

in_addr_sz=: 4
s_addr_off=: 0
s_addr_sz=: 4

hostent_sz=: 32
h_name_off=: 0
h_name_sz=: 8
h_aliases_off=: 8
h_aliases_sz=: 8
h_addrtype_off=: 16
h_addrtype_sz=: 4
h_length_off=: 20
h_length_sz=: 4
h_addr_list_off=: 24
h_addr_list_sz=: 8


SIOCATMARK=: 35077


IPPROTO_IP=: 0
IPPROTO_ICMP=: 1
IPPROTO_IGMP=: 2
IPPROTO_TCP=: 6
IPPROTO_PUP=: 12
IPPROTO_UDP=: 17
IPPROTO_IDP=: 22
IPPROTO_RAW=: 255
IPPROTO_MAX=: 256


INADDR_ANY=: 0
INADDR_LOOPBACK=: 2130706433
INADDR_BROADCAST=: -1
INADDR_NONE=: -1

INADDR_UNSPEC_GROUP=: -536870912
INADDR_ALLHOSTS_GROUP=: -536870911
INADDR_MAX_LOCAL_GROUP=: -536870657
IN_LOOPBACKNET=: 127

SOCK_STREAM=: 1
SOCK_DGRAM=: 2
SOCK_RAW=: 3
SOCK_RDM=: 4
SOCK_SEQPACKET=: 5

SOL_SOCKET=: 1
SO_DEBUG=: 1
SO_REUSEADDR=: 2
SO_KEEPALIVE=: 9
SO_DONTROUTE=: 5
SO_BROADCAST=: 6
SO_LINGER=: 13
SO_OOBINLINE=: 10

SO_SNDBUF=: 7
SO_RCVBUF=: 8
SO_SNDLOWAT=: 19
SO_RCVLOWAT=: 18
SO_SNDTIMEO=: 21
SO_RCVTIMEO=: 20
SO_ERROR=: 4
SO_TYPE=: 3

linger_sz=: 8
l_onoff_off=: 0
l_onoff_sz=: 4
l_linger_off=: 4
l_linger_sz=: 4

AF_UNSPEC=: 0
AF_UNIX=: 1
AF_INET=: 2
AF_SNA=: 22
AF_DECnet=: 12
AF_APPLETALK=: 5
AF_IPX=: 4
AF_MAX=: 39
PF_UNSPEC=: 0
PF_UNIX=: 1
PF_INET=: 2
PF_SNA=: 22
PF_DECnet=: 12
PF_APPLETALK=: 5
PF_IPX=: 4
PF_MAX=: 39

SOMAXCONN=: 128
MSG_OOB=: 1
MSG_PEEK=: 2
MSG_DONTROUTE=: 4

msghdr_sz=: 56
msg_name_off=: 0
msg_name_sz=: 8
msg_namelen_off=: 8
msg_namelen_sz=: 4
msg_iov_off=: 16
msg_iov_sz=: 8
msg_iovlen_off=: 24
msg_iovlen_sz=: 8
msg_control_off=: 32
msg_control_sz=: 8
msg_controllen_off=: 40
msg_controllen_sz=: 8
msg_flags_off=: 48
msg_flags_sz=: 4

NB. do not edit -- created by sym2ijs
cocurrent<'jdefs'
cocurrent <'jdefs'

FIONBIO =: -2147195266
FIONREAD =: 1074030207
FD_SETSIZE=: 1024

sockaddr_sz=: 16
sa_family_off=: 0
sa_family_sz=: 2
sa_data_off=: 2
sa_data_sz=: 14

sockaddr_in_sz=: 16
sin_family_off=: 0
sin_family_sz=: 2
sin_port_off=: 2
sin_port_sz=: 2
sin_addr_off=: 4
sin_addr_sz=: 4

in_addr_sz=: 4
s_addr_off=: 0
s_addr_sz=: 4

hostent_sz=: 20
h_name_off=: 0
h_name_sz=: 4
h_aliases_off=: 4
h_aliases_sz=: 4
h_addrtype_off=: 8
h_addrtype_sz=: 4
h_length_off=: 12
h_length_sz=: 4
h_addr_list_off=: 16
h_addr_list_sz=: 4




IPPROTO_IP=: 0
IPPROTO_ICMP=: 1
IPPROTO_IGMP=: 2
IPPROTO_TCP=: 6
IPPROTO_PUP=: 12
IPPROTO_UDP=: 17
IPPROTO_IDP=: 22
IPPROTO_RAW=: 255
IPPROTO_MAX=: 256


INADDR_ANY=: 0
INADDR_LOOPBACK=: 2130706433
INADDR_BROADCAST=: -1
INADDR_NONE=: _1

INADDR_UNSPEC_GROUP=: -536870912
INADDR_ALLHOSTS_GROUP=: -536870911
INADDR_MAX_LOCAL_GROUP=: -536870657
IN_LOOPBACKNET=: 127

SOCK_STREAM=: 2
SOCK_DGRAM=: 1
SOCK_RAW=: 4
SOCK_RDM=: 5
SOCK_SEQPACKET=: 6

SOL_SOCKET=: 65535
SO_DEBUG=: 1
SO_REUSEADDR=: 4
SO_KEEPALIVE=: 8
SO_DONTROUTE=: 16
SO_BROADCAST=: 32
SO_LINGER=: 128
SO_OOBINLINE=: 256

SO_SNDBUF=: 4097
SO_RCVBUF=: 4098
SO_SNDLOWAT=: 4099
SO_RCVLOWAT=: 4100
SO_SNDTIMEO=: 4101
SO_RCVTIMEO=: 4102
SO_ERROR=: 4103
SO_TYPE=: 4104

linger_sz=: 8
l_onoff_off=: 0
l_onoff_sz=: 4
l_linger_off=: 4
l_linger_sz=: 4

AF_UNSPEC=: 0
AF_UNIX=: 1
AF_INET=: 2
AF_SNA=: 11
AF_DECnet=: 12
AF_APPLETALK=: 16
AF_IPX=: 23
AF_MAX=: 25
PF_UNSPEC=: 0
PF_UNIX=: 1
PF_INET=: 2
PF_SNA=: 11
PF_DECnet=: 12
PF_APPLETALK=: 16
PF_IPX=: 23
PF_MAX=: 25

SOMAXCONN=: 5
MSG_OOB=: 1
MSG_PEEK=: 2
MSG_DONTROUTE=: 4

msghdr_sz=: 24
msg_name_off=: 0
msg_name_sz=: 4
msg_namelen_off=: 4
msg_namelen_sz=: 4
msg_iov_off=: 8
msg_iov_sz=: 4
msg_iovlen_off=: 12
msg_iovlen_sz=: 4
msg_accrights_off=: 16
msg_accrights_sz=: 4
msg_accrightslen_off=: 20
msg_accrightslen_sz=: 4

NB. do not edit -- created by sym2ijs
cocurrent<'jdefs'
cocurrent <'jdefs'

F_OK=: 0
R_OK=: 4
W_OK=: 2
X_OK=: 1
STDIN_FILENO=: 0
STDOUT_FILENO=: 1
STDERR_FILENO=: 2
SEEK_CUR=: 1
SEEK_END=: 2
SEEK_SET=: 0

O_APPEND=: 8
O_CREAT=: 256
O_EXCL=: 1024
O_RDONLY=: 0
O_RDWR=: 2
O_TRUNC=: 512
O_WRONLY=: 1

O_ACCMODE=: 3
O_NOCTTY=: 2048
O_NONBLOCK=: 128
FD_CLOEXEC=: 1
F_DUPFD=: 0
F_GETFD=: 1
F_SETFD=: 2
F_GETFL=: 3
F_SETFL=: 4
F_SETLK=: 6
F_SETLKW=: 7
F_GETLK=: 14
F_UNLCK=: 3
F_WRLCK=: 2
flock_sz=: 36
l_len_off=: 8
l_len_sz=: 4
l_pid_off=: 16
l_pid_sz=: 4
l_start_off=: 4
l_start_sz=: 4
l_type_off=: 0
l_type_sz=: 2
l_whence_off=: 2
l_whence_sz=: 2

PROT_READ=: 1
PROT_WRITE=: 2
PROT_EXEC=: 4
PROT_NONE=: 0
MAP_SHARED=: 1
MAP_PRIVATE=: 2
MAP_FIXED=: 16

REG_EXTENDED=: 1
REG_ICASE=: 4
REG_NOSUB=: 2
REG_NEWLINE=: 8

regex_t_sz=: 24
re_nsub_off=: 0
re_nsub_sz=: 4
regmatch_t_sz=: 24
rm_so_off=: 8
rm_so_sz=: 4
rm_eo_off=: 12
rm_eo_sz=: 4


fd_set_sz=: 128
fds_bits_off=: 0
fds_bits_sz=: 128
FD_SETSIZE=: 1024
timeval_sz=: 8
tv_sec_off=: 0
tv_sec_sz=: 4
tv_usec_off=: 4
tv_usec_sz=: 4

E2BIG=: 7
EFAULT=: 14
ENFILE=: 23
ENOTTY=: 25
EACCES=: 13
EFBIG=: 27
ENODEV=: 19
ENXIO=: 6
EAGAIN=: 11
ENOENT=: 2
EPERM=: 1
EBADF=: 9
EINTR=: 4
ENOEXEC=: 8
EPIPE=: 32
EINVAL=: 22
ENOLCK=: 46
ERANGE=: 34
EBUSY=: 16
EIO=: 5
ENOMEM=: 12
EROFS=: 30
EISDIR=: 21
ENOSPC=: 28
ESPIPE=: 29
ECHILD=: 10
EMFILE=: 24
ENOSYS=: 89
ESRCH=: 3
EDEADLK=: 45
EMLINK=: 31
ENOTDIR=: 20
EDOM=: 33
ENOTEMPTY=: 93
EXDEV=: 18
EEXIST=: 17
ENAMETOOLONG=: 78

EINPROGRESS=: 150
ECANCELED=: 47
ETIMEDOUT=: 145
EMSGSIZE=: 97
ENOTSUP=: 48
NB. do not edit -- created by sym2ijs
cocurrent<'jdefs'

F_OK=: 0
R_OK=: 4
W_OK=: 2
X_OK=: 1
STDIN_FILENO=: 0
STDOUT_FILENO=: 1
STDERR_FILENO=: 2
SEEK_CUR=: 1
SEEK_END=: 2
SEEK_SET=: 0

O_APPEND=: 1024
O_CREAT=: 64
O_EXCL=: 128
O_RDONLY=: 0
O_RDWR=: 2
O_TRUNC=: 512
O_WRONLY=: 1

O_ACCMODE=: 3
O_NOCTTY=: 256
O_NONBLOCK=: 2048
FD_CLOEXEC=: 1
F_DUPFD=: 0
F_GETFD=: 1
F_SETFD=: 2
F_GETFL=: 3
F_SETFL=: 4
F_SETLK=: 6
F_SETLKW=: 7
F_GETLK=: 5
F_UNLCK=: 2
F_WRLCK=: 1
flock_sz=: 16
l_len_off=: 8
l_len_sz=: 4
l_pid_off=: 12
l_pid_sz=: 4
l_start_off=: 4
l_start_sz=: 4
l_type_off=: 0
l_type_sz=: 2
l_whence_off=: 2
l_whence_sz=: 2

PROT_READ=: 1
PROT_WRITE=: 2
PROT_EXEC=: 4
PROT_NONE=: 0
MAP_SHARED=: 1
MAP_PRIVATE=: 2
MAP_FIXED=: 16

REG_EXTENDED=: 1
REG_ICASE=: 2
REG_NOSUB=: 8
REG_NEWLINE=: 4

regex_t_sz=: 32
re_nsub_off=: 24
re_nsub_sz=: 4
regmatch_t_sz=: 8
rm_so_off=: 0
rm_so_sz=: 4
rm_eo_off=: 4
rm_eo_sz=: 4


fd_set_sz=: 128
fds_bits_off=: 0
fds_bits_sz=: 128
FD_SETSIZE=: 1024
timeval_sz=: 8
tv_sec_off=: 0
tv_sec_sz=: 4
tv_usec_off=: 4
tv_usec_sz=: 4

E2BIG=: 7
EFAULT=: 14
ENFILE=: 23
ENOTTY=: 25
EACCES=: 13
EFBIG=: 27
ENODEV=: 19
ENXIO=: 6
EAGAIN=: 11
ENOENT=: 2
EPERM=: 1
EBADF=: 9
EINTR=: 4
ENOEXEC=: 8
EPIPE=: 32
EINVAL=: 22
ENOLCK=: 37
ERANGE=: 34
EBUSY=: 16
EIO=: 5
ENOMEM=: 12
EROFS=: 30
EISDIR=: 21
ENOSPC=: 28
ESPIPE=: 29
ECHILD=: 10
EMFILE=: 24
ENOSYS=: 38
ESRCH=: 3
EDEADLK=: 35
EMLINK=: 31
ENOTDIR=: 20
EDOM=: 33
ENOTEMPTY=: 39
EXDEV=: 18
EEXIST=: 17
ENAMETOOLONG=: 36

EINPROGRESS=: 115
ECANCELED=: 125
ETIMEDOUT=: 110
EMSGSIZE=: 90
ENOTSUP=: 95
NB. do not edit -- created by sym2ijs

cocurrent <'jdefs'

FIONBIO=: 16b8004667e
FIONREAD=: 1074030207
FD_SETSIZE=: 1024

sockaddr_sz=: 16
sa_family_off=: 1
sa_family_sz=: 1
sa_data_off=: 2
sa_data_sz=: 14

sockaddr_in_sz=: 16
sin_family_off=: 1
sin_family_sz=: 1
sin_port_off=: 2
sin_port_sz=: 2
sin_addr_off=: 4
sin_addr_sz=: 4

in_addr_sz=: 4
s_addr_off=: 0
s_addr_sz=: 4

hostent_sz=: 32
h_name_off=: 0
h_name_sz=: 8
h_aliases_off=: 8
h_aliases_sz=: 8
h_addrtype_off=: 16
h_addrtype_sz=: 4
h_length_off=: 20
h_length_sz=: 4
h_addr_list_off=: 24
h_addr_list_sz=: 8


SIOCATMARK=: 1074033415


IPPROTO_IP=: 0
IPPROTO_ICMP=: 1
IPPROTO_IGMP=: 2
IPPROTO_TCP=: 6
IPPROTO_PUP=: 12
IPPROTO_UDP=: 17
IPPROTO_IDP=: 22
IPPROTO_RAW=: 255
IPPROTO_MAX=: 256


INADDR_ANY=: 0
INADDR_LOOPBACK=: 2130706433
INADDR_BROADCAST=: -1
INADDR_NONE=: -1

INADDR_UNSPEC_GROUP=: -536870912
INADDR_ALLHOSTS_GROUP=: -536870911
INADDR_MAX_LOCAL_GROUP=: -536870657
IN_LOOPBACKNET=: 127

SOCK_STREAM=: 1
SOCK_DGRAM=: 2
SOCK_RAW=: 3
SOCK_RDM=: 4
SOCK_SEQPACKET=: 5

SOL_SOCKET=: 65535
SO_DEBUG=: 1
SO_REUSEADDR=: 4
SO_KEEPALIVE=: 8
SO_DONTROUTE=: 16
SO_BROADCAST=: 32
SO_LINGER=: 128
SO_OOBINLINE=: 256

SO_SNDBUF=: 4097
SO_RCVBUF=: 4098
SO_SNDLOWAT=: 4099
SO_RCVLOWAT=: 4100
SO_SNDTIMEO=: 4101
SO_RCVTIMEO=: 4102
SO_ERROR=: 4103
SO_TYPE=: 4104

linger_sz=: 8
l_onoff_off=: 0
l_onoff_sz=: 4
l_linger_off=: 4
l_linger_sz=: 4

AF_UNSPEC=: 0
AF_UNIX=: 1
AF_INET=: 2
AF_SNA=: 11
AF_DECnet=: 12
AF_APPLETALK=: 16
AF_IPX=: 23
AF_MAX=: 38
PF_UNSPEC=: 0
PF_UNIX=: 1
PF_INET=: 2
PF_SNA=: 11
PF_DECnet=: 12
PF_APPLETALK=: 16
PF_IPX=: 23
PF_MAX=: 38

SOMAXCONN=: 128
MSG_OOB=: 1
MSG_PEEK=: 2
MSG_DONTROUTE=: 4

msghdr_sz=: 48
msg_name_off=: 0
msg_name_sz=: 8
msg_namelen_off=: 8
msg_namelen_sz=: 4
msg_iov_off=: 16
msg_iov_sz=: 8
msg_iovlen_off=: 24
msg_iovlen_sz=: 4
msg_control_off=: 32
msg_control_sz=: 8
msg_controllen_off=: 40
msg_controllen_sz=: 4
msg_flags_off=: 44
msg_flags_sz=: 4
NB. base config
NB.
NB. interpreter config:
NB. BoxForm 0=linedraw 1=ascii (9!:7)
NB. BoxPos boxed output positioning (9!:17)
NB.
NB. DisplayForm output display form (9!:3)
NB.   The representation(s) to used for default displays of non-nouns.
NB.   1 atomic, 2 boxed, 4 tree, 5 linear, 6 paren.
NB.
NB. MemoryLimit memory limit, size or power-of-2 (9!:21)
NB. Output output definition (9!:37)
NB.
NB. ReadCatalog: pacman: 0=local,1=server,2=prompt at startup
NB.
NB. recent lists:
NB. RecentMax max entries in lists
NB.
NB. script formatting:
NB. Format is a numeric list:
NB.   0   0=no format, 1=do format
NB.   1   soft tab width (0=hard tab)
NB.   2   if remove multiple spaces in code
NB.   3   if indent explicit definition
NB.   4   if indent select
NB.
NB. RGBSEQ:  color byte order with A always at the upper byte
NB.   0   ABGR    (red is 255)
NB.   1   ARGB    (blue is 255)
NB.
NB. external programs:
NB. Browser web browser, used in Help
NB. Browser_nox browser (without X), used in Help
NB. EPSReader read encapsulated postscript files
NB. ImageViewer view image files
NB. ImageViewer_nox view image files (without X)
NB. PDFReader read Adobe pdf files
NB. PDFReader_nox read Adobe pdf files (without X)
NB. XDiff external differencing program
NB. Editor external editor program, %f=file name  %l=line number
NB. Editor_nox external editor program (without X), used in Linux only

BoxPos=: 0 0
DirTreeX=: 'release'
DisplayForm=: 5
Format=: 1 2 1 0 0
MemoryLimit=: _
Output=: 0 256 0 222
ReadCatalog=: 1
RecentMax=: 15
RGBSEQ=: 1

NB. =========================================================
NB. host dependent configs:
3 : 0''
select. UNAME
case. 'Android' do.
  BoxForm=: 0
  Browser=: ''
  Browser_nox=: ''
  EPSReader=: ''
  ImageViewer=: ''
  ImageViewer_nox=: ''
  PDFReader=: ''
  PDFReader_nox=: ''
  XDiff=: ''
  Editor=: ''
  Editor_nox=: ''
  TermEmu=: ''
  TermEmu_nox=: ''
case. 'Darwin' do.
  BoxForm=: 0
  Browser=: ''
  Browser_nox=: ''
  EPSReader=: ''
  ImageViewer=: ''
  ImageViewer_nox=: ''
  PDFReader=: ''
  PDFReader_nox=: ''
  XDiff=: ''
  Editor=: ''
  Editor_nox=: ''
  TermEmu=: ''
  TermEmu_nox=: ''
case. 'Linux' do.
  BoxForm=: 0
  Browser=: ''
  Browser_nox=: ''
  EPSReader=: ''
  ImageViewer=: ''
  ImageViewer_nox=: ''
  PDFReader=: ''
  PDFReader_nox=: ''
  XDiff=: ''
  Editor=: ''
  Editor_nox=: ''
  TermEmu=: ''
  TermEmu_nox=: ''
case. 'Win' do.
  BoxForm=: 1
  Browser=: ''
  Browser_nox=: ''
  EPSReader=: ''
  ImageViewer=: ''
  ImageViewer_nox=: ''
  PDFReader=: ''
  PDFReader_nox=: ''
  XDiff=: ''
  Editor=: ''
  Editor_nox=: ''
  TermEmu=: ''
  TermEmu_nox=: ''
end.
)
NB. folders.cfg
NB.
NB. each non-empty line is a pair: name path, e.g.
NB. Van /home/guest/van/source
NB.
NB. name begins with lowercase - added to SystemFolders_j_
NB. name begins with uppercase - defines UserFolders_j_

Demos ~addons/demos
Projects ~user/projects
User ~user
coclass'jtar'

tarhelp=: 0 : 0
tar utilities - implements simple tar subset

unix tar
 tar -x -f f.tar -C path
 tar -c -f f.tar -C path folder
 tar -t -f f.tar

J tar
 load'tar'
 tar 'x';'f.tar';path
 tar 'c';'f.tar';path;folder
 tar 't';'f.tar'

 if the tar file name ended with .tar.gz or .tgz, compression flag z is implied

for example,
 on computer
  $> tar -c -f ~/j9/temp/math.tar -C ~/j9/addons finance
  iTunes connect - move math.tar to J app folder

 on J
  tar 't';'finance.tar'
  tar 'x';'finance.tar';'~addons'

J gzip
       gzip '~temp/f.gz' - return data from f.gz
  data gzip '~/temp/f.gz' - write data to f.gz
)

NB. for windows, copy zlib1.dll from gtk binary to j.dll folder or windows/system32
libz=: IFUNIX{::'zlib1.dll';unxlib^:IFUNIX 'z'
cv=: IFWIN#'+'
null=: {.a.
chksum=: 148+i.8
folderx=: '000755 ',null,'000765 ',null,'000024 ',null
filex=: '000644 ',null,'000765 ',null,'000024 ',null

no_gzbuffer=: 0
NB. tar util

NB. =========================================================
getchk=: 3 : 0
d=. 512{.y
d=. ' ' chksum}d NB. checksum blanks
c=. +/a.i.d         NB. checksum
v=. _6{.(48+(11#8)#:c){a.
v,null,' '
)

NB. =========================================================
ftree=: 3 : 0
r=. ''
d=. 1!:0<'/*',~jpath y
m=. 'd'=>4{each 4{"1 d
t=. m#{."1 d
r=. r,(<y,'/'),each t
for_n. t do.
  r=. r,ftree y,'/',>n
end.
r
)
NB. tar main

NB. =========================================================
tar=: 3 : 0
t=. >{.y
f=. >1{y
if. ('.tar.gz'-:_7{.f)+.('.tgz'-:_4{.f) do. t=. (t-.'z'),'z' end.
z=. 'z'e.t
if. z do.
  assert. ('.tar.gz'-:_7{.f)+.('.tgz'-:_4{.f)
else.
  assert. '.tar'-:_4{.,f
end.
select. {.t-.'z'
case. 'x' do.
  assert. 3=#y['needs 3 paramters'
  assert. fexist f['file must exist'
  if. z do.
    f=. jpathsep^:IFWIN f
    fz=. (jpath '~temp'),((}.~ i:&'/') f),'.tar',":2!:6''
    ferase ::[ fz
    assert. 0=fexist fz
    (gzip f) fwrite fz
    y=. (<fz) 1}y
  end.
  r=. tarx }.y
  if. z do. ferase ::[ fz end.
  r
case. 'c' do.
  assert. 4=#y['needs 4 paramters'
  tarc }.y
  assert. fexist f['file must exist'
  if. z do. (fread f)gzip f end.
case. 't' do.
  assert. 2=#y['needs 2 paramters'
  assert. fexist f['file must exist'
  if. z do.
    f=. jpathsep^:IFWIN f
    fz=. (jpath '~temp'),((}.~ i:&'/') f),'.tar',":2!:6''
    ferase ::[ fz
    assert. 0=fexist fz
    (gzip f) fwrite fz
    y=. (<fz) 1}y
  end.
  r=. tart }.y
  if. z do. ferase ::[ fz end.
  r
case. do.
  assert. 0['unsupported feature'
end.
)

NB. =========================================================
NB. tarx (extract)
NB. tarx tar;path - write tar files to path
tarx=: 3 : 0
'file path'=. y
file=. jpathsep^:IFWIN file [ path=. jpathsep^:IFWIN path
mkdir_j_ path
assert. 2=ftype path['path folder must exist'
d=. fread file
assert. _1-.@-:d['can not read file'
while. #d do.
  type=. 156{d
  if. type=null do.
    assert. 1024=+/null=1024{.d
    i.0 0 return.
  end.
  name=. (d i. null){.d
  assert. 100>#name
  f=. path,'/',name
  count=. 8#._48+a.i. ' '-.~ ({.~ i.&null) 12{.124}.d
  assert. (chksum{d) =&((0&".)@:({.~ i.&null)) (getchk d)
  select. type
  case. '5' do.
    d=. 512}.d
    mkdir_j_ f
    assert. 2=ftype f
  case. '0' do.
    mkdir_j_ (f i: '/'){.f
    data=. count{.512}.d
    d=. (512*1+>.count%512)}.d
    assert. (#data)=data fwrite f
  case. do.
    assert. 'bad file'
  end.
end.
assert. 0['should never get here'
)

NB. =========================================================
NB. tart (test)
NB. tart file
tart=: 3 : 0
d=. fread ,>y
assert. _1-.@-:d['can not read file'
r=. ''
while. #d do.
  type=. 156{d
  if. type=null do.
    assert. 1024=+/null=1024{.d
    r return.
  end.
  name=. (d i. null){.d
  r=. r,name,LF
  count=. 8#._48+a.i. ' '-.~ ({.~ i.&null) 12{.124}.d
  assert. (chksum{d) =&((0&".)@:({.~ i.&null)) (getchk d)
  select. type
  case. '5' do.
    d=. 512}.d
  case. '0' do.
    d=. (512*1+>.count%512)}.d
  case. do.
    assert. 0['invalid file'
  end.
end.
assert. 0['should never get here'
)

NB. =========================================================
NB. tar create
tarc=: 3 : 0
'file path folder'=. y
file=. jpathsep^:IFWIN file [ path=. jpathsep^:IFWIN path [ folder=. jpathsep^:IFWIN folder
assert. 2=ftype path['path must exist'
folder=. ('/'={.folder)}.folder
'' fwrite file
path=. jpath path
base=. path,'/',folder
d=. {."1 dirtree base
files=. (>:#path)}.each d
folders=. (>:#path)}.each ftree path,'/',folder
for_f. folders do.
  f=. >f
  d=. 512#null
  d=. (100{.f,100#null) (i.100)}d
  d=. '5' 156}d
  d=. folderx (100+i.24)}d
  d=. (getchk d) chksum}d
  d fappend file
end.
for_f. files do.
  f=. >f
  d=. 512#null
  d=. (100{.f,100#null) (i.100)}d
  d=. '0' 156}d
  data=. fread path,'/',f
  c=. ' ',~(48+(11#8)#:#data){a.
  d=. c (124+i.12)}d
  d=. filex (100+i.24)}d
  d=. (getchk d) chksum}d
  d fappend file
  t=. 512*>.(#data)%512
  (t{.data)fappend file
end.
(1024#null) fappend file
i.0 0
)

NB. =========================================================
gzopen=: 3 : 0
'f m'=. y
f=. jpath jpathsep^:IFWIN f
f=. iospath^:IFIOS f
assert. 0~:h=. (libz,' gzopen >',cv,' x *c *c') cd f;,m
if. -.no_gzbuffer do.
  try. 0=(libz,' gzbuffer >',cv,' i x i') cd h;128*1024 catch. no_gzbuffer=: 1 end.  NB. not available in older version
end.
h
)

NB. =========================================================
gzclose=: (libz,' gzclose >',cv,' i x')&cd

NB. =========================================================
NB.      gzip '~temp/f.gz' - return data from f.gz
NB. data gzip '~/temp/f.gz' - write data to f.gz
gzip=: 3 : 0
r=. ''
d=. (128*1024)$' '
h=. gzopen y;'rb'
while. 0{:: 'c h d nd'=. (libz,' gzread ',cv,' i x *c i') cd h;d;#d do.
  assert. _1~:c
  r=. r,c{.d
end.
assert. 0=gzclose h
r
:
h=. gzopen y;'wb'
assert. (#x)=(libz,' gzwrite >',cv,' i x *c i') cd h;(,x);#x
assert. 0=gzclose h
i.0 0
)
NB. jtar zdefs

tarhelp_z_=: tarhelp_jtar_
tar_z_=: tar_jtar_
gzip_z_=: gzip_jtar_
coclass 'jpp'
coinsert 'j'
j=. 'assert. break. case. catch. catchd. catcht. continue. do. else. elseif. end.'
CONTROLS=: ;: j,' fcase. for. if. return. select. try. while. whilst.'
CONTROLX=: 0 0 0 0 0 0 0 0 0 0 _1, 0 1 1 0 1 1 1 1
CONTROLN=: ;: 'case. catch. catchd. catcht. do. else. elseif. end. fcase.'
CONTROLB=: ;: 'for. if. select. try. while. whilst.'
CONTROLM=: CONTROLN -. <'end.'

FORMEND=: 'rem form end;';,')'
CONTS=: ';xywh';';cc';';cn'
adverbs=: '~ / \ /. \. } b. f. M. t. t:'

arguments=: 'm n u v x y'

t=. '= < <. <: > >. >: _: + +. +: * *. *: - -. -: % %. %: ^ ^.'
t=. t,' $ $. $: ~. ~: | |. |: , ,. ,: ; ;: # #. #: ! /: \: [ [: ]'
t=. t,' { {. {: {:: }. }: ". ": ? ?.'
t=. t,' A. c. C. e. E. i. i: I. j. L. o. p. p: q: r. s: u: x: Z:'
t=. t,' _9: _8: _7: _6: _5: _4: _3: _2: _1:'
t=. t,' 0: 1: 2: 3: 4: 5: 6: 7: 8: 9:'
verbs=: t

t=. '^: . .. .: :  :. :: ;. !. !: " ` `: @ @. @: & &. &: &.:'
t=. t,' d. D. D: F. F.. F.: F: F:. F:: H. L: S: T.'
conjunctions=: t

t=. 'assert. break. case. catch. catchd. catcht. continue. do.'
t=. t,' else. elseif. end. fcase. for. goto. if. label.'
t=. t,' return. select. throw. trap. try. while. whilst.'
control_words=: t

nouns=: 'a. a:'

j=. ;: adverbs,' ',verbs,' ',conjunctions,' ',control_words,' ',nouns
SystemDefs=: j,;:'=. =:'
EXPDEFINE=: <@;: ;._2 (0 : 0)
1 : 0
2 : 0
3 : 0
4 : 0
1 define
2 define
3 define
4 define
adverb : 0
conjunction : 0
verb : 0
monad : 0
dyad : 0
adverb define
conjunction define
verb define
monad define
dyad define
)
NOUNDEFINE=: <@;: ;._2 '\' -.~ (0 : 0)
0 \: 0
noun \: 0
0 \define
noun \define
)
findfor=: 'for_'&-: @ (4&{.) *. ('.'&=) @ {:
info=: sminfo @ ('Lint'&;)
lastones=: > (}. , 0:)
findcontrols=: (1: e. (CONTS"_ (1: e. E.) &> <)) &>
firstones=: > (0 , }:)
maskselectside=: +./\ *. +./\.
notquotes=: (+: ~:/\)@(''''&=)
notcomments=: ([: +./\. (=&' ') +: [: +./\ 'NB.'&E. > ~:/\@(''''&=))
notqc=: (notquotes *. notcomments) f.
debq=: #~ (+. 1: |. (> </\))@(notquotes <: ' '&~:)
checkmulti=: 3 : 0
tok=. words @ (#~ notqc) each y
bgn=. masknoun1 &> tok
end=. tok=<;:')'
end=. 2 }. ; (1 0,bgn) < @ (</\) ;. 1 [ 0 1,end
if. (+/bgn) = +/end do.
  nounmask=. (+.~:/\) bgn +. end
  bgn=. nounmask < maskexp1 &> tok
  end=. nounmask < tok=<;:')'
  if. bgn pairup end do. 0 return. end.
end.
lvl=. (+/\bgn) - +/\end
if. 2 e. lvl do.
  lin=. (<:(bgn#lvl) i. 2) { I. bgn
  msg=. lin pick y
elseif. 1 = {:lvl do.
  lin=. 1 i.~ *./\.1 = lvl
  msg=. 'Definition not completed'
elseif. 1 do.
  lin=. lvl i. _1
  msg=. 'Unmatched closing paren'
end.
msg=. 'Could not match begin and end of multi-line definition:',LF,LF,msg
lin;msg
)
commentline=: 3 : 0
line=. y
ndx=. (y e. ' ',TAB) i. 0
if. -. 'NB. ' -: 4 {. ndx }. line do.
  line return.
end.
pre=. ndx {. line
len=. 57 - +/ 1 + 3 * pre = TAB
if. (2<#s) *. (,'=') -: ~. s=. (4+ndx) }. line do.
  line=. pre,'NB. ',len#'='
elseif. (2<#s) *. (,'-') -: ~. s=. (4+ndx) }. line do.
  line=. pre,'NB. ',len#'-'
end.
line
)
dellb=: #~ +./\ @: -. @ e.&(' ',TAB)
deltb=: #~ +./\.@: -. @ e.&(' ',TAB)
indent1=: 3 : 0
if. 0=L.y do. 0 return. end.
tok=. y
x=. I. findfor &> tok
tok=. (<'for.') x} tok
+/ (CONTROLX,0) {~ CONTROLS i. tok
)
maskexps=: 3 : 0
tok=. words @ (#~ notqc) each y
bgn=. maskexp1 &> tok
end=. tok=<;:')'
end=. 2 }. ; (1 0,bgn) < @ (</\) ;. 1 [ 0 1,end
~: /\. bgn +. end
)
maskexp1=: 3 : 0
1 e. EXPDEFINE 1&e.@E. &> <y
)
masknouns=: 3 : 0
tok=. words @ (#~ notqc) each y
bgn=. masknoun1 &> tok
if. -. 1 e. bgn do. return. end.
end=. tok = <;:')'
end=. 2 }. ; (1 0,bgn) < @ (</\) ;. 1 [ 0 1,end
~: /\. bgn +. end
)
masknoun1=: 3 : 0
if. 0=#y do. 0 return. end.
if. 1 e. NOUNDEFINE 1&e.@E. &> <,y do. 1 return. end.
if. (<'Note') ~: {.y do. 0 return. end.
if. (,<'Note') -: y do. 1 return. end.
if. -. (#y) e. 2 3 do. 0 return. end.
('NB.'-:3{.2 pick y,<'NB.') > (1{y) e. SystemDefs
)
maskselect=: 4 : 0
msk=. x
in=. y
ndx=. msk i. 1
if. ndx=#msk do. msk return. end.
in=. msk <;.1 in
(ndx#0) ,; maskselect1 each in
)

maskselect1=: 0 , [: *./\ }. >: {.
pairup=: 4 : 0
r=. +/\x - y
*./ (0={:r), r e. 0 1
)
remspaces=: 3 : 0
msk=. notcomments y
(debq msk#y), (-.msk)#y
)
spacing=: 3 : 0
in=. 0
bgn=. 0
msk=. notcomments y
txt=. msk#y
com=. (-.msk)#y

if. #txt do.
  tok=. words1 txt
  if. tok -: 0 do. return. end.
  if. #tok do.
    in=. indent1 tok
    bgn=. ({.tok) e. CONTROLN
    if. 1=#tok do.
      txt=. ;tok
    else.
      txt=. spacing1 dlb txt
    end.
  else.
    txt=. ''
  end.
else.
  com=. dlb com
end.

in;bgn;<<txt,com
)
words=: 7&u:&.>@:;:@(8&u:) :: ]`]@.(2 131072 262144 -.@e.~ 3!:0)
words1=: 7&u:&.>@:;:@(8&u:) :: 0:`0:@.(2 131072 262144 -.@e.~ 3!:0)
f=. #~ (=&' ') *: 1: |. notquotes *. '=:'&E. +. '=.'&E.
noblankbefore=: f f. ^: _

f=. #~ 1: + [: j. (1: |. =&' ') < _1: |. notquotes *. '=:'&E. +. '=.'&E.
blankafter=: f f. ^: _
spacing1=: blankafter @ noblankbefore
pp=: 3 : 0
files=. boxxopen y
res=. (#files) $ 0
for_f. files do.
  s=. pp1 f
  if. s = _1 do. return. end.
  res=. s f_index } res
end.
res
)
pp1=: 3 : 0
old=. freads y
dat=. pplint old
if. 0 = #dat do. 0 return. end.
if. L. dat do.
  'lin msg'=. dat
  msg=. msg, ' in file:',LF,LF, > y
  (0 >. lin - 10) flopen >y
  if. lin do.
    pos=. 1 0 + (+/\LF = toJ old) i. lin + 0 1
    smsetselect pos
  end.
  info msg
  _1 return.
end.
if. dat -: old do.
  0
else.
  1 [ dat fwrites y
end.
)
pplint=: 3 : 0
dat=. y

'fmt wid rms exp sel'=. Format_j_
if. wid=0 do. spc=. TAB else. spc=. wid#' ' end.
dat=. dat -. 26{a.
if. 0 = #dat do. return. end.
dat=. toJ dat
iftermLF=. LF = {:dat
dat=. <;._2 dat, iftermLF }. LF
dat=. deltb each dat
res=. checkmulti dat
if. L.res do. return. end.
nounx=. I. masknouns dat
nouns=. nounx { dat
dat=. a: nounx} dat
dat=. dellb each dat
if. rms do.
  dat=. remspaces each dat
end.
indat=. spacing each dat
if. (<0) e. indat do.
  lin=. indat i. <0
  txt=. lin pick dat
  cnt=. +/'''' = txt {.~ ('NB.' E. txt) i. 1
  if. 2 | cnt do.
    msg=. 'Mismatched quotes'
  else.
    msg=. 'Could not parse line'
  end.
  if. 2>fmt do.
    lin;msg return.
  else.
    txt=. dat{~ g=. I.indat=<0
    indat=. ((0;0)&,@<@<@]&.> txt) g} indat
    echo lin;msg
  end.
end.

'in begin dat'=. |: > indat
if. 0 ~: +/ in do.
  ins=. +/\ in
  if. _1 e. ins do.
    lin=. ins i. _1
    msg=. 'Unmatched end of control block'
  else.
    msk=. (dat = <,')') *. ins > 0
    if. 1 e. msk do.
      lin=. msk i. 1
      msg=. 'Unmatched start of control block'
    else.
      lin=. 0
      msg=. 'Mismatched control words'
    end.
  end.
  if. 2>fmt do.
    lin;msg return.
  else.
    echo lin;msg
  end.
end.
res=. ppval dat
if. -. res -: 0 do. if. 2>fmt do. return. else. echo res end. end.
if. 0=fmt do. '' return. end.
in=. +/\ in
ins=. _1 |. in
ins=. 0 >. ins - begin
cmt=. 'NB.'&-: @ (3&{.)
ins=. ins * -. cmt &> dat
dat=. ins (([ # spc"_),]) each dat
if. sel do.
  msk=. (<'select.') = {. @ words &> dat
  msk=. msk maskselect in
  dat=. msk (([ # spc"_),]) each dat
end.
if. exp do.
  msk=. (dat=<,')') < maskexps dat
  dat=. msk (([ # spc"_),]) each dat
end.
dat=. commentline each dat
dat=. nouns nounx } dat
dat=. ; dat ,each LF
dat=. (- -.iftermLF) }. dat

dat
)
ppval=: 3 : 0
dat=. words each y
pos=. <: +/\ # &> dat
dat=. ; boxxopen&.> dat
bgn=. (dat e. CONTROLB) +. findfor &> dat
end=. dat = <'end.'
lvl=. +/\bgn-end
if. _1 e. lvl do.
  lin=. pos I. lvl i. _1
  lin;'Unmatched control end' return.
end.
if. -. 0 = {: lvl do.
  lin=. pos I. lvl i: 1
  lin;'Unmatched control begin' return.
end.
if. bgn = #dat do. 0 return. end.
while. max=. >./ lvl do.
  b=. max = lvl
  b1=. _1 |. b
  ndx=. (,1+{:) I. b > +./\ b1 > b
  res=. ppval1 ndx{dat
  if. res -: 0 do.
    dat=. (<'') ndx}dat
    lvl=. (max-1) ndx} lvl
  else.
    'hit msg'=. res
    lin=. pos I. hit + {. ndx
    lin;msg
    return.
  end.
end.
0
)
ppval1=: 3 : 0
dat=. y
select. > {. dat
case. 'if.' do.
  b=. 0 = +/ dat e. CONTROLM -. ;: 'else. elseif. do.'
  e0=. +/ dat = <'else.'
  e1=. +/ dat = <'elseif.'
  b=. b *. (2 > e0) *. 0 = e0 *. e1
  b=. b *. (+/ dat = <'do.') = 1 + e1
  if. e1 do.
    ix=. I. dat = <'elseif.'
    dx=. }. I. dat = <'do.'
    b=. b *. (#ix) = #dx
    if. b do.
      b=. b *. (i.@#-:/:) ,ix,.dx
    end.
  end.
case. 'select.' do.
  b=. 0 = +/ dat e. CONTROLM -. ;: 'case. fcase. do.'
  ix=. I. dat e. ;: 'case. fcase.'
  dx=. I. dat = <'do.'
  b=. b *. (#ix) = #dx
  if. b do.
    b=. b *. (i.@#-:/:) ,ix,.dx
  end.
case. 'try.' do.
  c=. ;: 'catch. catchd. catcht.'
  b=. (1 e. dat e. c) *. 0 = +/ dat e. CONTROLM -. c
case. 'while.';'whilst.' do.
  b=. (1 = +/ dat = <'do.') *. 0 = +/ dat e. CONTROLM -. <'do.'
case. do.
  b=. 1 = +/ dat = <'do.'
  b=. b *. 0 = +/ dat e. CONTROLM -. <'do.'
end.
if. b do. 0 return. end.
0;'Unmatched control words'
)
pplintqt=: 3 : 0
res=. pplint y
if. (0=#res) +. res-:y do. '' return. end.
if. 0=L.res do. '0',res return. end.
'line msg'=. res
'1',(":line),' ',msg
)
cocurrent 'jpacman'
coinsert 'j'

BASELIB=: 'base library'
DATAMASK=: 0
HWNDP=: ''
ISGUI=: 0
INITDONE=: 0
HASFILEACCESS=: 0
HASADDONSDIR=: 0
ONLINE=: 0
PKGDATA=: 0 7$a:
SECTION=: ,<'All'
SYSNAME=: 'Package Manager'
TIMEOUT=: 60
WWWREV=: REV=: _1

IgnoreIOS=: 0 : 0
api/jni
data/dbman
data/ddmysql
data/odbc
demos/isigraph
demos/wd
demos/wdplot
games/minesweeper
games/nurikabe
games/pousse
games/solitaire
general/pcall
general/sfl
graphics/d3
graphics/fvj3
graphics/fvj4
graphics/gnuplot
graphics/graph
graphics/graphviz
graphics/grid
graphics/jturtle
graphics/print
graphics/tgsj
graphics/treemap
gui/monthview
gui/util
ide/qt
ide/ja
ide/jnet
math/tabula
media/animate
media/gdiplus
media/image3
media/imagekit
media/ming
media/paint
media/wav
)

Ignore=: 3 : 0''
if. IFIOS do.
  <;._2 IgnoreIOS
else.
  <'ide/ios'
end.
)
3 : 0''
HTTPCMD=: ''
nc=. '--no-cache'
if. IFUNIX do.
  IFWGET=. IFCURL=. 0
  if. -. IFIOS +. UNAME-:'Android' do.
    try.
      2!:0'which wget 2>/dev/null'
      IFWGET=. 1 catch. end.
    try.
      2!:0'which curl 2>/dev/null'
      IFCURL=. 1 catch. end.
  end.
  if. IFCURL do.
    HTTPCMD=: 'curl -L -o %O --stderr %L -f -s -S %U'
  elseif. IFWGET do.
    if. 'Android'-:UNAME do. nc=. ''
    else. try. nc=. nc #~ 1 e. nc E. shell 'wget --help' catch. nc=. '' end. end.
    HTTPCMD=: 'wget ',nc,' -O %O -o %L -t %t %U'
  end.
else.
  bbx=. '"','"',~jpath '~tools/ftp/busybox.exe'
  HTTPCMD=: bbx,' wget -q -O %O %U'
  UNZIP=: bbx,' unzip -q -o '
end.
)
setfiles=: 3 : 0
ADDCFG=: jpath '~addons/config/'
makedir ADDCFG
ADDCFGIJS=: ADDCFG,'config.ijs'
JRELEASE=: 'j','.'-.~({.~i:&'.') JLIB
LIBTREE=: readtree''
if. IFIOS do.
  WWW=: '/jal/',JRELEASE,'/'
else.
  WWW=: 'http://www.jsoftware.com/jal/',JRELEASE,'/'
end.
)
destroy=: codestroy
CFGFILES=: <;._2 (0 : 0)
addons.txt
library.txt
release.txt
revision.txt
zips.txt
)
LIBDESC=: 0 : 0
This is the base library of scripts and labs included in the J system.

Reinstalling or upgrading this library will overwrite files in the system subdirectory. Restart J afterwards.

Files outside the system subdirectory, such as profile.ijs, are not changed.
)
addsep=: , '/' -. {:
remsep=: }.~ [: - '/' = {:
cutjal=: ([: (* 4 > +/\) ' ' = ]) <;._1 ]
cutjsp=: ([: (* 5 > +/\) ' ' = ]) <;._1 ]
fname=: #~ ([: *./\. ~:&'/')
hostcmd=: [: 2!:0 '(' , ] , ' || true)'"_
intersect=: e. # [
ischar=: 2 = 3!:0
noundef=: (1 e. (,each '0:0')&E.) &>
rnd=: [ * [: <. 0.5 + %~
sep2under=: '/' & (I.@('_' = ])})
termLF=: , (0 < #) # LF -. {:
isjpkgout=: ((4 = {:) *. 2 = #)@$ *. 1 = L.
getintro=: ('...' ,~ -&3@[ {. ])^:(<#)
info=: smoutput
dircopy=: 3 : 0
'fm to'=. y
p=. (#fm) }. each dirpath fm
mkdir_j_ each to&, each p
f=. dtree fm
t=. to&, each (#fm) }. each f
t fcopynew &> f
)
getnames=: 3 : 0
select. L.y
case. 0 do.
  if. +/ BASELIB E. y do.
    y=. (<BASELIB), cutnames y rplc BASELIB;''
  else.
    y=. cutnames y
  end.
case. 1 do.
  if. 2 = #$y do.
    y=. {."1 y
  else.
    y=. ,y
  end.
case. do.
  '' return.
end.
y
)
curtailcaption=: 3 : 0
idx=. <_1;~I. 45<#&>{:"1 y
y=. (45&getintro &.> idx{y) idx}y
)
deltree=: 3 : 0
try.
  res=. 0< ferase {."1 dirtree y
  *./ res,0<ferase |.dirpath y
catch. 0 end.
)
dtree=: 3 : 0
p=. y #~ (+./\ *. +./\.) y~:' '
p=. jpath p,'/' -. {:p
d=. 1!:0 p,'*'
if. 0 = #d do. '' return. end.
d=. d #~ 'h' ~: 1 {"1 > 4 {"1 d
if. 0 = #d do. '' return. end.
m=. 'd' = 4 {"1 > 4 {"1 d
d=. (<p) ,each {."1 d
((-.m) # d), ;dtree each m # d
)
fixjal=: 3 : 0
if. 2 > #y do. i.0 5 return. end.
m=. _2 |. (LF,')',LF) E. y
r=. _2 }. each m <;._2 y
x=. r i.&> LF
d=. (x+1) }.each r
r=. x {.each r
r=. 3 {."1 cutjal &> ' ' ,each r
x=. d i.&> LF
c=. x {.each d
d=. (x+1) }.each d
r,.c,.d
)
fixjal2=: 3 : 0
if. 2 > #y do. i.0 2 return. end.
cutjal &> ' ' ,each <;._2 y
)
fixjsp=: 3 : 0
if. 2 > #y do. i.0 5 return. end.
m=. _2 |. (LF,')',LF) E. y
r=. _2 }. each m <;._2 y
x=. r i.&> LF
d=. (x+1) }.each r
r=. x {.each r
r=. ' ' ,each r
(cutjsp &> r),.d
)
fixlib=: 3 : 0
msk=. (<LIBTREE) = 1 {"1 y
if. -. 1 e. msk do. ($0);'';0 return. end.
'ver fln siz'=. 2 4 5 { (msk i.1) { y
ver=. fixver ver
ver;fln;siz
)
fixlibs=: 3 : 0
if. 2 > #y do.
  i.0 6 return.
end.
fls=. <;._2 y
ndx=. fls i.&> ' '
siz=. <&> 0 ". (ndx+1) }.&> fls
fls=. ndx {.each fls
zps=. <;._2 &> fls ,each '_'
pfm=. 3 {"1 zps
uname=. tolower UNAME
msk=. (uname -: ({.~ i.&'.')) &> pfm
if. 1 ~: +/msk do. msk=. 1,~ }:0*.msk end.
msk # zps,.fls,.siz
)
fixrev=: 3 : 0
{. _1 ". :: _1: y -. CRLF
)
fixupd=: 3 : 0
_1 ". :: _1: y -. CRLF
)
fixver=: 3 : 0
if. ischar y do.
  y=. y -. CRLF
  y=. 0 ". ' ' (I. y='.') } y
end.
3 {. y
)
fixvers=: 3 : 0
s=. $y
y=. ,y
3 {."1 [ 0 ". s $ ' ' (I. y e. './') } y
)
fmtjal=: 3 : 0
if. 0 = #y do. '' return. end.
r=. (4 {."1 y) ,each "1 '  ',LF2
r=. <@; "1 r
; r ,each ({:"1 y) ,each <')',LF
)
fmtjal2=: 3 : 0
if. 0 = #y do. '' return. end.
; (2 {."1 y) ,each "1 ' ',LF
)
fmtdep=: 3 : 0
}. ; ',' ,each a: -.~ <;._2 y
)
fmtjsp=: 3 : 0
if. 0 = #y do. '' return. end.
r=. (4 {."1 y) ,each "1 '   ',LF
r=. <@; "1 r
; r ,each ({:"1 y) ,each <')',LF
)
fmtlib=: 3 : 0
, 'q<.>,q<.>r<0>3.0,r<0>3.0' 8!:2 y
)
fmtver=: 3 : 0
if. 0=#y do. '' return. end.
if. ischar y do. y return. end.
}. ; '.' ,each ": each y
)
fmtverlib=: 3 : 0
fmtver y
)
fixzips=: 3 : 0
if. 2 > #y do. i.0 5 return. end.
fls=. <;._2 y
ndx=. fls i.&> ' '
siz=. 0 ". (ndx+1) }.&> fls
fls=. ndx {.each fls
zps=. <;._2 &> fls ,each '_'
zps=. zps,.fls,.<&>siz
pfm=. 3 {"1 zps
and=. (1 e. 'android'&E.) &> pfm
lnx=. (1 e. 'linux'&E.) &> pfm
mac=. (1 e. 'darwin'&E.) &> pfm
win=. mac < (1 e. 'win'&E.) &> pfm

select. UNAME
case. 'Win' do.
  zps=. win # zps
case. 'Linux' do.
  zps=. lnx # zps
case. 'Android' do.
  zps=. and # zps
case. 'Darwin' do.
  zps=. mac # zps
  zps=. zps /: 3 {"1 zps
  zps=. (~: 3 {."1 zps) # zps
end.

bit=. IF64 pick '64';'32'
pfm=. 3 {"1 zps
exc=. (1 e. bit&E.) &> pfm
zps=. zps \: exc
zps=. (~: 3 {."1 zps) # zps
fnm=. 0 {"1 zps
lnm=. 1 {"1 zps
ver=. 2 {"1 zps
pfm=. 3 {"1 zps
fls=. 4 {"1 zps
siz=. 5 {"1 zps
nms=. fnm ,each '/' ,each lnm
pfm=. (pfm i.&> '.') {.each pfm
ndx=. \: # &> pfm
sort ndx { nms,.pfm,.ver,.fls,.siz
)
fwritenew=: 4 : 0
if. x -: fread y do.
  0
else.
  x fwrite y
end.
)
getjqtversion=: 3 : 0
suffix=. (IFUNIX>'/'e.LIBFILE)#'-9.03'
dat=. fread '~bin/jqt',suffix,IFWIN#'.exe'
if. dat-:_1 do. '' return. end.
ndx=. I. 'jqtversion:' E. dat
if. 0=#ndx do. '' return. end.
dat=. 50 {. (11+{.ndx) }. dat
<;._1 '/',(dat i. ':') {. dat
)
platformparent=: 3 : 0
((< _2 {. y) e. '32';'64') # _2 }. y
)
makedir=: 1!:5 :: 0: @ <
plural=: 4 : 0
y,(1=x)#'s'
)
sizefmt=: 3 : 0
select. +/ y >: 1e3 1e4 1e6 1e7 1e9
case. 0 do.
  (": y), ' byte',(y~:1)#'s'
case. 1 do.
  (": 0.1 rnd y%1e3),' KB'
case. 2 do.
  (": 1 rnd y%1e3),' KB'
case. 3 do.
  (": 0.1 rnd y%1e6),' MB'
case. 4 do.
  (": 1 rnd y%1e6),' MB'
case. do.
  (": 0.1 rnd y%1e9),' GB'
end.
)
shellcmd=: 3 : 0
if. IFUNIX do.
  hostcmd_j_ y
else.
  spawn_jtask_ y
end.
)
splitrep=: 3 : 0
rep=. <;.1 '/',y
(}. ; 2 {. rep);;2 }. rep
)
subdir=: 3 : 0
if. 0=#y do. '' return. end.
a=. 1!:0 y,'*'
if. 0=#a do. '' return. end.
a=. a #~ '-d' -:"1 [ 1 4 {"1 > 4 {"1 a
(<y) ,each ({."1 a) ,each '/'
)
testaccess=: 3 : 0
f=. <jpath'~install/testaccess.txt'
try.
  '' 1!:2 f
  1!:55 f
  1
catch.
  0
end.
)
toupper1=: 3 : 0
if. 0=#y do. '' return. end.
(toupper {. y),tolower }. y
)
unzip=: 3 : 0
'file dir'=. dquote each y
e=. 'Unexpected unzip error'
if. IFUNIX do.
  notarcmd=. IFIOS
  if. UNAME-:'Android' do.
    notarcmd=. _1-: 2!:0 ::_1: 'which tar 2>/dev/null'
    if. (UNAME-:'Android') > '/mnt/sdcard'-:2!:5'EXTERNAL_STORAGE' do. notarcmd=. 1 end.
  end.
  if. notarcmd do.
    require 'tar'
    'file dir'=. y
    if. (i.0 0) -: tar 'x';file;dir do. e=. '' end.
  else.
    e=. shellcmd 'tar ',((IFIOS+:UNAME-:'Android')#(('Darwin'-:UNAME){::'--no-same-owner --no-same-permissions';'-o -p')),' -xzf ',file,' -C ',dir
  end.
  if. ('/usr/'-:5{.dir-.'"') *. ('root'-:2!:5'USER') +. (<2!:5'HOME') e. 0;'/var/root';'/root';'';,'/' do.
    shellcmd ::0: 'find ',dir,' -type d -exec chmod a+rx {} \+'
    shellcmd ::0: 'find ',dir,' -type f -exec chmod a+r {} \+'
  end.
else.
  dir=. (_2&}. , '/' -.~ _2&{.) dir
  e=. shellcmd UNZIP,' ',file,' -d ',dir
end.
e
)
zipext=: 3 : 0
y, IFUNIX pick '.zip';'.tar.gz'
)
CHECKADDONSDIR=: 0 : 0
The addons directory does not exist and cannot be created.

It is set to: XX.

You can either create the directory manually, or set a new addons directory in your profile script.
)
CHECKASK=: 0 : 0
Read catalog from the server using Internet connection now?

Otherwise the local catalog is used offline.
)
CHECKONLINE=: 0 : 0
An active Internet connection is needed to install packages.

Continue only if you have an active Internet connection.

OK to continue?
)
CHECKREADSVR=: 0 : 0
An active Internet connection is needed to read the server repository catalog.

Continue only if you have an active Internet connection.

OK to continue?
)
CHECKSTARTUP=: 0 : 0
Setup repository using Internet connection now?

Select No if not connected, to complete setup later. After Setup is done, repository can be used offline with more options in Tools menu and Preferences dialog.
)
checkaccess=: 3 : 0
if. testaccess'' do. 1 [ HASFILEACCESS_jpacman_=: 1 return. end.
msg=. 'Package Manager will run in read-only mode, as you do not have access to the installation folder.'
if. IFWIN do.
  msg=. msg,LF2,'To run as Administrator, right-click the J icon, select Run as... and '
  msg=. msg,'then select Adminstrator.'
else.
  msg=. msg,LF2,'To run as root, open a terminal and use sudo to run J.'
end.
info msg
0
)
checkaddonsdir=: 3 : 0
d=. jpath '~addons'
if. # 1!:0 d do. 1 [ HASADDONSDIR_jpacman_=: 1 return. end.
if. 1!:5 :: 0: <d do.
  log 'Created addons directory: ',d
  1 [ HASADDONSDIR=: 1 return.
end.
info CHECKADDONSDIR rplc 'XX';d
0
)
getonline=: 3 : 0
ONLINE=: 2=3 2 wdquery y
)
getserver=: 3 : 0
'rc p'=. httpgetr (WWW,'revision.txt');2
if. rc do. 0 return. end.
write_lastupdate''
WWWREV=: fixrev p
if. WWWREV = REV do. 1 return. end.
refreshweb''
)
checkonline=: 3 : 0
select. ReadCatalog_j_
case. 0 do.
  if. REV >: 0 do.
    ONLINE=: 0
    log 'Using local copy of catalog. See Preferences to change the setting.'
    1 return.
  end.
  if. 0 = getonline 'Read Catalog from Server';CHECKREADSVR do. 0 return. end.
case. 1 do.
  ONLINE=: 1
case. 2 do.
  if. REV >: 0 do.
    if. 0 = getonline 'Read Catalog from Server';CHECKASK do.
      log 'Using local copy of catalog. See Preferences to change the setting.'
      1 return.
    end.
  else.
    if. 0 = getonline 'Setup Repository';CHECKSTARTUP do. 0 return. end.
  end.
end.
log 'Updating server catalog...'
if. 0 = getserver'' do.
  ONLINE=: 0
  log 'Working offline using local copy of catalog.'
else.
  log 'Done.'
end.
1
)
checkstatus=: 3 : 0
if. 0 e. #LIBS do. '' return. end.
msk=. masklib PKGDATA
ups=. pkgups''
libupm=. 1 e. msk *. ups
msk=. -. msk
addnim=. +/msk *. pkgnew''
addupm=. +/msk *. pkgups''
tot=. +/addnim,addupm,libupm
if. 0 = tot do.
  'All available packages are installed and up to date.' return.
end.
select. 0 < addnim,addupm
case. 0 0 do.
  msg=. 'Addons are up to date.'
case. 0 1 do.
  msg=. 'All addons are installed, ',(":addupm), ' can be upgraded.'
case. 1 0 do.
  if. addnim = <:#PKGDATA do.
    msg=. 'No addons are installed.'
  else.
    j=. ' addon',('s'#~1<addnim),' are not yet installed.'
    msg=. 'Installed addons are up to date, ',(":addnim),j
  end.
case. 1 1 do.
  j=. (":addupm),' addon',('s'#~1<addupm),' can be upgraded, '
  msg=. j,(":addnim), ' addon',('s'#~1<addnim),' are not yet installed.'
end.
if. 0 = libupm do.
  msg,LF,'The base library is up to date.'
else.
  if. JLIB -: CRLF -.~ fread '~system/config/version.txt' do.
    msg,LF,'There is a newer version of the base library.'
  else.
    msg,LF,'Restart J to get the latest version of the base library.'
  end.
end.
)
write_lastupdate=: 3 : 0
txt=. ": 6!:0 ''
txt fwrites ADDCFG,'lastupdate.txt'
)
checklastupdate=: 3 : 0
if. _1 -: LASTUPD do.
  res=. 'has never been updated.'
else.
  res=. 'was last updated: ',timestamp LASTUPD
end.
'Local JAL information ',res
)
getdepend=: 3 : 0
if. 0 = #y do. y return. end.
dep=. getdepend_console 1{"1 y
PKGDATA #~ (1{"1 PKGDATA) e. dep
)
getdepend_console=: 0&$: : (4 : 0)
if. 0 = #y do. y return. end.
old=. ''
if. 0=#PKGDATA do. init_console'' end.
ids=. 1{"1 PKGDATA
dep=. 6{"1 PKGDATA
res=. ~. <;._1 ; ',' ,each (ids e. y) # dep
whilst. -. res-:old do.
  old=. res
  res=. ~. res, <;._1 ; ',' ,each (ids e. res) # dep
end.
/:~ ~. y, res -. a:, (0=x)# {."1 ADDINS
)
REPOS=: ;:'github'
cutrepo=: 3 : 0
t=. remsep jpathsep deb y
ndx=. t i. ':'
tag=. ndx {. t
t=. (ndx+1) }. t
ndx=. t i. '@'
rep=. ndx {. t
cmt=. (ndx+1) }. t
cmt=. cmt,(0=#cmt)#'master'
tag;rep;cmt
)
getpackageurl=: 3 : 0
'tag rep cmt'=. y
select. tag
case. 'github' do.
  ball=. IFUNIX pick 'zipball';'tarball'
  p=. <;.2 rep,'/'
  rpo=. ;2 {. p
  'https://github.com/',rpo,ball,'/',cmt
case. do.
  ''
end.
)
getpacsub=: 3 : 0
t=. 1!:0 y,'/*'
d=. , t #~ 'd'= 4 {"1 > 4 {"1 t
if. 0=#d do. 0 return. end.
y,'/',0 pick d
)
gettempdir=: 3 : 0
tmp=. jpath '~temp/pacmandownload'
rmdir_j_ tmp
mkdir_j_ tmp
tmp
)
gitrepoget=: 3 : 0
'f p'=. 2 {. (boxxopen y),a:
httpget f;3;p
)
install_gitrepo=: 3 : 0
'tag rep cmt'=. cutrepo y
if. -. (<tag) e. REPOS do.
  echo 'Unsupported repo host: ',tag return.
end.
if. 0 -: readmanifest tag;rep;cmt do. 0 return. end.
if. 0 -: readpackage tag;rep;cmt do. 0 return. end.
frm=. 0 pick splitrep rep
msg=. 'installed: ',frm,' ',cmt
if. -. frm -: FOLDER do.
  msg, ' into folder: ',FOLDER
end.
)
readpackage=: 3 : 0
url=. getpackageurl y
if. 0=#url do. 0 return. end.
tmp=. gettempdir''
p=. tmp,'/t1.',IFUNIX pick 'zip';'tar.gz'
'rc msg'=. gitrepoget url;p
if. rc do.
  0[echo 'Could not download addon: ',msg return.
end.
if. 0 >: fsize p do.
  0[echo 'Could not download addon' return.
end.
unzip p;tmp
sub=. getpacsub tmp
if. 0-:sub do. return. end.
removeextras sub
replacepackage sub;FOLDER
rmdir_j_ tmp
1
)
removeextras=: 3 : 0
p=. addsep y
ferase p&, each FILES -.~ (#p) }. each dtree p
)
replacepackage=: 3 : 0
'tmp rep'=. y
'add sub'=. splitrep rep
fm=. tmp,sub
to=. jpath '~addons/',add
dircopy fm;to
1
)
httpget=: 3 : 0
'f t p'=. 3 {. (boxxopen y),a:
n=. f #~ -. +./\. f e. '=/'
if. 0=#p do. p=. jpath '~temp/',n end.
q=. jpath '~temp/httpget.log'
t=. ":{.t,3
ferase p;q
retry=. fail=. 0
cmd=. HTTPCMD rplc '%O';(dquote p);'%L';(dquote q);'%t';t;'%T';(":TIMEOUT);'%U';f
if. IFJA do.
  try.
    (<p) 1!:2~ (11!:4000) f
  catch.
    retry=. fail=. 1 [ (<q) 1!:2~ (11!:0) 'qer'
  end.
end.
if. (IFJA < ''-:HTTPCMD) +. (IFJA *. retry *. ''-:HTTPCMD) do.
  fail=. 0
  require 'socket'
  1!:55 ::0: <p
  rc=. 0 [ e=. pp=. ''
  whilst. 0 do.
    'rc sk'=. sdsocket_jsocket_''
    if. 0~:rc do. break. end.
    ip=. >2{sdgethostbyname_jsocket_ 'www.jsoftware.com'
    rc=. sdconnect_jsocket_ sk;PF_INET_jsocket_;ip;80
    if. 0~:rc do. break. end.
    'rc sent'=. ('GET ',f,' HTTP/1.0',CRLF,CRLF) sdsend_jsocket_ sk;0
    if. 0~:rc do. break. end.
    while. ((0=rc)*.(*#m)) [[ 'rc m'=. sdrecv_jsocket_ sk,4096 do.
      pp=. pp,m
    end.
  end.
  sdclose_jsocket_ sk
  if. 0~:rc do. fail=. 1
  elseif. 1 -.@e. '200 OK' E. (20{.pp) do. fail=. 1 [ e=. ({.~ i.&LF) pp
  elseif. #p1=. I. (CRLF,CRLF) E. 500{.pp do. p2=. 4
  elseif. #p1=. I. LF2 E. 500{.pp do. p2=. 2
  elseif. do. fail=. 1
  end.
  if. 0=fail do.
    ((p2+{.p1)}.pp) 1!:2 <p
  else.
    if. 0~:rc do. e=. sderror_jsocket_ rc end.
  end.
elseif. (UNAME-.@-:'Android') do.
  try.
    fail=. _1-: e=. shellcmd cmd
  catch. fail=. 1 end.
end.
if. fail +. 0 >: fsize p do.
  if. _1-:msg=. freads q do.
    if. (_1-:msg) +. 0=#msg=. e do. msg=. 'Unexpected error' end. end.
  log 'Connection failed: ',msg
  info 'Connection failed:',LF2,msg
  r=. 1;msg
  ferase p;q
else.
  r=. 0;p
  ferase q
end.
r
)
httpgetr=: 3 : 0
res=. httpget y
if. 0 = 0 pick res do.
  f=. 1 pick res
  txt=. freads f
  ferase f
  0;txt
end.
)
install=: 3 : 0
dat=. getdepend y
'num siz'=. pmview_applycounts dat
many=. 1 < num
msg=. 'Installing ',(":num),' package',many#'s'
msg=. msg,' of ',(many#'total '),'size ',sizefmt siz
log msg
installdo 1 {"1 dat
log 'Done.'
readlocal''
pacman_init 0
)
install_console=: 3 : 0
if. -. init_console 'server' do. '' return. end.
pkgs=. getnames y
if. pkgs -: ,<'all' do. pkgs=. 1 {"1 PKGDATA end.
pkgs=. pkgs (e. # [) ~. (<'base library'), ((pkgnew +. pkgups) # 1&{"1@]) PKGDATA
pkgs=. pkgs -. Ignore
pkgs=. getdepend_console pkgs
if. 0 = num=. #pkgs do. '' return. end.
many=. 1 < num
msg=. 'Installing ',(":num),' package',many#'s'
log msg
installdo pkgs
log 'Done.'
readlocal''
pacman_init ''
checkstatus''
)
upgrade_console=: 3 : 0
if. -. init_console 'read' do. '' return. end.
pkgs=. getnames y
if. (0=#pkgs) +. pkgs -: ,<'all' do. pkgs=. 1{"1 PKGDATA end.
pkgs=. pkgs (e. # [) (pkgups # 1&{"1@])PKGDATA
install_console pkgs
)
installdo=: 3 : 0
msk=. -. y e. <BASELIB
if. 0 e. msk do.
  install_library''
end.
install_addon each msk # y
)
install_addon=: 3 : 0
ndx=. ({."1 ZIPS) i. <y
if. ndx = #ZIPS do. EMPTY return. end.
log 'Downloading ',y,'...'
f=. 3 pick ndx { ZIPS
'rc p'=. httpget WWW,'addons/',f
if. rc do. return. end.
log 'Installing ',y,'...'
msg=. unzip p;jpath'~addons'
ferase p
if. 0>:fsize jpath'~addons/',y,'/manifest.ijs' do.
  log 'Extraction failed: ',msg
  info 'Extraction failed:',LF2,msg
  return.
end.
install_addins y
install_config y
)
install_addins=: 3 :0
fl=. ADDCFG,'addins.txt'
ins=. fixjal2 freads fl
ins=. ins #~ (<y) ~: {."1 ins
ndx=. ({."1 ADDONS) i. <y
ins=. sort ins, 2 {. ndx { ADDONS
(fmtjal2 ins) fwrites fl
)
install_config=: 3 : 0
ADDLABS=: ''
0!:0 :: ] < ADDCFGIJS
install_labs y
write_config''
)
install_labs=: 3 : 0
labs=. dirtree jpath '~addons/',y,'/*.ijt'
if. 0=#labs do. return. end.
pfx=. jpath '~addons/'
labs=. (#pfx) }.each {."1 labs
LABCATEGORY=: ''
0!:0 ::] <jpath '~addons/',y,'/manifest.ijs'
cat=. LABCATEGORY
if. 0 = #cat do.
  cat=. toupper1 (y i. '/') {. y
end.
new=. labs ,each <' ',cat
txt=. sort ~. new,<;._2 ADDLABS
ndx=. 4 + (1 i.~ '.ijt'&E.) &> txt
msk=. fexist &> (<pfx) ,each ndx {.each txt
txt=. msk # txt
ADDLABS=: ; txt ,each LF
)
install_library=: 3 : 0
log 'Downloading base library...'
f=. 1 pick LIB
'rc p'=. httpget WWW,'library/',f
if. rc do. return. end.
log 'Installing base library...'
unzip p;jpath'~system'
ferase p
readlin''
)
write_config=: 3 : 0
txt=. 'NB. Addon configuration',LF2
txt=. txt,'ADDLABS=: 0 : 0',LF,ADDLABS,')',LF
txt fwrites ADDCFGIJS
)
installer=: 3 : 0
echo 'these steps can take several minutes'
echo '*** next step updates addons and base library'
'update'jpkg''
'upgrade'jpkg'all'
'install'jpkg {."1'shownotinstalled'jpkg''
if. IFIOS +. UNAME-:'Android' do.
 echo LF,'ALL DONE!',LF,'exit this J session and start new session'
 i.0 0
 return.
end.
echo '*** next step updates Jqt ide'
do_install'qtide'
echo '*** next step updates JE'
'upgrade'jpkg'jengine'
echo '*** next step creates desktop J launch icons'
if. 2~:ftype jpath'~/Desktop' do.
 echo '~/Desktop folder does not exist for shortcuts'
 echo 'perhaps create ~/Desktop as link to your Desktop folder and rerun'
 assert 0
else.
 shortcut'jc'
 shortcut'jhs'
 shortcut'jqt'
end.
echo LF,'ALL DONE!',LF,'exit this J session and start new session with double click',LF,'of desktop icon to run J with the corresponding user interface'
i.0 0
)
shortcut=: 3 : 0
try. ".UNAME,' y' catchd. echo 'create ',y,' launch icon failed' end.
)

defaults=: 3 : 0
A=:   ' ~addons/ide/jhs/config/jhs.cfg'
L=:   hostpathsep jpath'~/Desktop/'
W=:   hostpathsep jpath'~'
I=:   hostpathsep jpath'~bin/icons/'
N=:   (1 2 3{9!:14''),;IF64{'-32';''
DS=:  ;(('Win';'Linux';'Darwin')i.<UNAME){'.lnk';'.desktop';'.app'
LIB=: ''
)
vbs=: 0 : 0
Set oWS=WScript.CreateObject("WScript.Shell")
Set oLink=oWS.CreateShortcut("<N>")
oLink.TargetPath="<C>"
oLink.Arguments="<A>"
oLink.WorkingDirectory = "<W>"
oLink.IconLocation="<I>"
oLink.Save
)

Win=: 3 : 0
defaults''
Winx y
)

Winx=: 3 : 0
select. y
case.'jc' do.
 win'jc' ;'jconsole';'jgray.ico';LIB
case. 'jhs' do.
 win'jhs';'jconsole';'jblue.ico';LIB,A
case. 'jqt' do.
 win'jqt';'jqt'     ;'jgreen.ico';LIB
case. do.
 assert 0
end.
)

win=: 3 : 0
'type bin icon arg'=.y
f=. jpath '~temp/shortcut.vbs'
n=. L,type,N,DS
c=. hostpathsep jpath '~bin/',bin
(vbs rplc '<N>';n;'<C>';c;'<A>';arg;'<W>';W;'<I>';I,icon) fwrite f
r=. spawn_jtask_ 'cscript "',f,'"'
r assert -.'runtime error' E. r
ferase f
i.0 0
)
desktop=: 0 : 0
[Desktop Entry]
Version=1.0
Type=Application
Terminal=false
Name=<N>
Exec=<E>
Path=<W>
Icon=<I>
)
desktoprh=: 0 : 0
[Desktop Entry]
Version=1.0
Type=Application
Terminal=<TT>
Name=<N>
Exec=<E>
Path=<W>
Icon=<I>
)

lter=: 0 : 0

x-terminal-emulator does not exist and does not link to your preferred terminal
edit launch icon properties and change x-terminal-emulator to be your preferred terminal
 or
create it with: sudo update-alternatives --config x-terminal-emulator

)

get_terminal=: 3 : 0
if. 0=#TermEmu_j_ do. echo lter end.
TermEmu_j_
)

Linux=: 3 : 0
defaults''
Linuxx y
)

Linuxx=: 3 : 0
select. y
case.'jc' do.
 linux'jc' ;'jconsole';'jgray.png';LIB
case. 'jhs' do.
 linux'jhs';'jconsole';'jblue.png';LIB,A
case. 'jqt' do.
 linux'jqt';'jqt'     ;'jgreen.png';LIB
case. do.
 assert 0
end.
i.0 0
)

linux=: 3 : 0
'type bin icon arg'=.y
n=. type,N
f=. L,type,N,DS
c=. hostpathsep jpath '~bin/',bin
rh=. 1<#fread '/etc/redhat-release'
if. rh do.
 if. type-:'jqt' do.
  e=. c
 else.
  e=. c,' ',arg
 end.
else.
 if. type-:'jqt' do.
  e=. '"',c,'"'
 else.
  if. 'gnome-terminal' -: TermEmu=. get_terminal'' do.
   e=. '<T> -- "\"<C>\"<A>"'rplc '<T>';TermEmu;'<C>';c;'<A>';arg
  else.
   e=. '<T> -e "\"<C>\"<A>"'rplc '<T>';TermEmu;'<C>';c;'<A>';arg
  end.
 end.
end.

if. rh do.
 r=. desktoprh rplc '<N>';n
 r=. r rplc '<E>';e
 r=. r rplc '<W>';W
 r=. r rplc '<I>';I,icon
 r=. r rplc '<TT>';(type-:'jc'){'false';'true'
 r fwrite f
 2!:0'chmod +x ',f
else.
 r=. desktop rplc '<N>';n
 r=. r rplc '<E>';e
 r=. r rplc '<W>';W
 r=. r rplc '<I>';I,icon
 r fwrite f
 2!:0'chmod +x ',f
end.
)
plist=: 0 : 0
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0"><dict>
<key>CFBundleExecutable</key><string>apprun</string>
<key>CFBundleIconFile</key><string>i.icns</string>
<key>CFBundleInfoDictionaryVersion</key><string>6.0</string>
<key>CFBundleName</key><string>j</string>
<key>CFBundlePackageType</key><string>APPL</string>
<key>CFBundleVersion</key><string>1.0</string>
</dict></plist>
)

COM=: jpath'~temp/launch.command'

Darwin=: 3 : 0
defaults''
Darwinx y
)


Darwinx=: 3 : 0
select. y
case.'jc' do.
 darwin'jc' ;'jconsole';'jgray.icns';LIB
case. 'jhs' do.
 darwin'jhs';'jconsole';'jblue.icns';LIB,A
case. 'jqt' do.
 darwin'jqt';'jqt'     ;'jgreen.icns';LIB
case. do.
 assert 0
end.
i.0 0
)
darwin=: 3 : 0
'type bin icon arg'=.y
n=. type,N
f=. L,type,N,DS
c=. hostpathsep jpath '~bin/',bin
select. type
case.'jc' do.

 r=. new_launch rplc '<COM>';COM;'<C>';(hostpathsep jpath '~bin/jconsole');'<A>';LIB
case. 'jhs' do.
 r=. new_launch rplc '<COM>';COM;'<C>';(hostpathsep jpath '~bin/jconsole');'<A>';LIB,A
case. 'jqt' do.
 r=.'#!/bin/sh',LF,'"',c,'.command" ',LIB
end.
fpathcreate f,'/Contents/MacOS'
fpathcreate f,'/Contents/Resources'
plist fwrite f,'/Contents/info.plist'
r fwrite f,'/Contents/MacOS/apprun'
(fread '~bin/icons/',icon) fwrite f,'/Contents/Resources/i.icns'
2!:0'chmod -R +x ',f
)

new_launch=: 0 : 0
#!/bin/sh
echo '#!/bin/sh' > "<COM>"
echo '"<C>" <A>' >> "<COM>"
chmod +x <COM>
open "<COM>"
)
getmanifesturl=: 3 : 0
'tag rep cmt'=. y
select. tag
case. 'github' do.
  p=. <;.2 rep,'/'
  rpo=. ;2 {. p
  sub=. ;2 }. p
  'https://raw.githubusercontent.com/',rpo,cmt,'/',sub,'manifest.ijs'
case. do.
  ''
end.
)
readmanifest=: 3 : 0
url=. getmanifesturl y
if. 0=#url do. 0 return. end.
'rc man'=. gitrepoget url
if. rc do. 0 return. end.
dat=. freads man
if. dat -: _1 do.
  0[log 'could not read manifest for ',y return.
end.
ferase man
if. 0=valmanifest dat do. 0 return. end.
defmanifest dat
)
defmanifest=: 3 : 0
defmanifest1 y
pfm=. (tolower UNAME)&, each '';IF64{'32';'64'
files=. 'FILES'&, each '';toupper each pfm
other=. ;: 'DEPENDS FOLDER PLATFORMS RELEASE VERSION'
all=. files,other
(all)=: <''
n=. all intersect nl_jpacmandef_ 0
(n)=: ". each n ,each <'_jpacmandef_'
coerase <'jpacmandef'

FILES=: ~. cutLF ;LF ,each ". each files
if. 0=#FILES do. 0[echo 'Files not given' return. end.
FILES=: ~. FILES, <'manifest.ijs'

if. 0=#FOLDER do. 0[echo 'Folder not given' return. end.
if. #PLATFORMS do.
  if. 0=#pfm intersect ;: PLATFORMS do.
    0[echo 'Platform not supported for this addon' return.
  end.
end.
if. #RELEASE do.
  rel=. <./0 ". 'j' -.~ RELEASE
  ver=. 0 ". 'j' -.~ ({.~i.&'/')9!:14''
  if. rel > ver do.
    0[echo 'Release not supported for this addon: ',9!:14'' return.
  end.
end.
if. #DEPENDS do.
  dependcheck a: -.~ deb each <;._2 termLF DEPENDS
end.

1
)
defmanifest1=: 3 : 0
coerase <'jpacmandef'
cocurrent 'jpacmandef'
0!:100 y
)
dependcheck=: 3 : 0
m=. (0 = #@(1!:0)) &> (<jpath '~addons/') ,each y , each <'/*'
if. 1 e. m do.
  echo 'This addon requires addons to be installed:',;' ',each m#y
end.
)
valmanifest=: 3 : 0
b=. <;._2 y
b=. dlb each b
b=. b -. a:
b=. b #~ (<'NB.') ~: 3 {.each b
c=. ;: :: 0: each b
msk=. c ~: <0
c=. msk # c
bgn=. noundef c
ndx=. bgn i. 1
hdr=. ndx {. c
c=. bgn <;.1 c
len=. # &> c
ndx=. c i. &> <<,<,')'
if. 1 e. ndx = len do.
  txt=. towords 0 pick ((ndx=len) i. 1) pick c
  log 'invalid manifest for ',x,' at definition: ',txt
  0 return.
end.
c=. hdr, ; (ndx+1) }.each c
c
msk=. (<'NB.') = (3: {. >@{:) each c
c=. (-msk) }.each c
msk=. 3 ~: # &> c
if. 1 e. msk do.
  txt=. towords (msk i. 1) pick c
  log 'invalid manifest for ',x,' at line: ',txt
  0 return.
end.
c3=. > c
ass=. (<'=:') = 1 {"1 c3
chr=. '''' = {. &> 2 {"1 c3
if. 0 e. ass *. chr do.
  txt=. towords ((0 = ass *.chr) i. 1) pick c
  echo 'invalid manifest for ',x,' at line: ',txt
  0 return.
end.
1
)
show_console=: 4 : 0
if. -. init_console 'read' do. '' return. end.
select. x
case. 'search' do.
  pkgs=. getnames y
  res=. (pkgsearch pkgs) # 1 2 3 4 {"1 PKGDATA
  res=. curtailcaption res
case. 'show' do.
  pkgs=. getnames y
  if. pkgs -: ,<'all' do. pkgs=. 1 {"1 PKGDATA end.
  res=. (msk=. pkgshow pkgs) # 5 {"1 PKGDATA
  if. #res do.
    res=. ,((<'== '), &.> msk # 1 {"1 PKGDATA) ,. res
    res=. (2#LF) joinstring (70&foldtext)&.> res
  end.
case. 'showinstalled' do.
  dat=. (isjpkgout y) {:: (1 2 3 4 {"1 PKGDATA);<y
  res=. (-.@pkgnew # ])dat
  res=. curtailcaption res
case. 'shownotinstalled' do.
  dat=. (isjpkgout y) {:: (1 2 3 4 {"1 PKGDATA);<y
  res=. (pkgnew # 0 2 3&{"1@])dat
  res=. curtailcaption res
case. 'showupgrade' do.
  dat=. (isjpkgout y) {:: (1 2 3 4 {"1 PKGDATA);<y
  res=. (pkgups # ])dat
  res=. curtailcaption res
case. 'status' do.
  res=. checklastupdate''
  res=. res,LF,checkstatus''
end.
res
)
showfiles_console=: 4 : 0
if. -. init_console 'read' do. '' return. end.
pkgs=. getnames y
pkgs=. pkgs (e. # [) (-.@pkgnew # 1&{"1@]) PKGDATA
pkgs=. pkgs -. <BASELIB
if. 0=#pkgs do. '' return. end.
fn=. (<'~addons/') ,&.> (pkgs) ,&.> <'/',x,(x-:'history'){::'.ijs';'.txt'
res=. res #~ msk=. (<_1) ~: res=. fread@jpath &.> fn
if. #res do.
  res=. ,((<'== '), &.> msk#pkgs) ,. res
  res=. (2#LF) joinstring res
end.
)
remove_console=: 3 : 0
if. -. init_console 'edit' do. '' return. end.
pkgs=. getnames y
if. pkgs -: ,<'all' do. pkgs=. 1 {"1 PKGDATA end.
pkgs=. pkgs (e. # [) (-.@pkgnew # 1&{"1@]) PKGDATA
pkgs=. pkgs -. <BASELIB
if. 0 = num=. #pkgs do. '' return. end.
many=. 1 < num
msg=. 'Removing ',(":num),' package',many#'s'
log msg
remove_addon each pkgs
log 'Done.'
readlocal''
pacman_init ''
checkstatus''
)

remove_addon=: 3 : 0
log 'Removing ',y,'...'
treepath=. jpath '~addons/',y
if. ((0 < #@dirtree) *. -.@deltree) treepath do.
  nf=. #dirtree treepath
  nd=. <: # dirpath treepath
  nd=. nd + (tolower treepath) e. dirpath jpath '~addons/', '/' taketo y
  msg=. (":nd),' directories and ',(":nf),' files not removed.'
  log 'Remove failed: ',msg
  info 'Remove failed:',LF2,msg
  return.
end.
remove_addins y
remove_config y
)
remove_addins=: 3 :0
fl=. ADDCFG,'addins.txt'
ins=. fixjal2 freads fl
ins=. ins #~ (<y) ~: {."1 ins
(fmtjal2 ins) fwrites fl
)
remove_config=: 3 : 0
ADDLABS=: ''
0!:0 :: ] < ADDCFGIJS
remove_labs y
write_config''
)
remove_labs=: 3 : 0
txt=. <;._2 ADDLABS
txt=. txt #~ (<jpathsep y) ~: (#y)&{. each txt
ADDLABS=: ; txt ,each LF
)
LOG=: 1
log=: 3 : 0
if. LOG do. smoutput y end.
)
logstatus=: 3 : 0
if. ONLINE do.
  log checkstatus''
end.
)
readlin=: 3 : 0
LIN=: 6 1 1 >. fixver JLIB
)
readlocal=: 3 : 0
readlin''
ADDONS=: fixjal freads ADDCFG,'addons.txt'
ADDINS=: fixjal2 freads ADDCFG,'addins.txt'
REV=: fixrev freads ADDCFG,'revision.txt'
LASTUPD=: fixupd freads ADDCFG,'lastupdate.txt'
LIBS=: fixlibs freads ADDCFG,'library.txt'
LIB=: fixlib LIBS
ZIPS=: fixzips freads ADDCFG,'zips.txt'
EMPTY
)
readtree=: 3 : 0
f=. ADDCFG,'tree.txt'
tree=. LF -.~ freads f
if. -. (<tree) e. 'current';'stable' do.
  tree=. 'current'
  writetree tree
end.
tree
)
writetree=: 3 : 0
y fwritenew ADDCFG,'tree.txt'
)
refreshweb=: 3 : 0
if. 0 = refreshjal'' do. 0 return. end.
readlocal''
1
)
refreshaddins=: 3 : 0
setfiles''
ADDLABS=: ''
f=. ADDCFG,'addins.txt'
p=. jpath '~addons/'
sd=. ;subdir each subdir p
if. 0=#sd do.
  '' fwrite f
  write_config'' return.
end.
r=. s=. ''
for_d. sd do.
  mft=. freads (>d),'manifest.ijs'
  if. mft -: _1 do. continue. end.
  VERSION=: ''
  0!:100 mft
  ver=. fmtver fixver VERSION
  n=. }: (#p) }. >d
  n=. '/' (I.n='\') } n
  r=. r,n,' ',ver,LF
  s=. s,d
end.
r fwritenew f
s=. (#p) }.each }: each s
install_labs each s
write_config''
)
refreshjal=: 3 : 0
'rc p'=. httpget WWW,zipext 'jal'
if. rc do. 0 return. end.
unzip p;ADDCFG
ferase p
if. *./ CFGFILES e. {."1 [ 1!:0 ADDCFG,'*' do. 1 return. end.
msg=. 'Could not install the local repository catalog.'
log msg
info msg
0
)
updatejal=: 3 : 0
log 'Updating server catalog...'
if. -. init_console 'server' do. '' return. end.
refreshaddins''
readlocal''
pacman_init''
res=. checklastupdate''
res,LF,checkstatus''
)
masklib=: 3 : 0
(1 {"1 y) = <BASELIB
)
pkglater=: 3 : 0
dat=. (s=. isjpkgout y){:: PKGDATA;<y
if. 0=#dat do. $0 return. end.
loc=. fixvers > (2-s) {"1 dat
srv=. fixvers > (3-s) {"1 dat
{."1 /:"2 srv ,:"1 loc
)
pkgnew=: 3 : 0
dat=. (s=. isjpkgout y){:: PKGDATA;<y
if. 0=#dat do. $0 return. end.
0 = # &> (2-s) {"1 dat
)
pkgups=: pkgnew < pkglater
pkgsearch=: 3 : 0
+./"1 +./ y E."1&>"(0 _) 1{"1 PKGDATA
)
pkgshow=: 3 : 0
y e.~ 1{"1 PKGDATA
)
setshowall=: 3 : 0
PKGDATA=: (<y) (<(I.DATAMASK);0) } PKGDATA
)
setshownew=: 3 : 0
ndx=. I. DATAMASK *. pkgnew''
PKGDATA=: (<y) (<ndx;0) } PKGDATA
)
setshowups=: 3 : 0
ndx=. I. DATAMASK *. pkgups''
PKGDATA=: (<y) (<ndx;0) } PKGDATA
)
splitlib=: 3 : 0
if. 0=#y do.
  2 $ <y return.
end.
msk=. masklib y
(msk#y) ; <(-.msk)#y
)
pacman_init=: 3 : 0
dat=. ADDONS #~ ({."1 ADDONS) e. {."1 ZIPS
if. 0=#dat do.
  dat=. i.0 6
else.
  ndx=. ({."1 ADDINS) i. {."1 dat
  ins=. ndx { (1 {"1 ADDINS),<''
  dat=. dat,.<''
  dat=. 0 5 1 3 4 2 {"1 dat
  dat=. ins 1 }"0 1 dat
end.
lib=. 'base library';(fmtver LIN);(fmtver 0 pick LIB);'base library scripts';LIBDESC;''
dat=. dat,lib
dat=. (<0),.dat
PKGDATA=: sort dat
nms=. 1 {"1 PKGDATA
nms=. ~. (nms i.&> '/') {.each nms
SECTION=: 'All';nms
DATAMASK=: (#PKGDATA) $ 1
EMPTY
)
init_console=: 3 : 0
if. 0=#y do. y=. 'read' end.
select. y
fcase. 'edit';'server' do.
  if. -. HASFILEACCESS do. 0 return. end.
case. 'read' do.
  if. -. HASADDONSDIR do. 0 return. end.
  setfiles''
  readlocal''
  pacman_init ''
  res=. 1
case. do. res=. 0
end.
if. y -: 'server' do. res=. getserver'' end.
res
)

man=: 0 : 0
Valid options are:
 history, install, manifest, remove, reinstall, search,
 show, showinstalled, shownotinstalled, showupgrade,
 status, update, upgrade

https://code.jsoftware.com/wiki/JAL/Package_Manager/jpkg
)
jpkg=: 4 : 0
if. -.INITDONE_jpacman_ do.
  checkaccess''
  checkaddonsdir''
  INITDONE_jpacman_=: 1
end.
select. x
case. 'history';'manifest' do.
  x showfiles_console y
case. 'install' do.
  if. -. HASFILEACCESS*.HASADDONSDIR do. 'file permission error' return. end.
  if. '*'-:y do. installer'' else. install_console y end.
case. 'reinstall' do.
  if. -. HASFILEACCESS*.HASADDONSDIR do. 'file permission error' return. end.
  remove_console y
  install_console y
case. 'remove' do.
  if. -. HASFILEACCESS*.HASADDONSDIR do. 'file permission error' return. end.
  remove_console y
case. ;:'show search showinstalled shownotinstalled showupgrade status' do.
  x show_console y
case. 'update' do.
  if. -. HASFILEACCESS*.HASADDONSDIR do. 'file permission error' return. end.
  updatejal ''
case. 'upgrade' do.
  if. -. HASFILEACCESS*.HASADDONSDIR do. 'file permission error' return. end.
  if. 'jengine'-:y do. je_update'' else. upgrade_console y end.
case. 'shortcut' do.
  shortcut tolower y
case. do.
  man
end.
)
je_update=: 3 : 0
if. IFIOS+.UNAME-:'Android' do. log'upgrade not supported for this platform' return. end.
'jxxx jbithw platform br comm web dt'=. 7 {. <;._1 '/',9!:14''
if. -.(comm-:'commercial')*.web-:'www.jsoftware.com' do. log'upgrade not possible for this install' return. end.
br=. (br i.'-'){.br
path=. 'http://www.jsoftware.com/download/jengine/',jxxx,'-',br,'/'
'plat name bname'=. je_sub''
DLL=. hostpathsep jpath bname
OLD=. hostpathsep jpath bname,'.old'
NEW=. hostpathsep jpath bname,'.new'
if. 1~:ftype bname do. log'upgrade not supported for this type of install' return. end.

if. IF64 > IFRASPI do.
 t=. httpget path,plat,'/j64'
 if. 1=;{.t do. log'upgrade - read jengine folder failed' return end.
 a=. fread '~temp/j64'
 i=. >:((;(UNAME-:'Win'){'>libj';'>j') E. a)#i.#a
 a=. i}.each (#i)#<a
 a=. (a i.each'<'){.each a
 a=. a}.~each a i.each 'j'
 a=. }.each a{.~each a i.each '.'
 try. t7=. 2!:7'' catch. t7=. '' end.
 a=. 'j',;{:(a e. ;:t7)#a
 i=. name i.'.'
 name=. <(}:i{.name),a,i}.name
else.
 name=. <name
end.

arg=. (<jxxx),(<br),(<platform),(<3{.jbithw),name
r=. je_get arg
if. _1=r do. log'upgrade file not found' return. end.
if. r-:fread DLL do. log'upgrade not required - already current' return. end.

if. -.testaccess'' do. log'upgrade must be run with admin privileges' return. end.
r fwrite NEW
(fread DLL) fwrite OLD

if. UNAME-:'Win' do.
  if. fexist OLD do.
   if. -.ferase OLD do. log'upgrade failed - ferase j.dll.old - exit all J sessions and try again' return. end.
  end.
 if. -.OLD frename DLL do. log'upgrade failed - rename j.dll to j.dll.old' return. end.
 if. -.DLL frename NEW do. log'upgrade failed - rename j.dll.new to j.dll' return. end.
else.
  if. -.ferase DLL do. log'upgrade failed - ferase libj.so.old - exit all J sessions and try again' return. end.
  if. -.DLL frename NEW do. log'upgrade failed - rename libj.so.new to libj.so' return. end.
  if. FHS*.IFUNIX do.
    2!:0 'chmod 755 "',DLL,'"'
    if. 'root'-: user=. 2!:5'user' do.
      2!:0 'chown ',user,':',user,' "',DLL,'"'
      2!:0^:('Linux'-:UNAME) 'ldconfig'
    end.
  end.
end.
'upgrade installed - exit, restart J, and check JVERSION'
)
je_get=: 3 : 0
'jxxx br plat bits name'=. y
arg=. 'http://www.jsoftware.com/download/jengine/',jxxx,'-',br,'/',plat,'/',bits,'/',name
ferase'~temp/',name
httpget arg
fread '~temp/',name
)

je_sub=: 3 : 0
i=. ('Win';'Darwin')i.<UNAME
plat=. ;i{'windows';'darwin';IFRASPI{::'linux';'raspberry'
name=. ;i{'j.dll';'libj.dylib';'libj.so'
bname=. '~bin/',name
if. FHS*.IFUNIX do.
  v=. ({.~i.&'/')}.9!:14''
  sub=. '.',({.v),'.',}.v
  if. 'Darwin'-:UNAME do.
    d1=. (({.~ i:&'/')BINPATH),'/lib/'
  elseif. IFRASPI do.
    d1=. (({.~ i:&'/')BINPATH),IF64{::'/lib/arm-linux-gnueabihf/';'/lib/aarch64-linux-gnu/'
  elseif. do.
    if. -.fexist d1=. (({.~ i:&'/')BINPATH),IF64{::'/lib/i386-linux-gnu/';'/lib/x86_64-linux-gnu/' do.
      d1=. (({.~ i:&'/')BINPATH),IF64{::'/lib/';'/lib64/'
    end.
  end.
  bname=. d1,name,sub
end.
plat;name;bname
)
jengine_version=: 3 : 0
d=. fread y
'not a file'assert _1~:d
'not a JE' assert (1 i.~'non-unique sparse elements' E. d)<#d
i=. 1 i.~'je9!:14' E. d
if. i=#d do. 'unknown' return. end.
d=. d}.~8+i
s=. d{.~d i. {.a.
s=. s-.LF,12{a.
dt=. _20{.s
date=. 11{.dt
m=. 2":>:(;:'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec')i.<3{.date
date=. ((_4{.date),'-',m,'-',4 5{date)rplc' ';'0'
(_20}.s),date,11}.dt
)
do_install=: 3 : 0
if. -. checkaccess_jpacman_ '' do. return. end.
if. ':' e. y do. install_gitrepo y return. end.
'update' jpkg ''
if. y -: 'addons' do. y=. 'all' end.
if. -. (<y) e. 'full';'qtide';'slim' do.
  'install' jpkg y return.
end.
if. IFQT do.
  smoutput 'Must run from jconsole' return.
end.
if. y-:'qtide' do.
  s=. 'slim'-: 4 {. ;getjqtversion_jpacman_''
  y=. s pick 'full';'slim'
end.
'install' jpkg 'base library ide/qt'
getqtbin y
msg=. (+/ 2 1 * IFWIN,'Darwin'-:UNAME) pick 'jqt.sh';'the jqt icon';'jqt.cmd'
if. '/usr/share/j/' -: 13{. jpath'~install' do. msg=. 'jqt' end.
smoutput 'Exit and restart J using ',msg
)
qt_ldd_test=: 3 : 0
ldd=. ('Darwin'-:UNAME){::'ldd';'otool -L'
suffix=. ('Darwin'-:UNAME){::'so';'dylib'
if. FHS*.IFUNIX do.
  d=. <;._2 hostcmd_jpacman_ ldd,' ',BINPATH,'/jqt-9.03'
  d=. d,<;._2 hostcmd_jpacman_ ldd,' ',y,'/libjqt.',suffix,'.9.03'
else.
  d=. <;._2 hostcmd_jpacman_ ldd,' ',jpath'~bin/jqt'
  d=. d,<;._2 hostcmd_jpacman_ ldd,' ',jpath'~bin/libjqt.',suffix
end.
b=. d#~;+./each (<'not found') E. each d
if. #b do.
  echo'jqt dependencies not found - jqt will not start until these are resolved'
  echo >~.b
end.
)
do_getqtbin=: 3 : 0

bin=. 'JQt ',(((y-:'slim')#'slim ')),'binaries.'
smoutput 'Installing ',bin,'..'
if. 'Linux'-:UNAME do.
  if. IFRASPI do.
    z=. 'jqt-',((y-:'slim') pick 'raspi';'raspislim'),'-',(IF64 pick '32';'64'),'.tar.gz'
  elseif. 0 [ fexist '/etc/redhat-release' do.
    z=. 'jqt-',((y-:'slim') pick 'rhel7';'rhel7slim'),'-',(IF64 pick '32';'64'),'.tar.gz'
  elseif. do.
    z=. 'jqt-',((y-:'slim') pick 'linux';'slim'),'-',(IF64 pick 'x86';'x64'),'.tar.gz'
  end.
  z1=. 'libjqt.',suffix=. 'so'
elseif. IFWIN do.
  z=. 'jqt-win',((y-:'slim')#'slim'),'-',(IF64 pick 'x86';'x64'),'.zip'
  z1=. 'jqt.',suffix=. 'dll'
elseif. do.
  z=. 'jqt-mac',((y-:'slim')#'slim'),'-',(IF64 pick 'x86';'x64'),'.zip'
  z1=. 'libjqt.',suffix=. 'dylib'
end.
'rc p'=. httpget_jpacman_ 'http://www.jsoftware.com/download/j903/qtide/',z
if. rc do.
  smoutput 'unable to download: ',z return.
end.
d=. jpath '~bin'
if. IFWIN do.
  unzip_jpacman_ p;d
else.
  if. FHS do.
    if. 'Darwin'-:UNAME do.
      d1=. (({.~ i:&'/')BINPATH),'/lib/'
    elseif. IFRASPI do.
      d1=. (({.~ i:&'/')BINPATH),IF64{::'/lib/arm-linux-gnueabihf/';'/lib/aarch64-linux-gnu/'
    elseif. do.
      if. -.fexist d1=. (({.~ i:&'/')BINPATH),IF64{::'/lib/i386-linux-gnu/';'/lib/x86_64-linux-gnu/' do.
        d1=. (({.~ i:&'/')BINPATH),IF64{::'/lib/';'/lib64/'
      end.
    end.
    echo 'install libjqt.',suffix,' to ',d1
    hostcmd_jpacman_ 'rm -f ',BINPATH,'/jqt'
    echo 'cd ',(dquote jpath '~temp'),' && tar --no-same-owner --no-same-permissions -xzf ',(dquote p), ' && chmod 755 jqt && mv jqt ',BINPATH,'/jqt-9.03 && cp libjqt.',suffix,' ',d1,'/libjqt.',suffix,'.9.03 && chmod 755 ',d1,'/libjqt.',suffix,'.9.03', ('Linux'-:UNAME)#' && ldconfig'
    hostcmd_jpacman_ 'cd ',(dquote jpath '~temp'),' && tar --no-same-owner --no-same-permissions -xzf ',(dquote p), ' && chmod 755 jqt && mv jqt ',BINPATH,'/jqt-9.03 && cp libjqt.',suffix,' ',d1,'/libjqt.',suffix,'.9.03 && chmod 755 ',d1,'/libjqt.',suffix,'.9.03', ('Linux'-:UNAME)#' && ldconfig'
    if. 'Linux'-:UNAME do.
      echo 'update-alternatives --install ',BINPATH,'/jqt jqt ',BINPATH,'/jqt-9.03 903'
      hostcmd_jpacman_ 'update-alternatives --install ',BINPATH,'/jqt jqt ',BINPATH,'/jqt-9.03 903'
    end.
  else.
    hostcmd_jpacman_ 'cd ',(dquote d),' && tar xzf ',(dquote p)
  end.
end.
ferase p
if. #1!:0 FHS{::(BINPATH,'/',z1);BINPATH,'/jqt' do.
  m=. 'Finished install of ',bin
else.
  m=. 'Unable to install ',bin,LF
  m=. m,'check that you have write permission for: ',LF,BINPATH
end.
smoutput m
if. IFUNIX do.
  qt_ldd_test d1
  smoutput 'If libjqt cannot be loaded, see this guide for installing the Qt library'
  smoutput 'https://code.jsoftware.com/wiki/Guides/Linux_Installation'
  return.
end.

tgt=. jpath IFWIN{::'~install/Qt';'~bin/Qt5Core.dll'
y=. (*#y){::0;y

smoutput 'Installing Qt library...'
if. IFWIN do.
  z=. 'qt512-win-',((y-:'slim')#'slim-'),(IF64 pick 'x86';'x64'),'.zip'
else.
  z=. 'qt512-mac-',((y-:'slim')#'slim-'),(IF64 pick 'x86';'x64'),'.zip'
end.
'rc p'=. httpget_jpacman_ 'http://www.jsoftware.com/download/j903/qtlib/',z
if. rc do.
  smoutput 'unable to download: ',z return.
end.
d=. jpath IFWIN{::'~install';'~bin'
if. IFWIN do.
  unzip_jpacman_ p;d
else.
  hostcmd_jpacman_ 'unzip -o ',(dquote p),' -d ',dquote d
end.
ferase p
if. #1!:0 tgt do.
  m=. 'Finished install of Qt library.'
else.
  m=. 'Unable to install Qt library.',LF
  m=. m,'check that you have write permission for: ',LF,IFWIN{::tgt;jpath'~bin'
end.
smoutput m

)
jpkg_z_=: 3 : 0
'help' jpkg y
:
a=. conew 'jpacman'
res=. x jpkg__a y
destroy__a''
res
)
jpkgv_z_=: (<@:>"1@|:^:(0 ~: #))@jpkg
je_update_z_=: je_update_jpacman_
NB. scripts.ijs
NB.
NB. defines noun Public (in j locale)

cocurrent 'j'

NB. =========================================================
NB. Public definitions
NB. form:  shortname fpathname
buildpublic 0 : 0
afm        ~addons/graphics/afm/afm.ijs
bmp        ~addons/graphics/bmp/bmp.ijs
color16    ~addons/graphics/color/color16.ijs
colortab   ~addons/graphics/color/colortab.ijs
csv        ~addons/tables/csv/csv.ijs
dd         ~addons/data/odbc/odbc.ijs
debug      ~addons/ide/qt/debugs.ijs
gl2        ~addons/graphics/gl2/gl2.ijs
gles       ~addons/api/gles/gles.ijs
graph      ~addons/graphics/graph/graph.ijs
guid       ~addons/general/misc/guid.ijs
inverted   ~addons/general/misc/inverted.ijs
ja         ~addons/ide/ja/ja.ijs
jd         ~addons/data/jd/jd.ijs
jfiles     ~addons/data/jfiles/jfiles.ijs
jhs        ~addons/ide/jhs/core.ijs
jmf        ~addons/data/jmf/jmf.ijs
jni        ~addons/api/jni/jni.ijs
jpeg       ~addons/graphics/jpeg/jpeg.ijs
jpm        ~system/util/pm.ijs
jzgraph    ~addons/graphics/graph/jzgraph.ijs
jzplot     ~addons/graphics/plot/jzplot.ijs
numeric    ~addons/general/misc/numeric.ijs
odbc       ~addons/data/odbc/odbc.ijs
pack       ~addons/general/misc/pack.ijs
pacman     ~system/util/pacman.ijs
parts      ~addons/general/misc/parts.ijs
plot       ~addons/graphics/plot/plot.ijs
png        ~addons/graphics/png/png.ijs
primitives ~addons/general/primitives/primitives.ijs
print      ~addons/graphics/print/print.ijs
project    ~system/util/project.ijs
qtide      ~addons/ide/qt/qt.ijs
regex      ~system/main/regex.ijs
rgb        ~addons/graphics/color/rgb.ijs
socket     ~system/main/socket.ijs
stats      ~addons/stats/base/base.ijs
tar        ~system/util/tar.ijs
task       ~system/main/task.ijs
trace      ~addons/general/misc/trace.ijs
trig       ~addons/math/misc/trig.ijs
unicode    ~addons/convert/misc/unicode.ijs
validate   ~addons/general/misc/validate.ijs
viewmat    ~addons/graphics/viewmat/viewmat.ijs
wdooo      ~addons/tables/wdooo/wdooo.ijs
)
coclass 'jpm'

SIZE=: IF64{1e8 1e9
unpack=: 6!:11
counter=: 6!:12
stats=: 6!:13
start=: 3 : 0
'' start y
:
reset''
x=. 2 {. x, (#x) }. 1 0
if. (0 < #y) *: 2 = 3!:0 y do.
  y=. ({. y, SIZE) $ ' '
end.
([ [: (6!:12) 1:) x 6!:10 y
)
stop=: 6!:10 bind ($0)
reset=: 3 : 0
4!:55 <'PMTESTDATA'
PM=: $0
PMREAD=: 0
PMENCODE=: PMDECODE=: PMSTATS=: $0
PMNDX=: PMLINES=: PMSPACE=: PMTIME=: $0
PMNAMES=: PMLOCALES=: ''
)

reset''
boxopencols=: ]`(<"1)@.(L. = 0:)
bracket=: ('['"_ , ": , '] '"_) each
dab=: -. & ' '
firstones=: > (0: , }:)
groupndx=: 4 : '<: (#x) }. (+/\r<#x) /: r=. /: x,y'
info=: sminfo @ ('Performance Monitor'&;)
lastones=: > (}. , 0:)
maskdef=: [: * [: +/\ _1&= - 0: , }:@:(_2&=)
nolocale=: (i.&'_') {. ]
sort=: /:~ :/:
takeafter=: [: ] (#@[ + E. i. 1:) }. ]
taketo=: [: ] (E. i. 1:) {. ]
takewid=: ] ` ((WID&{.) , '...'"_) @. (WID"_ < #)
unwords=: ;: inverse
usage=: [: +/\ (- 0: , }:)
join=: ,.&.>/
colsum=: 4 : 0
nub=. ~. key=. x{"1 y
nub /:~ nub x}"_1 1 key +//. y
)
getmatchindex=: 4 : 0
bgn=. x
end=. y
level=. +/\ bgn - 0 , }: end
bpos=. I. bgn
blvl=. bpos { level
epos=. I. end
elvl=. epos { level
max=. 1 + #end
bndx=. max #. blvl ,. bpos
endx=. max #. elvl ,. epos
mtch=. bndx groupndx endx
bpos ; (/: mtch { /: bndx) { epos
)
getpm1=: 3 : 0
'nam loc'=. splitname y
nms=. _1 pick PM
nmx=. nms i. <nam
lcx=. nms i. <loc
msk=. ((0 pick PM) e. nmx) *. ((1 pick PM) e. lcx)
msk&# each }:PM
)
subpm=: 3 : 0
nms=. _1 pick PM
dat=. y&{ each }:PM
ind=. 0 pick dat
loc=. 1 pick dat
nub=. /:~ ~. ind,loc
nms=. nub { nms
loc=. nub i. loc
ind=. nub i. ind
dat=. (<ind) 0 } dat
dat=. (<loc) 1 } dat
dat , <nms
)
tominus=: 3 : 0
dat=. , y
($y) $ '-' (I. dat='_')} dat
)
ifmt=: 3 : 0
w=. 20
dat=. , y
neg=. 0 > dat
dat=. ": &.> <. | dat
msk=. (-w){.(|. w$1j1 1 1),3$1
exp=. #!.','~ ({.&msk)@-@#
dat=. exp &.> dat
dat=. (neg{'';'-'),&.>,dat
p=. - >./ # &> dat
p {. &> dat
)
ffmt=: 4 : 0
n=. ifmt 0 | y
if. x do.
  n ,. }."1 (j. x) ": ,. 1 || y
end.
)
SCALE=: 1 1

timeformat=: 6 & ffmt
TIMETEXT=: ' Time (seconds)'

spaceformat=: ifmt
SPACETEXT=: ' Space (bytes)'
getdetail=: 4 : 0

'type val'=. x
'name loc gvn'=. y

rep=. (val+1) linerep <name,'_',loc,'_'
if. 0 e. #rep do. ;~i.0 0 return. end.
ndx=. val + +/ PMENCODE * (PMNAMES i. <name),(PMLOCALES i. <loc),0
if. -. ndx e. PMNDX do. ;~i.0 0 return. end.

typename=. val pick 'monad';'dyad'
type getdetail1 typename;rep;ndx
)
getdetail1=: 4 : 0

'vid rep ind'=. y

if. -. ind e. PMNDX do.
  (i.0 4) ; '' return.
end.

dat=. x getdetail2 ind
lno=. > {."1 rep
if. lno -: _1 do.
  dat ; vid, ' ', 2 pick , rep return.
end.
replno=. _1 , > {."1 rep
repsno=. _1 ; 1 {"1 rep
reptxt=. 2 {"1 rep
len=. # &> repsno
stm=. {."1 dat
lns=. sort (len # replno) {~ (; repsno) i. stm
rep=. 3 {"1 dat
rep=. rep * stm e. {.&> repsno

val=. (1 2 {"1 dat),. rep
key=. ~. lns
val=. key ,. lns +/ /. val

val=. replno ,. }."1 (replno e. {."1 val) expand val
val=. val , 1e8, (1 2{+/val), (<0 3){ val

txt=. (bracket }.replno) ,each reptxt
txt=. vid ; txt , <'total ',vid

val ; <txt
)
getdetail2=: 4 : 0

ind=. y
msk=. PMNDX = ind

mbgn=. msk *. PMLINES = _1
mend=. msk *. PMLINES = _2
nbgn=. +/ mbgn
nend=. +/ mend

select. * nbgn - nend
case. 0 do.
  bnx=. mbgn i. 1
  enx=. >: mend i: 1
case. _1 do.
  bnx=. mbgn i. 1
  enx=. >: (+/\mend) i. nbgn
case. 1 do.
  bnx=. (+/\mbgn) i. nbgn - nend
  enx=. >: mend i: 1
end.

ndx=. PMNDX
lns=. PMLINES
val=. (x pick 'PMTIME';'PMSPACE')~
if. enx ~: #ndx do.
  ndx=. enx {. ndx
  lns=. enx {. lns
  val=. enx {. val
  mbgn=. enx {. mbgn
  mend=. enx {. mend
end.

if. bnx do.
  ndx=. bnx }. ndx
  lns=. bnx }. lns
  val=. bnx }. val
  mbgn=. bnx }. mbgn
  mend=. bnx }. mend
end.

if. 0 e. (#mbgn),#mend do. i.0 4 return. end.

msk=. 0 < mbgn usage mend

if. 0 e. msk do.
  ndx=. msk # ndx
  lns=. msk # lns
  val=. msk # val
  mbgn=. msk # mbgn
  mend=. msk # mend
end.

if. 0 e. (#mbgn),#mend do. i.0 4 return. end.

lvl=. mbgn usage mend
if. 1 +. 2 e. lvl do.
  rep=. getreps ind;ndx;lns;val
  her=. gethdetail ind;ndx;lns;val
  tot=. gettdetail ind;ndx;lns;val

  lns=. {."1 rep
  assert lns -: {."1 her
  assert lns -: {."1 tot
  res=. lns ,. ({:"1 tot) ,. ({:"1 her) ,. {:"1 rep
else.
  res=. getdetail3 ind;ndx;lns;val
end.
if. 1 ~: scale=. x { SCALE do.
  res=. res *"1 [ 1,scale,scale,1
end.

)
getdetail3=: 3 : 0
'ind ndx lns val'=. y
tmsk=. ndx = ind

tlns=. tmsk # lns
tval=. tmsk # val

msk=. tlns ~: _2
tall=. msk # (}.tval,0) - tval
tlns=. msk # tlns
f=. 0:`({: - {.) @. (0: < #)
toff=. msk # tmsk f;._1 val
ther=. tall - toff

0 colsum tlns,. tall,. ther ,. 1
)
gethdetail=: 3 : 0

'ind ndx lns val'=. y

all=. (}.val,0) - val
bgn=. lns = _1
end=. lns = _2
hit=. ind = ndx
msk=. 1 < bgn usage end
her =. 1 = +/\ bgn - end
bgn=. msk *. bgn
end=. msk *. end

'bdx edx'=. bgn getmatchindex end
clr=. <: bdx

hndx=. ind (I. her) } ndx
hlns=. her } lns ,: (#;.1 hit) # hit # lns
sel=. ind = clr { hndx
clr=. sel # clr
edx=. sel # edx
lns=. (clr{hlns) edx} lns

msk=. 1 edx} ndx = ind
msk=. msk *. lns ~: _2
0 colsum msk # lns ,. all
)
gettdetail=: 3 : 0

'ind ndx lns val'=. y

bgn=. lns = _1
end=. lns = _2
all=. (}.val,0) - val
j=. (ndx=ind) <;.1 lns
lns=. (# &> j) # {. &> j
lvl=. +/\ bgn - 0, }:end
msk=. 1 < lvl
bnb=. msk *. bgn
enb=. msk *. end
'bdx edx'=. bnb getmatchindex enb
clr=. <: bdx
lns=. (clr{lns) edx} lns

msk=. lns ~: _2
0 colsum msk # lns ,. all
)
getreps=: 3 : 0
'ind ndx lns val'=. y
msk=. (ndx=ind) *. lns ~: _2
0 colsum (msk # lns) ,. 1
)
maskit=: 4 : 0

bgn=. x
end=. y
sb=. +/\bgn
se=. +/\end
re=. +/\ inverse se + 0 <. <./\sb - se
mskbgn=. 0 < +/\ bgn - 0,}:re
sb=. +/\.bgn
se=. +/\.end
rb=. +/\. inverse sb + 0 <. <./\.se - sb
mskend=. 0 < +/\. end - }.rb,0

mskbgn *. mskend
)
f=. '_'"_ = {:
g=. ;&a:
h=. (i:&'_') ({.;}.@}.) ]
k=. [: h }:
splitname=: g`k @. f f.
fullname=: 3 : 0
'name loc'=. 2 {. boxopen y
if. '_' ~: {:name do. name,'_',loc,'_' else. name end.
)
getnames=: 4 : 0

'nms lcs j'=. |: PMDECODE #: x
xjp=. lcs ~: PMLOCALES i. <'jpm'

if. 0=#y do. xjp return. end.

y=. ;: y
sns=. splitname &> y
ndx=. y i. <,'~'
rin=. 1 getnames1 x;nms;lcs;<ndx {. sns
rot=. 0 getnames1 x;nms;lcs;<(ndx+1) }. sns

xjp *. rin > rot
)
getnames1=: 4 : 0

'ndx nms lcs sel'=. y

if. 0=#sel do. (#ndx)#x return. end.

nmx=. PMNAMES i. {."1 sel
lcx=. PMLOCALES i. {:"1 sel

msk=. (#ndx) # 0

len=. #. (0: < #) &> sel
if. 1 e. b=. len=1 do.
  msk=. msk +. lcs e. b#lcx
end.
if. 1 e. b=. len=2 do.
  msk=. msk +. nms e. b#nmx
end.
if. 1 e. b=. len=3 do.
  msk=. msk +. (lcs e. b#lcx) *. nms e. b#nmx
end.
)

getshortname=: 3 : 0
'name loc'=. 2 {. boxopen y
if. #loc=. loc -. ' ' do.
  ((name i.'_') {. name),'_',loc,'_'
else.
  name
end.
)
getnameloc=: 3 : 0

y=. dab y

if. 0 = #y do.
  '';'base';'' return.
end.

if. L. y do.
  select. #y
  case. 1 do.
    name=. dab > y
    loc=. 'base'
    given=. name
  case. 2 do.
    'name loc'=. dab each y
    if. #loc do.
      given=. name,'_',loc,'_'
    else.
      given=. name
      loc=. 'base'
    end.
  case. do.
    'invalid name' assert 0
  end.

else.

  given=. y
  'name loc'=. dab each splitname y
  if. 0=#loc do. loc=. 'base' end.

end.


name;loc;given
)
read=: 3 : 0
if. PMREAD do. 1 return. end.

if. 0 = +/ 6!:13'' do.
  smoutput 'There are no PM records'
  0 return.
end.
PMTIME=: 6!:11 ''
PMSTATS=: 6!:13 ''
6!:10 ''
a=. 'recorded ',(0{PMSTATS) pick 'entry and exit only';'all lines'
a=. a,LF,'used and max record count:',;' ' ,each 'c' (8!:0) 3 2 { PMSTATS
if. 4 { PMSTATS do.
  a=. a,LF,'the PM data area has overflowed and records have been lost'
end.
smoutput a,LF
'namx locx all'=. 0 1 6 { PMTIME
PMNAMES=: (~.namx){all
namx=. PMNAMES i. namx{all
locndx=. #namx
PMLOCALES=: (~.locx){all
locx=. locndx + PMLOCALES i. locx{all
PMTIME=: (namx;locx;<PMNAMES,PMLOCALES) 0 1 6} PMTIME
PMNDX=: > 3 {. PMTIME
PM=: PMTIME
ndx=. I. (1: e. '__'&E.) &> PMNAMES

if. #ndx do.
  nms=. (('__'&E. i. 1:) {. ]) each ndx { PMNAMES
  ndx merge nms
end.
ndx=. I. ('_'"_ = {:) &> PMNAMES

if. #ndx do.
  namx=. 0 { PMNDX
  locx=. 1 { PMNDX
  nms=. }: each ndx { PMNAMES
  ind=. i:&'_' &> nms
  loc=. (>: ind) }.each nms
  loc=. (<'base') (I. 0=# &> loc) } loc
  nms=. ind {.each nms
  lcs=. (namx i. ndx) { locx
  assert loc -: (lcs-locndx) { PMLOCALES

  ndx merge nms
end.
PMLINES=: 3 pick PMTIME
PMSPACE=: 0, +/\ }: 4 pick PMTIME
PMTIME=: 5 pick PMTIME
PMDECODE=: 0,(#PMLOCALES),2
PMENCODE=: (2 * #PMLOCALES),2 1
PMNDX=: +/ PMENCODE * PMNDX - 0,locndx,1

PMREAD=: 1
)
merge=: 4 : 0
ndx=. x
nms=. y
namx=. 0 { PMNDX
locx=. 1 { PMNDX
nmx=. PMNAMES i. nms
msk=. nmx < #PMNAMES

if. 1 e. msk do.
  plc=. (namx i. msk#nmx) { locx
  rlc=. (namx i. msk#ndx) { locx
  b=. plc=rlc
  if. 1 e. b do.
    inx=. b # I. msk
    nwx=. ((inx{ndx), namx) i. namx
    new=. nwx { (inx{nmx), namx
    PMNDX=: new 0 } PMNDX
  end.
end.

PMNAMES=: nms ndx} PMNAMES
)
EXHDR=: '1234' ;&,&> ':'
linerep=: 4 : 0
dat=. x (5!:7) y
if. #dat do.
  stm=. ;{."1 dat
  lns=. {: &> 1 {"1 dat
  txt=. {:"1 dat
  lno=. <&> ~. lns
  sno=. lns </. stm
  ltx=. lns <@unwords/. txt
  lno ,. sno ,. ltx
else.
  lrep=. 5!:5 :: 0: y
  if. lrep -: 0 do. '' return. end.
  if. (x=1) *. '4 : 0' -: 5 {. lrep do. '' return. end.
  _1;_1;lrep
end.
)
showdetail=: 3 : 0
0 showdetail y
:
if. 0=#y do. return. end.
if. 0=read '' do. i.0 0 return. end.
if. 0={.PMSTATS do.
  'No detail PM records were recorded' return.
end.
y=. getnameloc y
}. ; LF ,&.> showdetail1&y each x
)
showdetail1=: 4 : 0
tit=. 'all';'here';'rep';{:y
top=. x pick TIMETEXT;SPACETEXT
'name loc given'=. y
res=. x showdetail2 y
if. 0 = L. res do. return. end.

'mdat mtxt ddat dtxt tdat ttxt'=. res

if. (#mdat) *. #ddat do.
  txt=. mtxt ,each ' ' ,each dtxt ,each ' ' ,each ttxt
else.
  txt=. mtxt ,each dtxt
end.

top, , LF ,. ": tit ,: txt
)
showdetail2=: 4 : 0
'name loc given'=. y

'mdat mrep'=. (x,0) getdetail y
'ddat drep'=. (x,1) getdetail y

if. 0 = (#mdat) + (#ddat) do.
  'not found: ',getshortname given return.
end.

if. 0 e. (#mdat), (#ddat) do.
  tdat=. 0, (1 2 { -: +/ mdat,ddat), {: +/ (1 {. mdat) , 1 {. ddat
else.
  tdat=. 0 ; 2 }. x gettotal fullname y
end.

trep=. <'total definition'
mtxt=. x showdetailfmt mdat;<mrep
dtxt=. x showdetailfmt ddat;<drep
ttxt=. x showdetailfmt tdat;<trep

mdat;mtxt;ddat;dtxt;tdat;<ttxt
)
showdetailfmt=: 4 : 0
'dat lns'=. y
if. 0 e. #dat do. 4 # <i.0 0 return. end.
if. x do. f=. spaceformat else. f=. timeformat end.
'all here rep'=. }. |: dat
lns=. > (#rep) {. boxxopen lns
(f all);(f here);(":,.rep); lns
)
detailoption=: 3 : '2 {. y , (#y) }. 0 0'
totaloption=: 3 : '3 {. y , (#y) }. 0 0 90'
showtotal=: 3 : 0
0 showtotal y
:
if. 0=read '' do. i. 0 0 return. end.
opt=. totaloption x
'x s p'=. opt
if. -. x e. 0 1 do.
  r=. 'first number in left argument should be either 0 (time)'
  r,' or 1 (space)' return.
end.
if. -. s e. 0 1 do.
  r=. 'second number in left argument should be either 0 (distinguish'
  r,' names by locale) or 1 (total names over locales)' return.
end.
if. s do.
  tit=. 'name (all locales)';'all';'here';'here%';'cum%';'rep'
else.
  tit=. 'name';'locale';'all';'here';'here%';'cum%';'rep'
end.
dat=. x showtotalfmt opt showtotal1 y
if. s do. dat=. (<<<1) { dat end.
dat=. > each dat
txt=. tit ,: dat
t=. x pick TIMETEXT;SPACETEXT
t, ,LF ,. ": txt
)
showtotal1=: 4 : 0
't s p'=. x

'nam loc all her rep'=. x gettotal y
if. 0 = #nam do. a: return. end.

j=. her % +/her
pct=. 0.1 * <. 0.5 + 1000 * j
cpt=. <. 0.5 + 100 * +/\ j
if. t do. f=. spaceformat else. f=. timeformat end.

nam=. nam, <'[total]'
loc=. loc, <''
all=. all
her=. her, +/her
pct=. pct,100
cpt=. cpt,100
rep=. rep

nam; loc; all; her; pct; cpt; rep
)
showtotalfmt=: 4 : 0
'nam loc all her pct cpt rep'=. y

if. x do. f=. spaceformat else. f=. timeformat end.

all=. f all
her=. f her
pct=. 1 ffmt pct
cpt=. ":,.cpt
rep=. ":,.rep

nam; loc; all; her; pct; cpt; rep
)
gettotal=: 4 : 0

if. 0=read'' do. a: return. end.

't s p'=. x
ndx=. PMNDX
lns=. PMLINES
if. t do. dat=. PMSPACE else. dat=. PMTIME end.
if. 0 e. lns do.
  msk=. lns < 0
  dat=. msk # dat
  ndx=. msk # ndx
  lns=. msk # lns
end.
msk=. (lns = _1) maskit lns = _2
if. 0 e. msk do.
  dat=. msk # dat
  ndx=. msk # ndx
  lns=. msk # lns
end.

if. 0 = #ndx do. a: return. end.
ndx=. ndx - 2 | ndx
nub=. ~. ndx

rms=. nub getnames y
req=. rms#nub
'all her rep'=. t gettotals ndx;lns;dat;nub;rms

'nx lx j'=. |: PMDECODE #: req
if. s do.
  'all her rep'=. |: nx +//. all,.her,.rep
  nx=. ~. nx
end.
ndx=. \: her ,. all
her=. ndx{her
all=. ndx{all
if. p < 100 do.
  len=. 1 + 1 i.~ (+/\her) >: (+/her) * p % 100
  curtailed=. len < #her
  if. curtailed do.
    curall=. +/ len }. all
    curher=. +/ len }. her
    her=. len {. her
    all=. len {. all
    ndx=. len {. ndx
  end.
else.
  curtailed=. 0
end.

rep=. ndx{rep
nam=. (ndx{nx) { PMNAMES

if. s do.
  loc=. (#nx) # a:
else.
  loc=. (ndx{lx) { PMLOCALES
end.

if. curtailed do.
  her=. her, curher
  loc=. loc, a:
  nam=. nam, <'[rest]'
end.

if. 1 ~: scale=. t { SCALE do.
  all=. scale * all
  her=. scale * her
end.
nam ; loc ; all ; her ; rep
)
gettotals=: 4 : 0

'ndx lns dat nub req'=. y

bgn=. lns = _1
end=. lns = _2
f=. 1: = [: +/\ (- (0: , 1: - }:))
msk=. f each ndx < /. bgn

dat =. dat - <./ dat
ada=. ndx < /. dat * _1 ^ bgn

all=. msk +/@# &> ada
rep=. <. -: # &> ada
sbg=. }:bgn
snd=. sbg < }.end
dff=. (}. - }:) dat
str=. (bgn # ndx) ,. sbg # dff
edr=. ((0,snd) # ndx) ,. snd #dff
spc=. i.0 2
level=. +/\ bgn - end
ups=. (1 1 E. bgn) > 1 1 0 0 E. bgn
if. 1 e. ups do.

  ulvl=. ups # level
  upos=. I. ups
  spd=. (0 1 E. bgn) *. level > 0
  slvl=. spd # level
  spos=. I. spd

  if. #spos do.

    lmax=. 1 + ({:upos) >. {:spos

    uelp=. lmax #. ulvl ,. upos
    ind=. /: uelp
    uelp=. ind { uelp
    uvrb=. ind { ups # ndx

    selp=. lmax #. slvl ,. spos
    svrb=. (uelp groupndx selp) { uvrb
    sdff=. spos { dff
    spc=. svrb ,. sdff
  end.

end.
spcr=. i.0 2
if. +./mrec=. (_2=PMLINES)*.PMNDX=1|.PMNDX do.
  rdat=. >(>{.x){PMTIME;PMSPACE
  mdif=. mrec # rdat-1|.rdat
  spcr=. (mrec # PMNDX) ,.mdif
  spcr=. ((0{"1 spcr)e.ndx) # spcr
  spcr=. i.0 2
end.
sum=. str , edr , spc , spcr
her=. (nub i. {."1 sum) +/ /. {:"1 sum
|: req # all ,. her ,. rep
)
getused=: 3 : 0
if. 0=read '' do. i. 0 0 return. end.
'nms lcs j'=. |: PMDECODE #: ~. PMNDX
xjp=. lcs ~: PMLOCALES i. <'jpm'
sort xjp # (nms { PMNAMES) ,. lcs { PMLOCALES
)
getnotused=: 3 : 0
loc=. 18!:1 [ 0 1
r=. i.0 2
for_lc. loc do.
  r=. r, (nl__lc 1 2 3) ,. lc
end.
sort r -. getused''
)
18!:4 <'z' NB. start in z

NB. =========================================================
NB. android specific
startupandroid=: 3 : 0
dver_z_=: 3 : '1!:55 ::0: <jpath ''~bin/../../shared_prefs/jpreferences.xml'' [ 1!:55 ::0: <jpath ''~install/assets_version.txt'''
if. 0~:4!:0<'APILEVEL_ja_' do.
  APILEVEL_ja_=: 0&". LF-.~ 2!:0 'getprop ro.build.version.sdk'
end.
if. 0~:4!:0<'UserNumber_ja_' do.
NB. multiple user space since APILEVEL 17
NB. assume user 0, but may need to override in startup.ijs per user
  UserNumber_ja_=: 0-APILEVEL_ja_<17
end.
EMPTY
)

NB. =========================================================
3 : 0''
ndx=. ({."1 SystemFolders_j_) i. <'system'
sys=. '/' ,~ > 1 { ndx { SystemFolders_j_

NB. ---------------------------------------------------------
NB. following assumes Displayload is set in immex, then
NB. the profile loaded. No need for another ijx window
if. 0=4!:0<'Displayload_j_' do.
  Displayload_j_=: 1
  boot=. 3 : ('0!:0 <y[y 1!:2[2') @ jpathsep @ (sys&,)
else.
  Displayload_j_=: 0
  boot=. 3 : '0!:0 <y' @ jpathsep @ (sys&,)
end.

NB. ---------------------------------------------------------
boot 'main/stdlib.ijs'
load sys,'util/scripts.ijs'
load 'regex'
load 'task'
load sys,'util/configure.ijs'
load^:IFQT '~addons/ide/qt/qt.ijs'
load^:IFJA '~addons/ide/ja/ja.ijs'
load^:((;:'jwin32 jjava')e.~<11!:0 ::0:'qwd') 'ide/jnet'
load^:((;:'jwin32 jjava')e.~<11!:0 ::0:'qwd') 'ide/jnet/util/jadefull'

18!:4 <'z' NB. restore locale changes during load

NB. ---------------------------------------------------------
NB. JVERSION_z_ (used in about box)
v=. 9!:14''
if. 6>+/v='/' do.
  r=. 'Engine: ',v
  f=. 'www.jsoftware.com'
else.
  'a b c d e f g'=. 7 {. <;._1 '/',v
  r=. 'Engine: ', a,'/',b,'/',c
  r=. r,LF,(toupper {.d),(}.d),': ',e,'/',g
end.
r=. r,LF,'Library: ',JLIB
if. IFQT do.
  r=. r,LF,'Qt IDE: ',wd'version'
elseif. IFJA do.
  r=. r,LF,'J Android: ',wd'version'
end.
if. UNAME-:'Android' do.
  arch=. LF-.~ 2!:0'getprop ro.product.cpu.abi'
  if. IF64 < arch-:'arm64-v8a' do.
    arch=. 'armeabi-v7a'
  elseif. IF64 < arch-:'x86_64' do.
    arch=. 'x86'
  end.
  r=. r,LF,'Platform: ',UNAME,' ',(IF64 pick '32';'64'),' (', ')',~ arch
else.
  r=. r,LF,'Platform: ',UNAME,' ',IF64 pick '32';'64'
end.
r=. r,LF,'Installer: ',LF -.~ 1!:1 :: ('unknown'"_) <jpath'~bin/installer.txt'
r=. r,LF,'InstallPath: ',jpath '~install'
r=. r,LF,'Contact: ',f
JVERSION=: toJ r

NB. ---------------------------------------------------------
18!:4 <'base'

if. 'Android'-:UNAME do.
  startupandroid''
  f=. jpath '~install/bin/startup_android.ijs'
  if. 1!:4 :: 0: <f do.
    try.
      load f
    catch.
      wdinfo ::0: 13!:12''
      2!:55[0
    end.
    EMPTY return.
  end.
end.

f=. jpath '~config/startup.ijs'
if. 1!:4 :: 0: <f do.
  try.
    load f
  catch.
    smoutput 'An error occurred when loading startup script: ',f
  end.
end.

NB. ---------------------------------------------------------
NB. set break
if. -. IFIOS +. 'Android'-:UNAME do.
  setbreak 'default'
end.

NB. ---------------------------------------------------------
ndx=. <./ ARGV i. '-jp';'-jprofile'
jsx=. ARGV i. <'-js'
if. ndx < #ARGV do. p=. 2 + ndx else. p=. 1 end.
load__ >{. p }. jsx {. ARGV

NB. ---------------------------------------------------------
if. jsx<#ARGV do.
  v=. (>:jsx)}.ARGV
  if. #;v do.
    ARGVVERB_z_=: 3 : v
    ARGVVERB__''
  end.
end.

EMPTY
)

NB. =========================================================
18!:4 <'base' NB. end in base
coclass <'jp'
coinsert 'j'
defaultvalue=: 4 : 'if. _1 = 4!:0 <x do. (x)=: y end.'
index=: #@[ (| - =) i.
intersect=: e. # [
matchhead=: [ -: #@[ {. ]
towords=: ;:^:(_1 * 1 = L.)

termLF=: , (0 < #) # LF -. {:
decomment=: 3 : 0
dat=. <;._2 termLF toJ y
if. 2 > #dat do. y return. end.

com=. (('NB.'-:3{.])>'NB.!'-:4{.])&> dat
ncm=. com < (1|.0,}.com) +. (0,}._1|.com)
msk=. com +: ncm *. dat=a:
dat=. msk # dat

d=. #~ ([: +./\. -.@e.&(' ',TAB))
f=. *./\ @ (('NB.'&E.>'NB.!'&E.) <: ~:/\@(e.&''''))
g=. f d@#^:(0 e. [) ]
; (g each dat) ,each LF
)
ffoldername=: 3 : 0
p=. tofoldername_j_ y
if. '~' ~: {.p do. '';p return. end.
x=. ('/' e. p) + p i. '/'
(x{.p);x}.p
)
fixNB=: 3 : 0
x=. I. 'nb.' E. y
'NB' (<"0 (0 1) +/~ x) } y
)
getprojfile=: 3 : 0
if. 0=#y do. '' return. end.
p=. remsep projname2path y
if. -. ProjExt -: (-#ProjExt) {. p do.
  p=. remsep p
  'f n'=. fpathname p
  p,'/',n,ProjExt
end.
)
getprojname=: 3 : 0
ProjectName,(0=#ProjectName)#ProjectPath
)
projname2path=: 3 : 0
y=. jpathsep y
if. '~'={. y do.
  jpath y
elseif. ('./'-:y) +. '.' -:&, y do.
  1!:43''
elseif. ('./'e.~{.y) +: </ y i. ':/' do.
  jpath '~',y
elseif. do.
  y
end.
)
projfname=: 3 : 0
if. 0=#y do. '' return. end.
s=. jpathsep y
if. -. '/' e. s do.
  ProjectPath,'/',s
else.
  jpath s
end.
)
projsname=: 3 : 0
if. 0=#ProjectPath do. y return. end.
if. ProjectPath matchhead y do.
  (1+#ProjectPath) }. y
else.
  toprojectfolder y
end.
)
projssource=: 3 : 0
projread''
Source;<projsname each Source
)
fixdot=: 4 : 0
if. IFUNIX do.
  if. '/'~:{.y do. x,'/',y else. y end.
else.
  if. '.'={.y do. x,'/',y else. y end.
end.
)
PPScript=: jpath '~system/util/pp.ijs'
Project=: ProjectPath=: ProjectName=: ''
direrase=: 3 : 0
if. 0=#y do. return. end.
if. 0=#1!:0 y do. return. end.
if. 0=#d=. dirtreex y do. return. end.
d=. d \: # &> d
m=. ferase d
if. _1 e. m do.
  'Unable to delete: ',towords (m=_1)#d
end.
)
dirsubdirs=: 3 : 0
r=. 1!:0 (termsep jpathsep y),'*'
if. 0=#r do. '' return. end.
{."1 r #~ '-d' -:("1) 1 4{"1 > 4{"1 r
)
dirtreex=: 3 : 0
y=. jpathsep y
p=. (+./\. y = '/') # y
d=. 1!:0 y,('/' = {:y) # '*'
if. 0 = #d do. '' return. end.
a=. > 4 {"1 d
m=. 'd' = 4 {"1 a
f=. (<p) ,each {."1 d
if. 1 e. m do.
  f, ; dirtreex each (m#f) ,each <'/','*'
end.
)
fwritenew=: 4 : 0
dat=. ,x
if. dat -: fread y do. 0 return. end.
dat fwrite y
)
isdir=: 3 : 0
d=. 1!:0 y
if. 1 ~: #d do. 0 return. end.
'd' = 4 { 4 pick ,d
)
projread=: 3 : 0
projclear''
if. 0=#Project do. return. end.
projread1 Project
)
projread1_jp_=: 3 : 0
projclear''
Build=: 'build.ijs'
Run=: 'run.ijs'
Source=: ''
dat=. 'b' freads y
if. dat-:_1 do.
  Build=: projfname Build
  Run=: projfname Run return.
end.
dat=. dat #~ (<'NB.') ~: 3 {.each dat
if. 1 e. '=:' E. ;dat do.
  0!:100 ; dat ,each LF
  Source=: cutLF Source
else.
  Source=: dat
end.
Build=: projfname Build
Run=: projfname Run
Source=: projfname each extsrc each deb each Source -. a:
EMPTY
)
ProjHdr=: fixNB_jp_ 0 : 0
nb.
nb. defines list of source files.
nb. path defaults to project directory.
)
projwritenew=: 3 : 0
r=. 'NB. project: ',(getprojname''),LF,ProjHdr,LF
r fwrites y
)
toprojectfolder=: 3 : 0
if. 0=#y do. '' return. end.
r=. toprojectfolder1 y
if. L. y do. r else. >r end.
)
toprojectfolder1=: 3 : 0
res=. filecase@jpathsep each boxxopen y
rex=. I. '~' ~: {.&> res
if. 0=#rex do. res return. end.
if. #Folder do.
  pid=. termsep jpath '~',Folder
  for_i. rex do.
    nax=. termsep nam=. i pick res
    if. pid matchhead nax do.
      res=. (<'~',Folder,(<:#pid) }. nam) i} res
      rex=. rex -. i
    end.
  end.
end.
if. 0=#rex do. res return. end.
pus=. UserFolders,SystemFolders
pds=. {."1 pus
pps=. termsep each {:"1 pus
ndx=. \: # &> pps
pds=. ndx{pds
pps=. ndx{pps
len=. # &> pps
for_i. rex do.
  nam=. i pick res
  msk=. pps = len {. each <nam,'/'
  if. 1 e. msk do.
    ndx=. ((i. >./) msk # len) { I. msk
    nam=. ('~', > ndx { pds),(<: ndx { len) }. nam
    res=. (<nam) i } res
  end.
end.
res
)
touserfolder=: 3 : 0
p=. toprojectfolder y
if. '~' ~: {.p do. '' return. end.
f=. }. (p i.'/'){.p
p #~ (<f) e. {."1 UserFolders
)
gitcheck=: 3 : 0
0 < # 0 pick gitreadstatus''
)
gitgui=: 3 : 0
if. 0 = #ProjectPath do. 0 return. end.
0 0$gitshell 'git gui &'
)
gitreadstatus=: 3 : 0
if. IFUNIX *: 0 < #ProjectName do. '';'' return. end.
gitshell 'git status'
)
gitshell=: 3 : 0
p=. dquote remsep ProjectPath
if. IFWIN do.
  shell_jtask_ 'cd "',p,'"',LF,y
else.
  unixshell 'cd "',p,'"',LF,y
end.
)
gitstatus=: 3 : 0
if. 3=nc <'textview_z_' do.
  textview 0 pick gitreadstatus ''
end.
EMPTY
)
projclear=: 3 : 0
Build=: Run=: Source=: ''
)
projclose=: 3 : 0
projreset''
)
projinit=: 3 : 0
if. 0-:FolderTree do. setfolder_j_ Folder end.
projopen y,(0=#y) # >{.RecentProjects
)
projopen=: 3 : 0
projreset''
if. 0=#y do. return. end.
Project=: getprojfile y
ProjectPath=: }: 0 pick fpathname Project
projpathfolder ProjectPath
if. #Folder do.
  p=. (#jpath '~',Folder,'/') }. ProjectPath
  ProjectName=: Folder,'/',p
else.
  ProjectName=: ''
end.
projread''
)
projpathfolder=: 3 : 0
p=. touserfolder y
f=. (p i. '/') {. p
if. ('~'={.f) *: (<}.f) e. {."1 UserFolders do.
  setfolder_j_ ''
else.
  setfolder_j_ }.f
end.
)
projreset=: 3 : 0
projclear''
Project=: ProjectPath=: ProjectName=: ''
)
projrun=: 3 : 0
if. #y do.
  p=. 0 pick fpathname getprojfile y
else.
  p=. ProjectPath,'/'
end.
load ::] p,Run
)
pp_today=: 2 }. [: ": [: <. 100 #. 3 {. 6!:0
pic_files=: 3 : 0
{."1 [1!:0 (snappath y),'/p','/*',~pp_today''
)
pic_list=: 3 : 0
t=. y,(0=#y)#pp_today''
p=. (snappath each fpath each FolderTree) ,each <'/p*'
d=. 1!:0 each p
m=. I. 0 < # &> d
if. 0 = #m do. EMPTY return. end.
p=. ;t&pic_list1 each m
s=. >}."1 p
p=. ({."1 p),<'total'
(>p),.' ',.":s,+/s
)
pic_list1=: 4 : 0
fp=. (snappath fpath y pick FolderTree),'/p',x,'/'
d=. 1!:0 fp,'*'
if. 0=#d do. i. 0 3 return. end.
f=. {."1 d
c=. (EAV+/ .=fread) each (<fp) ,each f
s=. 2{"1 d
m=. (<'/',~y pick FolderIds),each f
m,.c,.s
)
pic_read=: 3 : 0
'f p'=. fpathname y
r=. fread (snappath f),'/p',(pp_today''),'/',p
if. r -: _1 do. '' else. <;._2 r end.
)
pic_readx=: 3 : 0
'f n'=. y
_6 }. n pick pic_read f
)
snappath=: 3 : 0
jpath '~snap/.snp/',getsha1_jqtide_ projname2path remsep y
)
ss_cleanup=: 3 : 0
if. 1~:#y do.
  r=. ''
  r=. r,'0 = list invalid snapshot directories',LF
  r=. r,'1 = list non-existent projects with snapshots',LF
  r=. r,'100 = remove invalid snapshot directories',LF
  r=. r,'101 = remove snapshots for non-existent projects'
  smoutput r return.
end.
'd r n'=. ss_dirs''
select. y
case. 0 do.
  d #~ n=2
case. 1 do.
  r #~ n=1
case. 100 do.
  ; {. &> rmdir_j_ each d #~ n=2
case. 101 do.
  ; {. &> rmdir_j_ each d #~ n=1
end.
)
ss_dir=: 3 : 0
p=. jpath '~snap/.snp/'
d=. 1!:0 p,'*'
d=. ('d' = 4 {"1 > 4 {"1 d) # {."1 d
d=. (<p) ,each d
d;<(1!:1 :: (''"_))@< each d ,each <'/dir.txt'
)
ss_dir1=: 3 : 0
if. 0=#y do. '' return. end.
dir (snappath y),'/*'
)
ss_dirs=: 3 : 0
'd r'=. ss_dir''
s=. /:r
r=. s{r
d=. s{d
m=. 0 < #&> r
n=. 2 * -. m
r=. m#r
p=. (*./\.@:~:&'/' # ]) each r
p=. r ,each '/' ,each p ,each <ProjExt
n=. (-. fexist &> p) (I.m) } n
r=. (tofoldername_j_ each r) (I.m) } (#d) # <''
d;r;n
)
ss_files=: 3 : 0
t=. 1!:0 y,'*'
if. 0=#t do. return. end.
att=. > 4{"1 t
msk=. ('h' = 1{"1 att) +: 'd' = 4{"1 att
t=. /:~ msk # t
if. _1 = 4!:0 <'ss_exclude' do.
  exs=. '.' ,each SnapshotX_j_
  ss_exclude_jp_=: [: +./ exs & ((1 e. E.) &>/)
end.
t #~ -. ss_exclude {."1 t
)
ss_find=: 3 : 0
y=. y,(0=#y)#ProjectPath
'd r'=. ss_dir''
ndx=. r i. <jpath remsep_j_ y
ndx pick d,<'not found: ',y
)
ss_info=: 3 : 0
sminfo 'Snapshot';y
)
ss_list=: 3 : 0
if. 0=#y do. '' return. end.
p=. snappath y
d=. 1!:0 p,'/s*'
if. #d do.
  d=. d #~ 'd' = 4 {"1 > 4 {"1 d
  \:~ {."1 d
else.
  ''
end.
)
ss_match=: 4 : 0
x=. termsep x
y=. termsep y
a=. ss_files x
b=. ss_files y
ra=. #a
rb=. #b
if. 0 e. ra,rb do.
  ra = rb return.
end.
fa=. {."1 a
fb=. {."1 b
if. -. fa -: fb do. 0 return. end.
if. -. (2 {"1 a) -: (2 {"1 b) do. 0 return. end.
fx=. x&, each fa
fy=. y&, each fa
(<@(1!:1) fy) -: <@(1!:1) fx
)
ss_removesnaps=: 3 : 0
direrase each snappath each fpath each FolderTree
)
ss_state=: 3 : 0
'd r n'=. ss_dirs''
r=. 'valid existent, valid nonexistent, invalid:',LF
r=. r,":+/ n =/ 0 1 2
)
readprojectsource=: 3 : 0
pn=. ('~'={.y) }. y
f=. getprojfile y
cocurrent 'jptemp'
coinsert 'jp'
ProjectPath=: fpath f
ProjectName=: ''
projread1 f
r=. Source
cocurrent 'jp'
coerase <'jptemp'
r
)
readsource1=: 4 : 0
s=. (projname2path y)&fixdot&.> readprojectsource y
dat=. freads each s
if. (<_1) e. dat do.
  fls=. ; ' ' ,each toprojectfolder each s #~ (<_1) = dat
  sminfo 'Project Manager';'Unable to read:',fls
  _1 return.
end.
dat=. ;dat
if. x do. decomment_jp_ dat end.
)
writesource1=: 4 : 0
'p t'=. y
dat=. x readsource1 p
if. _1 -: dat do. return. end.
t=. jpath t
mkdir fpath t
dat fwritenew t
EMPTY
)

readsource=: 0&readsource1
readsourcex=: 1&readsource1
writesource=: 0&writesource1
writesourcex=: 1&writesource1
coclass <'jp'

STANDALONE=: 0 : 0
load_z_=: require_z_=: script_z_=: ]
)

getstdenv=: 3 : 0
r=. freads jpath'~system/main/stdlib.ijs'
r=. r,freads jpath'~system/main/task.ijs'
r=. r,STANDALONE
hd=. 1 dir'~system/defs/hostdefs*.ijs'
for_h. hd do.
  hn=. '.ijs' taketo >{: fpathname >h
  r=. r,hn,'_j_=: 0 : 0',LF
  r=. r,freads h
  r=. r,')',LF
end.
qt=. freads jpath'~addons/ide/qt/qt.ijs'
r=. r, 'coclass ''jbaselibtag''' taketo qt
)

getlibs=: 3 : 0
libs=. jpath each getscripts_j_ cutnames y
r=. ''
if. 0=#libs do. return. end.
for_i. libs do.
  r=. r,freads i
end.
r
)

NB. configure

cocurrent 'jcfg'
coinsert 'j'

jdefs=: 0 : 0
Browser
Browser_nox
DirTreeX
Format
MemoryLimit
EPSReader
ImageViewer
ImageViewer_nox
PDFReader
PDFReader_nox
ReadCatalog
RecentMax
XDiff
Editor
Editor_nox
TermEmu
TermEmu_nox
RGBSEQ
)

cbname=: {.~ i.&' ' <. i.&'='
foldernub=: #~ [: ~:&.|. {."1

NB. =========================================================
cpath=: 3 : 0
if. -. '~' e. {.&> {:"1 y do. y return. end.
({."1 y),.jpath each {:"1 y
)

NB. =========================================================
cbread=: 3 : 0
dat=. 'b' freads y
if. dat -: _1 do. return. end.
dat=. dat #~ (<'NB.') ~: 3 {. each dat
dat=. dat #~ '#' ~: {.&> dat
dat=. deb each dat
dat #~ 0 < #&> dat
)

NB. =========================================================
cbread1=: 3 : 0
r=. cbread jpath '~config/',y
if. r -: _1 do. cbread jpath '~system/config/',y end.
)

NB. =========================================================
cbread2=: 3 : 0
r0=. cbread jpath '~system/config/',y
if. r0 -: _1 do. r0=. <'' end.   NB. avoid domain error
r1=. cbread jpath '~config/',y
if. (0=#r1) +. r1 -: _1 do. r0 return. end.
n0=. cbname each r0
n1=. cbname each r1
if. 0 = #n0 -. n1 do. r1 return. end.
new=. (-.n0 e. n1) # r0
r=. LF2,'NB. ',(50#'='),LF,'NB. new configs',LF,;new,each LF
r fappends jpath '~config/',y
r1,new
)

NB. =========================================================
configbase=: 3 : 0
0!:100 ;LF ,each cbread2 'base.cfg'
9!:3 DisplayForm
9!:7 BoxForm { Boxes
9!:17 BoxPos
if. MemoryLimit<1000 do.
  9!:21[2^MemoryLimit
elseif. MemoryLimit<_ do.
  9!:21 MemoryLimit
end.
9!:37 Output
0!:100 ;(}:,'_j_=:',]) each <;.2 jdefs
nox=. (UNAME-:'Linux') *. (0;'') e.~ <2!:5 'DISPLAY'
TermEmu_j_=: nox{::TermEmu_j_;TermEmu_nox_j_
if. (UNAME-:'Linux') *. 0 = #TermEmu_j_ do.
  TermEmu_j_=: TermEmu_nox_j_=: dflttermemu_j_''
end.
PDFReader_j_=: nox{::PDFReader_j_;PDFReader_nox_j_
if. 0 = #PDFReader_j_ do.
  PDFReader_j_=: PDFReader_nox_j_=: dfltpdfreader_j_''
end.
EMPTY
)

NB. =========================================================
configcase=: 3 : 0
CasePaths_j_=: ''
dat=. cbread1 'case.cfg'
if. (0=#dat) +. dat -: _1 do. return. end.
dat=. jpathsep each dat
dat=. (-'/'={:&> dat) }.each dat
CasePaths_j_=: dat -. a:
)

NB. =========================================================
configfolders=: 3 : 0
UserFolders_j_=: i.0 2
BINPATH_z_=: filecase BINPATH_z_
sf=. filecase each {:"1 SystemFolders_j_
SystemFolders_j_=: ({."1 SystemFolders_j_),.sf
dat=. cbread1 'folders.cfg'
if. (0=#dat) +. dat -: _1 do. return. end.
ndx=. dat i.&> ' '
ids=. ndx {.each dat
pts=. jpath each filecase each (ndx+1) }. each dat
uf=. ids,.pts
msk=. (=tolower) {.&>ids
SystemFolders_j_=: foldernub SystemFolders,msk#uf
UserFolders_j_=: foldernub (-.msk)#uf
SystemFolders_j_=: cpath SystemFolders_j_
UserFolders_j_=: cpath UserFolders_j_
EMPTY
)

NB. =========================================================
configrecent=: 3 : 0
Folder=: RecentDirmatch=: RecentFif=: RecentFiles=: RecentProjects=: ''
0!:0 ::] < jpath '~config/recent.dat'
Folder_j_=: Folder #~ (<Folder) e. {."1 UserFolders
RecentDirmatch_j_=: ~. fexists cutLF RecentDirmatch
RecentFif_j_=: ~. cutLF RecentFif
RecentFiles_j_=: ~. fexists cutLF RecentFiles
RecentProjects_j_=: ~. fexists cutLF RecentProjects
RecentProjects_j_=: RecentProjects_j_ #~ '~' = {.&> tofoldername each RecentProjects_j_
EMPTY
)

NB. =========================================================
configrun=: 3 : 0
configbase''
configcase''
configfolders''
configrecent''
coerase <'jcfg'
18!:4<'z'
)

configrun$0
18!:4 <'z'
3 : 0 ''

JLIB=: '9.03.03'

notdef=. 0: ~: 4!:0 @ <
hostpathsep=: ('/\'{~6=9!:12'')&(I. @ (e.&'/\')@] })
jpathsep=: '/'&(('\' I.@:= ])})
winpathsep=: '\'&(('/' I.@:= ])})
PATHJSEP_j_=: '/'
IFDEF=: 3 : '0=4!:0<''DEF'',y,''_z_'''
IF64=: 16={:$3!:3[2
IFBE=: 'a'~:{.2 (3!:4) a.i.'a'
'IFUNIX IFWIN IFWINCE'=: 5 6 7 = 9!:12''
IFJHS=: 0

NB. return. 0
IFWINE=: (0 ~: 'ntdll wine_get_version >+ x'&(15!:0)) ::(0:@(15!:10))`0:@.IFUNIX ''
if. notdef 'IFIOS' do.
  IFIOS=: 0
end.
if. notdef 'IFJA' do.
  IFJA=: 0
end.
if. notdef 'IFJNET' do.
  IFJNET=: 0
end.
if. notdef 'BINPATH' do.
  BINPATH=: '/j/bin'
end.
if. notdef 'UNAME' do.
  if. IFUNIX do.
    if. -.IFIOS do.
      UNAME=: (2!:0 'uname')-.10{a.
    else.
      UNAME=: 'Darwin'
    end.
  elseif. do.
    UNAME=: 'Win'
  end.
end.
if. notdef 'LIBFILE' do.
  LIBFILE=: BINPATH,'/',IFUNIX{::'j.dll';(UNAME-:'Darwin'){::'libj.so';'libj.dylib'
end.
if. notdef 'FHS' do.
  FHS=: IFUNIX>'/'e.LIBFILE
end.
if. notdef 'IFRASPI' do.
  if. UNAME -: 'Linux' do.
    cpu=. 2!:0 ::(''"_) 'cat /proc/cpuinfo'
    IFRASPI=: (1 e. 'BCM2708' E. cpu) +. (1 e. 'BCM2709' E. cpu) +. (1 e. 'BCM2710' E. cpu) +. 1 e. 'BCM2711' E. cpu
  else.
    IFRASPI=: 0
  end.
end.
if. IF64 +. IFIOS do.
  IFWOW64=: 0
else.
  if. IFUNIX do.
    IFWOW64=: '64'-:_2{.(2!:0 (UNAME-:'Android'){::'uname -m';'getprop ro.product.cpu.abi')-.10{a.
  else.
    IFWOW64=: 'AMD64'-:2!:5'PROCESSOR_ARCHITEW6432'
  end.
end.
if. notdef 'IFQT' do.
  IFQT=: 0
  libjqt=: IFUNIX{::'jqt.dll';'libjqt',(UNAME-:'Darwin'){::'.so';'.dylib'
  if. 0 ~: 1!:4 :: 0: < ((BINPATH,'/')&,) libjqt do.
    libjqt=: ((BINPATH,'/')&,) libjqt
  end.
end.
if. UNAME-:'Android' do.
  AndroidLibPath=: '/lib',~ ({.~i:&'/')^:2 BINPATH
end.

assert. IFQT *: IFJA
)

jcwdpath=: jpathsep@(1!:43@(0&$),])@((*@# # '/'"_),])
jsystemdefs=: 3 : 0
xuname=. UNAME
if. 0=4!:0 <f=. y,'_',(tolower xuname),(IF64#'_64'),'_j_' do.
  0!:100 toHOST f~
else.
  0!:0 <jpath '~system/defs/',y,'_',(tolower xuname),(IF64#'_64'),'.ijs'
end.
)
18!:4 <'j'

setjdefs=: 4 : 'if. _1=4!:0 y do. (>y)=: x end.'

1 setjdefs"_ 0 <;._2 [ 0 : 0
RGBSEQ
)

(0 2$<'') setjdefs"_ 0 <;._2 [ 0 : 0
SystemFolders
UserFolders
)

3 : 0''
if. (<'bin') -.@e. {."1 SystemFolders do.
  SystemFolders=: SystemFolders, 'bin';BINPATH
end.

if. (<'home') -.@e. {."1 SystemFolders do.
  if. 'Win'-:UNAME do. t=. 2!:5'USERPROFILE'
  elseif. 'Android'-:UNAME do. t=. '/sdcard'
  elseif. 'Darwin'-:UNAME do. t=. (0-:t){::'';~t=. 2!:5'HOME'
  elseif. 'Linux'-:UNAME do. t=. (0-:t){::'';~t=. 2!:5'HOME'
  elseif. do. t=. ''
  end.
  if. (''-:t)+.((,'/')-:t)+.('/root'-:t)+.('/usr/'-:5{.t) do.
    t=. '/tmp/',":2!:6''
    1!:5 ::] <t
  end.
  SystemFolders=: SystemFolders, 'home';t
end.

if. (<'temp') -.@e. {."1 SystemFolders do.
  if. 'Win'-:UNAME do. 1!:5 ::] <t=. (2!:5'USERPROFILE'),'\Temp'
  elseif. 'Android'-:UNAME do. t=. '/sdcard'
  elseif. 'Darwin'-:UNAME do. 1!:5 ::] <t=. '/tmp/',":2!:6''
  elseif. 'Linux'-:UNAME do. 1!:5 ::] <t=. '/tmp/',":2!:6''
  elseif. do. t=. ''
  end.
  SystemFolders=: SystemFolders, 'temp';t
end.
''
)

4!:55 <'setjdefs'

18!:4 <'z'
18!:4 <'z'
UNXLIB=: ([: <;._1 ' ',]);._2 (0 : 0)
libc.so.6 libc.so libc.dylib libc.so
libz.so.1 libz.so libz.dylib libz.so
libsqlite3.so.0 libsqlite.so libsqlite3.dylib libsqlite3.so
libxml2.so.2 libxml2.so libxml2.dylib libxml2.so
)
unxlib=: 3 : 0
r=. (;: 'c z sqlite3 libxml2') i. <,y
c=. (;: 'Linux Android Darwin') i. <UNAME_z_
(<r,c) {:: UNXLIB_z_
)
18!:4 <'z'
anddf=: 4 : '''libj.so android_download_file > i *c *c'' 15!:0 x;y'
andunzip=: 3 : 0
'' andunzip y
:
'libj.so java_unzip_file > i *c *c' 15!:0 y;x
)
android_exec_am=: 3 : 0
'intent uri mimetype flags'=. 4{.y
user=. (UserNumber_ja_"_)^:(0=4!:0<'UserNumber_ja_') (_1)
2!:0 ::0: utf8 'am start ',((user>:0)#'--user ', ":user),' -a ', intent, ' -d ', (dquote uri), ((*#mimetype)#' -t ', mimetype), ((0~:flags)#' -f ', ":flags)
i.0 0
)

android_exec_host=: 2!:1@(3&{.)`android_exec_am@.(0=4!:0<'AndroidPackage')
android_getdisplaymetrics=: 3 : 0
dm=. 0 2 320 1280 2 720 243.247 244.273
if. 18<:APILEVEL_ja_ do.
  if. 0=4!:0<'android_getdisplaymetrics_memo_ja_' do.
    dm=. android_getdisplaymetrics_memo_ja_
  else.
    try.
      densityDpi=. 0&". ' '-.~ (}.~ i:&' ') LF-.~ 2!:0 'wm density'
      ('widthPixels heightPixels')=: 0&". ;._1 'x', ' '-.~ (}.~ i:&' ') LF-.~ 2!:0 'wm size'
      density=. (0.5*heightPixels>480) + (0.5*heightPixels>320) + densityDpi% 160
      dm=. 1 2 3 4 5 (density, densityDpi, heightPixels, density, widthPixels)}dm
    catch. end.
    android_getdisplaymetrics_memo_ja_=: dm
  end.
end.
'DM_density_ja_ DM_densityDpi_ja_ DM_scaledDensity_ja_'=: 1 2 4{dm
dm
)
18!:4 <'z'
'TAB LF FF CR DEL EAV'=: 9 10 12 13 127 255{a.
LF2=: LF,LF
CRLF=: CR,LF
EMPTY=: 0 0$0
Debug=: 0
'noun adverb conjunction verb monad dyad'=: 0 1 2 3 3 4
setalpha=: 16bff&$: : (4 : 0)
((_32&(34 b.))^:IF64 _8 (32 b.) x)&(23 b.) 16bffffff (17 b.) y
)
getalpha=: 16bff (17 b.) _24&(34 b.)
abspath=: 3 : 0
if. (1 e. '://'&E.) y=. ,jpathsep y do. y return. end.
if. IFWIN do.
  assert. 0<rc=. >@{. cdrc=. 'kernel32 GetFullPathNameW   i *w i *w *w'&cd (uucp y);((#;])1024$u:' '),<<0
  y=. jpathsep utf8 rc{.3{::cdrc
elseif. ('/' ~: {.) y do.
  y=. iospath^:IFIOS (1!:43'') , '/' , utf8 y
end.
y
)
apply=: 128!:2
assert=: 0 0 $ 13!:8^:((0 e. ])`(12"_))
bind=: 2 : 'u@(v"_)'
boxopen=: <^:(0&(>: L.))
boxxopen=: <^:((> L.)~ *@#)
bx=: I.
clear=: 3 : 0
". 'do_',(' '-.~y),'_ '' (#~ -.@(4!:55)) (4!:1) 0 1 2 3'''
)
cutLF=: 3 : 'if. 0 (<L.) y do. y else. a: -.~ <;._2 y,LF end.'
cutopen=: 3 : 0
y cutopen~ (' ',LF) {~ LF e. ,y
:
if. 0 (<L.) y do. y return. end.
if. 1 < #$y do. <"_1 y return. end.
(<'') -.~ (y e.x) <;._2 y=. y,1{.x
)
datatype=: 3 : 0
n=. 1 2 4 8 16 32 64 128 1024 2048 4096 8192 16384 32768 65536 131072 262144
t=. '/boolean/literal/integer/floating/complex/boxed/extended/rational'
t=. t,'/sparse boolean/sparse literal/sparse integer/sparse floating'
t=. t,'/sparse complex/sparse boxed/symbol/unicode/unicode4'
(n i. 3!:0 y) pick <;._1 t
)
def=: :
define=: : 0
H=. '0123456789ABCDEF'
h=. '0123456789abcdef'
dfh=: 16 #. 16 | (H,h) i. ]
hfd=: h {~ 16 #.^:_1 ]
4!:55 'H';'h'
do=: ".
drop=: }.
each=: &.>
empty=: EMPTY"_
erase=: [: 4!:55 ;: ::]
every=: &>
evtloop=: EMPTY"_
exit=: 2!:55
expand=: #^:_1
file2url=: 3 : 0
if. (1 e. '://'&E.) ,y do. y return. end.
y=. (' ';'%20') stringreplace abspath y -. '"'
if. IFWIN do.
  if. '//'-:2{.y do.
    'file:',y
  else.
    'file:///',y
  end.
else.
  'file://',y
end.
)
fixdotdot=: 3 : 0
while. 1 e. r=. '../' E. y do.
  y=. ((2+p)}.y),~ ({.~ i:&'/') }: (p=. {.I.r){.y
end.
y
)
fliprgb=: 3 : 0
s=. $y
d=. ((#y),4)$2 (3!:4) y=. <.,y
d=. 2 1 0 3{"1 d
s$_2(3!:4),d
)
getargs=: 3 : 0
ARGV getargs y
:
argb=. (]`(([: < 1: {. }.) , [: < 2: }. ])@.('-'"_ = {.))&.> x
parm=. 32 = ;(3!:0)&.> argb
((-. parm)#argb);(>parm#argb);(". (0 = isatty 0)#'stdin ''''')
)
getenv=: 2!:5
inv=: inverse=: ^:_1
iospath=: 3 : 0
if. IFIOS *. ('/j'-:2{.y) do. y=. y,~ '/Documents',~ 2!:5 'HOME' end.
y
)
3 : 0''
if. IFUNIX do.
  isatty=: ((unxlib 'c'),' isatty > i i') & (15!:0)
else.
  isatty=: 2: = ('kernel32 GetFileType > i x' & (15!:0)) @ ('kernel32 GetStdHandle > x i'& (15!:0)) @ - @ (10&+)
end.
''
)
isutf8=: 0:`(1:@(7&u:) :: 0:)@.(2=3!:0)
isutf16=: 0:`(1:@(8&u:) :: 0:)@.(131072=3!:0)
items=: "_1
fetch=: {::
leaf=: L:0
list=: 3 : 0
w=. {.wcsize''
w list y
:
if. 0=#y do. i.0 0 return. end.
if. 2>#$y=. >y do.
  d=. (' ',LF) {~ LF e. y=. toJ ": y
  y=. [;._2 y, d #~ d ~: {: y
end.
y=. y-. ' '{.~ c=. {:$ y=. (": y),.' '
(- 1>. <. x % c) ;\ <"1 y
)
nameclass=: nc=: 4!:0
namelist=: 4!:1
nl=: 3 : 0
'' nl y
:
if. 0 e. #y do. y=. 0 1 2 3 end.

if. 1 4 8 e.~ 3!:0 y do.
  nms=. (4!:1 y) -. ;: 'x y x. y.'
else.
  nms=. cutopen_z_ y
end.

if. 0 e. #nms do. return. end.

if. #t=. x -. ' ' do.
  'n s'=. '~*' e. t
  t=. t -. '~*'
  b=. t&E. &> nms
  if. s do. b=. +./"1 b
  else. b=. {."1 b end.
  nms=. nms #~ n ~: b
end.
)
names=: list_z_ @ nl
Note=: 3 : '0 0 $ 0 : 0' : [
on=: @:
pick=: >@{
rows=: "1
script=: [: 3 : '0!:0 y [ 4!:55<''y''' jpath_z_ &.: >
scriptd=: [: 3 : '0!:1 y [ 4!:55<''y''' jpath_z_ &.: >
stdout=: 1!:2&4
stderr=: 1!:2&5
stdin=: 1!:1@3: :. stdout
sign=: *
sminfo=: 3 : 0
if. IFJHS do. smoutput >{:boxopen y
elseif. IFQT do. wdinfo_jqtide_ y
elseif. IFJA do. wdinfo_ja_ y
elseif. IFJNET do. wdinfo_jnet_ y
elseif. (0-:11!:0 ::0:'qwd') < 3=4!:0<'wdinfo' do. wdinfo y
elseif. do. smoutput >{:boxopen y end.
)
echo=: 0 0 $ 1!:2&2
smoutput=: 0 0 $ 1!:2&2
tmoutput=: 0 0 $ 1!:2&4
sort=: /:~ : /:
split=: {. ,&< }.
table=: 1 : 0~
:
(((#~LF-.@e.])5!:5<'u');,.y),.({.;}.)":x,y u/x
)
take=: {.
timespacex=: 6!:2 , 7!:2@]
timex=: 6!:2
tolist=: }.@;@:(LF&,@,@":&.>)
tolower=: 3 : 0`((((97+i.26){a.)(65+i.26)}a.) {~ a. i. ])@.(2 = 3!:0)
x=. I. 26 > n=. ((65+i.26){a.) i. t=. ,y
($y) $ ((x{n) { (97+i.26){a.) x}t
)

toupper=: 3 : 0`((((65+i.26){a.)(97+i.26)}a.) {~ a. i. ])@.(2 = 3!:0)
x=. I. 26 > n=. ((97+i.26){a.) i. t=. ,y
($y) $ ((x{n) { (65+i.26){a.) x}t
)
t=. <;._1 '/invalid name/not defined/noun/adverb/conjunction/verb/unknown'
type=: {&t@(2&+)@(4!:0)&boxopen
ucp=: 7&u:
ucpcount=: # @ (7&u:)
3 : 0''
if. IFUNIX do.
  usleep=: 3 : ('''',(unxlib 'c'),' usleep > i i''&(15!:0) >.y')
else.
  usleep=: 3 : '0: ''kernel32 Sleep > n i''&(15!:0) >.y % 1000'
end.
EMPTY
)
utf8=: 8&u:
uucp=: u:@(7&u:)
toJ=: (LF I.@(CR=])}]) @: (#~ -.@(CRLF&E.@,))
toCRLF=: 2&}. @: ; @: (((CR&,)&.>)@<;.1@(LF&,)@toJ)

3 : 0''
if. 5=9!:12'' do.
  toHOST=: ]
else.
  toHOST=: toCRLF
end.
1
)
18!:4 <'z'
coclass=: 18!:4 @ boxxopen
cocreate=: 18!:3
cocurrent=: 18!:4 @ boxxopen
codestroy=: coerase @ coname
coerase=: 18!:55
cofullname=: 3 : 0
y=. ,> y
if. #y do.
  if. ('_' = {: y) +: 1 e. '__' E. y do.
    y,'_',(>18!:5''),'_'
  end.
end.
)
coinsert=: 3 : 0
n=. ;: :: ] y
p=. ; (, 18!:2) @ < each n
p=. ~. (18!:2 coname''), p
(p /: p = <,'z') 18!:2 coname''
)
coname=: 18!:5
conames=: list_z_ @ conl
conew=: 3 : 0
c=. <y
obj=. cocreate''
coinsert__obj c
COCREATOR__obj=: coname''
obj
:
w=. conew y
create__w x
w
)
conl=: 18!:1 @ (, 0 1"_ #~ # = 0:)
copath=: 18!:2 & boxxopen
coreset=: 3 : 0
0 0$coerase conl 1
)
cocurrent 'z'
cofind=: 3 : 0
r=. (<,>y) (4 : 'try. x e. nl__y $0 catch. 0 end.'"0 # ]) 18!:1]0 1
if. 0=#r do. i.0 2 end.
)
cofindv=: 3 : 0
lcs=. cofind y
if. #lcs do.
  lcs ,. ". each (<y,'_') ,each lcs ,each '_'
end.
)
coinfo=: 3 : 0
ref=. boxxopen y
if. 0 e. $ref do. i.0 4 return. end.
if. 0=4!:0 <'COCREATOR__ref'
do. c=. COCREATOR__ref else. c=. a: end.
(conouns ref),ref,c,< ;:inverse copath ref
)
conouns=: 3 : 0 "0
n=. nl 0
t=. n#~ (<y)-:&> ".each n
< ;: inverse t
)
conounsx=: 3 : 0
r=. ''
if. #y do.
  s=. #y=. boxxopen y
  loc=. conl 0
  for_i. loc do. r=. r,conouns__i y end.
  r=. (r~:a:) # (y$~#r),.r,.s#loc
end.
/:~~.r
)
copathnl=: 3 : 0
'' copathnl y
:
r=. ''
t=. (coname''),copath coname''
for_i. t -. <,'z' do.
  r=. r,x nl__i y
end.
/:~~.r
)
copathnlx=: 3 : 0
'' copathnlx y
:
r=. ''
t=. (coname''),copath coname''
for_i. t=. t -. <,'z' do.
  r=. r,<x nl__i y
end.
n=. ~.;r
n,.|:( n&e. &> r) #each t
)
costate=: 3 : 0
r=. ,: ;:'refs id creator path'
if. #n=. conl 1 do. r,coinfo &> n /: 0 ".&> n end.
)
cocurrent 'z'
cd=: 15!:0
memr=: 15!:1
memw=: 15!:2
mema=: 15!:3
memf=: 15!:4
memu=: '' 1 : 'try. 15!:15 m catch. a: { ] return. end. 15!:15'
cdf=: 15!:5
cder=: 15!:10
cderx=: 15!:11
gh=. 15!:8
fh=. 15!:9
symget=: 15!:6
symset=: 15!:7
symdat=: 15!:14
cdcb=: 15!:13
JB01=: 1
JCHAR=: 2
JSTR=: _1,JCHAR
JINT=: 4
JPTR=: JINT
JFL=: 8
JCMPX=: 16
JBOXED=: 32
JSB=: 65536
JCHAR2=: 131072
JSTR2=: _1,JCHAR2
JCHAR4=: 262144
JSTR4=: _1,JCHAR4
JTYPES=: JB01,JCHAR,JINT,JPTR,JFL,JCMPX,JBOXED,JSB,JCHAR2,JCHAR4
JSIZES=: >IF64{1 1 4 4 8 16 4 4 2 4;1 1 8 8 8 16 8 8 2 4
SZI=: IF64{4 8
ic=: 3!:4
fc=: 3!:5
endian=: |.^:('a'={.2 ic a.i.'a')
Endian=: |.^:('a'~:{.2 ic a.i.'a')
AND=: $:/ : (17 b.)
OR=: $:/ : (23 b.)
XOR=: $:/ : (22 b.)
cocurrent 'z'
calendar=: 3 : 0
0 calendar y
:
a=. ((j<100)*(-100&|){.6!:0'')+j=. {.y
b=. (a-x)+-/<.4 100 400%~<:a
r=. 28+3,(~:/0=4 100 400|a),10$5$3 2
r=. (-7|b+0,+/\}:r)|."0 1 r(]&:>:*"1>/)i.42
m=. (<:}.y),i.12*1=#y
h=. 'JanFebMarAprMayJunJulAugSepOctNovDec'
h=. ((x*3)|.' Su Mo Tu We Th Fr Sa'),:"1~_3(_12&{.)\h
<"2 m{h,"2[12 6 21 ($,) r{' ',3":1+i.31 1
)
getdate=: 3 : 0
0 getdate y
:
r=. ''
opt=. x
chr=. [: -. [: *./ e.&'0123456789 '
dat=. ' ' (I. y e.',-/:') } y

if. chr dat do.
  opt=. 0
  dat=. a: -.~ <;._1 ' ',dat
  if. 1=#dat do. r return. end.
  typ=. chr &> dat
  dat=. (2{.typ{dat),{:dat
  mth=. 3{.>1{dat
  uc=. 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
  lc=. 'abcdefghijklmnopqrstuvwxyz'
  mth=. (lc,a.) {~ mth i.~ uc,a.
  mos=. _3[\'janfebmaraprmayjunjulaugsepoctnovdec'
  mth=. <": >:mos i. mth
  dat=. ;' ',each mth 1 } dat
end.

dat=. ". :: (''"_) dat
if. 0 e. #dat do. return. end.

if. 3 ~: #dat do. r return. end.

if. 31 < {.dat do. 'y m d'=. dat
else. ((opt|.'d m '),' y')=. dat
end.

if. y<100 do.
  y=. y + (-100&|) {. 6!:0''
end.

(#~ valdate) y,m,d
)
isotimestamp=: 3 : 0
r=. }: $y
t=. _6 [\ , 6 {."1 y
d=. '--b:' 4 7 10 13 }"1 [ 4 3 3 3 3 ": <. 5{."1 <.t
d=. d ,. ':' 0 }"1 [ 7j3 ": ,. {:"1 t
c=. {: $d
d=. ,d
d=. '0' (I. d=' ')} d
d=. ' ' (I. d='b')} d
(r,c) $ d
)
todate=: 3 : 0
0 todate y
:
s=. $y
y=. s$ 0 (I. (,y) e. _ __)},y
a=. 657377.75 +, y=. <. p=. y
d=. <. a - 36524.25 * c=. <. a % 36524.25
d=. <.1.75 + d - 365.25 * y=. <. (d+0.75) % 365.25
r=. (1+12|m+2) ,: <. 0.41+d-30.6* m=. <. (d-0.59) % 30.6
if. 1<x do.
  h=. <. t=. 24*(1&|) ,p
  mm=. <. t=. 60*t-h
  ss=. 60*t-mm
  r=. s $ |: ((c*100)+y+m >: 10) ,r , |: h ,. mm,. ss
else.
  r=. s $ |: ((c*100)+y+m >: 10) ,r
end.
if. 1=x do. r=. 100 #. r end.
r
)
todayno=: 3 : 0
0 todayno y
:
a=. y
if. 1=x do. a=. 0 100 100 #: a end.
a=. ((*/r=. }: $a) , {:$a) $,a
if. 1<x do.
  'y m d h mm s'=. <"_1 |: a
else.
  'y m d'=. <"_1 |: a
end.
y=. 0 100 #: y - m <: 2
n=. +/ |: <. 36524.25 365.25 *"1 y
n=. n + <. 0.41 + 0 30.6 #. (12 | m-3),"0 d
if. 1<x do.
  n=. n + (24 60 60#.h,.mm,.s)%24*3600
end.
0 >. r $ n - 657378
)
tsdiff=: 4 : 0
r=. -/"2 d=. _6 (_3&([\)) \ ,x,"1 y
if. #i=. i#i.#i=. 0 > 2{"1 r do.
  j=. (-/0=4 100 400 |/ (<i;1;0){d)* 2=m=. (<i;1;1){d
  j=. _1,.j + m{0 31 28 31 30 31 30 31 31 30 31 30 31
  n=. <i;1 2
  r=. (j + n{r) n } r
end.
r +/ . % 1 12 365
)
tsrep=: 3 : 0
0 tsrep y
:
if. x do.
  r=. $y
  'w n t'=. |: 0 86400 1000 #: ,y
  w=. w + 657377.75
  d=. <. w - 36524.25 * c=. <. w % 36524.25
  d=. <.1.75 + d - 365.25 * w=. <. (d+0.75) % 365.25
  s=. (1+12|m+2) ,: <. 0.41+d-30.6* m=. <. (d-0.59) % 30.6
  s=. |: ((c*100)+w+m >: 10) ,s
  r $ s,. (_3{. &> t%1000) +"1 [ 0 60 60 #: n
else.
  a=. ((*/r=. }: $y) , {:$y) $, y
  'w m d'=. <"_1 |: 3{."1 a
  w=. 0 100 #: w - m <: 2
  n=. +/ |: <. 36524.25 365.25 *"1 w
  n=. n + <. 0.41 + 0 30.6 #. (12 | m-3),"0 d
  s=. 3600000 60000 1000 +/ .*"1 [ 3}."1 a
  r $ s+86400000 * n - 657378
end.
)
timestamp=: 3 : 0
if. 0 = #y do. w=. 6!:0'' else. w=. y end.
r=. }: $ w
t=. 2 1 0 3 4 5 {"1 [ _6 [\ , 6 {."1 <. w
d=. '+++::' 2 6 11 14 17 }"1 [ 2 4 5 3 3 3 ": t
mth=. _3[\'   JanFebMarAprMayJunJulAugSepOctNovDec'
d=. ,((1 {"1 t) { mth) 3 4 5 }"1 d
d=. '0' (I. d=' ') } d
d=. ' ' (I. d='+') } d
(r,20) $ d
)
tstamp=: timestamp
valdate=: 3 : 0
s=. }:$y
'w m d'=. t=. |:((*/s),3)$,y
b=. *./(t=<.t),(_1 0 0<t),12>:m
day=. (13|m){0 31 28 31 30 31 30 31 31 30 31 30 31
day=. day+(m=2)*-/0=4 100 400|/w
s$b*d<:day
)
weekday=: 7 | 3 + todayno
weeknumber=: 3 : 0
yr=. {.y
sd=. 1 ((i.~weekday){]) ((<:yr),.12,.29+i.3),yr,.1,.1+i.4
wk=. >.7%~>: y -&todayno sd
if. wk >weeksinyear yr do.
  (>:yr),1
elseif. wk=0 do.
  (,weeksinyear)<:yr
elseif. do.
  yr,wk
end.
)
weeksinyear=: 3 : '52+ +./"1 [ 4=weekday(1 1,:12 31),"0 1/~ y'
cocurrent 'z'
dbr=: 13!:0
dbs=: 13!:1
dbsq=: 13!:2
dbss=: 13!:3
dbrun=: 13!:4
dbnxt=: 13!:5
dbret=: 13!:6
dbjmp=: 13!:7
dbsig=: 13!:8
dbrr=: 13!:9
dbrrx=: 13!:10
dberr=: 13!:11
dberm=: 13!:12
dbstk=: 13!:13
dblxq=: 13!:14
dblxs=: 13!:15
dbtrace=: 13!:16
dbq=: 13!:17
dbst=: 13!:18
dbcut=: 13!:19
dbover=: 13!:20
dbinto=: 13!:21
dbout=: 13!:22
dbctx=: 10 10&$: : (4 : 0)
if. -.13!:17'' do. 0 0$'' return. end.
try.
  'before after'=. 2{. <. , x, 10 10
catch.
  'before after'=. 10 10
end.
if. 0= #d=. 13!:13'' do. 0 0$'' return. end.
if. '*' -.@e. sus=. >{:"1 d do. 0 0$'' return. end.
'name ln nc def src'=. 0 2 3 4 5{(sus i. '*'){d
dyad=. {: ':'&e.;._2 ] 13!:12''
if. (_2{.def) -: LF,')' do.
  def=. }.def [ def0=. {.def=. }:<;._2 def,LF
else.
  def=. ,<def [ def0=: ''
end.
if. def e.~ <,':' do.
  if. dyad do.
    def=. def}.~ >: def i. <,':'
  else.
    def=. def{.~ def i. <,':'
  end.
end.
min=. 0>.ln-before [ max=. (<:#def)<.ln+after
ctx=. ((,.ln=range){' >'),"1 '[',"1 (":,.range) ,"1 ('] ') ,"1 >def{~range=. min + i. >:max-min
> (<'@@ ', name, '[', (dyad#':'), (":ln) ,'] *', (nc{' acv'),' @@ ', src), def0, <"1 ctx
)
dbg=: 3 : 0
if. -.IFQT do.
  13!:0 y return.
end.
if. y do.
  if. _1 = 4!:0 <'jdb_open_jdebug_' do.
    0!:0 <jpath '~addons/ide/qt/debugs.ijs'
  end.
  jdb_open_jdebug_''
  13!:0 [ 1
else.
  jdb_close_jdebug_ :: ] ''
  13!:15 ''
  13!:0 [ 0
end.
)
dblocals=: _1&$: : (4 : 0)
stk=. }. 13!:13''
if. 0=#y do. y=. a: else. y=. (y e. i.#stk) # y end.
loc=. (<y ; 0 7) { stk
if. x-: 0 do.
  {."1 &.>@:{:"1 loc
elseif. -. x-:_1 do.
  t=. ;: ::] x
  f=. ({."1 e. t"_) # ]
  ({."1 loc) ,. f &.> {:"1 loc
end.
)
dbstack=: 3 : 0
hdr=. ;:'name en ln nc args locals susp'
stk=. }. 13!:13''
if. #y do.
  if. 2=3!:0 y do.
    stk=. stk #~ (<y)={."1 stk
  else.
    stk=. ((#stk)<.,y){.stk
  end.
end.
stk=. 1 1 1 1 0 0 1 1 1 #"1 stk
stk=. hdr, ": &.> stk
wds=. ({:@$@":@,.)"1 |: stk
len=. 20 >.<.-:({.wcsize'') - +/8, 4 {. wds
tc=. (len+1)&<.@$ {.!.'.' ({.~ len&<.@$)
tc@": each stk
)
dbstop=: 3 : 0
if. 0 e. #y -. ' ' do. 13!:3'' return. end.
t=. 13!:2''
if. #t do. t=. <;._2 t, ';' -. {:t end.
t=. ~. t, (;: ^: (L.=0:) y) ,&.> <' *:*'
13!:3 ; t ,&.> ';'
)
dbstops=: 3 : 0
13!:3 ; (;: ^: (L.=0:) y) ,&.> <' *:*;'
)
dbstopme=: 3 : 0
if. y do.
  if. 0 e. $c=. }. 13!:13'' do. return. end.
  c=. (> {. {. c), ' *:*'
  t=. 13!:2''
  if. #t do. t=. <;._2 t, ';' -. {:t end.
  t=. ~. t, <c
  13!:3 }: ; t ,&.> ';'
end.
)
dbstopnext=: 3 : 0
if. y do.
  if. 0 e. $c=. }. 13!:13'' do. return. end.
  'd n a'=. 0 2 6 { {. c
  c=. d,' ',(':'#~2=#a),":n+1
  t=. 13!:2''
  if. #t do. t=. <;._2 t, ';' -. {:t end.
  t=. ~. t, <c
  13!:3 }: ; t ,&.> ';'
end.
)
dbview=: 3 : 0
if. -.IFQT do. return. end.
if. _1 = 4!:0 <'jdbview_jdbview_' do.
  'require'~'~addons/ide/qt/dbview.ijs'
end.
jdbview_jdbview_ }. 13!:13''
)
dbhelp=: 0 : 0
The call stack (dbstk'') is a 9-column boxed matrix:
  0  name
  1  error number, or 0 if this call has no error.
  2  line number
  3  name class
  4  definition
  5  source script
  6  argument list
  7  locals
  8  suspense

f is the name of a verb
      dbss 'f 0'   monadic line 0
      dbss 'f :2'  dyadic line 2
      dbss 'f *:*' all lines

dbr     13!:0  reset, set suspension mode (0=disable, 1=enable)
dbs     13!:1  display stack
dbsq    13!:2  stop query
dbss    13!:3  stop set
dbrun   13!:4  run again (from current stop)
dbnxt   13!:5  run next (skip line and run)
dbret   13!:6  exit and return argument
dbjmp   13!:7  jump to line number
dbsig   13!:8  signal error
dbrr    13!:9  re-run with specified arguments
dbrrx   13!:10 re-run with specified executed arguments
dberr   13!:11 last error number
dberm   13!:12 last error message
dbstk   13!:13 call stack
dblxq   13!:14 latent expression query
dblxs   13!:15 latent expression set
dbtrace 13!:16 trace control
dbq     13!:17 queries suspension mode (set by dbr)
dbst    13!:18 returns stack text
(these 4 verbs are subject to change without notice)
dbcut   13!:19 cut back
dbover  13!:20 step over (13!:20'' or moveline 13!:20'')
dbinto  13!:21 step into ...
dbout   13!:22 step out  ...
(utilities)
dbctx       display context
dbg         turn debug window on/off
dblocals    display local names on stack
dbstack     display stack
dbstop      add stop definitions
dbstops     set all stop definitions
dbstopme    stop current definition
dbstopnext  stop current definition at next line
dbview      (GUI only) view stack
)
cocurrent 'z'
dir=: 3 : 0
'n' dir y
:
ps=. '/'
y=. jpath y,(0=#y)#'*'
y=. y,((':',ps) e.~ {:y)#'*'
if. 0=#dr=. 1!:0 y do. empty'' return. end.
fls=. 'd' ~: 4{"1>4{"1 dr
if. (1=#dr) *. 0={.fls do.
  r=. x dir y,ps,'*'
  if. #r do. r return. end.
end.
if. fmt=. 2=3!:0 x do. opt=. 2 1
else. opt=. 2{.x end.
if. 0={:opt do. fls=. 1#~#dr=. fls#dr end.
if. 0=#dr do. empty'' return. end.
nms=. {."1 dr
nms=. nms ,&.> fls{ps;''
ndx=. /: (":,.fls),.>nms
if. 0=opt do.
  list >ndx{nms
elseif. 1=opt do.
  path=. (+./\.y=ps)#y
  path&,&.>ndx{nms
elseif. fmt<2=opt do.
  ndx{nms,.}."1 dr
elseif. fmt do.
  'nms ts size'=. |:3{."1 dr
  ds=. '   <dir>    ' ((-.fls)#i.#fls) } 12 ":,.size
  mth=. _3[\'   JanFebMarAprMayJunJulAugSepOctNovDec'
  f=. > @ ([: _2&{. [: '0'&, ": )&.>
  'y m d h n s'=. f&> ,<"1 |: 100|ts
  m=. (1{"1 ts){mth
  time=. d,.'-',.m,.'-',.y,.' ',.h,.':',.n,.':',.s
  dat=. (>nms),.ds,.' ',.time
  dat /: fls,. /:/: >(3|'dns'i.x){ts;nms;size
elseif. 1 do.
  'invalid left argument'
end.
)
dircompare=: 3 : 0
0 dircompare y
:
if. 0=#y do.
  '''long dirtree timestamps'' dircompare dir1;dir2'
  return.
end.

opt=. 3 {. x
res=. opt dircompares y
if. 0 = L. res do. return. end.

ps=. '/'
'a b c'=. res

'x y'=. jpath each cutopen y
x=. x, ps #~ (*#x) *. ps~:_1{.x
y=. y, ps #~ (*#y) *. ps~:_1{.y

r=. 'comparing  ',x,'  and  ',y,LF

if. #a do.
  r=. r,LF,'not in  ',y,':',LF,,(list a),.LF
end.

if. #b do.
  r=. r,LF,'not in  ',x,':',LF,,(list b),.LF
end.

if. +/ # &> c do.
  'cf cd'=. c
  r=. r,LF,'not same in both:',LF,,(list cf),.LF
  if. {.opt do.
    r=. r,LF,;(,&(LF2)) &.> cd
  end.

end.

if. 0=+/# S:0 res do. r=. r,'no difference',LF end.

}:r
)
dircompares=: 3 : 0
0 dircompares y
:
ps=. '/'
opt=. 3{. x
'x y'=. jpath each cutopen y
x=. x, ps #~ (*#x) *. ps~:_1{.x
y=. y, ps #~ (*#y) *. ps~:_1{.y

if. 1{opt do.
  dx=. dirtree x [ dy=. dirtree y
else.
  dx=. 2 0 dir x [ dy=. 2 0 dir y
end.

if. dx -: dy do. 'no difference' return. end.
if. 0 e. #dx do. 'first directory is empty' return. end.
if. 0 e. #dy do. 'second directory is empty' return. end.

f=. #~ [: +./\. =&ps
sx=. f x
sy=. f y
fx=. {."1 dx
fy=. {."1 dy

if. 1{opt do.
  fx=. (#sx)}.&.>fx
  fy=. (#sy)}.&.>fy
  dx=. fx 0 }"0 1 dx
  dy=. fy 0 }"0 1 dy
end.

r=. <fx -. fy
r=. r , <fy -. fx

dx=. (fx e. fy)#dx
dy=. (fy e. fx)#dy

if. #j=. dx -. dy do.
  j=. {."1 j
  cmp=. <@fcompare"1 (sx&,&.>j),.sy&,&.>j

  if. 0=2{opt do.
    f=. 'no difference'&-: @ (_13&{.)
    msk=. -. f &> cmp
    j=. msk#j
    cmp=. msk#cmp
  end.

  r=. r,< j;<cmp
else.
  r=. r,a:
end.

r
)
dirfind=: 4 : 0
f=. [: 1&e. x&E.
g=. #~ [: -. [: +./\. =&'/'
d=. {."1 dirtree y
m=. f@g &> d
if. 1 e. m do. ; (m # d) ,each LF else. 0 0$'' end.
)
dirpath=: 3 : 0
0 dirpath y
:
r=. ''
t=. jpath y
ps=. '/'
if. #t do. t=. t, ps -. {:t end.
dirs=. <t
ifdir=. 'd'&= @ (4&{"1) @ > @ (4&{"1)
subdir=. ifdir # ]
while. #dirs do.
  fpath=. (>{.dirs) &,
  dirs=. }.dirs
  dat=. 1!:0 fpath '*'
  if. #dat do.
    dat=. subdir dat
    if. #dat do.
      r=. r, fpath each /:~ {."1 dat
      dirs=. (fpath @ (,&ps) each {."1 dat),dirs
    end.
  end.
end.
if. x do.
  f=. 1!:0 @ (,&(ps,'*'))
  g=. 0:`(0: e. ifdir)
  h=. g @. (*@#) @ f
  r=. r #~ h &> r
end.
if. #t do. r=. r,<}:t end.
/:~ r
)
dirss=: 4 : 0
if. (2=#x) *. 1=L. x do.
  x dirssrplc y return.
end.
sub=. ' '&(I.@(e.&(TAB,CRLF))@]})
fls=. {."1 dirtree y
if. 0 e. #fls do. 'not found: ',x return. end.
fnd=. ''
while. #fls do.
  dat=. 1!:1 <fl=. >{.fls
  fls=. }.fls
  ndx=. I. x E. dat
  if. rws=. #ndx do.
    dat=. (20$' '),dat,30$' '
    dat=. (rws,50)$sub(,ndx+/i.50){dat
    fnd=. fnd,LF2,fl,' (',(":#ndx),')'
    fnd=. fnd,,LF,.dat
  end.
end.
if. #fnd do. 2}.fnd else. 'not found: ',x end.
)
dirssrplc=: 4 : 0
fls=. {."1 dirtree y
if. 0 e. #fls do.
  'no files found' return.
end.
r=. (x&fssrplc) each fls
b=. r ~: <'no match found'
j=. >b # fls , each ': '&, each r
}: , j ,. LF
)
dirtree=: 3 : 0
0 dirtree y
:
if. 0=4!:0 <'DirTreeX_j_' do.
  ex=. cutopen DirTreeX_j_
else.
  ex=. ''
end.
r=. i.0 3
ps=. '/'
y=. jpath y
y=. y #~ (+./\ *. +./\.) y~:' '
y=. y,(0=#y)#'*'
if. ps={:y do. y=. y,'*' end.
if. -. '*' e. y do.
  if. 1 = #j=. 1!:0 y do.
    select. 'hd' = 1 4 { >4{,j
    case. 0 1 do. x dirtree y,ps,'*' return.
    case. 1 1 do. i.0 3 return.
    end.
  end.
end.
ts=. 100"_ #. 6: {. 0: >. <. - # {. 1980"_
'path ext'=. (b#y);(-.b=. +./\.y=ps)#y
if. #dl=. 1!:0 y do.
  att=. > 4{"1 dl
  fl=. (('h' ~: 1{"1 att) *. 'd' ~: 4{"1 att)#dl
  if. #fl do.
    r=. r,(path&,&.>{."1 fl),.1 2{"1 fl
  end.
end.
if. #dl=. 1!:0 path,'*' do.
  att=. > 4{"1 dl
  dr=. {."1 (('h' ~: 1{"1 att) *. 'd' = 4{"1 att) # dl
  dr=. dr -. ex
  if. #dr do.
    r=. r,;x&dirtree@(path&,@,&(ps,ext)) &.> dr
  end.
end.
r #~ (ts x) <: ts &> 1{"1 r
)
dirused=: [: (# , +/ @ ; @ (2: {"1 ])) 0&dirtree
cocurrent 'z'

fexists=: #~ fexist
f2utf8=: ]
fboxname=: <@(fixdotdot^:IFIOS)@jpath_j_@(8 u: >) ::]
fappend=: 4 : 0
(,x) (#@[ [ 1!:3) :: _1: fboxname y
)
fappends=: 4 : 0
(fputs x) (#@[ [ 1!:3) :: _1: fboxname y
)
fapplylines=: 1 : 0
0 u fapplylines y
:
y=. > fboxname y
s=. 1!:4 <y
if. s = _1 do. return. end.
p=. 0
dat=. ''
while. p < s do.
  b=. 1e6 <. s-p
  dat=. dat, 1!:11 y;p,b
  p=. p + b
  if. p = s do.
    len=. #dat=. dat, LF -. {:dat
  elseif. (#dat) < len=. 1 + dat i:LF do.
    'file not in LF-delimited lines' 13!:8[3
  end.
  if. x do.
    u ;.2 len {. dat
  else.
    u ;._2 CR -.~ len {. dat
  end.
  dat=. len }. dat
end.
)
fcopynew=: 4 : 0
dat=. fread each boxopen y
if. (<_1) e. dat do. _1 return. end.
dat=. ; dat
if. dat -: fread :: 0: x do. 0,#dat else.
  if. _1=dat fwrite x do. _1 else. 1,#dat end.
end.
)
fdir=: 1!:0@fboxname
ferase=: (1!:55 :: _1:) @ (fboxname &>) @ boxopen
fexist=: (1:@(1!:4) :: 0:) @ (fboxname &>) @ boxopen
fgets=: 3 : 0
y=. (-(26{a.)={:y) }. y
if. 0=#y do. '' return. end.
y,LF -. {:y=. toJ y
)
fmakex=: (] 1!:7~ 'x' 2 5 8} 1!:7) @ fboxname
fpathcreate=: 3 : 0
if. 0=#y do. 1 return. end.
p=. (,'/'-.{:) jpathsep y
if. # 1!:0 }: p do. 1 return. end.
for_n. I. p='/' do. 1!:5 :: 0: < n{.p end.
)
fpathname=: +./\.@:=&'/' (# ; -.@[ # ]) ]
fread=: 3 : 0
if. 1 = #y=. boxopen y do.
  1!:1 :: _1: fboxname y
else.
  1!:11 :: _1: (fboxname {.y),{:y
end.
:
x freads y
)
freadblock=: 3 : 0
1e6 freadblock y
:
'f p'=. y
f=. > fboxname f
s=. 1!:4 <f
if. s = _1 do. return. end.
if. (s = 0) +. p >: s do. '';p return. end.
if. x < s-p do.
  dat=. 1!:11 f;p,x
  len=. 1 + dat i: LF
  if. len > #dat do.
    'file not in LF-delimited lines' 13!:8[3
  end.
  p=. p + len
  dat=. len {. dat
else.
  dat=. 1!:11 f;p,s-p
  dat=. dat, LF -. {: dat
  p=. s
end.
(toJ dat);p
)
freadr=: 3 : 0
'f s'=. 2{.boxopen y
f=. fboxname f
max=. 1!:4 :: _1: f
if. max -: _1 do. return. end.
pos=. 0
step=. 10000
whilst. blk = cls
do.
  blk=. step<.max-pos
  if. 0=blk do. 'file not organized in records' return. end.
  dat=. 1!:11 f,<pos,blk
  cls=. <./dat i.CRLF
  pos=. pos+step
end.
len=. cls+pos-step
dat=. 1!:11 f,<len,2<.max-len
dlm=. +/CRLF e. dat
wid=. len+dlm
s=. wid*s,0 #~ 0=#s
dat=. 1!:11 f,<s
dat=. (-wid)[\dat
(-dlm)}."1 dat
)
freads=: 3 : 0
'' freads y
:
dat=. fread y
if. (dat -: _1) +. 0=#dat do. return. end.
dat=. fgets dat
if. 'b'e.x do. dat=. <;._2 dat
elseif. 'm'e.x do. dat=. ];._2 dat
end.
)
frename=: 4 : 0
x=. > fboxname x
y=. > fboxname y
if. x -: y do. 1 return. end.
if. IFUNIX do.
  0=((unxlib 'c'),' rename > i *c *c') 15!:0 y;x
else.
  'kernel32 MoveFileW > i *w *w' 15!:0 (uucp y);uucp x
end.
)
freplace=: 4 : 0
y=. boxopen y
dat=. ,x
f=. #@[ [ 1!:12
dat f :: _1: (fboxname {.y),{:y
)
fsize=: (1!:4 :: _1:) @ (fboxname &>) @ boxopen
fss=: 4 : 0
y=. fboxname y
size=. 1!:4 :: _1: y
if. size -: _1 do. return. end.
blk=. (#x) >. 100000 <. size
r=. i.pos=. 0
while. pos < size do.
  dat=. 1!:11 y,<pos,blk <. size-pos
  r=. r,pos+I. x E. dat
  pos=. pos+blk+1-#x
end.
r
)
fssrplc=: fstringreplace
fstamp=: (1: >@{ , @ (1!:0) @ fboxname) :: _1:
fputs=: 3 : 0
dat=. ":y
if. 0 e. $dat do.
  ''
else.
  if. 1>:#$dat do.
    toHOST dat,(-.({:dat) e. CRLF) # LF
  else.
    ,dat,"1 toHOST LF
  end.
end.
)
ftype=: 3 : 0
(1:@(1!:4) :: 0:)^:IFWIN < f=. }: ^: ('/' = {:) , > fboxname y
d=. 1!:0 f
if. #d do.
  >: 'd' = 4 { > 4 { ,d
else.
  0
end.
)
fview=: 3 : 0
if. 3 ~: nc <'textview_z_' do.
  sminfo 'textview not available.' return.
end.
txt=. freads y
if. txt -: _1 do.
  sminfo 'file not found: ',,>y return.
end.
textview txt
)
fwrite=: 4 : 0
(,x) (#@[ [ 1!:2) :: _1: fboxname y
)
fwritenew=: 4 : 0
dat=. ,x
if. dat -: fread y do. 0 return. end.
dat fwrite y
)
fwrites=: 4 : 0
(fputs x) (#@[ [ 1!:2) :: _1: fboxname y
)
cocurrent 'z'
install=: 3 : 0
require 'pacman'
do_install_jpacman_ y
)
getqtbin=: 3 : 0
if. (<UNAME) -.@e. 'Linux';'Darwin';'Win' do. return. end.
if. IFQT do.
  smoutput 'must run from jconsole' return.
end.
require 'pacman'
do_getqtbin_jpacman_ y
)
cocurrent 'z'
cuts=: 2 : 0
if. n=1 do. [: u (#@[ + E. i. 1:) {. ]
elseif. n=_1 do. [: u (E. i. 1:) {. ]
elseif. n= 2 do. [: u (E. i. 1:) }. ]
elseif. 1 do. [: u (#@[ + E. i. 1:) }. ]
end.
)
cut=: ' '&$: :([: -.&a: <;._2@,~)
deb=: #~ (+. 1: |. (> </\))@(' '&~:)
debc=: #~"1 [: (+. (1: |. (> </\))) ' '&(+./ .~:)
delstring=: 4 : ';(x E.r) <@((#x)&}.) ;.1 r=. x,y'
detab=: ' ' I.@(=&TAB@])} ]
dlb=: }.~ =&' ' i. 0:
dltb=: #~ [: (+./\ *. +./\.) ' '&~:
dtb=: #~ [: +./\. ' '&~:
joinstring=: ''&$: : (#@[ }. <@[ ;@,. ])
ljust=: (|.~ +/@(*./\)@(' '&=))"1
rjust=: (|.~ -@(+/)@(*./\.)@(' '&=))"1
ss=: I. @ E.
dropto=: ] cuts 2
dropafter=: ] cuts 1
taketo=: ] cuts _1
takeafter=: ] cuts _2
charsub=: 4 : 0
'f t'=. |: _2 ]\ x
l=. f i."1 0 y
x=. l { t,'?'
c=. l = #f
c } x ,: y
)
chopstring=: 3 : 0
(' ';'"') chopstring y
:
dat=. y
'fd sd'=. 2{. boxopen x
assert. 1 = #fd
if. #sd do.
  sd=. ~.sd
  if. 1 < #sd do.
    s=. {. '|`' -. fd
    dat=. dat charsub~ ,sd,.s
    sd=. s
  end.
  dat=. dat,fd
  b=. dat = fd
  c=. dat = {.sd
  d=. ~:/\ c
  fmsk=. b > d
  smsk=. (> (0 , }:)) c
  smsk=. -. smsk +. c *. 1|.fmsk
  y=. smsk#y,fd
  fmsk=. 0:^:(,@1: -: ]) smsk#fmsk
  fmsk <;._2 y
else.
  <;._2 dat,fd
end.
)
dltbs=: LF&$: : (4 : 0)
txt=. ({.x), y
a=. txt ~: ' '
b=. (a # txt) e. x
c=. b +. }. b, 1
d=. ~: /\ a #^:_1 c ~: }: 0, c
}. (a >: d) # txt
)
dquote=: ('"'&,@(,&'"'))@ (#~ >:@(=&'"'))
dtbs=: 3 : 0
CRLF dtbs y
:
txt=. y , {.x
blk=. txt ~: ' '
ndx=. +/\ blk
b=. blk < }. (txt e. x), 0
msk=. blk >: ndx e. b # ndx
}: msk # txt
)
rplc=: stringreplace~
fstringreplace=: 4 : 0
nf=. 'no match found'
y=. fboxname y
try. size=. 1!:4 y catch. nf return. end.
if. size=0 do. nf return. end.
old=. freads y
new=. x stringreplace old
if. old -: new do. nf return. end.
new fwrites y
cnt=. +/ (0 pick x) E. old
(":cnt),' replacement',((1~:cnt)#'s'),' made'
)
quote=: (''''&,@(,&''''))@ (#~ >:@(=&''''))
nos=. i.@#@] e. #@[ ({~^:a:&0@(,&_1)@(]I.+) { _1,~]) I.@E.
splitnostring=: #@[ }.each [ (nos f. <;.1 ]) ,
splitstring=: #@[ }.each [ (E. <;.1 ]) ,
stringreplace=: 4 : 0

txt=. ,y
t=. _2 [\ ,x
old=. {."1 t
new=. {:"1 t
oldlen=. # &> old
newlen=. # &> new

if. *./ 1 = oldlen do.

  hit=. (;old) i. txt
  ndx=. I. hit < #old

  if. 0 e. $ndx do. txt return. end.

  cnt=. 1
  exp=. hit { newlen,1
  hnx=. ndx { hit
  bgn=. ndx + +/\ 0, (}: hnx) { newlen - 1

else.

  hit=. old I. @ E. each <txt
  cnt=. # &> hit

  if. 0 = +/ cnt do. txt return. end.

  bgn=. set=. ''

  pick=. > @ {
  diff=. }. - }:

  for_i. I. 0 < cnt do.
    ln=. i pick oldlen
    cx=. (i pick hit) -. set, ,bgn -/ i.ln
    while. 0 e. b=. 1, <:/\ ln <: diff cx do. cx=. b#cx end.
    hit=. (<cx) i} hit
    bgn=. bgn, cx
    set=. set, ,cx +/ i.ln
  end.

  cnt=. # &> hit
  msk=. 0 < cnt
  exp=. (#txt) $ 1
  del=. newlen - oldlen

  if. #add=. I. msk *. del > 0 do.
    exp=. (>: (add{cnt) # add{del) (;add{hit) } exp
  end.

  if. #sub=. I. msk *. del < 0 do.
    sbx=. ; (;sub{hit) + each (sub{cnt) # i. each sub{del
    exp=. 0 sbx } exp
  end.

  hit=. ; hit
  ind=. /: (#hit) $ 1 2 3
  hnx=. (/: ind { hit) { ind
  bgn=. (hnx { hit) + +/\ 0, }: hnx { cnt # del

end.

ind=. ; bgn + each hnx { cnt # i.each newlen
rep=. ; hnx { cnt # new
rep ind} exp # txt
)
undquote=: (#~ -.@('""'&E.))@}:@}.^:(('"' = {.) *. '"' = {:)
cutpara=: 3 : 0
txt=. topara y
txt=. txt,LF -. {:txt
b=. (}.b,0) < b=. txt=LF
b <;._2 txt
)
foldtext=: 4 : 0
if. 0 e. $y do. '' return. end.
y=. ; x&foldpara each cutpara y
y }.~ - (LF ~: |.y) i. 1
)
foldpara=: 4 : 0
if. 0=#y do. LF return. end.
r=. ''
x1=. >: x
txt=. y
while.
  ind=. ' ' i.~ |. x1{.txt
  s=. txt {.~ ndx=. x1 - >: x1 | ind
  s=. (+./\.s ~: ' ') # s
  r=. r, s, LF
  #txt=. (ndx + ind<x1) }. txt
do. end.
r
)
topara=: 3 : 0
if. 0=#y do. '' return. end.
b=. y=LF
c=. b +. y=' '
b=. b > (1,}:b) +. }.c,0
' ' (I. b) } y
)
18!:4 <'z'
3 : 0''
if. IFIOS do.
  r=. 'Engine: ',9!:14''
  r=. r,LF,'Library: ',JLIB
  r=. r,LF,'J/iOS Version: ',VERSION
  r=. r,LF,'Platform: ',UNAME,' ',IF64 pick '32';'64'
  r=. r,LF,'InstallPath: ', (2!:5'HOME'), '/Documents/j'
  JVERSION=: toJ r
end.
EMPTY
)
NB. break
NB.%break.ijs - break utilities
NB.-This script defines break utilities and is included in the J standard library.
NB.-Definitions are loaded into the z locale.
NB.-
NB.-`setbreak 'default'` is done by profile for Jqt. JHS and jconsole can use ctrl+c. 
NB.-
NB.-setbreak creates file `~break/Pid.Class` and writes 0 to the first byte.
NB.-
NB.-Pid is the process id and Class is normally 'default'.
NB.-
NB.-setbreak calls 9!:47 with this file.
NB.-
NB.-9!:47 maps the first byte of file, and JE tests this byte for break requests.
NB.-
NB.-Another task writes 1 or 2 to the file for attention/break.
NB.-
NB.-9!:46 returns the filename.
NB.-
NB.-`break 'abc'` sets break for JEs with class abc.
NB.-
NB.-JEs with the same class all get the break. A non-default class protects JE from the default break.
NB.-
NB.- A new setbreak replaces the old.
NB.-
NB.-`break 0'` shows breakhelp

cocurrent'z'

NB. =========================================================
NB.*break v break J execution
NB. y is class to signal - '' treated as 'default'
break=: 3 : 0
if. y-:0 do. breakhelp_j_ return. end.
breakclean_j_''
p=. jpath'~break/'
fs=. ((<p),each{."1[1!:0 p,'*')-.<9!:46''
pc=. (>:;fs i:each'/')}.each fs
i=. ;pc i.each'.'
pids=. _1".each i{.each pc
classes=. (>:i)}.each pc
if. y-:1 do. /:~(>":each pids),.>' ',each classes return. end.
'no task to break'assert #fs
if. (0=#y)+.2=3!:0 y do.
  b=. classes= (0=#y){y;'default'
  'bad class'assert +/b
  fs=. (<p),each (":each b#pids),each '.',each b#classes
else.
  i=. pids i.<y
  'bad pid'assert i~:#pids
  fs=. <p,(":;i{pids),'.',;i{classes
end.
for_f. fs do.
  v=. 2<.>:a.i.1!:11 f,<0 1
  (v{a.) 1!:12 f,<0
end.
i.0 0
)

NB. =========================================================
NB.*setbreak v set break file
NB.-Set break
NB. y is class
NB. Creates unique file ~break/Pid.Class
setbreak=: 3 : 0
if. (-.IFQT)*.y-:'default' do. i.0 0 return. end. NB. only for qt and not default
try.
  assert #y
  q=. jpath '~break/'
  1!:5 ::] <q
  f=. q,(":2!:6''),'.',y
  ({.a.) 1!:12 f;0
  9!:47 f
  breakclean_j_''
  f
catch. 13!:12'' end.
)

NB. =========================================================
NB.*breakclean v erase orphan break files
breakclean_j_=: 3 : 0
q=. jpath '~break/'
fs=. ((<q),each{."1[1!:0 q,'*')-.9!:46''
if. UNAME-:'Win' do.
  ferase fs NB. windows erase has not effect while file is in use
else.
  d=. dltb each}.<;._2 spawn_jtask_'ps -e'
  allpids=. ;0".each (d i.each ' '){.each d
  pc=. (>:;fs i:each'/')}.each fs
  pids=. ;_1".each (;pc i.each'.'){.each pc
  ferase (-.pids e. allpids)#fs
end.
)

NB. =========================================================
NB.*breakhelp n break help
breakhelp_j_=: 0 : 0
   break 0     NB. help
   break 1     NB. list other ~break pids and classes
   break ''    NB. break to all default class tasks
   break '...' NB. break to all ... class tasks
   break pid   NB. break to that pid

1st break stops execution at line start
2nd break stops execution mid-line, 6!:3 , socket select

profile does setbreak'default' for Jqt
profile does not do it for jconsole or JHS (use ctrl+c)

   setbreak'abc' NB. set break file for this pid and class abc

https://code.jsoftware.com/wiki/Standard_Library/break
)

cocurrent <'j'
Alpha=: a. {~ , (a.i.'Aa') +/ i.26
Num=: a. {~ (a.i.'0') + i.10
AlphaNum=: Alpha,Num
Boxes=: ((16+i.11) { a.),:'+++++++++|-'
ScriptExt=: '.ijs'
ProjExt=: '.jproj'

extnone=: {.~ i:&'.'
extproj=: , (ProjExt #~ '.'&e. < 0 < #)
extsrc=: , ('.ijs' #~ '.'&e. < 0 < #)

addfname=: , ('/' ~: {:) # i:&'/' }. ]
boxdraw=: 3 : '9!:7 y { Boxes'
hostcmd=: [: 2!:0 '(' , ,&' || true)'
fpath=: [: }: +./\.@:=&'/' # ]
isURL=: 1 e. '://'&E.
maxrecent=: 3 : '(RecentMax <. #r) {. r=. ~.y'
pack=: [: (,. ".&.>) ;: ::]
pdef=: 3 : '0 0$({."1 y)=: {:"1 y'
seldir=: #~ '-d'&-:"1 @ (1 4&{"1) @ > @ (4&{"1)
spath=: #~ [: *./\. '/'&~:
termLF=: , (0 < #) # LF -. {:
termsep=: , (0 < #) # '/' -. {:
remsep=: }.~ [: - '/' = {:

path2proj=: ,'/',ProjExt ,~ spath
win2lower=: 3 : 0
if. 0=#CasePaths_j_ do. tolower y return. end.
p=. jpathsep y
n=. 1 + p i. ':'
d=. n {. p
if. (<d) e. CasePaths_j_ do. y return. end.
b=. n }. p
p=. d,(('/'~:{.b)#'/'), b,'/'
p=. (1 + p i: '/') {. p
p=. (I.p='/') {.each <p
if. 1 e. p e. CasePaths_j_ do. y else. tolower y end.
)
3 : 0''
if. UNAME-:'Darwin' do.
  filecase=: tolower
  isroot=: '/' = {.
elseif. IFUNIX do.
  filecase=: ]
  isroot=: '/' = {.
elseif. do.
  filecase=: win2lower
  isroot=: ('\\' -: 2&{.) +. ('//' -: 2&{.) +. (':' = {.@}.)
end.
0
)
dirtreex=: 3 : 0
'' dirtreex y
:
y=. jpath y
p=. (+./\. y = '/') # y
d=. 1!:0 y,('/' = {:y) # '*'
if. 0 = #d do. '' return. end.
a=. > 4 {"1 d
m=. 'd' = 4 {"1 a
f=. (<p) ,each {."1 d
if. 1 e. m do.
  f=. f, ; dirtreex each (m#f) ,each <'/','*'
end.
if. #x do.
  f #~ (1 e. x E. ])&> f
end.
)
getfolderdefs=: 3 : 0
p=. (, '/' , ProjExt ,~ spath) each subdirtree y
t=. p #~ #@(1!:0)&> p
t;<fpath each (1+#y) }. each (-#ProjExt) }. each t
)
isconfigfile=: 3 : 0
'p f'=. fpathname y
x=. f i: '.'
(p -: jpath '~config/') *. '.cfg'-:x}.f
)
isdir=: 3 : 0
d=. 1!:0 fboxname y
if. 1 ~: #d do. 0 return. end.
'd' = 4 { 4 pick ,d
)
isfile=: 3 : 0
d=. 1!:0 fboxname y
if. 1 ~: #d do. 0 return. end.
'd' ~: 4 { 4 pick ,d
)
istempname=: 3 : 0
x=. y i: '.'
*./ ('.ijs'-:x}.y),(x{.y) e. Num
)
istempscript=: 3 : 0
'p f'=. fpathname y
(p -: jpath '~temp/') *. istempname f
)
jshowconsole=: 3 : 0
if. -.IFWIN do. 'only supported in windows' return. end.
t=. {.>'kernel32.dll GetConsoleWindow x'cd''
'user32.dll ShowWindow n x i'cd t;(0-:y){5 0
i.0 0
)
mkdir=: 3 : 0
a=. termsep jpath y
if. #1!:0 }:a do. 1 return. end.
for_n. I. a='/' do.
  1!:5 :: 0: < n{.a
end.
)
newtempscript=: 3 : 0
x=. ScriptExt
p=. jpath '~temp/'
d=. 1!:0 p,'*',x
a=. (-#x) }. each {."1 d
a=. a #~ (*./ .e.&'0123456789') &> a
a=. 0, {.@:(0&".) &> a
p, x ,~ ": {. (i. >: #a) -. a
)
nounrep=: 2 }. [: ; [: nounrep1 each ;:
nounrep1=: LF2 , ] , '=: ' , [: nounrep2 ".
nounrep2=: 3 : 0
if. 0 = #y do. '''''' return. end.
select. 3!:0 y
fcase. 32 do.
  y=. ; y ,each LF
case. 2 do.
  if. LF e. y do.
    y=. y, LF -. {:y
    '0 : 0', LF, ; <;.2 y,')'
  else.
    quote y
  end.
case. do.
  ": y
end.
)
octal=: 3 : 0
t=. ,y
if. LF e. t do.
  t=. octal each <;._2 t,LF
  }: ; t ,each LF return.
end.
u=. isutf8 t
x=. a. i. t
m=. (x e. 9 13) < x < 32
if. u > 1 e. m do. t return. end.
n=. I. m=. m +. u < x > 126
s=. '\',.}.1 ": 8 (#.^:_1) 255,n{x
s ((n+3*i.#n)+/i.4)} (>:3*m)#t
)

rmdir=: 3 : 0
r=. 1;'not a directory: ',":y
if. 0=#y do. r return. end.
d=. 1!:0 y
if. 1 ~: #d do. r return. end.
if. 'd' ~: 4 { 4 pick {. d do. r return. end.
if. IFWIN do.
  shell_jtask_ 'rmdir "',y,'" /S /Q'
else.
  hostcmd_j_ 'rm -rf ',((-.UNAME-:'Darwin')#'--preserve-root '),y
end.
(#1!:0 y);''
)
runimmx0_j_=: 3 : 0
IMMX_j_=: utf8 y
9!:27 '0!:100 IMMX_j_'
9!:29 [ 1
)
runimmx1_j_=: 3 : 0
IMMX_j_=: utf8 y
9!:27 '0!:101 IMMX_j_'
9!:29 [ 1
)
scripts=: 3 : 0
if. 0=#y do.
  list 0{"1 Public
elseif. 'v'e.y do.
  dir=. Public
  a=. >0{"1 dir
  b=. >1{"1 dir
  a /:~ a,.' ',.b
elseif. 1 do.
  'invalid argument to scripts: ',,":y
end.
)
setfolder=: 3 : 0
if. 0=#y do.
  Folder=: FolderTree=: FolderIds=: '' return.
end.
assert. (<y) e. {."1 UserFolders
Folder=: y
'FolderTree FolderIds'=: getfolderdefs jpath '~',y
if. 3=nc <'snapshot_tree_jp_' do.
  snapshot_tree_jp_ FolderTree
end.
EMPTY
)
subdirtree=: 3 : 0
if. 0=#1!:0 y do. '' return. end.
r=. ''
dir=. <y,'/'
while. #dir do.
  fpath=. (>{.dir) &,
  dir=. }.dir
  dat=. seldir 1!:0 fpath '*'
  if. #dat do.
    dat=. fpath each {."1 dat
    r=. r,dat
    dir=. (dat ,each '/'),dir
  end.
end.
sort filecase each r
)
unixshell=: 3 : 0
f=. jpath '~temp/shell.sh'
t=. jpath '~temp/shell.txt'
e=. jpath '~temp/shell.err'
('#!/bin/sh',LF,y,LF) fwrite f
'rwx------' 1!:7 <f
hostcmd '"',f,'" > "',t,'" 2> "',e,'"'
r=. (fread t);fread e
ferase f;t;e
r
)
unixshellx=: 3 : 0
'res err'=. unixshell y
if. #err do.
  smoutput 'Shell command error: ',LF,LF,err
end.
res
)
browseref=: 3 : 0
htmlhelp 'dictionary/',y
)
dquote=: 3 : 0
if. '"' = {.y do. y else. '"',y,'"' end.
)
browse=: 3 : 0
if. -. isURL cmd=. dltb y do.
  if. -.fexist cmd do. EMPTY return. end.
end.
if. IFJHS do.
  redirecturl_jijxm_=: file2url cmd
  EMPTY return.
elseif. IFIOS do.
  jh '<a href="',(file2url cmd),'"</a>'
  EMPTY return.
end.
browser=. Browser_j_
select. UNAME
case. 'Win' do.
  ShellExecute=. 'shell32 ShellExecuteW > i x *w *w *w *w i'&cd
  SW_SHOWNORMAL=. 1
  NULL=. <0
  if. 0 = #browser do.
    r=. ShellExecute 0;(uucp 'open');(uucp winpathsep cmd);NULL;NULL;SW_SHOWNORMAL
  else.
    r=. ShellExecute 0;(uucp 'open');(uucp winpathsep browser);(uucp dquote winpathsep cmd);NULL;SW_SHOWNORMAL
  end.
  if. r<33 do. sminfo 'browse error:',browser,' ',cmd,LF2,1{::cderx'' end.
case. 'Android' do.
  android_exec_host 'android.intent.action.VIEW';(utf8 ('file://'&,)@abspath^:(-.@isURL) cmd);'text/html';16b0004000
case. do.
  if. 0 = #browser do.
    browser=. dfltbrowser''
  end.
  browser=. dquote (browser;Browser_nox_j_){::~ nox=. (UNAME-:'Linux') *. (0;'') e.~ <2!:5 'DISPLAY'
  cmd=. browser,' ',dquote cmd
  try.
    2!:1 cmd, (0=nox)#' >/dev/null 2>&1 &'
  catch.
    msg=. 'Could not run the browser with the command:',LF2
    msg=. msg, cmd,LF2
    if. IFQT do.
      msg=. msg, 'You can change the browser definition in Edit|Configure|Base',LF2
    end.
    sminfo 'Run Browser';msg
  end.
end.
EMPTY
)
dfltbrowser=: verb define
select. UNAME
case. 'Android' do. ''
case. 'Win' do. ''
case. 'Darwin' do. 'open'
case. do.
  try.
    2!:0'which x-www-browser 2>/dev/null'
    'x-www-browser' return. catch. end.
  try.
    2!:0'which google-chrome 2>/dev/null'
    'google-chrome' return. catch. end.
  try.
    2!:0'which chromium 2>/dev/null'
    'chromium' return. catch. end.
  try.
    2!:0'which chromium-browser 2>/dev/null'
    'chromium-browser' return. catch. end.
  try.
    2!:0'which firefox 2>/dev/null'
    'firefox' return. catch. end.
  try.
    2!:0'which konqueror 2>/dev/null'
    'konqueror' return. catch. end.
  try.
    2!:0'which opera 2>/dev/null'
    'opera' return. catch. end.
  '' return.
end.
)
viewpdf=: 3 : 0
if. -. isURL cmd=. dltb y do.
  if. -.fexist cmd do. EMPTY return. end.
end.
if. IFJHS do.
  redirecturl_jijxm_=: file2url cmd
  EMPTY return.
elseif. IFIOS do.
  jh '<a href="',(file2url cmd),'"</a>'
  EMPTY return.
end.
PDFReader=. PDFReader_j_
select. UNAME
case. 'Win' do.
  ShellExecute=. 'shell32 ShellExecuteW > i x *w *w *w *w i'&cd
  SW_SHOWNORMAL=. 1
  NULL=. <0
  if. 0 = #PDFReader do.
    r=. ShellExecute 0;(uucp 'open');(uucp winpathsep cmd);NULL;NULL;SW_SHOWNORMAL
  else.
    r=. ShellExecute 0;(uucp 'open');(uucp winpathsep PDFReader);(uucp dquote winpathsep cmd);NULL;SW_SHOWNORMAL
  end.
  if. r<33 do. sminfo 'view pdf error:',PDFReader,' ',cmd,LF2,1{::cderx'' end.
case. 'Android' do.
  android_exec_host 'android.intent.action.VIEW';(utf8 ('file://'&,)@abspath^:(-.@isURL) cmd);'application/pdf';0
case. do.
  PDFReader=. dquote PDFReader
  cmd=. PDFReader,' ',(dquote cmd),' &'
  try.
    2!:1 cmd
  catch.
    msg=. 'Could not run the PDFReader with the command:',LF2
    msg=. msg, cmd,LF2
    if. IFQT do.
      msg=. msg, 'You can change the PDFReader definition in Edit|Configure|Base',LF2
    end.
    sminfo 'Run PDFReader';msg
  end.
end.
EMPTY
)

linux_pdfreader=: <;._2]0 :0
xdg-open
evince
kpdf
xpdf
okular
acroread
)
dfltpdfreader=: verb define
select. UNAME
case. 'Android' do. ''
case. 'Win' do. ''
case. 'Darwin' do. 'open'
case. do.
  nox=. (UNAME-:'Linux') *. (0;'') e.~ <2!:5 'DISPLAY'
  if. ((UNAME-:'Linux') > nox) *. ''-: te=. nox{::PDFReader_j_;PDFReader_nox_j_ do.
    for_t. linux_pdfreader do.
      try. 2!:0'which ',(>t),' 2>/dev/null'
        te=. >t
        break.
      catch. end.
    end.
  end.
  te
end.
)
Folder=: ''
FolderTree=: FolderIds=: 0

Cwh=: 79 24
jpath=: 3 : 0
nam=. jpathsep y
if. '~' ~: {. nam do. return. end.
fld=. SystemFolders, UserFolders
ind=. nam i. '/'
tag=. }. ind {. nam
if. 0=#tag do.
  tag=. 'home'
  nam=. '~home',}.nam
  ind=. nam i. '/'
end.
if. tag -: 'addons' do.
  bal=. 8 }. nam
end.
par=. '.' = {. tag
if. par do.
  len=. ('.' = tag) i. 0
  tag=. len }. tag
end.
ndx=. ({."1 fld) i. <tag
if. ndx < # fld do.
  bal=. ind }. nam
  pfx=. 1 pick ndx { fld
  if. '~' = {.pfx do.
    pfx=. jpath pfx
  end.
  if. par do.
    pfx=. ((#pfx) | (+/\. pfx='/') i: len) {. pfx
  end.
  nam=. pfx,bal
end.
nam
)
tofoldername=: 3 : 0
if. 0=#y do. '' return. end.
folders=. UserFolders,SystemFolders
pds=. {."1 folders
pps=. termsep each {:"1 folders
ndx=. \: # &> pps
pds=. ndx{pds
pps=. ndx{pps
res=. filecase each boxxopen y
len=. # &> pps
for_i. i.#res do.
  nam=. i pick res
  if. '~' = {. nam,'~' do. continue. end.
  msk=. pps = len {. each <nam,'/'
  if. 1 e. msk do.
    ndx=. ((i. >./) msk # len) { I. msk
    nam=. ('~', > ndx { pds),(<: ndx { len) }. nam
    res=. (<nam) i } res
  end.
end.
pps=. }: each pps
ndx=. 1 + pps i: &> '/'
msk=. ndx < len
pps=. msk # ndx {.each pps
pds=. msk # pds
len=. # &> pps
for_i. i.#res do.
  nam=. i pick res
  if. '~' = {. nam,'~' do. continue. end.
  if. '/' = {. nam do. continue. end.
  msk=. pps = len {. each <nam
  if. 1 e. msk do.
    ndx=. ((i. >./) msk # len) { I. msk
    nam=. ('~.', > ndx { pds),(<: ndx { len) }. nam
    res=. (<nam) i } res
  end.
end.
if. L. y do. res else. >res end.
)
Loaded=: ''
Public=: i. 0 2
UserFolders=: i. 0 2
getignore=: 3 : 0
r=. ' colib compare convert coutil dates dir dll files libpath strings text gl2 graphics/gl2'
Ignore=: <;._1 r
)

getignore''
buildpublic=: 3 : 0
dat=. deb toJ y
dat=. a: -.~ <;._2 dat, LF
ndx=. dat i. &> ' '
short=. ndx {.each dat
long=. ndx }. each dat
long=. extsrc@jpathsep@deb each long
msk=. (<'system','/') = 7 {. each long
long=. (msk{'';'~') ,each long
msk=. (i. ~.) {."1 Public=: Public,~ short,.long
Public=: sort msk{Public
empty''
)
cutnames=: 3 : 0
if. LF e. y do.
  txt=. y, LF
  nms=. (txt = LF) <;._2 txt
else.
  txt=. y, ' '
  msk=. txt = '"'
  com=. (txt = ' ') > ~: /\ msk
  msk=. (msk *. ~:/\msk) < msk <: 1 |. msk
  nms=. (msk # com) <;._2 msk # txt
end.
nms -. a:
)
3 : 0''
if. 0=9!:24'' do.
  exist=: fexist
else.
  exist=: 0:
end.
1
)
fullname=: 3 : 0
p=. '/'
d=. jpath y
if. </ d i. ':',p do.
elseif. (2{.d) -: 2#p do.
elseif. p ~: 1{.d do.
  jcwdpath d
elseif. IFWIN do.
  (2{.jcwdpath''),d
end.
)
getscripts=: 3 : 0
if. 0=#y do. '' return. end.
if. 0=L.y do.
  if. isfile y do.
    fullname each fboxname y return.
  end.
  y=. cutnames y
end.
y=. y -. Ignore
if. 0=#y do. '' return. end.
ndx=. ({."1 Public) i. y
ind=. I. ndx < # Public
y=. ((ind { ndx) { 1 {"1 Public) ind } y
ind=. (I.-.isroot&>y) -. ind
if. #ind do.
  bal=. jpath each ind { y
  msk=. (isfile &> bal) +. '/'={:&> bal
  y=. (msk#bal) (msk#ind) } y
  ind=. (-.msk)#ind
  if. #ind do.
    bal=. (-.msk)#bal
    msk=. -. '.'&e.@(}.~i:&'/') &> bal
    msk=. msk *. *./@:((a.{~, 65 97 +/i.26)e.~])@:({.~i.&'/') &> bal
    msk=. msk > isroot &> bal
    cnt=. ('/' +/ .= ]) &> bal
    ndx=. I. msk *. cnt=1
    bal=. (addfname each ndx { bal) ndx } bal
    ndx=. I. msk *. cnt > 0
    bal=. (<jpath '~addons/') ,each (ndx{bal) ,each <'.ijs'
    y=. bal (ndx{ind) } y
  end.
end.
fullname each y
)
getpath=: ([: +./\. =&'/') # ]
xedit=: 0&$: : (4 : 0)
'file row'=. 2{.(boxopen y),<0
file=. dltb file
if. -.fexist file do. EMPTY return. end.
if. IFJHS do.
  xmr ::0: file
  EMPTY return.
end.
if. UNAME-:'Android' do.
  if. IFJA do.
    android_exec_host 'android.intent.action.VIEW';(utf8 ('file://'&,)@abspath^:(-.@isURL) file);'text/plain';0
  elseif. 1=ftype '/system/bin/vi' do.
    2!:1 '/system/bin/vi', ' ', (dquote >@fboxname file)
  elseif. 1=ftype '/system/xbin/vi' do.
    2!:1 '/system/xbin/vi', ' ', (dquote >@fboxname file)
  elseif. #Editor_j_ do.
    2!:1 Editor_j_, ' ', (dquote >@fboxname file)
  end.
  EMPTY return.
end.
editor=. (Editor_j_;Editor_nox_j_){::~ nox=. (UNAME-:'Linux') *. (0;'') e.~ <2!:5 'DISPLAY'
if. 0=#editor do. EMPTY return. end.
nox=. (UNAME-:'Linux') *. (0;'') e.~ <2!:5 'DISPLAY'
if. (UNAME-:'Linux')>nox do.
  if. 1 e. r=. 'term' E. editor do.
    if. '-e ' -: 3{. editor=. dlb (}.~ i.&' ') ({.I.r)}.editor do.
      editor=. TermEmu, (('gnome-terminal'-:TermEmu){::' -e ';' -- '), dlb 3}.editor
    else.
      editor=. TermEmu, ' ', editor
    end.
  else.
    editor=. TermEmu, (('gnome-terminal'-:TermEmu){::' -e ';' -- '), editor
  end.
end.
if. 1 e. '%f' E. editor do.
  cmd=. editor stringreplace~ '%f';(dquote >@fboxname file);'%l';(":>:row)
else.
  cmd=. editor, ' ', (dquote >@fboxname file)
end.
try.
  if. IFUNIX do.
    if. x do.
      2!:1 cmd
    else.
      2!:1 cmd, (0=nox)#' 1>/dev/null &'
    end.
  else.
    (x{0 _1) fork_jtask_ cmd
  end.
catch.
  msg=. '|Could not run the editor:',cmd,LF
  msg=. msg,'|You can change the Editor definition in Edit|Configure|Base'
  smoutput msg
end.
EMPTY
)

linux_terminal=: <;._2]0 :0
x-terminal-emulator
gnome-terminal
mate-terminal
konsole
urxvt
rxvt
lxterminal
xfce4-terminal
eterm
terminator
terminology
st
xterm
)
dflttermemu=: verb define
nox=. (UNAME-:'Linux') *. (0;'') e.~ <2!:5 'DISPLAY'
if. ((UNAME-:'Linux') > nox) *. ''-: te=. nox{::TermEmu_j_;TermEmu_nox_j_ do.
  for_t. linux_terminal do.
    try. 2!:0'which ',(>t),' 2>/dev/null'
      te=. >t
      break.
    catch. end.
  end.
end.
te
)
viewimage=: 3 : 0
if. -. isURL cmd=. dltb y do.
  if. -.fexist cmd do. EMPTY return. end.
end.
if. IFJHS do.
  redirecturl_jijxm_=: file2url cmd
  EMPTY return.
elseif. IFIOS do.
  jh '<a href="',(file2url cmd),'"</a>'
  EMPTY return.
end.
nox=. (UNAME-:'Linux') *. (0;'') e.~ <2!:5 'DISPLAY'
ImageViewer=. nox{::ImageViewer_j_;ImageViewer_nox_j_
select. UNAME
case. 'Win' do.
  ShellExecute=. 'shell32 ShellExecuteW > i x *w *w *w *w i'&cd
  SW_SHOWNORMAL=. 1
  NULL=. <0
  r=. ShellExecute 0;NULL;(uucp winpathsep cmd);NULL;NULL;SW_SHOWNORMAL
  if. r<33 do. sminfo 'view image error: ',cmd,LF2,1{::cderx'' end.
case. 'Android' do.
  android_exec_host 'android.intent.action.VIEW';(utf8 ('file://'&,)@abspath^:(-.@isURL) cmd);'image/*';0
case. do.
  if. 0 = #ImageViewer do.
    ImageViewer=. dfltimageviewer''
  end.
  if. 0 = #ImageViewer do.
    browser=. Browser_j_
    if. 0 = #browser do.
      browser=. dfltbrowser''
    end.
    browser=. dquote (browser;Browser_nox_j_){::~ nox=. (UNAME-:'Linux') *. (0;'') e.~ <2!:5 'DISPLAY'
  else.
    browser=. dquote ImageViewer
  end.
  cmd=. browser,' ',dquote cmd
  try.
    2!:1 cmd, (0=nox)#' >/dev/null 2>&1 &'
  catch.
    msg=. 'Could not run the image viewer with the command:',LF2
    msg=. msg, cmd,LF2
    if. IFQT do.
      msg=. msg, 'You can change the imageviewer definition in Edit|Configure|Base',LF2
    end.
    sminfo 'Run image viewer';msg
  end.
end.
EMPTY
)
dfltimageviewer=: verb define
select. UNAME
case. 'Android' do. ''
case. 'Win' do. ''
case. 'Darwin' do. 'open'
case. do.
  try.
    2!:0'which xdg-open 2>/dev/null'
    'xdg-open' return. catch. end.
  try.
    2!:0'which eog 2>/dev/null'
    'eog' return. catch. end.
  '' return.
end.
)
cocurrent 'z'
jpath=: jpath_j_
load=: 3 : 0
0 load y
:
fls=. getscripts_j_ y
fn=. ('script',x#'d')~
for_fl. fls do.
  if. Displayload_j_ do. smoutput > fl end.
  if. -. fexist fl do.
    smoutput 'not found: ',>fl
  end.
  fn fl
  Loaded_j_=: ~. Loaded_j_,fl
end.
empty''
)
loadd=: 1&load
require=: 3 : 0
fls=. Loaded_j_ -.~ getscripts_j_ y
if. # fls do. load fls else. empty'' end.
)
scripts=: scripts_j_
show=: 3 : 0
y=. y,(0=#y)#0 1 2 3
if. (3!:0 y) e. 2 32 do. y=. cutopen y
else. y=. (4!:1 y) -. (,'y');,'y.' end.
wid=. {.wcsize''
sub=. '.'&(I. @(e.&(9 10 12 13 127 254 255{a.))@]})
j=. '((1<#$t)#(":$t),''$''),":,t'
j=. 'if. L. t=. ".y do. 5!:5 <y return. end.';j
j=. 'if. 0~:4!:0 <y do. 5!:5 <y return. end.';j
a=. (,&'=: ',sub @ (3 : j)) each y
; ((wid <. #&> a) {.each a) ,each LF
)
xedit=: xedit_j_
wcsize=: 3 : 0
if. (-.IFQT+.IFJNET+.IFJHS+.IFIOS) *. UNAME-:'Linux' do.
  |.@".@(-.&LF)@(2!:0) :: (Cwh_j_"_) '/bin/stty size 2>/dev/null'
else.
  (Cwh_j_"_)`((0 ". wd) :: (Cwh_j_"_))@.IFQT 'sm get termcwh'
end.
)
coclass 'jcompare'

MAXPFX=: 100
MAXLCS=: *: MAXPFX
cin=: e. ,
fmt0=: 'p<0 [>q<] >' & (8!:0)
fmt1=: 'p<1 [>q<] >' & (8!:0)
lcs=: * * 1 + >./\@:(_1&|.)@:(>./\"1@:(_1&|."1))
mindx=: }.@{.@/:~@(+/"1 ,. ])
remltws=: 3 : 0
y=. y, LF
dat=. <;._2 y
msk=. CR = {: &> dat
dat=. (-msk) }. each dat
fn=. #~ ([: (+./\ *. +./\.) -.@(e.&(' ',TAB)))
dat=. fn each dat
dat=. dat ,each msk{'';CR
}: ; dat ,each LF
)
comp=: 4 : 0

sep=. ((LF cin x) +. LF cin y) { CRLF
if. 2=#$x do. x=. <@dtb"1 x
else. x=. <;._2 x,sep -. {:x end.
if. 2=#$y do. y=. <@dtb"1 y
else. y=. <;._2 y,sep -. {:y end.
if. x -: y do. 'no difference' return. end.
XY=: x,y
AX=: X=: XY i. x
AY=: Y=: XY i. y
NX=: i.#x
NY=: i.#y
SX=: SY=: ''
while. compend'' do. complcs'' end.
sx=. /:~ SX
sy=. /:~ SY
x=. (fmt0 sx) ,each (sx { AX) { XY
y=. (fmt1 sy) ,each (sy { AY) { XY
r=. (x,y) /: (sx,.0),sy,.1
}: ; r ,each LF
)
fcomp=: 4 : 0
'p j n'=. 3 {. x
'ifws ifsep'=. 2 2 #: j
'x y'=. _2 {. ,&p each cutopen y
if. L. n do.
  'nx ny'=. n
else.
  nx=. x [ ny=. y
end.
f=. 1!:1 :: _1:
tx=. f x=. fboxname x
if. tx -: _1 do. 'unable to read ',nx return. end.
ty=. f y=. fboxname y
if. ty -: _1 do. 'unable to read ',ny return. end.
tx=. f2utf8 tx
ty=. f2utf8 ty
if. ifsep do.
  tx=. toJ tx
  ty=. toJ ty
end.
if. ifws do.
  tx=. remltws tx
  ty=. remltws ty
end.
f=. _3&{.@('0'&,@(":@]))
mth=. _3[\'   JanFebMarAprMayJunJulAugSepOctNovDec'
'a m d h n s'=. 6{.1 pick dx=. ,1!:0 x
fx=. (4":d),' ',(m{mth),'  ::' 0 3 6 9};f &.> 100|a,h,n,s
'a m d h n s'=. 6{.1 pick dy=. ,1!:0 y
fy=. (4":d),' ',(m{mth),'  ::' 0 3 6 9};f &.> 100|a,h,n,s
'nx ny'=. <"1>nx;ny
r=. 'comparing:',LF
r=. r,nx,fx,'  ',(":2 pick dx),LF
r=. r,ny,fy,'  ',(":2 pick dy),LF
r,tx compare ty
)
compare=: 4 : 0
if. x -: y do. 'no difference' return. end.
if. 0=#x do. 'empty left argument' return. end.
if. 0=#y do. 'empty right argument' return. end.
a=. conew 'jcompare'
r=. x comp__a y
coerase a
r
)
fcompare=: 3 : 0
('';0) fcomp y
:
(x;0) fcomp y
)
fcompares=: 3 : 0
('';1) fcomp y
:
(x;1) fcomp y
)
compend=: 3 : 0
old=. 0 0
len=. (#X),#Y

while. -. len -: old do.
  old=. len
  t=. <./len
  m=. 0 i.~ (t {. X) = t {. Y
  X=: m }. X
  Y=: m }. Y
  t=. m - t
  n=. - +/ *./\. (t {. X) = t {. Y
  X=: n }. X
  Y=: n }. Y
  NX=: m }. n }. NX
  NY=: m }. n }. NY
  m=. X e. Y
  if. 0 e. m do.
    SX=: SX,(-.m)#NX
    X=: m # X
    NX=: m # NX
  end.
  m=. Y e. X
  if. 0 e. m do.
    SY=: SY,(-.m)#NY
    Y=: m # Y
    NY=: m # NY
  end.
  len=. (#X),#Y
end.
if. -. 0 e. len do. 1 return. end.
SX=: SX,NX
SY=: SY,NY
0
)
complcs=: 3 : 0
lx=. #X
ly=. #Y
if. MAXLCS < lx * ly do.
  select. MAXPFX < lx,ly
  case. 0 1 do.
    ly=. <. MAXLCS % lx
  case. 1 0 do.
    lx=. <. MAXLCS % ly
  case. do.
    lx=. ly=. MAXPFX
  end.
end.
a=. lx {. X
b=. ly {. Y
m=. ((b =/ a),.0),0
cm=. lcs ^:_ m
len=. >./ ,cm
rc=. 1 + mindx ($cm) #: I. len = ,cm
cm=. , rc {. cm
msk=. (1+i.len) =/ cm
ndx=. <@I."1 msk
pos=. ; (<rc) #: each ndx
pos=. (+/"1 pos),.pos
pos=. ((# &> ndx) # i.len),.pos
pos=. /:~ pos
'ib ia'=. |: 2 }."1 (~:{."1 pos)#pos
n=. 1 + {: ia
SX=: SX,(<<<ia) { n {. NX
X=: n }. X
NX=: n }. NX
n=. 1 + {: ib
SY=: SY,(<<<ib) { n {. NY
Y=: n }. Y
NY=: n }. NY
0
)
compare_z_=: compare_jcompare_
fcompare_z_=: fcompare_jcompare_
fcompares_z_=: fcompares_jcompare_
FoldZv_j_ =: 0 0  NB. isfold, iteration count
NB. Fold.  Foldtype_j_ is set by caller
Fold_j_ =: 2 : 0
'init mult fwd rev' =. 2 2 2 2 #: Foldtype_j_
4!:55 <'Foldtype_j_'
fzv =. FoldZv_j_  NB. stack fold info
FoldZv_j_ =. 0 0
FoldThrow_j_ =: $0  NB. If nonempty, set to throw type
if. fwd+rev do.  NB. if forward or reverse...
  nitems =. init + #y  NB. total # items, including init if any
  if. nitems<2 do.
    emptycell =. 0 # (,:x) [^:init y  NB. fillcell: empty array of x or (item of y)
    try. res =. v. u./ emptycell  NB. get the neutral for the empty cell, and try applying v to it
    catcht. 13!:8 (3)  NB. Z: on empty is domain error
NB. obsolete     catch. 13!:8 (3 3&, {~ 43 44&i.) 13!:11 '' [ FoldZv_j_ =. fzv  NB. if error, pass it through; if no results, error
    end.
    if. mult do. res =. 0 # ,: res end.  NB. Single result is neutral, Multiple result is empty array of them
  else.  NB. at least 2 cells.  We will run the loop
    if. init do. cellres =. x else. cellres =. (-rev) { y end.  NB. cellres=first cell, either 0 (fwd) or _1 (rev)
    cellx =. -init  NB. 1 less than index of first cell for left side
    res =. ''   NB. init list of results - to nonboxed empty
    while. (({.FoldZv_j_)<:1) *. (cellx=.>:cellx) < #y do.
      FoldZv_j_ =: FoldZv_j_ + 0 1  NB. increment number of times we started u (used by Z:)
      try. vres =. v. cellres =. ((24 b.^:rev cellx) { y) u. cellres  NB. 1s-comp of cellx if rev
      catcht.
        FoldThrow_j_ =: $0 [ ft =. FoldThrow_j_  NB. save & clear signaling vbl
        if. 43 -: ft do. break. end.  NB. abort iteration and end
        if. 44 -: ft do. continue. end.  NB. abort iteration and continue
        13!:8 (35) [ FoldZv_j_ =. fzv  NB. not an iteration control, pass the throw. along
NB. obsolete       catch.
NB. obsolete         if. 43 = 13!:11'' do. break. end.  NB. abort iteration and end
NB. obsolete         if. 44 = 13!:11'' do. continue. end.  NB. abort iteration and continue
NB. obsolete         13!:8 ] 13!:11 '' [ FoldZv_j_ =. fzv  NB. not an iteration control, fail with that error code
      end.
      NB. continuing iteration.  cellres is the u result, vres is the boxed v result
      if. ({.FoldZv_j_) e. 0 2 do. res =. res ,^:mult <vres else. FoldZv_j_ =. FoldZv_j_ 18 b. 1 0 end.
    end.
    if. 32 ~: 3!:0 res do. 13!:8 (3) [ FoldZv_j_ =. fzv end.  NB. If nothing produced result, error
    res =. > res
  end.
else.  NB. repeated iteration on y, not related to items
  res =. '' [ cellres =. y   NB. no results, and 
  while. (({.FoldZv_j_)<:1) do.
    FoldZv_j_ =: FoldZv_j_ + 0 1  NB. increment number of times we started u (used by Z:)
    try.
      if. init do. cellres =. x u. cellres else. cellres =. u. cellres end.
      vres =. v. cellres
    catcht.
      FoldThrow_j_ =: $0 [ ft =. FoldThrow_j_  NB. save & clear signaling vbl
      if. 43 -: ft do. break. end.  NB. abort iteration and end
      if. 44 -: ft do. continue. end.  NB. abort iteration and continue
      13!:8 (35) [ FoldZv_j_ =. fzv  NB. not an iteration control, pass the throw. along
NB. obsolete     catch.
NB. obsolete       if. 43 = 13!:11'' do. break. end.  NB. abort iteration and end
NB. obsolete       if. 44 = 13!:11'' do. continue. end.  NB. abort iteration and continue
NB. obsolete       13!:8 ] 13!:11 '' [ FoldZv_j_ =. fzv  NB. not an iteration control, fail with that error code
    end.
    NB. continuing iteration.  cellres is the u result, vres is the boxed v result
    if. ({.FoldZv_j_) e. 0 2 do. res =. res ,^:mult <vres else. FoldZv_j_ =. FoldZv_j_ 18 b. 1 0 end.
  end.
  if. 32 ~: 3!:0 res do. 13!:8 (3) [ FoldZv_j_ =. fzv end.  NB. no results is domain error
  res =. >res
end. 
res [ FoldZv_j_ =. fzv
)

   
FoldZ_j_ =: 4 : 0
if. 0~:#@$ y do. 13!:8(3) end.
if. 0~:#@$ x do. 13!:8(3) end.
if. y do.
  select. x
  case. _3 do.
    if. y <: 1 { FoldZv_j_ do. 13!:8 ] 36 end.
  case. _2 do.
    FoldThrow_j_ =: 43 throw.  NB. break
  case. _1 do.
    FoldThrow_j_ =: 44 throw.  NB. continue
  case. 0 do.
  FoldZv_j_ =: FoldZv_j_ 23 b. 1 0  NB. suppress output
  case. 1 do.
  FoldZv_j_ =: FoldZv_j_ 23 b. 2 0 NB. stop after this
  end.
end.
$0
)

      
cocurrent <'base'
coclass <'jsocket'
coinsert 'jdefs'

jsystemdefs 'hostdefs'
jsystemdefs 'netdefs'
3 : 0''
assert. INADDR_ANY=0
assert. sockaddr_sz=16
if. IFUNIX do.
  assert. fds_bits_off=0
end.
)
3 : 0''
select. UNAME
case. 'Win' do.
  c=. >IFWINCE{'wsock32';'winsock'
  ccdm=: 1 : ('(''"',c,,'" '',u)&(15!:0)')
  ncdm=: ccdm
  scdm=: ccdm
  wcdm=: ccdm
  LIB=: ''
  closesocketJ=: 'closesocket i i' scdm
  ioctlsocketJ=: 'ioctlsocket i i i *i' scdm
case. do.
  c=. unxlib 'c'
  ccdm=: 1 : ('(''"',c,'" '',u)&(15!:0)')
  ncdm=: ccdm
  scdm=: ccdm
  wcdm=: 1 : ']'
  LIB=: c
  closesocketJ=: 'close i i' scdm
  ioctlsocketJ=: 'ioctl i i x *i' scdm
end.
empty''
)
gethostbyaddrJ=: 'gethostbyaddr * * i i' ncdm
gethostbynameJ=: 'gethostbyname * *c' ncdm
gethostnameJ=: 'gethostname i *c i' ncdm
inet_addrJ=: 'inet_addr i *c' ncdm
inet_ntoaJ=: 'inet_ntoa i i' ncdm
acceptJ=: 'accept i i * *i' scdm
acceptNullJ=: 'acceptNull i i *c *c' scdm
bindJ=: 'bind i i * i' scdm
connectJ=: 'connect i i * i' scdm
FD_ISSETJ=: 'FD_ISSET i i ' scdm
getpeernameJ=: 'getpeername i i * *i' scdm
getprotobynameJ=: 'getprotobyname i *c' scdm
getprotobynumberJ=: 'getprotobynumber i i' scdm
getservbynameJ=: 'getservbyname i i i' scdm
getservbyportJ=: 'getservbyport i i i' scdm
getsocknameJ=: 'getsockname i i * *i' scdm
getsockoptJ=: 'getsockopt i i i i *i *i' scdm
htonlJ=: 'htonl i i' scdm
htonsJ=: 'htons s s' scdm
listenJ=: 'listen i i i' scdm
ntohlJ=: 'ntohl i i' scdm
ntohsJ=: 'ntohs s s' scdm
recvJ=: 'recv i i * i i' scdm
recvfromJ=: 'recvfrom i i *c i i * *i' scdm
selectJ=: 'select i i * * * *' ccdm
sendJ=: 'send i i *c i i' scdm
sendtoJ=: 'sendto i i *c i i * i' scdm
setsockoptJ=: 'setsockopt i i i i *i i' scdm
shutdownJ=: 'shutdown i i i' scdm
socketJ=: 'socket i i i i' scdm

WSAAsyncGetHostByAddrJ=: 'WSAAsyncGetHostByAddr i i i i i i i i' wcdm
WSAAsyncGetHostByNameJ=: 'WSAAsyncGetHostByName i i i *c i i' wcdm
WSAAsyncGetProtoByNameJ=: 'WSAAsyncGetProtoByName i i i *c i i' wcdm
WSAAsyncGetProtoByNumberJ=: 'WSAAsyncGetProtoByNumber i i i i i i' wcdm
WSAAsyncGetServByNameJ=: 'WSAAsyncGetServByName i i i *c *c i i' wcdm
WSAAsyncGetServByPortJ=: 'WSAAsyncGetServByPort i i i i *c i i' wcdm
WSAAsyncSelectJ=: 'WSAAsyncSelect i i i i i' wcdm
WSACancelAsyncRequestJ=: 'WSACancelAsyncRequest i i' wcdm
WSACancelBlockingCallJ=: 'WSACancelBlockingCall i ' wcdm
WSACleanupJ=: 'WSACleanup i ' wcdm
WSAGetLastErrorJ=: 'WSAGetLastError i ' wcdm
WSAIsBlockingJ=: 'WSAIsBlocking i ' wcdm
WSASetBlockingHookJ=: 'WSASetBlockingHook i i' wcdm
WSASetLastErrorJ=: 'WSASetLastError i i' wcdm
WSAStartupJ=: 'WSAStartup i i *' wcdm
WSAStringToAddressJ=: 'WSAStringToAddress i c i i i i' wcdm
WSAUnhookBlockingHookJ=: 'WSAUnhookBlockingHook i ' wcdm
x_WSAFDIsSetJ=: 'x_WSAFDIsSet i i i' wcdm

sderror=: 3 : 0
'num msg'=. SDERRORS
> (num i. >{.y) { msg, <'unknown error'
)
j=. <;._2 (0 : 0)
    0 no error
10004 EINTR
10009 EBADF
10011 EAGAIN
10013 EACCES
10014 EFAULT
10022 EINVAL
10024 EMFILE
10035 EWOULDBLOCK
10036 EINPROGRESS
10037 EALREADY
10038 ENOTSOCK
10039 EDESTADDRREQ
10040 EMSGSIZE
10041 EPROTOTYPE
10042 ENOPROTOOPT
10043 EPROTONOSUPPORT
10044 ESOCKTNOSUPPORT
10045 EOPNOTSUPP
10046 EPFNOSUPPORT
10047 EAFNOSUPPORT
10048 EADDRINUSE
10049 EADDRNOTAVAIL
10050 ENETDOWN
10051 ENETUNREACH
10052 ENETRESET
10053 ECONNABORTED
10054 ECONNRESET
10055 ENOBUFS
10056 EISCONN
10057 ENOTCONN
10058 ESHUTDOWN
10059 ETOOMANYREFS
10060 ETIMEDOUT
10061 ECONNREFUSED
10062 ELOOP
10063 ENAMETOOLONG
10064 EHOSTDOWN
10065 EHOSTUNREACH
10066 ENOTEMPTY
10067 EPROCLIM
10068 EUSERS
10069 EDQUOT
10070 ESTALE
10071 EREMOTE
10091 SYSNOTREADY
10092 VERNOTSUPPORTED
10093 NOTINITIALISED
10098 EADDRINUSE
10101 EDISCON
11001 HOST_NOT_FOUND
11002 TRY_AGAIN
11003 NO_RECOVERY
11004 NO_DATA
)

SDERRORS=: (0 ". 5 {. &> j) ; < 6 }.each j
SDERRORS=: ((10000*IFUNIX) | >{.SDERRORS);{:SDERRORS

tostring=: 3 : 0
}: ;'.',~each ":each a.i.y
)

data2string=: 3 : 0
tostring 4{.4}.2{::y
)

namesub=: 3 : 0
if. 0~:res y do. (sdsockerror'');0;'';0 return. end.
0;AF_INET;(data2string y);256#.a.i.2 3{2{::y
)

flip=: 'a'={.2 ic a.i.'a'
bigendian=: |.^:flip
hns=: 3 : 'a.{~256 256#:y'
hs=: 3 : 'bigendian a.{~256 256#:y'
res=: >@:{.

sockaddr_in=: 3 : 0
's fam host port'=. y
assert. fam=AF_INET
if. 0=#host do. host=. '0.0.0.0' end.
(hs AF_INET),(hns port),(afroms host),8#{.a.
)

sockaddr_split=: 3 : 0
'fam port host'=. 1 0 1 0 1 0 0 0 <;.1 (8){.y
assert. AF_INET = 256 256 #. a. i. bigendian fam
port=. 256 256 #. a. i. port
host=. }. , sfroma "0 host
host;port
)

sfroma=: 3 : 0
'.',": a. i. y
)
afroms=: 3 : 0
a.{~4{.".each '.' cutopen y
)
rc0=: 3 : 0
if. 0=>{.y do. 0 else. sdsockerror'' end.
)

sdsockaddress=: 3 : 0"0
r=. getsocknameJ y;(sockaddr_in_sz#{.a.);,sockaddr_in_sz
(rc0 r);data2string r
)
sdsend=: 4 : 0"1
if. '' -: $x do. x=. ,x end.
r=. >{.sendJ (>0{y);x;(#x);>1{y
if. _1=r do. 0;~sdsockerror'' else. 0;r end.
)
sdsendto=: 4 : 0"1
if. 3 = #y do.
  's flags saddr'=. y
  r=. >{.sendtoJ s;x;(#x);flags;saddr;sockaddr_in_sz
else.
  's flags family address port'=. y
  r=. >{.sendtoJ s;x;(#x);flags;(sockaddr_in 0 2 3 4{y);sockaddr_in_sz
end.
if. _1=r do. 0;~sdsockerror'' else. 0;r end.
)

sdcleanup=: 3 : '0[(sdclose ::0:"0@[ shutdownJ@(;&2)"0)^:(*@#)SOCKETS_jsocket_'
sdinit=: 3 : 0
if. 0=nc<'SOCKETS_jsocket_' do. 0 return. end.
SOCKETS_jsocket_=: ''
if. IFUNIX do. 0 return. end.
if. 0~:res WSAStartupJ 257;1000$' ' do. _1[sminfo'Socket Error' else. 0 end.
)
sdrecv=: 3 : 0"1
's size'=. 2{.y
r=. recvJ s;(size#' ');size;2{3{.y
if. 0>c=. res r do. '';~sdsockerror'' return. end.
0;c{.>2{r
)
sdrecvfrom=: 3 : 0"1
's size flags'=. 3 {. y ,<0
s=. {.s
r=. recvfromJ s;(size#' ');size;flags;(sockaddr_in_sz#{.a.);,sockaddr_in_sz
'unexpected size of peer address' assert sockaddr_in_sz = 6 pick r
if. 0>c=. res r do. (sdsockerror '');'';'' return. end.
0;(c{.>2{r); 5{r
)
sdconnect=: 3 : 0"1
rc0 connectJ (>{.y);(sockaddr_in y);sockaddr_in_sz
)
sdsocket=: 3 : 0"1
s=. res socketJ <"0 [3{.y,(0=#y)#PF_INET,SOCK_STREAM,IPPROTO_TCP
if. s=_1 do. 0;~sdsockerror'' return. end.
SOCKETS_jsocket_=: SOCKETS_jsocket_,s
0;s
)
sdbind=: 3 : 0"1
rc0 bindJ (>{.y);(sockaddr_in y);sockaddr_in_sz
)
sdlisten=: 3 : 0"1
rc0 listenJ ;/2 {. y,<^:(L.y) SOMAXCONN
)
sdaccept=: 3 : 0"0
if. _1~:s=. res r=. acceptJ y;(sockaddr_in_sz$' ');,sockaddr_in_sz do.
  SOCKETS_jsocket_=: SOCKETS_jsocket_,s
  0;s
else. 0;~sdsockerror '' end.
)
sdgethostbyname=: 3 : 0
if. 0~:hostent=. res gethostbynameJ <y do.
  addr_list=. memr hostent, h_addr_list_off, 1, JPTR
  first_addr=. memr addr_list, 0, 1, JPTR
  'name did not resolve to address' assert first_addr ~: 0
  addr=. tostring memr first_addr,0,4
else.
  addr=. '255.255.255.255'
end.
0;PF_INET;addr
)
sdgethostbyaddr=: 3 : 0"1
'fam addr'=. y
phe=. res gethostbyaddrJ (afroms addr);4;fam
if. phe=0 do. _1;'unknown host' return. end.
a=. memr phe,h_name_off,1,JPTR
0;memr a,0,JSTR
)
sdclose=: 3 : 0"0
if. 0=res closesocketJ <y do.
  0[SOCKETS_jsocket_=: SOCKETS_jsocket_-.y
else.
  sdsockerror ''
end.
)
fdset_bytes=: 4 : 0
bitvector=. 1 y} (x*8)#0
bytes=. a. {~ _8 #.@|.\ bitvector
if. -.flip do. bytes=. , _4 |.\ bytes end.
bytes
)
fdset_fds=: 3 : 0
bytes=. y
if. -.flip do. bytes=. , _4 |.\ bytes end.
bitvec=. , _8 |.\ , (8#2)&#: a. i. bytes
I. bitvec
)
sdselect=: 3 : 0
if. 0=#y do. y=. SOCKETS_jsocket_;SOCKETS_jsocket_;SOCKETS_jsocket_;0 end.
'r w e t'=. y
time=. <<.1000000 1000000#:1000*t
if. IFUNIX do.
  max1=. >:>./r,w,e,0
  m=. 4
  n=. 32
  bytes=. m*>:<.n%~max1
  r=. bytes fdset_bytes r
  w=. bytes fdset_bytes w
  e=. bytes fdset_bytes e
  rwe=. r;w;e
else.
  max1=. 0
  rwe=. (] ,~ #) each r;w;e
end.
if. _1=res q=. selectJ (<max1),rwe,time do.
  (sdsockerror '');($0);($0);($0)
else.
  if. IFUNIX do. rwe=. fdset_fds each 2 3 4{q else. rwe=. ({.{.}.)each 2 3 4{q end.
  (<0),rwe
end.
)
sdgetsockopt=: 3 : 0
's lev name'=. y
r=. getsockoptJ s;lev;name;(,_1);,4
if. 0~:res r do. 0;~sdsockerror'' return. end.
d=. ''$>4{r
if. name-:SO_LINGER do. 0;65536 65536#:d else. 0;d end.
)
sdsetsockopt=: 3 : 0
's lev name val'=. y
if. name -: SO_LINGER do. val=. 65536 65536#.val end.
rc0 setsockoptJ s;lev;name;(,val);4
)
sdsockerror=: 3 : 0
> {. cderx ''
)
sdioctl=: 3 : 0
's option value'=. y
r=. ioctlsocketJ s;option;,value
if. 0~:res r do. 0;~sdsockerror'' else. 0;''$>3{r end.
)
sdionread=: 3 : 0
''$>{.sdcheck sdioctl y,FIONREAD,0
)
sdgethostname=: 3 : 0
if. 0=res r=. gethostnameJ (256#' ');256 do.
  0;>{.1 take (0{a.)cutopen ;1{r
else.
  0;'unknown host'
end.
)
sdgetpeername=: 3 : 0"0
namesub getpeernameJ y;(sockaddr_in_sz#{.a.);,sockaddr_in_sz
)
sdgetsockname=: 3 : 0"0
namesub getsocknameJ y;(sockaddr_in_sz#{.a.);,sockaddr_in_sz
)

sdgetsockets=: 3 : '0;SOCKETS_jsocket_'
sdcheck=: }. ` (sderror 13!:8 3:) @. (0 ~: >@{.)
INVALID_SOCKET=: 1
SOCKET_ERROR=: _1
sdinit''
NB. regular expressions
NB.%regex.ijs - regular expressions
NB.-This script defines regular expression utilities
NB.-Definitions are loaded into the jregex locale with
NB.-cover functions in the z locale

coclass <'jregex'
NB. util

Rxnna=: '(^|[^[:alnum:]_])'
Rxnnz=: '($|[^[:alnum:]_.:])'
Rxass=: '[[:space:]]*=[.:]'

ischar=: 2=3!:0

NB. =========================================================
NB. user compilation flags (0=off, 1=on)
RX_OPTIONS_MULTILINE=: 1  NB. enable newline support, default on
RX_OPTIONS_UTF8=: 1  NB. enable UTF-8 support, default on

NB. =========================================================
NB. clear last values, not saved compiles
regclear=: 3 : 0
lastcomp=: lasthandle=: lastmatch=: lastnsub=: 0
lastpattern=: ''
EMPTY
)

NB. =========================================================
regcomp=: 3 : 0
if. -.ischar y do. reghandle y return. end.
if. (0<#y) *. y-:lastpattern do. return. end.
regfree''
lastpattern=: y
msg=. ,2
off=. ,2
flg=. PCRE2_MULTILINE*RX_OPTIONS_MULTILINE
lastcomp=: 0 pick rc=. jpcre2_compile (,y);(#y);flg;msg;off;<<0
'msg off'=. 4 5{rc
if. 0=lastcomp do. regerror msg,off end.
lasthandle=: 0
lastmatch=: 0 pick jpcre2_match_data_create_from_pattern (<lastcomp);<<0
lastnsub=: 0 pick jpcre2_get_ovector_count <<lastmatch
EMPTY
)

NB. =========================================================
NB. regerror
regerror=: 3 : 0
m=. regerrormsg y
lasterror=: m
regfree''
m 13!:8[12
)

NB. =========================================================
regerrormsg=: 3 : 0
'msg off'=. 2 {. y,_1
m=. (0 >. >{.rc) {. 2{::rc=. jpcre2_get_error_message msg;(256#' ');256
if. off >: 0 do.
  m=. m,' at offset ',(":off),LF
  m=. m,lastpattern,LF,(off#' '),'^',LF
end.
)

NB. =========================================================
regfree=: 3 : 0
if. lasthandle=0 do.
  if. lastmatch do.
    jpcre2_match_data_free <<lastmatch
  end.
  if. lastcomp do.
    jpcre2_code_free <<lastcomp
  end.
end.
regclear''
)

NB. =========================================================
NB. set handle
reghandle=: 3 : 0
reghandlecheck y
ndx=. cmhandles i. y
'lastcomp lastmatch lastnsub'=: ndx{cmtable
lastpattern=: ndx pick cmpatterns
lasthandle=: ndx{cmhandles
EMPTY
)

NB. =========================================================
reghandlecheck=: 3 : 0
if. y e. cmhandles do. y return. end.
m=. 'handle not found: ',":y
m 13!:8[12
)

NB. =========================================================
regmatch1=: 3 : 0
regmatchtab 0 pick jpcre2_match (<lastcomp);(,y);(#y);0;0;(<lastmatch);<<0
)

NB. =========================================================
regmatch2=: 3 : 0
's p'=. y
regmatchtab 0 pick jpcre2_match (<lastcomp);(,s);(#s);p;PCRE2_NOTBOL;(<lastmatch);<<0
)

NB. =========================================================
NB. get match table
regmatchtab=: 3 : 0
if. y >: 0 do.
  p=. 0 pick jpcre2_get_ovector_pointer <<lastmatch
  'b e'=. |:_2 [\ memr p,0,(2*lastnsub),4
  _1 0 (I.b=_1) } b,.e-b
elseif. y=_1 do.
  ,:_1 0
elseif. do.
  regerror y
end.
)

NB. =========================================================
NB. show all matches
regshow=: 4 : 0
m=. x rxmatches y
r=. ,:y
if. 0 = # m do. return. end.
for_i. i. 1 { $ m do.
  a=. i {"2 m
  x=. ;({."1 a) (+i.) each {:"1 a
  r=. r, '^' x } (#y) # ' '
end.
)

NB. =========================================================
NB. for now just check if comp is a valid compiled pattern
regvalid=: 3 : 0
len=. 0 pick jpcre2_pattern_info (<y);PCRE2_INFO_SIZE;<<0
rc=. 0 pick jpcre2_pattern_info (<y);PCRE2_INFO_SIZE;<len$' '
if. rc>:0 do. 1 else. 0[echo (regerrormsg rc),': ',":y end.
)

NB. =========================================================
showhandles=: 3 : 0
cls=. ;:'pattern handle comp match nsub valid'
if. #cmpatterns do.
  val=. regvalid &> {."1 cmtable
  dat=. (>cmpatterns);<@,."1 |: cmhandles,.cmtable,.val
else.
  dat=. (#cls)#<EMPTY
end.
cls,:dat
)

NB. =========================================================
NB. utility to show rxmatches at top level
showmatches=: 4 : 0
m=. x rxmatches y
r=. ,:y
if. 0 = # m do. return. end.
'b e'=. |:{."2 m
p=. ;b (+ i.) each e
r, '^' p } (#y) # ' '
)
NB. lib

NB. =========================================================
NB. compile flags:
PCRE2_NOTBOL=: 16b1
PCRE2_NOTEOL=: 16b2
PCRE2_MULTILINE=: 16b400

NB. info types:
PCRE2_INFO_SIZE=: 22

NB. =========================================================
NB. pcre2 library is in bin or tools/regex
3 : 0''
select. UNAME
case. 'Win' do. t=. 'jpcre2.dll'
case. 'Darwin' do. t=. 'libjpcre2.dylib'
case. 'Linux' do. t=. 'libjpcre2.so'
case. 'Android' do. t=. 'libjpcre2.so'
end.

f=. BINPATH,'/',t
if. 0 = 1!:4 :: 0: <f do.
  f=. jpath '~tools/regex/',t
end.

NB. fall back one more time
if. ('Android'-:UNAME) *. 0 = 1!:4 :: 0: <f do.
  f=. (({.~i:&'/')LIBFILE),'/',t
elseif. ('Linux'-:UNAME) *. (IFUNIX>'/'e.LIBFILE) *. 0 = 1!:4 :: 0: <f do.
  f=. 'libpcre2-8.so.0'
elseif. 0 = 1!:4 :: 0: <f do.
  f=. t
end.

pcre2dll=: f
)

NB. =========================================================
makefn=: 3 : 0
'name decl'=. y
('j',name)=: ('"',pcre2dll,'" ',name,'_8 ',(IFWIN#'+ '),decl)&(15!:0)
EMPTY
)

NB. void pcre2_code_free_8 (pcre2_code_8 *);
NB. pcre2_code_8 *pcre2_compile_8 (PCRE2_SPTR8, size_t, uint32_t, int *, size_t *, pcre2_compile_context_8 *);
NB. int pcre2_get_error_message_8 (int, PCRE2_UCHAR8 *, size_t);
NB. uint32_t pcre2_get_ovector_count_8 (pcre2_match_data_8 *);
NB. size_t *pcre2_get_ovector_pointer_8 (pcre2_match_data_8 *);
NB. int pcre2_match_8 (const pcre2_code_8 *, PCRE2_SPTR8, size_t, size_t, uint32_t, pcre2_match_data_8 *, pcre2_match_context_8 *);
NB. pcre2_match_data_8 *pcre2_match_data_create_from_pattern_8 (const pcre2_code_8 *, pcre2_general_context_8 *);
NB. void pcre2_match_data_free_8 (pcre2_match_data_8 *);
NB. int pcre2_pattern_info_8 (const pcre2_code_8 *, uint32_t, void *);

makefn 'pcre2_code_free';'n *'
makefn 'pcre2_compile';'* *c x i *i *x *'
makefn 'pcre2_get_error_message';'i i *c x'
makefn 'pcre2_get_ovector_count';'i *'
makefn 'pcre2_get_ovector_pointer';'*x *'
makefn 'pcre2_match';'i * *c x x i * *'
makefn 'pcre2_match_data_create_from_pattern';'* * *'
makefn 'pcre2_match_data_free';'n *'
makefn 'pcre2_pattern_info';'i * i *c'
NB. compile
NB.
NB. globals:
NB. cmhandles is a list of handles
NB. cmpatterns is a corresponding list of patterns
NB. cmtable is a corresponding table of compile,match,nsub

NB. =========================================================
NB. compile pattern, return handle
rxcomp=: 3 : 0
if. -.ischar y do. reghandlecheck y return. end.
ndx=. cmpatterns i. <y
if. ndx < #cmpatterns do. ndx{cmhandles return. end.
regcomp y
cmpatterns=: cmpatterns,<y
cmhandles=: cmhandles, cmseq=: cmseq + 1
cmtable=: cmtable,lastcomp,lastmatch,lastnsub
lasthandle=: ndx{cmhandles
)

NB. =========================================================
rxfree1=: 3 : 0
ndx=. cmhandles i. y
if. ndx=#cmhandles do. EMPTY return. end.
if. -. lastpattern -: ndx pick cmpatterns do.
  'comp match nsub'=. ndx{cmtable
  jpcre2_match_data_free <<match
  jpcre2_code_free <<comp
end.
ndx=. <<<ndx
cmtable=: ndx{cmtable
cmhandles=: ndx{cmhandles
cmpatterns=: ndx{cmpatterns
EMPTY
)

rxfree=: EMPTY [ rxfree1 &>

NB. =========================================================
rxinfo=: 3 : 0
ndx=. cmhandles i. y
if. ndx=#cmhandles do. 'handle not found: ',":y return. end.
((<ndx;2){cmtable);ndx{cmpatterns
)

NB. =========================================================
rxhandles=: 3 : 'cmhandles'
NB. main methods

rxfrom=: ,."1@[ <;.0 ]
rxeq=: {.@rxmatch -: 0 , #@]
rxin=: _1 ~: {.@{.@rxmatch
rxindex=: #@] [^:(<&0@]) {.@{.@rxmatch
rxE=: i.@#@] e. {.@{."2 @ rxmatches
rxfirst=: {.@rxmatch >@rxfrom ]
rxall=: {."2@rxmatches rxfrom ]

NB. =========================================================
rxapply=: 1 : 0
:
if. L. x do. 'pat ndx'=. x else. pat=. x [ ndx=. ,0 end.
if. 1 ~: #$ ndx do. 13!:8[3 end.
mat=. ({.ndx) {"2 pat rxmatches y
r=. u&.> mat rxfrom y
r mat rxmerge y
)

NB. =========================================================
rxcut=: 4 : 0
if. 0 e. #x do. <y return. end.
'beg len'=. |: ,. x
if. 1<#beg do.
  whilst. 0 e. d do.
    d=. 1,<:/\ (}:len) <: 2 -~/\ beg
    beg=. d#beg
    len=. d#len
  end.
end.
a=. 0, , beg ,. beg+len
b=. 2 -~/\ a, #y
f=. < @ (({. + i.@{:)@[ { ] )
(}: , {: -. a:"_) (a,.b) f"1 y
)

NB. =========================================================
rxerror=: 3 : 'lasterror'

NB. =========================================================
rxmatch=: 4 : 0
'p n'=. 2 {. boxopen x
regcomp p
r=. regmatch1 y
if. #n do. n{r end.
)

NB. =========================================================
rxmatches=: 4 : 0
'p n'=. 2 {. boxopen x
regcomp p
m=. regmatch1 y
if. _1 = {.{.m do. i.0 1 2 return. end.
s=. 1 >. +/{.m
r=. ,: m
while. s <#y do.
  if. _1 = {.{.m=. regmatch2 y;s do. break. end.
  s=. (s+1) >. +/ {.m
  r=. r, m
end.
if. #n do. n{"2 r end.
)

NB. =========================================================
rxmerge=: 1 : 0
:
p=. _2 ]\ m rxcut y
;, ({."1 p),.(#p){.(#m)$x
)

NB. =========================================================
rxrplc=: 4 : 0
pat=. >{.x
new=. {:x
if. L. pat do. 'pat ndx'=. pat else. ndx=. ,0 end.
if. 1 ~: #$ ndx do. 13!:8[3 end.
mat=. ({.ndx) {"2 pat rxmatches y
new mat rxmerge y
)

NB. =========================================================
rxutf8=: 3 : '(RX_OPTIONS_UTF8=: y) ] RX_OPTIONS_UTF8'
NB. nouns for applying regular expressions to J code
NB.
NB.   Jname        name
NB.   Jnumitem     numeric item
NB.   Jnum         number or blank
NB.   Jcharitem    character item
NB.   Jchar        character
NB.   Jconst       constant
NB.
NB.   Jlassign     local assign
NB.   Jgassign     global assign
NB.   Jassign      any assign
NB.
NB.   Jlpar        left paren
NB.   Jrpar        right paren
NB.
NB.   Jsol         start of line
NB.   Jeol         end of line

Jname=: '[[:alpha:]][[:alnum:]_]*|x\.|y\.|m\.|n\.|u\.|v\.'
Jnumitem=: '[[:digit:]_][[:alnum:]_.]*'
Jnum=: '([[:digit:]_][[:alnum:]_.]*|[[:blank:]])?'
Jcharitem=: '''(''''|[^''])'''
Jchar=: '''(''''|[^''])*'''
Jconst=: '([[:digit:]_][[:alnum:]_.]*|[[:blank:]])?|''(''''|[^''])*''|a:|a\.'
Jlassign=: '=\.'
Jgassign=: '=:'
Jassign=: '=[.:]'
Jlpar=: '\('
Jrpar=: '\)'
Jsol=: '^[[:blank:]]*'
Jeol=: '[[:blank:]]*(NB\..*)?$'
NB. fini

NB. =========================================================
3 : 0''
if. _1=nc <'cmhandles' do.
  cmhandles=: cmpatterns=: $0
  cmseq=: 0
  cmtable=: i.0 3
end.
lasterror=: ''
regclear''
)

NB. =========================================================
NB. define z locale names:
nms=. 0 : 0
rxmatch rxmatches rxcomp rxfree rxhandles rxinfo rxeq
rxin rxindex rxE rxfirst rxall rxrplc rxapply rxerror
rxcut rxfrom rxmerge rxutf8
)

nms=. (nms e.' ',LF) <;._2 nms
". > nms ,each (<'_z_=:') ,each nms ,each <'_jregex_'
NB. task
NB.
NB. executing tasks with optional timeout or I/O
NB.
NB. TASKS WITHOUT I/O
NB.
NB.   fork_jtask_ 'notepad.exe'           NB. run notepad, no wait, no I/O
NB.   5000 fork_jtask_ 'notepad.exe'      NB. run notepad, wait 5 sec, no I/O
NB.   _1 fork_jtask_ 'notepad.exe'        NB. run notepad, until closed, no I/O
NB.
NB.   5000 fork_jtask_ 'cmd /k dir'  NB. show dir in cmd window for 5 sec and close
NB.   _1 fork_jtask_ 'cmd /k dir'    NB. show dir in cmd window until user closes it
NB.
NB.   launch jpath'~system'        NB. run default application, no wait
NB.
NB. TASKS WITH I/O
NB.
NB.   spawn_jtask_ 'net users'                    NB. get stdout from process
NB.   '+/i.3 4' spawn_jtask_ 'jconsole'           NB. call process with I/O
NB.   12 15 18 21
NB.
NB. SHELL COMMANDS (WITH I/O)
NB.
NB.   shell'echo.|time'                    NB. get result of shell command
NB. The current time is:  8:04:13.09
NB. Enter the new time:
NB.
NB.   (shell'dir /b')shell'find ".dll"'    NB. get all DDL names by piping
NB. j.dll
NB. jregexp.dll
NB.
NB. NOTE: the implementation uses C-type structures
NB.       by the original Method of Named Fields
NB.
NB. Script developed by Oleg Kobchenko.

coclass <'jtask'
NB. task util

int=: {.@:(_2&ic)
sint=: 2&ic

i64=: {.@:(_3&ic)
si64=: 3&ic

ptr=: int`i64@.IF64
sptr=: sint`si64@.IF64

NB. =========================================================
NB. METHOD OF NAMED FIELDS
sndx=: i.@#@[ + {.@I.@E.

NB. struct=. 'valu' 'memb' sset structdef struct
sset=: 2 : '(m sndx n)}'

NB. value=. 'memb' sget structdef struct
sget=: 2 : '(m sndx n)&{'

szero=: # # (0{a.)"_

st64=: -.&'.'^:(-.IF64)

t=. 'Cbyt....Resv....Desk....Titl....XposYposXsizYsizXcntYcnt'
STARTUPINFO=:  st64 t,'FillFlagSwRs....Resv....Inph....Outh....Errh....'
PROCESSINFO=:  st64 'Proh....Thrh....PridThid'
SECURITYATTR=: st64 'Cbyt....Secd....Inhe'

'Outh Errh Inph Proh Thrh'=: ,"1&'....'^:IF64>;:'Outh Errh Inph Proh Thrh'

STARTF_USESTDHANDLES=: 16b100
STARTF_USESHOWWINDOW=: 1
WAIT_TIMEOUT=: 258
CREATE_NEW_CONSOLE=: 16b10
DUPLICATE_SAME_ACCESS=: 2

cdk=: 1 : '(''kernel32 '',m)&cd'

WaitForSingleObject=: 'WaitForSingleObject > i x i' cdk
CloseHandle=:         'CloseHandle         > i x' cdk"0
TerminateProcess=:    'TerminateProcess    > i x i' cdk
ReadFile=:            'ReadFile              i x *c i *i x' cdk
WriteFile=:           'WriteFile             i x *c i *i x' cdk
GetCurrentProcess=:   'GetCurrentProcess   > x' cdk

DuplicateHandleF=:    'DuplicateHandle       i  x x  x *x  i i i' cdk
CreatePipeF=:         'CreatePipe            i *x *x *c i' cdk
CreateProcessF=:      'CreateProcessW        i x *w x x i  i x x *c *c' cdk

DuplicateHandle=: 3 : 0
p=. GetCurrentProcess ''
h=. {. 4{:: DuplicateHandleF p;y;p;(,_1);0;0;DUPLICATE_SAME_ACCESS
CloseHandle y
h
)

NB. =========================================================
NB. 'hRead hWrite'=. CreatePipe Inheritable=0
NB.    ... FileRead/FileWrite ...
NB. CloseHandle hRead,hWrite
NB.
NB. Inheritable: 0 none, 1 for read, 2 for write
CreatePipe=: 3 : 0
'inh size'=. 2{.y,0
sa=. szero SECURITYATTR
sa=. (sint #SECURITYATTR) 'Cbyt' sset SECURITYATTR sa
sa=. (sint *inh) 'Inhe' sset SECURITYATTR sa
'hRead hWrite'=. ; 1 2{ CreatePipeF (,_1);(,_1);sa;size
if. 1=inh do. hRead=. DuplicateHandle hRead end.
if. 2=inh do. hWrite=. DuplicateHandle hWrite end.
hRead,hWrite
)

NB. =========================================================
NB. hProcess=. [hWriteOut[,hReadIn]] CreateProcess 'program agr1 agr2 ...'
NB.    ...
NB. CloseHandle hProcess
CreateProcess=: 3 : 0
'' CreateProcess y
:
'ow ir'=. 2{.x,0
si=. szero STARTUPINFO
si=. (sint #STARTUPINFO) 'Cbyt' sset STARTUPINFO si
f=. inh=. 0
if. +/ir,ow do.
  inh=. 1
  f=. CREATE_NEW_CONSOLE
  si=. (sint STARTF_USESTDHANDLES+STARTF_USESHOWWINDOW) 'Flag' sset STARTUPINFO si
  if. ow do.
    si=. (sptr ow) Outh sset STARTUPINFO si
    si=. (sptr ow) Errh sset STARTUPINFO si
  end.
  if. ir do. si=. (sptr ir) Inph sset STARTUPINFO si end.
end.
pi=. szero PROCESSINFO
'r pi'=. 0 _1{ CreateProcessF 0;(uucp y);0;0;inh; f;0;0;si;pi
if. 0=r do. 0 return. end.
ph=. ptr Proh sget PROCESSINFO pi
th=. ptr Thrh sget PROCESSINFO pi
CloseHandle th
ph
)

NB. =========================================================
NB. ph=. h CreateProcess 'program agr1 agr2 ...'
NB.    ...
NB. Wait ph;5000
NB. CloseHandle ph
Wait=: 3 : 0
r=. WaitForSingleObject y
if. WAIT_TIMEOUT=r do. TerminateProcess (0 pick y);_1 end.
)

NB. =========================================================
NB. ph=. h CreateProcess 'program agr1 agr2 ...'
NB.    ...
NB. r=. ReadAll h
NB. CloseHandle h,ph
ReadAll=: 3 : 0
ret=. ''
str=. 4096#'z'
while. 1 do.
  'r str len'=. 0 2 4{ ReadFile y;str;(#str);(,_1);0
  len=. {.len
  if. (0=r)+.0=len do.
    'ec es'=: cderx''
    if. -.ec e.0 109 do. ret=. _1 end.
    break.
  end.
  ret=. ret,len{.str
end.
ret
)

NB. =========================================================
NB. ph=. hr,hw CreateProcess 'program agr1 agr2 ...'
NB. r=. WriteAll hw
NB. CloseHandle hw
NB. r=. ReadAll hr
NB. CloseHandle hr,ph
WriteAll=: 3 : 0
:
while. #x do.
  'r x len'=. 0 2 4{ WriteFile y;x;(#x);(,_1);0
  len=. {.len
  if. (0=r)+.0=len do.
    'ec es'=: cderx''
    if. -.ec e.0 109 do. ret=. _1 end.
    break.
  end.
  x=. len}.x
end.
1
)
NB. task main

NB. =========================================================
NB.*fork v run task and optionally wait for completion
NB.
NB. form: [timeout=0] fork cmdline
NB.
NB.   timeout: 0 no wait, _1 infinite, >0 timeout
NB.   cmdline: 'shortcmd arg1 arg2 ...'
NB.   cmdline: '"command with space" arg1 ...'
NB.
NB. e.g. fork_jtask_ 'notepad.exe'
fork=: (3 : 0)`([: 2!:1 '(' , ')&' ,~ ])@.IFUNIX
0 fork y
:
ph=. CreateProcess y
if. x do. Wait ph;x end.
CloseHandle ph
empty''
)

NB. =========================================================
NB.*spawn v [monad] get stdout of executed task
NB.
NB. form:  stdout=. spawn cmdline
NB.
NB.   stdout: _1 fail, '' or stdout stream value if success
NB.   cmdline: 'shortcmd arg1 arg2 ...'
NB.   cmdline: '"command with space" arg1 ...'
NB.
NB. e.g. spawn 'net users'

NB.*spawn v [dyad] send stdin and get stdout of task
NB.
NB. form: stdout=. [stdin=''] spawn cmdline
NB.
NB.   stdin: input to stream as stdin, '' no input
NB.
NB. e.g. 'i.3 4'spawn'jconsole'
spawn=: (3 : 0)`(2!:0@])@.IFUNIX
'' spawn y
:
'or ow'=. CreatePipe 1
'ir iw'=. CreatePipe 2,#x
ph=. (ow,ir) CreateProcess y
CloseHandle ir
if. #x do. x WriteAll iw end.
CloseHandle iw
CloseHandle ow
r=. ReadAll or
CloseHandle or
CloseHandle ph
r
)

NB. =========================================================
NB.*shell v [monad] get stdout of shell command
NB.
NB.   e.g. shell 'dir /b/s'

NB.*shell v [dyad] send stdin and get stdout of shell command
NB.
NB.   e.g. (shell 'dir /b/s') shell 'find ".dll"'
SHELL=: IFUNIX{::'cmd /c ';''

shell=: ''&$: : (spawn SHELL,])

NB. =========================================================
NB.*launch v [monad] launch default application for parameter
NB.
NB.    launch jpath'~system'              NB. file manager
NB.    launch jpath'~bin/installer.txt'   NB. text editor
NB.    launch 'http://jsoftware.com'      NB. web browser

3 : 0''
LAUNCH=: ('gnome-open';'open';'start';'') {::~ ('Linux';'Darwin';'Win')i.<UNAME
if. 0=nc<'LAUNCH_j_'do.if. 0<#LAUNCH_j_ do.LAUNCH=: LAUNCH_j_ end.end.
)
launch=: 3 : 'shell LAUNCH,'' '',y'
NB. task zdefs

NB. fork_z_=: fork_jtask_
NB. spawn_z_=: spawn_jtask_
shell_z_=: shell_jtask_
launch_z_=: launch_jtask_
data/jfiles - change history

== 1.0.0/1 ==
 * moved to addons

== 1.0.2 ==
 * j801
jfiles.ijs

==========

This script contains definitions for the J component file system.



main functions:

   jcreate        jcreate 'dat'

   jappend        (<i.2 3) jappend 'dat'

   jdup           'new' jdup 'dat'

   jerase         jerase 'dat'

   jread          jread 'dat';2

   jreplace       ('new value';123) jreplace 'dat';2 5

   jsize          jsize 'dat'

NB. data/jfiles manifest

CAPTION=: 'J component file and keyed file'

DESCRIPTION=: 0 : 0
This script contains definitions for the J component file and
keyed file system.

A keyed file is a J component file in which data is accessed
using keywords.
)

VERSION=: '1.0.8'

RELEASE=: ''

FOLDER=: 'data/jfiles'

FILES=: 0 : 0
history.txt
manifest.ijs
jfiles.ijs
jfiles.txt
keyfiles.txt
test/test0.ijs
test/test1.ijs
)
cocurrent 'jfiles'
V64L=: 1718235186
V32L=: 1718235187
V32B=: 1718235188
V64B=: 1718235189

M32=: 4294967296

B4=: 4 # 256
B8=: 8 # 256
j_blk=: [: <. >.&.(2&^.)@#
j_box=: <^:(L. = 0:)
j_ischar=: 3!:0 e. 2 131072 262144"_
j_nos=: [: ; [: {."1 (1!:20)
j_read=: 3!:2 @ (1!:11)
j_rep=: 3!:1
j_take0=: {.!.({.a.)
j_writerep=: j_rep&.>@[ j_write ]
j_vcur=: 3 : '(2 * IF64) }. V32L,V32B,V64B'
j_compress=: 3 : 0
f=. /:~ y
bgn=. {."1 f
end=. bgn + {:"1 f
min=. 0, }: end
bgn=. bgn >. min
b=. bgn ~: min
if. 0 e. b do.
  f=. (b#bgn) ,. b +/;.1 (end-bgn)
end.
f /: {:"1 f
)
j_dir=: 3 : 0
hdr=. 1!:11 y;0 512
try.
  <. each 7 {. 3!:2 :: 0: hdr
catch.
  <. each 7 {. (3!:2) 256 {. hdr
end.
)
j_ext=: 3 : 0
y=. jpathsep 7 u: y
y=. y,'.ijf' #~ (0<#y) > '.' e. (-.+./\.y='/')#y
8 u: y
)
j_getver=: 3 : 0
h=. y
'v s c l d f q'=. j_dir h
if. v >: V64L do. v return. end.
if. c = 0 do. V32L return. end.
free=. j_read h;f
dir=. j_readdir V32B,h,c,d
if. 1 e. l < {."1 dir do. V32L return. end.
r=. /:~ f,d,dir,free
p=. {.{.r
y=. p,+/"1 r
(y -: ({."1 r),l) { V32L,V32B
)
j_name=: 3 : 0
y=. >y
if. j_ischar y do.
  j_ext y
end.
)
j_open=: 3 : 0
y=. >y
if. 0 e. #y do. _1 return. end.
if. j_ischar y do.
  y=. j_ext y
  j=. 1!:11 :: _1: y;0 0
  if. _1 -: j do. return. end.
  n=. ;{."1 [ 1!:20''
  h=. 1!:21 <y
  h,-.h e. n
else.
  y,0
end.
)
j_readcpt=: 4 : 0
'v h d'=. x
select. v
case. V64B do.
  <. B8 #. _8 [\"1 a. i. 1!:11 h,.(d+y*16),.16
case. V32L do.
  <. B4 #. _4 |.\"1 a. i. 1!:11 h,.(d+y*8),.8
case. V32B do.
  <. B4 #. _4 [\"1 a. i. 1!:11 h,.(d+y*8),.8
case. V64L do.
  <. B8 #. _8 |.\"1 a. i. 1!:11 h,.(d+y*16),.16
end.
)
j_readdir=: 3 : 0
'v h c d e'=. y
select. v
case. V64B do.
  _2[\ <. B8 #. _8 [\ a. i. 1!:11 h,d,c*16
case. V32L do.
  _2[\ <. B4 #. _4 |.\ a. i. 1!:11 h,d,c*8
case. V32B do.
  _2[\ <. B4 #. _4 [\ a. i. 1!:11 h,d,c*8
case. V64L do.
  _2[\ <. B8 #. _8 |.\ a. i. 1!:11 h,d,c*16
end.
)
j_upver=: 3 : 0
h=. y
'v s c l d f q'=. j_dir h
if. v e. j_vcur '' do. return. end.
v=. j_getver h
dir=. j_readdir v,h,c,d
if. IF64 +. v = V64L do. v=. V64B end.
dir=. , v j_tochar dir
dir=. (512 >. #dir) j_take0 dir
d=. 512 >. d
free=. j_read h;f
free=. j_compress d,f,free
'l free new'=. (<dir) j_write l;free;h
'l f'=. j_writefree l;free;h
d=. ,new
q=. >:{.q,0
res=. v;s;c;l;d;f;q
(512 j_take0 j_rep res) 1!:12 h;0
res
)
j_tochar=: 4 : 0
select. x
case. V64B do.
  ,"2 a. {~ B8 #: y
case. V32L do.
  ,"2 |."1 a. {~ B4 #: y
case. V32B do.
  ,"2 a. {~ B4 #: y
case. V64L do.
  ,"2 |."1 a. {~ B8 #: y
end.
)
j_write=: 4 : 0
'l f h'=. y
x=. ,x
d=. i.0 2
while. #x do.
  blk=. j_blk dat=. >{.x
  x=. }.x
  if.
    (#f) > ndx=. 1 i.~ blk <: {:"1 f
  do.
    'p s'=. ndx{f
    d=. d,p,blk
    if. blk < s do.
      f=. ((p+blk),s-blk) ndx } f
    else.
      f=. (ndx{.f),(>:ndx)}.f
    end.
    dat 1!:12 h;p
  else.
    d=. d,l,blk
    l=. l+blk
    (blk{.dat) 1!:3 h
  end.
end.
l;f;d
)
j_writefree=: 3 : 0
'l f h'=. y
blk=. 256 >. j_blk dat=. j_rep f
if.
  (#f) > ndx=. 1 i.~ blk <: {:"1 f
do.
  'p s'=. ndx{f
  d=. p,blk
  if. blk < s do.
    f=. ((p+blk),s-blk) ndx } f
  else.
    f=. (ndx{.f),(>:ndx)}.f
  end.
  (j_rep f) 1!:12 h;p
else.
  d=. l,blk
  l=. l+blk
  (blk{.dat) 1!:3 h
end.
l;d
)
jdup=: 3 : 0
'' jdup y
:

fl=. j_name x
'y sel'=. 2{.boxopen y
y=. j_name y

max=. 100000

if. own=. 0=#fl do.
  fl=. ((+./\.y='/')#y),'eraseme.pls'
end.

'h o'=. j_open y
if. h=_1 do. return. end.

if. #sel do.
  c=. #sel
  c jcreate fl
  hx=. jopen fl
  whilst. #sel=. }.sel do.
    (jread h;{.sel) jappend hx
  end.

else.
  'v s c l d f q'=. j_dir h
  if. v < V64L do.
    v=. j_getver h
  end.
  w=. (v e. V64B,V64L) { 8 16
  c jcreate fl
  hx=. jopen fl
  pos=. 0
  blk=. 1000
  read=. j_read@(h&;)
  dir=. j_readdir v,h,c,d
  while. #dir do.
    sel=. (blk <. #dir) {. dir
    dir=. blk }. dir
    while. #sel do.
      siz=. {:"1 sel
      len=. 1>.(max<+/\siz)i.1
      (read &.> <"1 len{.sel) jappend hx
      sel=. len}.sel
    end.
  end.

end.

jclose hx
if. o do. jclose h end.

if. own do.
  pos=. 0
  siz=. 1!:4 <fl
  '' 1!:2 <y
  while. siz>pos do.
    len=. max<.siz-pos
    (1!:11 fl;pos,len) 1!:3 <y
    pos=. pos+max
  end.
  1!:55 <fl
end.

j_validate fl
c
)
jappend=: 4 : 0
'h o'=. j_open y
if. h=_1 do. return. end.
'v s c l d f q'=. j_dir h
if. -. v e. j_vcur '' do.
  'v s c l d f q'=. j_upver h
end.
w=. (v = V64B) { 8 16
free=. j_read h;f
dat=. j_box x
if. 1<#$dat do.
  if. o do. jclose h end.
  _3 return.
end.
res=. c+ i.#dat
'l free new'=. dat j_writerep l;free;h
dat=. , v j_tochar new
'b e'=. d
if. e>w*{:res do.
  dat 1!:12 h;b+w*c
  (j_rep free) 1!:12 h;{.f
else.
  dat=. (1!:11 h;b,w*c),dat
  free=. j_compress d,f,free
  'l free new'=. (<dat) j_write l;free;h
  'l f'=. j_writefree l;free;h
  d=. ,new
end.
c=. >:{:res
q=. >:{.q,0
(j_rep v;s;c;l;d;f;q) 1!:12 h;0
if. o do. jclose h end.
j_validate y
res
)
jclose=: 1!:22 :: _4:
jcreate=: 3 : 0
0 jcreate y
:
q=. s=. c=. 0
d=. 1024,<. >.&.(2&^.) 512>.8*x
f=. (+/d),256
l=. +/f
v=. IF64 { V32L,V64B
hdr=. ({.f){.j_rep v;s;c;l;d;f;q;s
hdr=. l{.hdr,j_rep i.0 2
y=. <j_name y
1!:55 :: 0: y
f=. (1: [ 1!:2) :: 0:
hdr f y
)
jerase=: 1!:55 @ < @: j_name
jopen=: 3 : 0
y=. >y
if. 0 e. #y do. _1 return. end.
if. j_ischar y do.
  y=. <j_ext y
  1!:21 :: _1: y
end.
)
jread=: 3 : 0
'y x'=. y
'h o'=. j_open y
if. h=_1 do. return. end.
'v s c l d f q'=. j_dir h
if. v < V64L do.
  v=. j_getver h
end.
w=. (v e. V64B,V64L) { 8 16
cpt=. <.,x
if. (0=#cpt) +. 1 e. (cpt<0) +. cpt>:c do.
  if. o do. jclose h end.
  _2 return.
end.
dir=. (v,h,{.d) j_readcpt cpt
dat=. j_read &.> <"1 h,.dir
if. o do. jclose h end.
($x)$dat
)
jreplace=: 4 : 0
't z'=. y
'h o'=. j_open t
if. h=_1 do. return. end.
'v s c l d f q'=. j_dir h
if. -. v e. j_vcur '' do.
  'v s c l d f q'=. j_upver h
end.
w=. (v = V64B) { 8 16
free=. j_read h;f
cpt=. <.,z
if. 0=#cpt do. return. end.
if. 1 e. (cpt<0) +. cpt>:c
do.
  if. o do. jclose h end.
  _2 return.
end.
dat=. j_box x
if. 1<#$dat do.
  if. o do. jclose h end.
  _3 return.
end.
dat=. (#cpt)$dat
dir=. (v,h,{.d) j_readcpt cpt
free=. j_compress dir,f,free
'l free new'=. dat j_writerep l;free;h
new=. <"1 v j_tochar new
new (1!:12 h&;) &.> ({.d)+cpt*w
'l f'=. j_writefree l;free;h
q=. >:{.q,0
(j_rep v;s;c;l;d;f;q) 1!:12 h;0
if. o do. jclose h end.
j_validate >{.y
cpt
)
jseqno=: 3 : 0
'h o'=. j_open y
if. h=_1 do. return. end.
q=. >6{j_dir h
if. o do. jclose h end.
q
)
jsize=: 3 : 0
'h o'=. j_open y
if. h=_1 do. return. end.
'v s c l d f q'=. j_dir h
free=. j_read h;f
if. o do. jclose h end.
s,c,l,{:+/free
)
j_valcheck=: 3 : 0
'h o'=. j_open y
if. h=_1 do. 1 return. end.
'v s c l d f q'=. j_dir h
free=. j_read h;f
dir=. j_readdir v,h,c,d
r=. /:~ f,d,dir,free
p=. {.{.r
s=. p e. 256 512 1024
y=. p,+/"1 r
if. o do. jclose h end.
s *. y -: ({."1 r),l
)
j_validate=: 3 : 0
13!:8 (-.j_valcheck y) # 12
)

j_validate=: ]
keycreate=: 3 : 0
r=. jcreate y
if. r <: 0 do. return. end.
((1 7#'keyed file 2';'unused'),'';<'';i.0) jappend y
1
)
keydir=: 3 : '>{.>jread y;9'
keydrop=: 3 : 0
'f k'=. y
'h o'=. j_open f
if. h = _1 do. return. end.
'd c'=. >jread h;9
k=. ,each boxopen k
if. 0 e. k e. d do.
  if. o do. jclose h end.
  _4 return.
end.
b=. d e. k
'' jreplace h;b#c
b=. -. b
d=. b#d
c=. b#c
if. #e=. >jread h;8 do.
  if. 0 < L. e do. (<b#e) jreplace h;8 end.
end.
(<d;<c) jreplace h;9
if. o do. jclose h end.
1
)
keyerase=: jerase
keyread=: 3 : 0
'f k'=. key_right y
'h o'=. j_open f
if. h = _1 do. return. end.
'd c'=. >jread h;9
if. 0=#k do.
  r=. jread h;c
else.
  k=. ,each boxopen k
  if. 0 e. k e. d do.
    if. o do. jclose h end.
    _4 return.
  end.
  x=. d i. k
  r=. jread h; x { c
end.
if. o do. jclose h end.
r
)
keyreadx=: 3 : 0
'f k'=. key_right y
'h o'=. j_open f
if. h = _1 do. return. end.
r=. >jread h;8
'd c'=. >jread h;9
if. 0 = L.r do. r=. (#c) # a: end.
if. #k do.
  k=. ,each boxopen k
  if. 0 e. k e. d do.
    if. o do. jclose h end.
    _4 return.
  end.
  x=. d i. k
  r=. x { r
end.
if. o do. jclose h end.
r
)
keywrite=: 4 : 0
dat=. boxopen x
'f k'=. key_right y
'h o'=. j_open f
if. h = _1 do. return. end.
'd c'=. >jread h;9
if. 0=#k do.
  dat jreplace h;c
else.
  k=. ,each boxopen k
  x=. d i. k
  m=. x < #d
  if. 0 e. m do.
    new=. +/ m=0
    c=. c, key_new new;h;c
    d=. d, (m=0) # k
    x=. d i. k
    if. 0 < L. e=. >jread h;8 do.
      e=. e, new # a:
      (<e) jreplace h;8
    end.
    (<d;<c) jreplace h;9
  end.
  dat jreplace h; x { c
end.
if. o do. jclose h end.
empty''
)
keywritex=: 4 : 0
dat=. boxopen x
'f k'=. key_right y
'h o'=. j_open f
if. h = _1 do. return. end.
'd c'=. >jread h;9
if. 0=#k do.
  if. -. (#dat) e. 1,#c do.
    if. o do. jclose h end.
    _3 return.
  end.
  (<dat) jreplace h;8
else.
  e=. >jread h;8
  if. 0 = L. e do. e=. (#c) # a: end.
  k=. ,each boxopen k
  x=. d i. k
  m=. x < #d
  if. 0 e. m do.
    new=. +/ m=0
    c=. c, key_new new;h;c
    d=. d, (m=0) # k
    e=. e, new # a:
    x=. d i. k
    (<d;<c) jreplace h;9
  end.
  (<dat x} e) jreplace h;8
end.
if. o do. jclose h end.
empty''
)
key_new=: 3 : 0
'n h c'=. y
f=. (10 }. i. 1{ jsize h) -. c
f=. (n <. #f) {. f
if. n > #f do.
  f=. f, ((n - #f)#a:) jappend h
end.
)
key_right=: 3 : 0
if. 1=#y=. boxopen y do. y , a: else. y end.
)
jappend_z_=: jappend_jfiles_
jcreate_z_=: jcreate_jfiles_
jdup_z_=: jdup_jfiles_
jerase_z_=: jerase_jfiles_
jread_z_=: jread_jfiles_
jreplace_z_=: jreplace_jfiles_
jsize_z_=: jsize_jfiles_

keycreate_z_=: keycreate_jfiles_
keydir_z_=: keydir_jfiles_
keydrop_z_=: keydrop_jfiles_
keyerase_z_=: keyerase_jfiles_
keyread_z_=: keyread_jfiles_
keyreadx_z_=: keyreadx_jfiles_
keywrite_z_=: keywrite_jfiles_
keywritex_z_=: keywritex_jfiles_
keyfiles.ijs
============

This script contains definitions for a keyed file system.

This is a modification and enhancement of the "kfiles" system.

A keyed file is a J component file in which data is accessed
using keywords.

The keyed file directory is stored in a single component.

Data may be stored in two ways. By default, data is stored in
one component per key; this is appropriate where the data for
any key can be arbitrarily large. Otherwise, data can be stored
in a single component for all records; here this is called
"extra" data. A keyed file may contain either or both types
of data.

For example, a keyed filed might have stock identifiers as the
key, and timeseries of stock prices as the data. Extra data
could include the full stock name.

Data can be accessed using one or more keys. A single key may
be given as an open item, two or more keys as a boxed list.
Omitting the keys is equivalent to specifying all keys.

Results are boxed lists, with the same shape as the boxed keys.

-----------------------------------------------------
main functions:

      keycreate 'file'            create keyed file

      keydir 'file'               keyword directory
      keyerase 'file'             erase file

      keyread 'file'[;keys]       read data
 data keywrite 'file'[;keys]      write data

      keyreadx 'file'[;keys]      read extra data
 data keywritex 'file'[;keys]     write extra data

      keydrop 'file';keys         drop keys

Here, "keys" is a boxed list of one or more keys, so
that 'file';keys is a 2-element list. An open list is
treated as a single key, for example:

      keyread 'file';'one'
      keyread 'file';<'one';'two';'three'

-----------------------------------------------------
On write, an open item is boxed. Otherwise, the length of
the data should be a scalar, or match the number of keys
being written.

-----------------------------------------------------
file layout:

  cpt   description
   0    'keyed file 2'
  1-7   unused
   8    extras directory
   9    directory
  10+   data components

-----------------------------------------------------
error results:

   0  file create failed
  _1  file not found
  _2  invalid component
  _3  invalid data
  _4  invalid key
NB. test keyfiles

FL=: jpath '~temp/foo'

tkeyfiles=: 3 : 0
keycreate FL
(K1=: i.2 3 4) keywrite FL;'one'
(K2=: <'two';2 4) keywrite FL;'two'
(K3=: <'three';'123') keywrite FL;'three'
(K2=: <'two';'again') keywrite FL;'two'
(K4=: <'four';,.i.10) keywrite FL;'four'
(K3=: <'') keywrite FL;'three'
(K5=: <'five';,.i.10) keywrite FL;'five'
)

ASSERT=: 0 : 0
(;:'one two three four five') -: keydir FL
K1 -: >keyread FL;'one'
K2 -: keyread FL;'two'
K3 -: keyread FL;'three'
K5 -: keyread FL;'five'
(K1;K2,K3,K4,K5) -: keyread FL
(K5,K2,<K1) -: keyread FL;<'five';'two';'one'
keydrop FL;<'two';'five'
(;:'one three four') -: keydir FL
K4 -: keyread FL;'four'
(K1;K3,K4) -: keyread FL
)

tkeyfiles''

0!:1 ASSERT

tkeyfiles=: 3 : 0
keycreate FL
(K1=: i.2 3 4) keywritex FL;'one'
(K2=: <'two';2 4) keywritex FL;'two'
(K3=: <'three';'123') keywritex FL;'three'
(K2=: <'two';'again') keywritex FL;'two'
(K4=: <'four';,.i.10) keywritex FL;'four'
(K3=: <'') keywritex FL;'three'
(K5=: <'five';,.i.10) keywritex FL;'five'
)

ASSERT=: 0 : 0
(;:'one two three four five') -: keydir FL
K1 -: >keyreadx FL;'one'
K2 -: keyreadx FL;'two'
K3 -: keyreadx FL;'three'
K5 -: keyreadx FL;'five'
(K1;K2,K3,K4,K5) -: keyreadx FL
(K5,K2,<K1) -: keyreadx FL;<'five';'two';'one'
keydrop FL;<'two';'five'
(;:'one three four') -: keydir FL
K4 -: keyreadx FL;'four'
(K1;K3,K4) -: keyreadx FL
)

tkeyfiles''

0!:1 ASSERT
NB. test jfiles

F=: jpath '~temp/t1.ijf'
jcreate F
('zero';'one';'two';i.3 4) jappend F
smoutput jsize F
jdup F
smoutput jsize F
data/jmf - change history

== 1.0.0 ==
 * moved to addons

== 1.0.1/5 ==
 * J701 beta release

== 1.0.6/7 ==
 * UNAME android

== 1.0.8 ==
 * j801

== 1.0.13 ==
 * MAC OS X (darwin) mmap lseek

== 1.0.20 ==
 * 807 header change

cocurrent 'jmf'
jsystemdefs 'hostdefs'
coinsert 'jdefs'

doc=: 0 : 0
map name;filename [;sharename [;mt] ]
 map jmf file (self-describing)

(type [;tshape]) map name;filename [;sharename [;mt] ]
 map data file

 types from dll.ijs: JB01,JCHAR,JCHAR2,JCHAR4,JINT,JFL,JCMPX,JSB

 tshape - trailing shape - }.shape    (default '')

mt (map type):
 0 - MTRW - default read/write mapping 
 1 - MTRO - read-only mapping - map jmf file copies header to private area
 2 - MTCW - copy-on-write - private mapping - changes not reflected in file

[force] unmap name - result 0 ok, 1 not mapped, 2 refs prevent unmap

createjmf filename;msize  - create jmf file as empty vector (self-describing)
unmapall''                - unmap all
showmap''                 - map info with col headers and extras
mappings                  - map info
share name;sharename[;mt] - share 'sharename' as name

MAPNAME,MAPFN,... showmap col indexes 
)
0 : 0
807 made changes to the header that affect jmf J code
before 807 - HADR field bytes are (lilendian) rrrr (j32) rrrrrrrr (j64)
after  807 - HADR field bytes are (lilendian) rrhh (j32) rrhhxxxx (j64)
flipped for bigendian (fill,hh,rr)
hh field flags must not be touched by jmf
newheader is 1 if 807 header format
)
IFBE=: 'a'~:{.2 ic a.i.'a'
SZI=: IF64{4 8
'MAPNAME MAPFN MAPSN MAPFH MAPMH MAPADDRESS MAPHEADER MAPFSIZE MAPJMF MAPMT MAPMSIZE MAPREFS'=: i.12
'MTRW MTRO MTCW'=: i.3
'HADK HADFLAG HADM HADT HADC HADN HADR HADS'=: SZI*i.8
HADRUS=: HADR+IFBE*IF64{2 6
HADCN=: <.HADC%SZI
HSN=: 7+64
HS=: SZI*HSN
AFRO=: 1
AFNJA=: 2
NULLPTR=: <0
gethad=: 3 : 0
sad=. symget <fullname y
'bad name' assert sad
1{memr sad,0 4,JINT
)
symget=: 15!:6
symset=: 15!:7
allochdr=: 3 : 'r[2 setHADC r=.15!:8 y'
freehdr=: 15!:9
msize=: gethadmsize=: 3 : 'memr y,HADM,1,JINT'
fullname=: 3 : 0
t=. y-.' '
t,('_'~:{:t)#'_base_'
)
newheader=: 0~:memr (gethad'SZI_jmf_'),HADR,1,JINT

setheader=: 4 : 0
if. newheader do.
 (6{.x) memw y,0,6,JINT
 (6{x)  setHADR y
 (7}.x) memw y,HADS,(#7}.x),JINT
else.
 x memw y,0,(#x),JINT
end.
)

getHADR=: 3 : 0
if. newheader do.
 _1 (3!:4) memr y,HADRUS,2,JCHAR
else.
 memr y,HADR,1,JINT
end.
)

setHADR=: 4 : 0
if. newheader do.
 (1 (3!:4) x) memw y,HADRUS,2,JCHAR
else.
 x memw y,HADR,1,JINT
end.
)

getHADC=: 3 : '  memr y,HADC,1,JINT'
setHADC=: 4 : 'x memw y,HADC,1,JINT'
refcount=: getHADC

3 : 0''
if. IFUNIX do.
  lib=. ' ',~ unxlib 'c'
  api=. 1 : ('(''',lib,''',m) & cd')
  c_open=: 'open i *c i i' api
  c_open_va=: 'open i *c i x x x x x x i' api
  c_close=: 'close i i' api
  c_read=: 'read x i * x' api
  c_write=: 'write x i * x' api
  c_lseek=: 'lseek x i x i' api
  c_ftruncate=: 'ftruncate i i x' api
  c_mmap=: 'mmap * * x i i i x' api
  c_munmap=: 'munmap i * x' api

  t=.           O_RDWR,   PROT_WRITE,  MAP_SHARED
  t=. t,:       O_RDONLY, PROT_READ,   MAP_SHARED
  mtflags=:  t, O_RDWR,   PROT_WRITE,  MAP_PRIVATE
else.
  CREATE_ALWAYS=: 2
  CREATE_NEW=: 1
  FALSE=: 0
  FILE_BEGIN=: 0
  FILE_END=: 2
  FILE_MAP_COPY=: 1
  FILE_MAP_READ=: 4
  FILE_MAP_WRITE=: 2
  FILE_SHARE_READ=: 1
  FILE_SHARE_WRITE=: 2
  GENERIC_READ=: _2147483648
  GENERIC_WRITE=: 1073741824
  OPEN_ALWAYS=: 4
  OPEN_EXISTING=: 3
  PAGE_READONLY=: 2
  PAGE_READWRITE=: 4
  TRUNCATE_EXISTING=: 5

  t=.           (GENERIC_READ+GENERIC_WRITE), PAGE_READWRITE,  FILE_MAP_WRITE
  t=.       t,: GENERIC_READ,                 PAGE_READONLY,   FILE_MAP_READ
  mtflags=: t,  (GENERIC_READ+GENERIC_WRITE), PAGE_READWRITE,  FILE_MAP_COPY

  CloseHandleR=: 'kernel32 CloseHandle > i x'&(15!:0)
  CreateFileMappingR=: 'kernel32 CreateFileMappingW > x x * i i i *w'&(15!:0)
  CreateFileR=: 'kernel32 CreateFileW > x *w i i * i i x'&(15!:0)
  GetLastError=: 'kernel32 GetLastError > i'&(15!:0)
  FlushViewOfFileR=: 'kernel32 FlushViewOfFile > i * x'&(15!:0)
  MapViewOfFileR=: >@{.@('kernel32 MapViewOfFile * x i i i x'&(15!:0))
  OpenFileMappingR=: 'kernel32 OpenFileMappingW > x i i *w'&(15!:0)
  SetEndOfFile=: 'kernel32 SetEndOfFile > i x'&(15!:0)
  UnmapViewOfFileR=: 'kernel32 UnmapViewOfFile > i *'&(15!:0)
  WriteFile=: 'kernel32 WriteFile i x * i *i *'&(15!:0)
  if. IF64 do.
    GetFileSizeR=: 2 >@{ 'kernel32 GetFileSizeEx i x *x' 15!:0 ;&(,2)
    SetFilePointerR=: 'kernel32 SetFilePointerEx > i x x *x i'&(15!:0)
  else.
    GetFileSizeR=: 'kernel32 GetFileSize > i x *i' 15!:0 ;&(<NULLPTR)
    SetFilePointerR=: 'kernel32 SetFilePointer > i x i *i i'&(15!:0)
  end.
end.

if. _1 = 4!:0<'mappings' do.
  mappings=: i.0 10
end.
empty''
)

nountype =: 17 b.&16b1fffff
MAXINTU=: 2 ^ IF64{32 64x
MAXINTS=: <: 2 ^ IF64{31 63x
ufs=: + MAXINTU * 0 > ]
sfu=: _1 x: ] - MAXINTU * MAXINTS < ]
findkey=: 4 : 'I. (<x) = {."1 y'
free=: 3 : 0
'fh mh fad'=. y
if. IFUNIX do.
  if. fad do. c_munmap (<fad);mh end.
  if. fh~:_1 do. c_close fh end.
else.
  if. fad do. UnmapViewOfFileR <<fad end.
  if. mh do. CloseHandleR mh end.
  if. fh~:_1 do. CloseHandleR fh end.
end.
)
mbxcheck=: 3 : 0
x=. 15!:12 y
b=. 0={:"1 x
'a s c'=. |: (-.b)#x
'u n z'=. ,b#x
z=. *./ c e. 1 2
z=. z, (-:<.) 2^.s
z=. z, (}.a)-:}:a+s
z=. z, u = {.a
z=. z, ({:a+s) <: u+n
z=. z, (-: <.) 64 %~ +/s
z=. z, (+/s) = <.&.(%&64) n
z=. z, *./ 0 = 8|a
)
settypeshape=: 3 : 0
'name type shape'=: y
type =: nountype type
rank=. #shape
had=. gethad name
'flag msize'=. memr had,HADFLAG,2,JINT
'not mapped and writeable' assert 2=flag
size=. (JTYPES i.type){JSIZES
ts=. size**/shape
'msize too small' assert ts<:msize
type memw had,HADT,1,JINT
(*/shape) memw had,HADN,1,JINT
rank setHADR had
shape memw had,HADS,(#shape),JINT
i.0 0
)
validate=: 3 : 0
'ts had'=. y
if. ts>:HS do.
  d=. memr had,0 4,JINT
  *./((HS,ts-HS)=0 2{d),1 2 4 8 16 32 131072 262144 65536 e.~ nountype 3{d
else. 0 end.
)
j=. <;._2 (0 : 0)
1  ERROR_INVALID_FUNCTION
2  ERROR_FILE_NOT_FOUND
3  ERROR_PATH_NOT_FOUND
4  ERROR_TOO_MANY_OPEN_FILES
5  ERROR_ACCESS_DENIED
6  ERROR_INVALID_HANDLE
7  ERROR_ARENA_TRASHED
8  ERROR_NOT_ENOUGH_MEMORY
9  ERROR_INVALID_BLOCK
10 ERROR_BAD_ENVIRONMENT
11 ERROR_BAD_FORMAT
12 ERROR_INVALID_ACCESS
13 ERROR_INVALID_DATA
14 ERROR_OUTOFMEMORY
15 ERROR_INVALID_DRIVE
16 ERROR_CURRENT_DIRECTORY
17 ERROR_NOT_SAME_DEVICE
18 ERROR_NO_MORE_FILES
19 ERROR_WRITE_PROTECT
20 ERROR_BAD_UNIT
21 ERROR_NOT_READY
22 ERROR_BAD_COMMAND
23 ERROR_CRC
24 ERROR_BAD_LENGTH
25 ERROR_SEEK
26 ERROR_NOT_DOS_DISK
27 ERROR_SECTOR_NOT_FOUND
28 ERROR_OUT_OF_PAPER
29 ERROR_WRITE_FAULT
30 ERROR_READ_FAULT
31 ERROR_GEN_FAILURE
32 ERROR_SHARING_VIOLATION
33 ERROR_LOCK_VIOLATION
34 ERROR_WRONG_DISK
)

WINERRNOS=: 0 ". 2 {.&> j
WINERRMSG=: 3 }.each j
createjmf=: 3 : 0
'fn msize'=. y
fn=. jpath fn
msize=. <. msize
ts=. HS+msize
if. IFUNIX do.
  if. ('Darwin'-:UNAME) *. 'arm64'-:3 :'try.9!:56''cpu''catch.''''end.' '' do.
  fh=. 0 pick c_open_va fn; (OR O_RDWR, O_CREAT, O_TRUNC); (6#<00) ,< 8b666
  else.
  fh=. 0 pick c_open fn; (OR O_RDWR, O_CREAT, O_TRUNC); 8b666
  end.
  c_lseek fh;(<:ts);SEEK_SET
  c_write fh; (,0{a.); 0+1
  c_lseek fh;0 ;SEEK_SET
  d=. HS,AFNJA,msize,JINT,0,0,1,0
  c_write fh;d;(SZI*#d)
  c_close fh
else.
  fh=. CreateFileR (uucp fn,{.a.);(GENERIC_READ+GENERIC_WRITE);0;NULLPTR;CREATE_ALWAYS;0;0
  SetFilePointerR fh;ts;NULLPTR;FILE_BEGIN
  SetEndOfFile fh
  SetFilePointerR fh;0;NULLPTR;FILE_BEGIN
  d=. HS,AFNJA,msize,JINT,0,0,1,0
  WriteFile fh;d;(SZI*#d);(,0);<NULLPTR
  CloseHandleR fh
end.
i.0 0
)
getflagsad=: 3 : 0
SZI+1{memr (symget <fullname y),0 4,JINT
)
readonly=: 3 : 0
AFRO(17 b.)memr (getflagsad y),0 1,JINT
:
flagsad=. getflagsad y
flags=. memr flagsad,0 1,JINT
flags=. flags(17 b.)(26 b.)AFRO
flags=. flags(23 b.)AFRO*0~:x
flags memw flagsad,0 1,JINT
i. 0 0
)

showmap=: 3 : 0
h=. 'name';'fn';'sn';'fh';'mh';'address';'header';'fsize';'jmf';'mt';'msize';'refs'
hads=. 6{"1 mappings
h,mappings,.(gethadmsize each hads),.refcount each hads
)
mapsub=: 3 : 0
'name fn sn ro'=. y
ts=. 1!:4 <fn
if. IFUNIX do.
  'Unix sharename must be same as filename' assert (sn-:'')+.sn-:fn
  'FO FMP FMM'=. ro{mtflags
  if. ('Darwin'-:UNAME) *. 'arm64'-:3 :'try.9!:56''cpu''catch.''''end.' '' do.
  fh=. >0 { c_open_va fn;FO;(6#<00),<0
  else.
  fh=. >0 { c_open fn;FO;0
  end.
  'bad file name/access' assert fh~:_1
  mh=. ts
  fad=. >0{ c_mmap (<0);ts;FMP;FMM;fh;0
  if. fad e. 0 _1 do. 'bad view' assert 0[free fh,mh,0 end.
else.
  'Win sharename must not have /' assert -.'/'e.sn
  'fa ma va'=. ro{mtflags



  fh=. CreateFileR (uucp fn,{.a.);fa;(OR FILE_SHARE_WRITE, FILE_SHARE_READ);NULLPTR;OPEN_EXISTING;0;0
  if. fh=_1 do.
   6!:3[2
   fh=. CreateFileR (uucp fn,{.a.);fa;(OR FILE_SHARE_WRITE, FILE_SHARE_READ);NULLPTR;OPEN_EXISTING;0;0
   'bad file name/access'assert fh~:_1
  end. 
  mh=: CreateFileMappingR fh;NULLPTR;ma;0;0;(0=#sn){(uucp sn,{.a.);<NULLPTR
  if. mh=0 do. 'bad mapping'assert 0[free fh,0,0 end.
  fad=. MapViewOfFileR mh;va;0;0;0
  if. fad=0 do.
    errno=. GetLastError''
    free fh,mh,0
    0 assert~;(8=errno){'bad view';'not enough memory'
  end.
end.
name;fn;sn;fh;mh;fad;0;ts;0;ro
)
map=: 3 : 0
0 map y
:
if. 0=L.x do. t=. <&> x else. t=. x end.
'type tshape hsize'=. 3 {. t, a:
type =. nountype type

'trailing shape may not be zero' assert -. 0 e. tshape

'name fn sn ro'=. 4{.y,(#y)}.'';'';'';0
fn=. jpath fn
sn=. '/' (('\'=sn)#i.#sn)} sn
name=. fullname name
c=. #mappings

'maptype must be 0 (MTRW), 1 (MTRO), or 2 (MTCW - copy on write)' assert ro e. 0 1 2
'name already mapped'assert c=({."1 mappings)i.<name
'filename already mapped'assert c=(1{"1 mappings)i.<fn
'sharename already mapped'assert (''-:sn)+.c=(2{"1 mappings)i.<sn
4!:55 ::] <name
'bad noun name'assert ('_'={:name)*._1=nc<name
aa=. AFNJA+AFRO*ro=1

m=. mapsub name;fn;sn;ro
'fh mh fad had ts'=. (MAPFH,MAPMH,MAPADDRESS,MAPHEADER,MAPFSIZE){m

if. ro*.0=type do.
  had=. allochdr 63
  d=. memr fad,0,HSN,JINT
  d=. (sfu HS+-/ufs fad,had),aa,2}.d
  d=. 1 HADCN} d
  d setheader had
elseif. 0=type do.
  had=. fad
  if. 0=validate ts,had do. 'bad jmf header' assert 0[free fh,mh,fad end.
  aa memw had,HADFLAG,1,JINT
  if. sn-:'' do.
    t=. 0
  else.
    t=. 10000+ getHADC had
  end.
  (,t+1) setHADC had
elseif. 1 do.
  had=. allochdr 63
  'JBOXED (non-jmf) not supported' assert JBOXED~:type
  bx=. JBOXED=type
  hs=. +/hsize [ asize=. JSIZES {~ JTYPES i. type
  lshape=. bx}.<.(ts-hs)%(*/tshape)*asize
  d=. sfu hs+-/ufs fad,had
  h=. d,aa,ts,type,1,(*/lshape,tshape),((-.bx)+#tshape),lshape,tshape
  h setheader had
end.

m=. (had;0=type) (MAPHEADER,MAPJMF)}m
mappings=: mappings,m
(name)=: symset had
i.0 0
)
remap=: 3 : 0
name=. fullname y
row=. ({."1 mappings)i.<name
'remap: not mapped' assert row<#mappings
m=. row{mappings
fn=. ;1{m
ro=.  >MAPMT{m
jmf=. >MAPJMF{m
hs=. HS*jmf
'sn fh mh fad had'=. 5{.2}.m
free fh,mh,fad
m=. mapsub name;fn;sn;ro
m=. (had;jmf) (MAPHEADER,MAPJMF)}m
mappings=: m row}mappings
fad=. >MAPADDRESS{m
d=. sfu hs+-/ufs fad,had
d memw had,HADK,1,JINT
((>MAPFSIZE{m)-hs) memw had,HADM,1,JINT
i.0 0
)
share=: 3 : 0
'name sn ro'=. 3{.y,<0
map name;sn;sn;ro
)
unmap=: 3 : 0
0 unmap y
:
'y newsize'=. 2{.(boxopen y),<_1
n=. <fullname y
row=. ({."1 mappings)i.n
if. row=#mappings do. 1 return. end.
m=. row{mappings
4!:55 ::] n
'sn fh mh fad had jmf ts'=. (MAPSN,MAPFH,MAPMH,MAPADDRESS,MAPHEADER,MAPJMF,,MAPFSIZE){m

if. *./(-.x),(0=#sn),1~:getHADC had do. 2 return. end.
if. -.jmf do. freehdr had end.
if. _1=newsize do.
  free fh,mh,fad
else.
  newsize=. <.newsize
  totsize=. newsize + jmf*HS
  free _1,mh,fad
  if. IFUNIX do.
    if. totsize>ts do.
      c_lseek fh;(<:totsize);SEEK_SET
      c_write fh;(,0{a.);0+1
    elseif. totsize<ts do.
      c_ftruncate fh;totsize
    end.
    if. jmf do.
      c_lseek fh;(SZI*2);SEEK_SET
      c_write fh;(,newsize);SZI
    end.
    c_close fh
  else.
    SetFilePointerR fh;totsize;NULLPTR;FILE_BEGIN
    SetEndOfFile fh
    if. jmf do.
      SetFilePointerR fh;(SZI*2);NULLPTR;FILE_BEGIN
      WriteFile fh;(,newsize);SZI;(,0);<NULLPTR
    end.
    CloseHandleR fh
  end.
end.
mappings=: (row~:i.#mappings)#mappings
0
)
unmapall=: 3 : '>unmap each 0{"1 mappings'
memshare=: 3 : 0
bNo_Inherit_Handle=. FALSE
'y ro'=. 2{.(boxopen y),<0
lpShareName=. y,{.a.
mh=. OpenFileMappingR (ro{FILE_MAP_WRITE,FILE_MAP_READ); bNo_Inherit_Handle; uucp lpShareName
('Unable to map ',y) assert mh~:0

addr=. MapViewOfFileR mh; (ro{FILE_MAP_WRITE,FILE_MAP_READ); 0; 0; 0
if. addr=0 do. 'MapViewOfFile failed' assert 0[CloseHandleR mh end.
".(_1=4!:0<'mapTable')#'mapTable=:i.0,3'
mapTable=: mapTable, y; mh; addr
addr
)
memshareclose=: 3 : 0
r=. y findkey mapTable
'Unknown share name' assert 0~:$r
'mh addr'=. {:(<r; 1 2){mapTable
('Unable to close share: ', y) assert $mh > 0
UnmapViewOfFileR <<addr
if. CloseHandleR mh do.
  mapTable=: (<((i.#mapTable)-.r); i.{:$mapTable){mapTable
end.
)
NB. data/jmf manifest

CAPTION=: 'J Memory Mapped File'

DESCRIPTION=: 0 : 0
J Memory Mapped File
)

VERSION=: '1.0.40'

RELEASE=: ''

FOLDER=: 'data/jmf'

PLATFORMS=: ''

FILES=: 0 : 0
history.txt
manifest.ijs
jmf.ijs
test/testdata.ijs
test/testjmf.ijs
)
NB. test jmf (self-describing) files

dbg 1
dbstops''
F=: jpath '~temp/t1.dat'

NB. allow for integer of length 20
testjmf=: 3 : 0
unmapall_jmf_''
size=. 20*IF64{4 8
createjmf_jmf_ F;size
map_jmf_ 'abc';F
abc=: i.20
unmap_jmf_ 'abc'
map_jmf_ 'def';F
smoutput def -: i.20
abc=: i.21 NB. OK
try. def=: i.21
catch. smoutput 'expected allocation error: def=: i.21' end.
NB. dbstopme''
unmap_jmf_ 'def';30*IF64{4 8
map_jmf_ 'def';F
smoutput def -: i.20
def=: i.30
try. def=: i.31
catch. smoutput 'expected allocation error: def=: i.31' end.
)

testjmf''

NB. jmf and nonjmf files * maptype default, RO, COW
testmaptype=: 3 : 0
echo 'testmaptype'
unmapall_jmf_''

NB. jmf file with maptype 0,1,2
createjmf_jmf_ F;10
map_jmf_ 'abc';F;'';MTRW_jmf_
abc=:'def'
unmap_jmf_'abc'

NB. test jmf file with 0/1/2 map types

map_jmf_ 'abc';F;'';MTRW_jmf_ NB. 0 maptype
assert 'def'-:abc
abc=: 'ghi'
m=. mappings
remap_jmf_'abc'
assert m-:mappings
unmap_jmf_'abc'

map_jmf_ 'abc';F;'';MTRO_jmf_ NB. RO maptype
assert 'ghi'-:abc
try. abc=: 'jkl' catch. end.
assert 'ghi'-:abc
m=. mappings
remap_jmf_'abc'
assert m-:mappings
unmap_jmf_'abc'

map_jmf_ 'abc';F;'';MTCW_jmf_ NB. COW (copy on write) maptype
assert 'ghi'-:abc
abc=: 'jkl'
assert abc-:'jkl'
unmap_jmf_'abc'
map_jmf_ 'abc';F;'';MTRO_jmf_
assert 'ghi'-:abc NB. verify =: did not change file
m=. mappings
remap_jmf_'abc'
assert m-:mappings
unmap_jmf_'abc'

NB. test nonjmf file with 0/1/2 maptypes

'1234'fwrite F

JCHAR map_jmf_ 'abc';F;'';0 NB. 0 maptype
assert '1234'-:abc
abc=: '6789'
unmap_jmf_'abc'
JCHAR map_jmf_ 'abc';F;'';0
assert '6789'-:abc
m=. mappings
remap_jmf_'abc'
assert m-:mappings
unmap_jmf_'abc'

JCHAR map_jmf_ 'abc';F;'';1 NB. RO
assert '6789'-:abc
try. abc=: '9999' catch. end.
assert '6789'-:abc
m=. mappings
remap_jmf_'abc'
assert m-:mappings
unmap_jmf_'abc'

JCHAR map_jmf_ 'abc';F;'';2 NB. COW (copy on write) maptype
assert '6789'-:abc
abc=: 'jkl'
assert abc-:'jkl'
unmap_jmf_'abc'
JCHAR map_jmf_ 'abc';F;'';0
assert '6789'-:abc NB. verify =: did not change file
m=. mappings
remap_jmf_'abc'
assert m-:mappings
unmap_jmf_'abc'
echo 'testmaptype end'
i.0 0
)

testmaptype''
NB. test data (not self-describing) files

dbg 1
dbstops''
unmapall_jmf_''
G=: jpath '~temp/t2.dat'

(a.{~,4 {.&> i.20) fwrite G
JINT map_jmf_ 'rst';G
smoutput rst
FoldZv_j_ =: 0 0  NB. isfold, iteration count
NB. Fold.  Foldtype_j_ is set by caller
Foldr_j_ =: 2 : 0
'init mult fwd rev' =. 2 2 2 2 #: Foldtype_j_
4!:55 <'Foldtype_j_'
fzv =. FoldZv_j_  NB. stack fold info
FoldZv_j_ =. 0 0
FoldThrow_j_ =: $0  NB. If nonempty, set to throw type
if. fwd+rev do.  NB. if forward or reverse...
  nitems =. init + #y  NB. total # items, including init if any
  if. nitems<2 do.
    emptycell =. 0 # (,:x) [^:init y  NB. fillcell: empty array of x or (item of y)
    try. res =. u. v./ emptycell  NB. get the neutral for the empty cell, and try applying u to it
    catcht. 13!:8 (3)  NB. Z: on empty is domain error
NB. obsolete     catch. 13!:8 (3 3&, {~ 43 44&i.) 13!:11 '' [ FoldZv_j_ =. fzv  NB. if error, pass it through; if no results, error
    end.
    if. mult do. res =. 0 # ,: res end.  NB. Single result is neutral, Multiple result is empty array of them
  else.  NB. at least 2 cells.  We will run the loop
    if. init do. cellres =. x else. cellres =. (-rev) { y end.  NB. cellres=first cell, either 0 (fwd) or _1 (rev)
    cellx =. -init  NB. 1 less than index of first cell for left side
    res =. ''   NB. init list of results - to nonboxed empty
    while. (({.FoldZv_j_)<:1) *. (cellx=.>:cellx) < #y do.
      FoldZv_j_ =: FoldZv_j_ + 0 1  NB. increment number of times we started u (used by Z:)
      try. vres =. u. cellres =. ((24 b.^:rev cellx) { y) v. cellres  NB. 1s-comp of cellx if rev
      catcht.
        FoldThrow_j_ =: $0 [ ft =. FoldThrow_j_  NB. save & clear signaling vbl
        if. 43 -: ft do. break. end.  NB. abort iteration and end
        if. 44 -: ft do. continue. end.  NB. abort iteration and continue
        13!:8 (35) [ FoldZv_j_ =. fzv  NB. not an iteration control, pass the throw. along
NB. obsolete       catch.
NB. obsolete         if. 43 = 13!:11'' do. break. end.  NB. abort iteration and end
NB. obsolete         if. 44 = 13!:11'' do. continue. end.  NB. abort iteration and continue
NB. obsolete         13!:8 ] 13!:11 '' [ FoldZv_j_ =. fzv  NB. not an iteration control, fail with that error code
      end.
      NB. continuing iteration.  cellres is the u result, vres is the boxed v result
      if. ({.FoldZv_j_) e. 0 2 do. res =. res ,^:mult <vres else. FoldZv_j_ =. FoldZv_j_ 18 b. 1 0 end.
    end.
    if. 32 ~: 3!:0 res do. 13!:8 (3) [ FoldZv_j_ =. fzv end.  NB. If nothing produced result, error
    res =. > res
  end.
else.  NB. repeated iteration on y, not related to items
  res =. '' [ cellres =. y   NB. no results, and 
  while. (({.FoldZv_j_)<:1) do.
    FoldZv_j_ =: FoldZv_j_ + 0 1  NB. increment number of times we started u (used by Z:)
    try.
      if. init do. cellres =. x v. cellres else. cellres =. v. cellres end.
      vres =. u. cellres
    catcht.
      FoldThrow_j_ =: $0 [ ft =. FoldThrow_j_  NB. save & clear signaling vbl
      if. 43 -: ft do. break. end.  NB. abort iteration and end
      if. 44 -: ft do. continue. end.  NB. abort iteration and continue
      13!:8 (35) [ FoldZv_j_ =. fzv  NB. not an iteration control, pass the throw. along
NB. obsolete     catch.
NB. obsolete       if. 43 = 13!:11'' do. break. end.  NB. abort iteration and end
NB. obsolete       if. 44 = 13!:11'' do. continue. end.  NB. abort iteration and continue
NB. obsolete       13!:8 ] 13!:11 '' [ FoldZv_j_ =. fzv  NB. not an iteration control, fail with that error code
    end.
    NB. continuing iteration.  cellres is the u result, vres is the boxed v result
    if. ({.FoldZv_j_) e. 0 2 do. res =. res ,^:mult <vres else. FoldZv_j_ =. FoldZv_j_ 18 b. 1 0 end.
  end.
  if. 32 ~: 3!:0 res do. 13!:8 (3) [ FoldZv_j_ =. fzv end.  NB. no results is domain error
  res =. >res
end. 
res [ FoldZv_j_ =. fzv
)

   
FoldZ_j_ =: 4 : 0
if. 0~:#@$ y do. 13!:8(3) end.
if. 0~:#@$ x do. 13!:8(3) end.
if. y do.
  select. x
  case. _3 do.
    if. y <: 1 { FoldZv_j_ do. 13!:8 ] 36 end.
  case. _2 do.
    FoldThrow_j_ =: 43 throw.  NB. break
  case. _1 do.
    FoldThrow_j_ =: 44 throw.  NB. continue
  case. 0 do.
  FoldZv_j_ =: FoldZv_j_ 23 b. 1 0  NB. suppress output
  case. 1 do.
  FoldZv_j_ =: FoldZv_j_ 23 b. 2 0 NB. stop after this
  end.
end.
$0
)

      
FoldZv_j_ =: 0 0  NB. isfold, iteration count
NB. Fold.  Foldtype_j_ is set by caller
Fold_j_ =: 2 : 0
'init mult fwd rev' =. 2 2 2 2 #: Foldtype_j_
4!:55 <'Foldtype_j_'
fzv =. FoldZv_j_  NB. stack fold info
FoldZv_j_ =. 0 0
FoldThrow_j_ =: $0  NB. If nonempty, set to throw type
if. fwd+rev do.  NB. if forward or reverse...
  nitems =. init + #y  NB. total # items, including init if any
  if. nitems<2 do.
    emptycell =. 0 # (,:x) [^:init y  NB. fillcell: empty array of x or (item of y)
    try. res =. v. u./ emptycell  NB. get the neutral for the empty cell, and try applying v to it
    catcht. 13!:8 (3)  NB. Z: on empty is domain error
NB. obsolete     catch. 13!:8 (3 3&, {~ 43 44&i.) 13!:11 '' [ FoldZv_j_ =. fzv  NB. if error, pass it through; if no results, error
    end.
    if. mult do. res =. 0 # ,: res end.  NB. Single result is neutral, Multiple result is empty array of them
  else.  NB. at least 2 cells.  We will run the loop
    if. init do. cellres =. x else. cellres =. (-rev) { y end.  NB. cellres=first cell, either 0 (fwd) or _1 (rev)
    cellx =. -init  NB. 1 less than index of first cell for left side
    res =. ''   NB. init list of results - to nonboxed empty
    while. (({.FoldZv_j_)<:1) *. (cellx=.>:cellx) < #y do.
      FoldZv_j_ =: FoldZv_j_ + 0 1  NB. increment number of times we started u (used by Z:)
      try. vres =. v. cellres =. ((24 b.^:rev cellx) { y) u. cellres  NB. 1s-comp of cellx if rev
      catcht.
        FoldThrow_j_ =: $0 [ ft =. FoldThrow_j_  NB. save & clear signaling vbl
        if. 43 -: ft do. break. end.  NB. abort iteration and end
        if. 44 -: ft do. continue. end.  NB. abort iteration and continue
        13!:8 (35) [ FoldZv_j_ =. fzv  NB. not an iteration control, pass the throw. along
NB. obsolete       catch.
NB. obsolete         if. 43 = 13!:11'' do. break. end.  NB. abort iteration and end
NB. obsolete         if. 44 = 13!:11'' do. continue. end.  NB. abort iteration and continue
NB. obsolete         13!:8 ] 13!:11 '' [ FoldZv_j_ =. fzv  NB. not an iteration control, fail with that error code
      end.
      NB. continuing iteration.  cellres is the u result, vres is the boxed v result
      if. ({.FoldZv_j_) e. 0 2 do. res =. res ,^:mult <vres else. FoldZv_j_ =. FoldZv_j_ 18 b. 1 0 end.
    end.
    if. 32 ~: 3!:0 res do. 13!:8 (3) [ FoldZv_j_ =. fzv end.  NB. If nothing produced result, error
    res =. > res
  end.
else.  NB. repeated iteration on y, not related to items
  res =. '' [ cellres =. y   NB. no results, and 
  while. (({.FoldZv_j_)<:1) do.
    FoldZv_j_ =: FoldZv_j_ + 0 1  NB. increment number of times we started u (used by Z:)
    try.
      if. init do. cellres =. x u. cellres else. cellres =. u. cellres end.
      vres =. v. cellres
    catcht.
      FoldThrow_j_ =: $0 [ ft =. FoldThrow_j_  NB. save & clear signaling vbl
      if. 43 -: ft do. break. end.  NB. abort iteration and end
      if. 44 -: ft do. continue. end.  NB. abort iteration and continue
      13!:8 (35) [ FoldZv_j_ =. fzv  NB. not an iteration control, pass the throw. along
NB. obsolete     catch.
NB. obsolete       if. 43 = 13!:11'' do. break. end.  NB. abort iteration and end
NB. obsolete       if. 44 = 13!:11'' do. continue. end.  NB. abort iteration and continue
NB. obsolete       13!:8 ] 13!:11 '' [ FoldZv_j_ =. fzv  NB. not an iteration control, fail with that error code
    end.
    NB. continuing iteration.  cellres is the u result, vres is the boxed v result
    if. ({.FoldZv_j_) e. 0 2 do. res =. res ,^:mult <vres else. FoldZv_j_ =. FoldZv_j_ 18 b. 1 0 end.
  end.
  if. 32 ~: 3!:0 res do. 13!:8 (3) [ FoldZv_j_ =. fzv end.  NB. no results is domain error
  res =. >res
end. 
res [ FoldZv_j_ =. fzv
)

   
FoldZ_j_ =: 4 : 0
if. 0~:#@$ y do. 13!:8(3) end.
if. 0~:#@$ x do. 13!:8(3) end.
if. y do.
  select. x
  case. _3 do.
    if. y <: 1 { FoldZv_j_ do. 13!:8 ] 36 end.
  case. _2 do.
    FoldThrow_j_ =: 43 throw.  NB. break
  case. _1 do.
    FoldThrow_j_ =: 44 throw.  NB. continue
  case. 0 do.
  FoldZv_j_ =: FoldZv_j_ 23 b. 1 0  NB. suppress output
  case. 1 do.
  FoldZv_j_ =: FoldZv_j_ 23 b. 2 0 NB. stop after this
  end.
end.
$0
)

      
NB. fold manifest

CAPTION=: 'Fold implementation in J'

DESCRIPTION=: 0 : 0
J emulations of the Fold primitives
)

VERSION=: '1.0.7'

FILES=: 0 : 0
fold.ijs
foldr.ijs
)

FOLDER=: 'dev/fold'

RELEASE=: 'j901'
NB. LU decomposition with permutation
NB. y is square matrix
NB. result is (permutation);(LU in Doolittle form)
NB. L and U are mashed together with the principal diagonal of L (which is all 1) omitted
Lu_j_=: 3 : 0
d =. #y  NB. dimension of array
pv =. i. d NB. initialize permutation array to index vector
remvec =. i. d  NB. vector to fetch from i to end of vector
for_i. i. d do.  NB. for each ring
  col =. (<remvec;i) { y NB. fetch current column
  pivot =. col {~ pivotx =. (i. >./) | col  NB. find index of largest absolute value; save the value as pivot
  NB. swap the permutation array, and swap the rows of the matrix, and the values read for current column
  col =. ((0,pivotx){col) (0,~pivotx)} col
  y =. ((i,i+pivotx){y) (i,~i+pivotx)} y
  pv =. ((i,i+pivotx){pv) (i,~i+pivotx)} pv
  col =. (}. col) * %pivot  NB. divide the current column by the pivot
  remvec =. }. remvec  NB.  shorten the fetch vectors by 1 from the front
  y =. col (<remvec;i)} y  NB. store the current column into the array as L; leave U unchanged
  y =. (((<remvec;remvec) { y) - col */ (<i;remvec) { y) (<remvec;remvec)} y  NB. subtract (current column */ (}.first row)) from lower-right block
end.
pv;y
)NB. lu  manifest

CAPTION=: 'LU implementation in J'

DESCRIPTION=: 0 : 0
J LU code, called from 128!:10
)

VERSION=: '1.0.2'

FILES=: 0 : 0
lu.ijs
)

FOLDER=: 'dev/lu'

RELEASE=: 'j902'
NB. J profile
NB. JFE sets BINPATH_z_ and ARGV_z_
NB. add your sentences in startup.ijs

systype=. 9!:12''
jpathsep_z_=: '/'&(('\' I.@:= ])})
BINPATH_z_=: jpathsep BINPATH_z_
omitversion=. 'Android' -: 0:`(UNAME"_)@.(0=4!:0<'UNAME_z_')''

NB. create SystemFolders
bin=. BINPATH
install=. (bin i: '/'){.bin
fhs=. (FHS"_)^:(0=4!:0<'FHS')(5=systype)*.0=#1!:0<BINPATH,'/../system/util/boot.ijs'
install=. (0&~:fhs){::install;install,'/share/j/',omitversion{::'9.03';'0'
install=. (INSTALLROOT"_)^:(0=4!:0<'INSTALLROOT') install
addons=. install,'/addons'
system=. install,'/system'
tools=. install,'/tools'
home=. >(systype-5){(2!:5'HOME');2!:5'USERPROFILE'
home=. >(0-:home){home;,'/'
isroot=. (0=#1!:0'/data') *. ('root'-:2!:5'USER') +. (<home) e. '/var/root';'/root';'';,'/'
userx=. omitversion{::'/j903-user';'/j-user'
user=. home,userx
user=. >isroot{user;install,'/user'
home=. >isroot{home;install
break=. user,'/break'
config=. user,'/config'
snap=. user,'/snap'
temp=. user,'/temp'
temp=. >isroot{temp;(*#1!:0'/tmp'){::'/tmp';~(0-:2!:5'TMPDIR'){::(2!:5'TMPDIR');temp
ids=. ;:'addons bin break config home install snap system tools temp user'

0!:0 :: ] <(({.~ i:&'/') jpathsep >{.4!:3''),'/profilex.ijs' NB. override
0!:0 :: ] ^:(0=#1!:0 (({.~ i:&'/') jpathsep >{.4!:3''),'/startup_android.ijs') <home,>(systype-5){'/.jprofile.ijs';'/_jprofile.ijs' NB. override per user except for standalone script

SystemFolders_j_=: ids,.jpathsep@".&.>ids

md=. 3 : 0 NB. recursive makedir
a=. jpathsep y,'/'
if. ('root'-:2!:5'USER') +. ('//'-:2{.a)+.('/root/'-:6{.a)+.('/var/root/'-:10{.a)+.('/usr/'-:5{.a)+.('/tmp'-:a) do. return. end. NB. installed under / /root /usr
if. -.#1!:0 }:a do.
  for_n. I. a='/' do. 1!:5 :: [ <n{.a end.
end.
)

NB. try to ensure user folders exist
md user,'/projects'
md break
md config
md snap
md temp

NB. boot up J and load startup.ijs if it exists
0!:0 <jpathsep (4!:55 (;:'systype fhs isroot userx ids md omitversion'), ids)]system,'/util/boot.ijs'
MZ                @                                       	!L!This program cannot be run in DOS mode.
$       PE  d
              /    	           @                         	    	                                                  h+   	      PF                                            	 (                    	                          .text   (                     ` P`.data                        @ `.rdata                     @ `@.pdata  PF      H                @ 0@.xdata  L   P  N   &             @ 0@.bss    \                         `.idata  h+     ,   t             @ 0.CRT    h                      @ @.tls    h     	                  @ `.rsrc      	                  @ 0                                                                                                                                                                                                                                        D  f.     H(Hj 1    Hj     Hj     Hlj     He f8MZuHcP<H8PE  tyH2j   uW   \  H
  Hf HHe HHf He H R  Hd 8tK1H(      PftEfq   d   1RH	    1H(     xt-D   1EfH8He L H H   H HD$ He D]  H8    AUATUWVSH      1HT$ HHH=h DE  eH%0   Hd Hp1L% H9$    AHH3HuH5xd 1    +      !  H}c H HtE1   1T  H  s Hc H  Hqw  w  HPc 1H Hc H H HuZ t,t'   H ~AA"ADfD  uf.      HuH	 DE   W DkMcIL4  H=5 H~BDc1HH  HpH  IHD HH  HCI9uJD-H     H- A  Hjb L  H L H           H   [^_]A\A]f     
   D$\tD$`) @ H5ib         Hb Hb 9     1Hf     H Ff3   H   [^_]A\A]D  HYb HBb      kK  f.     H(He     *  H(@ f.     H(He        uH(H	      @ SH0HH   HD$ Htv     H   H HD$ z  HT$ LD$(HHD$(;  HL$ Hf  HL$(HZ U     HQ |  HH0[Hd` HHHH0[ H(GHH(H(H H HtH HPH@H HuH(f.     VSH(H_ Ht9t HH)Ht@ HH9uH~H([^S 1D@J< Luf.      tD      qH%} 1ATUWVSH0H/ H2-+  HD$     H9tHH H0[^_]A\fHL$ ! Ht$ F AM  HL$( H3t$(DH  H1H1H1H!H9t%HHH H H0[^_]A\fD  H] fH3-+  f.     UVSHHpHH J H E1HUH; H   HUH IIHT$0HUHT$(HUHL$ 1HD$8     H~ 1H5 Hf H	    HE H HEH HE5 H2X P  	 H, {  HEH HEH {H(tt   H(f          H(VSH(H3\ 8t    tt@   H([^fH H5 H9tHHtHH9u   H([^9     H([^ f.     1HXH Ht,$   L$ HL$ HT$(T$0\$8D$@HXD  f.     H   @ VSHx)t$@)|$PD)D$`9   HW HcHHV DA yqHqw  DD$0IHW |$(HH`It$ F  (t$@(|$P1D(D$`Hx[^HV  HV     HV |@ HyV l@ HV \@ H	V LHff.     HVSH8HD$XHHT$XLD$`LL$hHD$(  A      HV LH`.  Ht$(\  HHH`I%    D  f.     ATUWVSHPHc=3 HHL~  H 1HHH9rL@E@LH9   H(9uH  IHj  H H<HHL`        AL$HT$ A0   HH HL8 H*  D$DPt@   k s'   tE    HP[^_]A\HE HNHHHTHTH)H)r1LD L9rHP[^_]A\HL$ HT$8A@   H= IHOHW P HU f.     1f     E DD6DfD%HHT H] AT$HT LD8@ f.     UAWAVAUATWVSH8H$   5 tHe[^_A\A]A^A_]    n  HHH   H  L-W HW      H)HD$ H LH)H~H+    C  S  HH}L5jW I    L9r=HfD  IHL	HIHL)A   LHEHL9s^DKSMLM       t@g  HHHIL)A   LHEL9r     H= 1f     H HD EtHPHHMH(;5x |_   C{SH   III IHL)A   LHUHIII  fIHL)A   LHUHL9IH=U LeI)INl    KA   LHHEQL9uHR HE    HlR H(  wc       .              1   @~  Hf  H-     1H(         vA  t     1   }  H   H      1H(  t  u[1   }  HHtV   Ht   1H(f.       t1  H(        2fD        A}  ,1D  1   $}  HHq   }  1fD     fD        |  1f.           |  1f.     ATUWVSH   H  u%Ht HP       Ht   H [^_]A\@ H H 0   1HL%H    HI)HH.	HHDgPSPHHH)SCH tH  HuHs     IHQ  RfD  SH HH CCG O  =  w[=  ss=        =     =     1   ^{  HT  H      R=     wP=  t9=     1   {  H         z  @ H [D  =  t=  u@1   z  H   Ht%   f     =  t=  tH HtFHH [H1   oz  Ht9Ht   h BQ1H [           !z  ,      z        y  UWVSH(H  H Ht3H- H= HuHt	HCHH[HuH H([^_]H%2 fD  UWVSH(j 1HuH([^_]      Uz  HHt=(HL Hx. H H4 H HC H([^_]SH  u1H [    H  H Ht9uK9t)HHHHuH L 1H [     HQHPy  H " HPHHV @ SH    t3tu6       H [   H [ uu uH Htf.     HYx  HHuH H            t1       H [D  PfD  H  HcA<H19PE  u1fy f9MZu	    1 f.     HcA<HAHDIt)HLL(D@LI9wHH9wH(L9u1ff.     WVSH Hv  Hw{HM 1f:MZuYHCtMHcB<HBH\BtGHH|(f     H(H9t'A   HH&v  uHH [^_    1HH [^_ H(LL 1fA9MZIuWLtKIcA<LL)IAAITAAt)HLL(DBLL9rBH9rH(L9u1HH(f     H(HuL E1f:MZuH3t
HcB<DDDH( f.     H(L5L 1fA9MZIuRLtFIcA<IAAITAAt*HHD(fD  B' t	MtIH(H9u1HH(@ f.     H(LK 1fA8MZuLsIEHH(D  H(LK 1fA8MZHuWL@tKIc@<HL)IA@APID t)HLL(D@LL9rPH9rH(L9u1H(@$H(D  f.     H(LJ E1fA;MZAuZLtNIcK<L   t=QHTIt,HLT(DJLL9rJH9rH(L9uE1LH(D  Luf     AHHuPtEDHMLH(QPH=   HL$rH   H	 H-   H=   wH)H	 XYSHPLt HD$HLL$DHD$  $  w+HOG HcHfD  \$LT$H  H H	tHH    H H	H\$8D$8HP[H      @ 1\$DT$L3  	T$HH H	fD  H\$Hf     H      vHD$H  UWVSH8  Hs       H  ; e  H   K  Ht$ HA  HHjs  H!%t  DHSHD@ HH)HK  q  HH2  HD  HC   HL$ HL  HHD  LDLD
HH)H)HD      H*   H0      fH1H8  @      H(      H    HH8  [^_]f        t
tDDfDD
n     Kr  1    HH8  [^_]@ C  H\B/9\   fH(fq      Xq  1    Fq  1    4
DDDD
    UWVSHX  Hq       H  @     H|$    HD  HVq  HH7  D$ Hs$HW(A  HHD$(HCHD$0HCHD$8HCHD$@C Bo  H8  @     H9o  H0  Hf.  3o  H(  HX  [^_]     @  @  1HX  [^_]H8  Hn     D$ Hs$HW(A  HHD$(HCHD$0HCHD$8HCHD$@C ~n  t tgH8  3p  HH8  @  eH{H1H    H       HH)(  HH8  @  %fo        o      1H{H1H    H       HH)(  H9f.     VSH(Hro       Ht'H8  1HtKo  HQn  H([^;o      @ f.     SH Ho       Ht8H8  HuH8  @      H [n  f     n       SH Hn       Ht@  H [n      f.     VSH(Hpn       Htw|`u.H8  HtDn  HH8  @  H([^HfD  HhHt9@  |H([^@ m      H([^m      UAUATWVSH(H$   1H   %l  HHtHek  HHs@    l  Ht; uoE1HW@ 1fk  H HXHk  IH3@ HH :k  H   k  HEl  Hv HHe[^_A\A]]fD  E1H1Hk  IHD HH)HLd$ Lk  E1MfEDE$Hv&AT$fA/  fA\  f:  fEu
HfMLDD  If\tAIHft9f/u
f\t
f/u@ H
f/tf\tIftIM9r{fA/tfA\t	.   fA1L1fA@E1i  HI~ LhL}j  MLHHH*~ i  H   @j  Hj  H     IRI9  AJIf/tf\tE1MfDBE$fA\tfA/  IAf/tf\tLL)H   MMIPAHfA\t#AIfEteIfEQfA/uALf\tf/uH
f/tf\tfA9AfA|$ 4MD$E\$1ILfA	Hh  H fA/tfA\fD9ZJf\f/IEf.     fE9T$EAUATUWVSD))A   f     AADuD)AE~^HcAAI    D~6L1@ AD:A)9DAOLcOMMLM9uAHE9u[^_]A\A]A     WVSH0H> LL$hH\$XHHT$XLD$`H H\$(H H8pi  H IHH`Uh  Xi  IHHH`!g  Di  
   HP`&h  H0[^_D  AWAVAUATUWVSHH H= H$   HLH$   =   D$<L$   D$8 f  HD$0H  HHHD$0H)L6M<  D$   E1AD$,    A;IcLHHHH9LtXD$,   ILHL4M   ILHDEf  uLAf  H9t;HuEuAuAHHH9Lu@9D   DD$,D$,DHcHHF   H|$0    D EtH$   8:  1H~   ` H$   8:  ?      DT$,E   Ay$       tH$   8:tHHu      ?   -PvzH$    t
H$   (HVFHt1HH[^_]A\A]A^A_Hd  H#D EtH$   8:IHW mHL$0HtHy pgD$<H$   5 HcD$8HHy H9 t)H$   8:tHH  D$81H~ t] D$8 H$   8:l:   IH] 8(F-D$< FfAWAVAUATUWVSHHHL$   L$   M  DG E6  = =  x /  H$   -P  D Eu+u$   +6  Hx     t  $   D$   H- AtxD5 Dx     A9  IcL,A} -L-p   H-c   E  D-C A  D=. A  EFD1 L E:EtH$    t%Hc L9tA-  $     IjAH- :  -  H$   LT$8b  LT$8Hq  H$    P  W  ;  Az   t k 9  a H HC tH$   8:tW   H H$    W   8:'  ?   o  v        HF a  H$   H tv -$   H$   E}E  H$   -   `  H
=f t=V   ImH-Q A} l  -     EFD5) D6  D  DIED E E)D)  u 9f.     5 H8 = H uZt=   HH[^_]A\A]A^A_f.     EFL-u    De IE)&)5L 1A:tH$   A_  HD$ L$   HL$   H$      H[ H MH$   -   8_  H-PM-   :   Az  = t=u    MULp A-UA}   H$      McN;^I1L2 Az u+ ) tH$   8:u =
 ?   kL E:H z Hws     Az Qt5H-fs H$  H D5 E,x:t 9~OHcHQHs HHHX D$     L$   HL$   H$   P<H H % tH$   8:tH[ H$   = 8::   HM|ImMH- i5 EFH D H I9f.     H8E1D$(    HD$     H8@ f.     H8HD$`D$(   HD$ H8H8HD$`D$(   HD$ H8SH    ?B w1uH [Mb0 H []  Ht+9 t&IA8 tILH)H9rf.     1AWAVAUATUWVSH(HIIcHtI$%  $v	  H%\  AuGuSH   
   0_  U	v%[  5  [  1   UH1Lc9   D+AUA	   D[  EM   D[     MtI$@-   LMxEtQ\   "   H:E0<C<X      1SK\   !   1H([^_]A\A]A^A_fEMA9oHHHHL9rLIcIH     A        UfD  C<XuHS   H H       I9wEuLHN[   "   H:      1oAWAVAUATUWVSH(HIIcHtI$  $v	  HY  AuGuKH   
   0_  M	v$Y  5  E1Y     MHE19   LcD+AEA	   DPY  EM   DLY  uzMtI$E   LH@-LDDfD  X0OC<X      1e Z  E1 !   LH([^_]A\A]A^A_EMf.     A9oH1HHL9r"HIcIHI9wIH@ A        MfD  C<Xu,K   H kY  I "   G      1VSHtmHqD^IE9tKIEQEuEtSH^IfD  EtIEYD8uEtF I0H[^HfD  1IHu11I     [^AWAVAUATUWVSH   HH      aX  HH  H   X  IHtZHT$hH   Lt$pH;t$h   E1Ht$pMFH! u0|$pt)_ =   h     >$  )    H tE1LW  Ht1H   [^_]A\A]A^A_f.     LH t   3   V       HV  IH  H   2   H IHD$\HD$HA2   HL    D$8    LHLL$HHD$0    A  HD$(    HD$      D$\9$   uLw LU  E1E1HHT$` HAU  EtHH+D$hH;D$`h@    "  L H1qU      	   "  ATUWVSH MIHL1I1U  xHpHcHT  I$Ht1HIIHU  I$Hc H [^_]A\     [U  VSH(LcIMHAHJfD  H@    H9v tHH([^f.     D;C}AHDCBD   H([^CH1  HSHHHHcCL   S  HHm2  LcNM@ AWAVAUATUWVSHHHMHT$<MLD$8:  L$87HD$<)T$8D$<   5   $   .  $     A   HE1O=  T$8HAA7*  E  H    HK)EQHcT9y  uk   HA    )  D$<D$<Q$   E1t
  H?1  DHH[^_]A\A]A^A_D$   E1Et1E1n  W9   AT$<A)D9|tDwEukAy~  $   t   HHc|D!)  H$         P   D$<DE!    H$   C    E1 P   A$ILA   _;  H$   D	8W9}H$   E1T$<    R   "   D$<C         u~$   E1DsAA    H8;  u3T$8HE1#(  D$<f.     )H3  HT$8HA   '  HDtAAy H:  uT$8HE1'  D$<,f.     HDL$,:  DL$,:D  D$<A    HA`   HD$<fD  HcQHAHfH@H9vt@ VSH(rH9q|mL@t<PHcIL9v;f.     IA@L9wuH([^@ PHcIL9w    )AhH([^(.  !-  D  f.     AWAVAUATUWVSH  )$   )$   D)$   D)$   D)$   HL$p  H$h  L$x  
O  L LN  H$   H $       IH$p  H$        D$HHD HA-L  AHcHH$h      $      tH$h  H($   ($   ($   D($   D($   D($   H  [^_]A\A]A^A_ D$l   HpH$   D@EoE1A0   H$p  @$   AP	   LV1111 |HL$   ALMRDXAA	   ~TPD$l    ZfHH$   D HA- D$l    E1A0JVXB  HFx5  HH$   H@D@A0tA   EE1   H111fD  E8$  D$L    AE1E1E   E1E  E	uEu!NX    i  n@  E1$      H$   f.     H$h   tH$   H$h  HD$lt$   MH$  T$H5  H$   *  fD  DD	D	  H$   HEH$   E<+  <-  D$@    H	  0u$H$   HH@ H$   H0tHE1L$   DxIBLT$PH$   ABH	wFIJGH$   IHF|PADPA	vL+d$PIK  AN  >  DT$@DEDECInH$   H HW4    L$   EfD+D$LD\$l$      D$hH$p  @D$@D)L$`tAKL$`tD$`f   H*ADAANfoA	~EH! fHH*YX|$H5{  Aq  D$h  O
  D$h  Hcf~H   fI~   I A   ED)L! 5AH$   HL$0L$`YD$ L$(foL$  L$x  H$p  ~	  1       ED$E!  D:AaHIHIE8FE$IEuL$   A R  HAE1D$L    	w0AAL$   I  IBH$   ABH	vA   f.     D$hEA)AE  DtH HY4A  f(H$   L$   .  $   D$   H$   +l$HD$   ~&HN  T$H$   $   A$   A+D$H$   H$p  @D$@9'  H$p  @D$\9@  D)    T$\D$   $   E1  $   D$@   $   9*  Dl$ AHE+/  |$h1Dl HHD$pD$LD_ D~~ D)II1D$LHFHD$xD$HT$d$   fHt$pN$  HT$xHHHHcFL   F  H$   H$  H$   HHHHcBHL   F  D$      D$   x&  EA.IA)  T$d\$LEDL$\D+l$H$   DD)D)E9OD4D,E9DAN9N~A)A))D$L~-La'  HHI#&  HHD$P$  HD$PHD)Q  
  l$h~T$dH'  HE~HD(  H~L(  IHH)  xHDXEO  LckC    LH9)  T$`    D1D9\  E	  $      T$\9$   teT$HL$     EPEuG   HELEu2 Lc  OL1AA9  AD$@  fA(fA(D$P    A   $      $   $   T$X;D$H}D$@  H$   L$   f(*  $   I  tH'  IL$   LLE  (  L$@H$   uOAT$9P~HcHLAT9}&L$\9$   U  $   Dl$@     Lh"  L`"  h  $   $   ;D$Xu;Dl$PEt1Y5 f(\ f(fAWf/  f/	  Dd$@E   H!  H!  L!  H!  fD  $      H$        D$@   HEH$   E H$   E1PADtH H^4A-D  H AE1@ fD  fH~AH %  ?  H Ef~H	EHT$@\$@Yf(AfH~H %  ?  H Ef~H	HD$@D$@rL$@H; 1f(D  t	Y    Hu<   D  H AE1@ fH~AH %  ?  H Ef~H	EHT$@T$@Yf(AfH~H %  ?  H EHf~H	HD$@D$@{H: f(1@ t	Y   HuLf(C0  A   LE)@ E
HH$   0tHq  D`A@L$   A   D$LLE1A<DrH$   H H)  RH$p  H$x  $      @D$@H$   8(j  f     L$   sH$   "  $   H$   T$hD$LH f(D)H^H$   foD$     HD$0D$`D$(f    LH(  fD/,  E  5K D$P    1E1$       f(f.     [  HH$   QA9T$~ HcHLAT9T$@  $   ;D$H$   D$@fD  Hh!  HT$d)\$L   HC!  L$   H$   $     L  H$   >  D$@    HE  =8 AY+ AA$   Ef/  ,f*D$PD$`\B  tf/= s1Euf/= vD$P0   f1+$   $   *t$P@ f/n \f/$   	$   fl$@  $   H$x  H  H  L  HL$p  H  H$p  $   9xf  H$p  @D$Lr  V    H$   W  H$p  H$x  H$       $      @H$p  H$  AHHHH9sD  H@H9wt    )jE1DT$@ED$   E   $   AH0~$   @$   %=   "   f.     5 E1$   !   D$P    $       f(Dt$HH$   EA)DC  D)$   H$   D$   L$   H$x  I@    A@    $   P   t<  L$    "   HD)#  f(D$P    1S   H  $   $   D$P    D$@    H$   $      @    ;  H$x   "   H$p  @L$   B1    D$@    [$   D$H)D$@H$   X  T$@  H$   $   +D$@D$@    $   D$lL$x  H$   L$   H$p  D$   $   H$   L$   H$h   ^H$h  H(ND$@     E1D$\D$@   $   H$   D$    L$  f(HD$0D$`L$x  H$p  D$(j"1_D$L    E16%   ET$hA)D)A9D   H" D)HcY4L$h)HcY4f(L$   $       H      $      I@T$HtD\$lE\$lE  DD$@E  $   L$   I@HcHH9s+AxI@tY       HxC  H9w#  H      L$\$      I@D$H$   !   T$@D$   HEr  $   !   A6L$\9$   %D$@H     LHH  $      D$@    D$HH$   )$   $   H$   $   AN  +T$H  H$x  |$\I@    D$   8EcP   E^DD$LA  EA@<AD9tA~AAEE1A]ARLAH HH$     u	H$   $      H$p  H$x  L$   @bD$@   L$   D$\A@    $   P   $   _T$\LD)  A  $   !   D9d$H~D$@L$   A@E8  AtIcPI@HH@H9vt$      E1D5   D)(E1$   L$   D$H$   H$   yE1)$      L$  H$p  HW  $   t$      L$\9$   +H$   $   !   xxDE$   D$   E1L$   PH$   HcD9t
$   $   !   DEgATUWVSH BHH9A}HHN:  LcVHNE1L@HHwDPHcGHI<D  DIHHEDADDAfAPADAfA@AL9wD)HH4I9s;     IHDAfA@ADAfAPAL9wEtD;St"ABCBD   HH [^_]A\@ CHE  HSHHHHcCL   i2  HH  LcVSH 3  3   H [D  SH HHt	~3   u3   H [AWAVAUATUWVSH8IHL$   L$   1  H=N L00 V  H$   H     I$H0  HA   A)@ A HHH0tE< {  EtyD8utHCMF    HIA8uVE0Eu@K  H@0uH3@0t@E1A  I     HHP  p  A   E1E11LCIDI$E0    EEn        E 1t@ u  H$   Hp~$KHPHLfD  HH9uLc9~    )BTEH$      u   IE11 HDKHsB< uE8w  DH  )LD,    AP  Ap  I4$E	  H1H)~f     !  A~ IH@HD$(      HA| HBuH9  ME1Lt$(E1"    DALA	H9v@L~FMNA: t$A uINEA   MFIE11LH)H9wAL+L$(u EIEL$AA)A9        D9m  ED9     t!E      H$   L H$   D(   @ E1A   F<+K  <-   LVE1D1HEHAEHIBEB'D  A   A   AEGHGLBD FEAAvEAEEEE    1H8[^_]A\A]A^A_  A   LVFQH   )DLD,         D$   E~   1
  IH      ID$EH$   b   L'H$   0.   "   GD  D)9  UO  |    LM  -  P    "   LD)A)F  IH@HD$(AFW  8FusHCINf     HHE8  D	HDEuAH<   H< Iu)D,    L2D  LE1D  E1^Lp
  -      "   HX1DL)  t0KHT$(A      AHDtC     LAn  A8IH   aDs   EtDL4  DDL|$(   HAEL)     Dma   +$   $   $   aLIc|$FIH@B  A9|$t.D    )9~   LA  D9m!   D$   E!    $   ~AD$   H|$(   9]tVL  EED  D$   E9D$   E#1lML$Lt$(    E1DLE1@+HD$(8$   1U "   9A   1AHcD!L   .  HDVE1ATUWVSLcYHA9~yLaHcOI4tz    LF)AM9   LD  A HID	FEHAM9wI)KDDEt:H4    C    C    [^_]A\LI9v I9wI)KL)HCt[^_]A\CtLfHcAHQLL9s)I1t@ 
uH I9w1H A   0   HW; A)@ EHDuH A   a   A)     EHDuH A   A   A)     EHDuAWAVAUATUWVSHHL-y A}0 H$   H  HcD$<I}  HT$(HZHD$(@    H$   L
fD  IABv0T  ARHHE1E113   D9   H9s
A   A   L9wcPIIB   AL tAA	f     L9vF    1HA   fD  H~F    AE1HAR wfHP v0gPXWx MHD    A   HD$0A    E)IAE)EYDIDD	AQDAL9wHD$0      H9sGAAA       E)IAD)EQIDD	DAAAL9wL9vbLH9vf     HG    H9vHD$(@t   H   I9u      HH[^_]A\A]A^A_H|$(t$<Gt    )!GHBHHD$({f.     AB<XAR If     L$   CL$   fD  )u5t1H$   ILH9f.        %IB)tARuftH)uH$   H   VSH(5 Hctlt*uHQ    5 ttEH([^   5 uOH5 H]P H5 H_   p5    HHu5 HH([^H%N @ tE5 if.     &5    @ SH    5 tH [D  H%N H5 H!5 HH [H@ f.     VSH81	~L   CHH'   H   H!"  Ht=4 pXt3H@    H8[^H4 HcHHt-L =S4 LuHD$(HQ4 'O HD$(@    HS H* SIHcI)H'   LHHHH   ,HHR I     SH HHt9y	~H [!   1HcSHN3 =3 HHHt
H [@ H3 H [H%YN  f.     UWVSH(yHIcHc1f.     DHHHDHH 9HHt9{~%HcHt{HH([^_]f     CHHHtHHHcCHSL   4   HHHcHt{    SH    Ht
X@   H [f.     AVAUATUWVSH LciHczIIA9|IIcILc1B/A9\$AL$YH   HpHcH,HH9s    HH9wININ,I<L9r\    HI9vLHQtIME1 IEBE1ILMMMEAI L9wEHI9w~&DEHUEt     H
uuXH [^_]A\A]A^D  f.     ATUWVSH H   HtXH=' H   HL%<1 ft6H7HtDHtHHqHH   HHuHH [^_]A\        H7Ht=0 uLxK f.     HHHHHt-H     H&q E1HHH1HH [^_]A\   3H=& Ht=0 H;0 J    HHtH   q  H=e& HGH    HM&     1fD  AVAUATUWVSH HAIDeEAA\$9~
9IH   Hx~$VIHD IA@    I9uH|HcEHuHAtZA    E1E)DHHD	ODFDAH9wEDDEEfHLH [^_]A\A]A^H9vH9wLcBAD)u1N    HN	JT
L9sHIDE9tfUWVSH(HcByHH)  LAH    IHL
	I9  HH9t   KWH   HcSHKLVxLHE1IHHcVI,
    IHQIIqL)EBL)IVI AL9wH9v=II@ IAQIL)IARI AL9wLKI)IIuf     IAAtDXH([^_]@     H   HHf1YHtH@   H([^_] SHHcALY    MEJIZEAD)A
   AI9s`AREt^DDAD)ADD	IJ  ?H I9sEBAD	H    H!H	 f.     1Eu[D  ?H H	HD$D$H[f        D1D)  ?H I9sARAHAA	L	DD1  ?H jfD  WVSH    fH~HLH   HIH AA D     DEtmE1DDAEt    DD)DA	A1EDPDHHuLHcA2  TD)H [^_fD  1@   AADY    DHtB5   D)H [^_fHHJtHQHuAVAUATUWVSH HAH98DD)A	      1f9Lc$   X@   	~{H^	DmNt.
HHDF
   HA0L9uKT,H9~/)Ht;fD  HDC
   HA0H9uH [^_]A\A]A^fJ\&		   @ 1Rf     UWVSHHHHT$8HHHT$<fH~fH~E+GD$8fH~+D$<~7HH H H	H\$(L$(^f(HH[^_]D  fH~H )H H	HD$(~D$(ff.     LA DXDP AABD9u"HDJIEu   L    1 f.     WVIc@IpHHcHTH9s*HH9wL)HHHLH9vHA    H9w^_ f.     HcAALAAD9},MM9sYAAIQtED  H
u6I9rIcM~tED   A9tf        1H(      HH( VSH(HF HHHH9tHHH([^HfHY A Hb HA H,   HHHDHHHF H([^HD  f.     SH HHtWHHAHAHAA Ht,HSD Ht:o oHK@ C 1H [C        H [D  C  fD  Hh)t$@)|$PfH~fH~f(H % 	  AA	   t  t|x3f.5k    t$8D$8\$8D$8(t$@(|$PHh  f(f=  !   H    |$ f((t$@(|$PHhu,x f     fy |v  f(fH  !      t$ Qf((|$P(t$@Hh# (t$@(|$PHhHL$D$D$ D$ \$D$HHx)t$`$   H$   HH %   		AAu=  t7$   HL$PHT$@|$@   l$P(t$`\$8D$8HxD  tLg  f   $    !   H L$ f(9(t$`$   HxD    f   5r  !   H] $   t$ f((t$`Hx*   t   uHHA    9Hh)t$@)|$PfH~fH~f(H % 	  AA	        f/ 	   ff/wkt$0D$0H|$D$f$,$l$H-<B -B \$8D$8(t$@(|$PHh5 (t$@(|$PHhfD               "   D$ f(fH D$0XD$0(t$@(|$PHh ;  f(f=  "   H    |$ f((t$@(|$PHh  f(fHW  !      t$ f((|$P(t$@Hh  f    "   -SHp)t$`fH~fH~H %   	AA	tat  tC   H\$0D$0HL$PHT$@|$@  l$P\$8D$8(t$`Hp[fD  t\xd 	  H\$0f5  "   T$0   H t$ f((t$`Hp[fD  p y  H\$0f5N  !   T$0   H& t$ {f((t$`Hp[HD$fH~D$fH~PH|$D$f$,$l$HX\$L$H 
%   =  A	Au	u\D$H@ fH    ATUWVSH   )t$p)$   D)$   fH~fH~f(H fH~   	 @  	t D  t       HH    	AA	   b  A     ttf.5 Z  =   tw= @  d  A      =   ~    H|$0D$0	  HT$he   =  A   tf.5      =X    !   H|$0f(\$0H' |$    W!D  %      =$ f((t$p($   D($   H   [^_]A\=   <  f/5 &&f= Hf.5 A D  = zf     A   t  H|$0D$0:  HT$hH|$0Ht$hD$0fEHfA.      D$hJ f/rf/D   fT5F Hl$PLd$@LHt$0D$0|$@  l$PLHH|$0D$0|$@  l$P\$8|$8H|$0D$0j  HBfA.zafW= T     Z  H|$0d$0f.%u   fT5 H\$PHt$@HHt$0D$0|$@  l$PHHH|$0D$0|$@  l$P\$8|$8 f.5 zfW5  = 5H|$0H\$hD$0fEHPfA.    H|$0D$0J  H"J  fA.   =O .fH|$0H\$hD$0fEHfA.      H|$0D$0H  H    fA.EHtA   fA.AEtu3t
yfA.ICfA.z=p _ =x ^C    t$0D$0\$0|$0xf(fW=? f.     fA.zf~	  =  !   H|$0,T$0f(r  f(Hx)t$`$   H$   HH %   		AAu=  t7$   HL$PHT$@|$@   l$P(t$`\$8D$8HxD  tLW  f   $    !   Hx L$ f()(t$`$   HxD    f   5B  !   H- $   t$ f((t$`Hx*   uHHA    9   uHHA    9HH)t$0 A    fI~fH~I DE A  	f.EAEAD	A	   Et	A  tjf(uTf(fT5   t(f(uf(f(f(YtYuIt,  f((t$0HH   f(uE   5 T$XD$P~  T$XfD$P !      *t$ f(H Kf((t$0HHf(px[t	E   fVff(CExz5j .     f(^f(tEy5, uf5   5  fW5(  AAyfEt5 Et5 {x5 ^*E t?H|$D$f$,$l$HHHA    9   tHHA    9      ?(\?*%EtHHA    9HHA    9H8fH~fH~f(H AAA	A%  Au=  t{ff.{{fL$ D$ *T$(D$(\$ HT$ HH 	%  u=  t\$ f.z-u+  D$  "   H8D  uf(H8D  D$ H8      ?(\?*r7EtHHA    9HHA    9zHHA    9%f5 %V5 %F5 %5 %5 %5 %4 %4 %4 %4 %4 %4 %4 %4 %~4 %n4 %^4 %N4 %>4 %.4 %4 %4 %3 %3 %3 %3 %3 %3 %3 %~3 %f3 %V3 %63 %&3 %3 %2 %2 %2 %2 %2 %~2 %^2 %F2 %62 %&2 %2 %2 %1 %1 %1 %1 %1 %~1 %n1 %V1 %F1 %&1 %0 %0 %0 %0 %0 %0 %0 %0 %n0 %^0 %N0 %>0 %.0 %0 %0 %/ %/ %/ %/ %/ %/ %/ %/ %~/ %n/ %^/ %N/ %./ %/ %. %. %. %. %v. %f. %F. %6. %. %- %- %- %- %- %v- %f- %N- %&, %, %) %1 %1 %0 %0 %0 %0 %f0 %N0 %60 %0 %0 %/ %/ %/ %/ %n/ %^/ %. %.-      VS1A1tAD1AA1\ED1DHHu[^   Q	v a<_	VSH(Q`H'  
H &B"tB#HC@HHC(S0 {0 xS`19vLC8HHA< uHH([^WVSH y` H~9      1         ~HAPHAhHGHcC`HC   HCPHChHCpuS
HCx    H0hZBx  {` ~J&YA1Hx  YS  Hy     Hx  HXy  A   x  Hs.  t7H8Er]x  HP  x     HBx  HH [^_x  H [^_H(LE< H H T HtH(H( H(ATUWVSH01HD$     HIH|$ HD$(    A,   tHH F1%   DAD1DHHuyHHu(D$ H0[^_]A\H(H+W  HX  HW  R t
u   H( SH`LD$4HLLD$(& 1u%1D$4LD$(Hs. 1|$4H`[ATUWVSH 1EIAA9~AHIc1EPE1HkH= LA9~LALEu   Hc1A~Au   AE9uE13AHAAH [^_]A\SH       tY  t8A   <vEHM 
/ 18 t0HM H)HbN 1H     BH [HH DFD	AAEF
AD		SH HH HH9Bu!o HH [WVSH Ht
H'   1H HHH3HtHVH#tHHH [^_AWAVAUATUWVSHhE11E1L$   HMID$0    D$@    D$4    D$$    D$,    D$<    D$8D$D    D$(      PHtv	<wIA	<t<%tA:+HHF%<U  H=`L HcHA>%  IH- 1H$   |$H8tkLk
H\T ILLLI' uLHiLHI& u"HNIH$       D$Hw
  HHHs  H& H=X H 1HD$HHLHIHD$HuHHLHIHD$Hu"HIH$       AoZ
  H
HuX  L$   MHJ    IA< t0<	,  AIN0HLk
IcwAVDJA	wIN0HLHc  D$8	  IA< t0<	  AIN0HLk
IwAVDJA	wIN0HLHPH  AGI  L$   MHI L$   MHI LIHH  1	  IA< t  IA< t  IA< t0<	  IN1IAVHk
0HcHI9tHk
Hn  wA>W	vHPHm    D$,   AGIA< t  IA< tB  <IA	<tHI LHI H==$ IuHH IUHH pLHH I"  HH MD$D   IL$   MHH L$   MHH LwIH
  HD$X    A0<	
  HkT$X
IHT$XAF0HHHD$XA0<	vHT$XL$ k
  IA< ta  L$   MHH eIA< tP	.
  0HHPH
     1IHAW  MA < uI0<		  A Mp0HcHk
HcwA@DHA	w0MpHHHc   A0<		  IA0<	vIA< t  IA< t:  MA < uIIA < t0<	L	  A Mp0HcHk
H5_  H5&	  1IA< tp  IA< t0<	  AIN0HLk
IcwAVDJA	wIN0HLHc  HDwPdAWI   D$<   IA< t0<	  IN1IAVHk
0HcHI9tHk
H'  wAS	vH='  A  -l     D$<    AG6IA< t+  I11ADBA	w)Hk
IHDud   1HH;    HkdHkdA   Hk21IHH=  wHC<X  BHr<V  w4<M  w<H   <I  P  <SF  <U  ;  <ew<ds-<W  &  <wu  <y  <mF  	  IA< t0<	  AIV0LcIk
HwAFDHA	w0IVHLI@H  EGIA     IA< t0<	  AIN0HLk
IwAVDJA	wIN0HLHM  AGIIIA< t0<	,  AIN0HLk
IwAVDJA	wIN0HLHPH  A   1ID$(   IAWIA< t0<	  AIN0HLk
IwAVDJA	wIN0HLHPHt  ID$$   AGL  IA< t0<	I  AIN0HLk
I;wAVDJA	wIN0HLH;  AGVIA< t0<	  AIN0HLk
I=wAVDJA	wIN0HLH=  AIIA< t0<	  AIN0HLk
I5wAVDJA	wIN0HLH5T  D$0ID$4   PIA< t0<	+  AIN0HLk
I5wAVDJA	wIN0HLH5  D$0ID$@   MsA@DHA	0MpHH|IA< tP	  0  IAGA   IA< t0<	b  AIN0HLk
IcwAVDJA	wIN0HLHc$  HDwPdAWI   t$Dt$(tAG|$8t+T$8kd|$< tAGAd   AAWAOD!   D$$D	D$,   EOd   AEl  EDAD  E1T$(H% I1Eu|$( Hcu1@HkIcH4h9A|$$ uA@AGEuNEu*Al  d   DuD  11HcAHkMcLAJ)ALh  D$,!tZAGu+l  Ad   AuA  1A1HcIcGHkHH3 XAGDAGD$@D$4DV  AAwIG   LA_  EtA|$$ tR|$, Awu1L$4AGA   D))AD$0k)AWD$$D	u   |$, tAOd   EOA  Ls l  LAAE11u   Eu1HkIcHAzD9A|$$ uA@AGEuKu'd   A   u  E1AIcA@HkHHFA)DAGA_E1LHh[^_]A\A]A^A_SH HHI`/{ HKh&{ HC`       H   HCh    uHI H xgu+H  tIH" s H e D H8)t$ " f( X(t$ H87 UWVSH(  H-BO Ht$ IA   H1t= A~*|$ .u|$!
u|$" tH{ tH(  [^_]ATUWVSH HHLMt~; ty;   HHHtH9tY  HtII$HtHt1IDE H   HHHcE L$ I$E Ht	;H_HH [^_]A\WVSH Hr HAH KAH CH [^_AWAVAUATUWVSHHH=) H   HHt%IHO  H   HH   HHtH<\Hu)uLd$8Lt$0eH    uH H   H   F   HH6 }Ht&<#uB{nt8HHqN kHHt; uH   H       ;  P    HHP L@H HcF HF$9,uby+u-A0<	w#HLA
   ~HL$8)V(HYHV(HLF HcHy	HM 4F(F, 8!IuNDHH IAm @uHM K  @nIHV I]M HF H)S  LF8LHDo F@   L=]M HcH   D@A	w*HD$08^tA
   LHL$8l$8F@D@AtAv<gt*w<;   <Itr<#tw~<pt,w<itbr<wt)<}tvhHD$08^mF@    aNDXHLL HL$8L FH
HL$8HF0%AHiL HD$08 t8   	 HT$0EHFHG HL$0  wkt~( uzH~ tq<\t	<uH<
uH<vHuHH  E1AHF8HHHD$     u s  wXu~( uH~ tHK I  HHV8g HH~Iw3  HN8HpK  FH
HF0  	w>H H'3 HH$H   Hw HF8HcH   
   EmMLH, HL$0ADl$ EHu HL$8EADl$ Ht HL$0FHHH HF81HL$0t/LD$8A<  t#LF8H AHT$8DHV8HDD
HL$8HcHvHJ %H  H   H0H   HH[^_]A\A]A^A_WVSH 4 HH
   HHHt  HHsjHuHH [^_VSH(HHIH  DCQ SHCJfKH4H([^VSH(HHt<v<uHH([^HH   HKPDCX KXHCPHH4SXH([^SE1AXQ\DD9~,D   H   AEAAE1F3D   AB   LcA`LA@ttt#A A`HcQ`LA@AA`HcQ`LA@AeHc   A Y`LA@SQ`HcAY`LA@SQ`HcAY`LA@SQ`HcAA`Y\LA@A`SHA A`[AWAVAUATUWVSHhHL$0HE0 Ho HD$X    HD$ HD$XHL$ IHD$8HD$P    HHD$PHD$@AGD$OHm HE1iHH LD$@Ho HHD$(IDuCLHUt4    HI 
D$OAE  LfAEHL$0mDD$N   y LHbm H
\$N(   ILHHuHdn /  HWn HHKn HHwHc   HA   H(n HLNu   A   HHm HMLNupHMHm HLNuJHMHm HLNu$HHm HLNMfu
Htm C  HHl HHgm HHH | H#m LfGqLA \ fGMtfAEHL$0HLD$@Hl 1^IHHL$(LD$8Hl 15HHfHL$ Hh[^_]A\A]A^A_WWVSH I0LH>/uHHKDC  t HcSHHCH< H   CH [^_VSH(Hy H   HB3 HH  H-3 HHFHKHCFf% f= @CH=  u	  e H F7  1H HHHSHH([^ATUWVSH H.W 1uKHH59 OHnHH<Ld.LHBHb uHH9u    H [^_]A\VSH(H   m HH2 HCHo HHe H([^H  u 	u
uItAAWAVAUATUWVSH8L-y) D   DHB@IIHHD$(HL1AAT AHHuAQAAHAQAQ$AQAQ4AA4AAAQ$AQ(AA(AAAQAQ8AA8AA<AQAQ,AQ<AQAQ,AQAAAQ   MA@EIAHApCD4 D11D<	D11111D1A1D1D1D46A1E1E1EA%  A1A  E1APEp%  1DAH%  A1ExL9D$(YAT$LHHLH8[^_]A\A]A^A_SH`1H\$ DDHHuHL$   2L$   1A HHuH`[VSH(3 Hn HHHPHHH  #u.HHPHHH  H1H@H!H+HH([^AVAUATUWVSH Hz Hu6H= 1HH4HtH{ H6HH8  u1   L- 1HHH   HK=   Hu>HHHu' I   L HH`H q    HL`YIU H0IBXBXHt!Fu	HN L fHF(     HH LHF HFI6t &H [^_]A\A]A^H(1HtH(ATUWVSH 1L%m H=` HX   I HMHHw HHHPuHH [^_]A\WVSH HHcLD$P SHHH<CHPH KLD$PHQSH4H    CLFHC H [^_VSH(1HQ u7HHHc HHHH3u
H1mHH([^H8)t$ " f( Y f/sH,\H,H?f/sH,\H,H?H!xH*HHH	H*X(t$ H8 ATUWVSH HHHt<t+x'HHHw   H   HH9) HB Hsu`HH5	 H" H 1;       HsHHtm udII)t/ HHl HHuaH(DHtH  HH)HtuHHHH HHutH [^_]A\H D 1A 0  t8/f f @t(1Asf u*IufHC WVSH LIHHJ] 4 HH HHHt)H! HtHH1 HH [^_H [^_IHHSl  WVSH0HL$PH|$(HD$(    H|$P tQHL$P4 H| HH HHt"/   H H9s  HH HwHD$(H0[^_AVAUATUWVSH   H} HVHHtt<-tH l  HFHk H3 JtA  H* HctH< HK@tH HK8 tH HK@ttH=X H{8H4@HH      H~ CtH HCHLcH.HtHLH   KL   HT$@H* H|$h t1| H   Hk H HH< FHCHFH   NA   Hj E HFPH|$h tH HHCH  HC@T LvL$   Ld$/L! HHuKQ  N;K      HL HF(H$   HHP($   P$   P$   fP H$   L HP,  H(j LIHuK H1 VL$   W-   H$   HFP6 Ht!H   Hf HvHS 1H   [^_]A\A]A^AWAVAUATUWVSH   Hx# I$H  HD$0t HPH@HDHD$0$H     1A>~   L@wLg@t1@   w@/t@:t@t@tluLG A~ uHj P IIN6 HtHLhMt?A}  t8@wLMAA   LAH H HHD$H>@wW  HT$HA   H<  HN^ HpIH L% E1H M,$HD$(D+hHT$0KLD$8[LD$8N< G>EtyAuIDMtcI$LD\$8L: LD\$8HHD$(HH+P$H  I<$%@  @tA9}E1D P D\$8Kt>A:t0A=tE  1 tK4>E1AI2HD$0 M~~LAAwH EJcH   E1tK4>IA   H	 HHb H LhH HBXBXHb M$$L|$XLL0M+fIcG M   HL$P yV sH~ H4     j LT$p   A   IL1HD$PLLLL$(L$   H$   $      @ L$T LL$(|$PMLL|$p	D$(a D$(D$8D$(D$Dy1m y-GA   L2 ~DL$DDD$8HcL U L H6 HB~ H IFHH9vDBA
uHAtd$(HrH)E1DM H HHHH K4>M4$H IHHAF A>tILLH)H9sH:tt
HHILAH)A	Dk M4$IAtE11L:v L"  H  AE8E1L 3H   [^_]A\A]A^A_WVSH H= HH HCHt2HHt*H H0 HH HPH HH HH    H [^_VSH(HYHtHHtHX H([^AVAUATUWVSH@I)IML9  H}L$   H  IH  @H]L$   uHp  @0uH$  @uHT  F<wHE  F<wH6  @1,  I93  I9E@utL-j t  H}@uHE@t(HLe  H5  H  H]  @$uI9tE$H]  @t@BuH	  @uH	  @	t/@"t)@t@buH1d  @uHHH!G  @
uH9@*uH9@KuH9@,t@u
H   @t@u
H   @+uH9W@uH9F@kuH95@t@u	H   @t@uH   @-t@uH)tVv@/u   H   HHt_HH   @.@#u@Nt-@Ct' HuH HHHtHHHHtHHH<uGH u	L-Vh YHl$&Hh IHHOHAT$@uH	@3uHHHG    IL-Uh L-ah LH@[^_]A\A]A^AUATUWVSH8HZHHHtnHVHHtYLfLoLHtHMLkt0Hm HD$ HHLl$(HFLd$  HHLfHg H    HH8[^_]A\A]WVSH HHD;) u	HE ?H&) tHOLN+uL9-uL)/*uI$MuHhE +  HHIH/tHHH [^_ATUWVSH L% %   = !  HHuI$x tHqdHq^   . HHH He/ HHI$HxAQ tHHA H. HH [^_]A\HXH HD$8HI HHD$@H
 L A@XA@XHD$0    HL$0HD$H    ! HL$0Ht  HD$(xw HD$(HXUAWAVAUATWVSHH  MHx  HUPy H HH   HP`HP0HP8H   HX  H Ha HZ   HP H@  HHP(HPH   HP HG H@ H) 1
Hh  HJHp  HJHx  H H=   uL  H_k H   L8  H0      H  (  H s HH H8@   H HS H0   F    H   Y Hg H@    H9X t 1( H1 Hx u1 H=  uH H P_    xd {  x q  tH_      B HH`m HHFPFHEPHH1H  Fpg Ha E1E11   J    H  H  }H  HEPH H  H HHC@HEPHH 1DaHHuH   7 n  L% H{I<$ b  Cd%  =  p  {e  1|a  HHuI$H  HKI|$ I|$  Hm H   HxHXH?   9 ~q {  HN H   11 H^(H  t@H~    Hh R( H:c o Ht

  u H H xd       Hp HHKH   	  Hg HEPH?g HHHEPLH!g HHHg u0HD$     E1E1   H HHuHg T%  H H HKhHHcC(HHHHt!LC L)HHHt	L)HHHLC1L IHtxuHcPHLHPH HHuH< HsHHBPHFP   HHHH=X  uHX  L+L# L5 `      HX  H I`  L- H0I  HMfHQf MMLDLx@ LH HtHJOH8IGIH HGH;uI  I0  F{0uO1    {4 u<1J 1Hf \ t#> [He Hc I  {,  C,H]f HcHK<HsH{@ H HNH     >u"HIIHFHP 1A   1 H LU HPI){<HsH[@ v u HZ H @a T    H      O > HsH[8o HN HN19A HNYH{HDc8sDDk<[@o yD 1  ~     DHu DK<LCXH{`HsPDL     Hs DHHLz H-d 18-F    HtH Hd /  Cg}1     oCdfCdCeeDa h{g L1c I$7  H HHH HP@HPHX HfL Hqc Hc G IH_L Hnc Hrc ! HH9H   A" 1H#~d 11a HH1H;* H    z H i# R HH9 11 Hb " Hb > HuH- 8 tH! 1{g Kp {g uH{ t9 {d    Hob  HuXH\  HtRSXSXHNb H  H6b HH H l Hb  HtH/ HB Hb o HtH*   ~   =   	   H P   p|  -H8HT$HHT$HLD$PLL$XHT$(   H8H8H` HT$PLD$PLL$XHT$(\        H8H HT$HHT$HLD$PLL$XH HT$(    |     ATUWVSH0H HT H0LF@HHLD$(LD$(Hj HH` LfHMt[HN@LtMHi HH`q ~d tHd H x ~ DFDD$(DD$(Hi HH`; IHHH` HH`H0[^_]A\ ATUWVSH0H- HD @uHg  x<SHZ L LD$(X LD$(IH HH` ?  t=HH D $  "         uHH < H0[^_]A\H HH DAHc t    A9r"HAHHA B9A	Q D9UWVSH(-! H=z HHHHH4 H([^_]H(HtHH(1H(UWVSHH1HT$    HH H{ uCHhC Aq 1HS9zv,HRH4HtHHt~ t$ Hv CAWAVAUATUWVSHxIH	H$   %Mt$El$D$DAD$At$D$\Hz L8Ap  D$@Mu  1D$\  # ID$4    E1IcL   Ap  %   = !  uPA t	I  Ix  D$     LL$`A   HRM    HcD$dHcl$`H<    |$@ uHcD$4HIcT$@DL$8HHHuDL$8A1HE)McHtQH)Hcx"  D$4HH|
tHe! Ht H)HcHHT
t   HcE~DFHLE1McLA5   LD$\Ic LcHID$\IHHD$8LD$8L$DLLL$H#r H~)LL$H11E	AtEHHH9uHtHA   9~ I   * E11HcA 9} uAwA   HHcT$4DD$8DM H$   E  HDL$@ H$   DL$@H   HcHDM D IOHDL$4 DL$4DD$8D)AMt$AD$D$\El$AD$DHx[^_]A\A]A^A_AWAVAUATUWVSH   HF   HD$XH IHD$p    HD$h    HD$`    HD$Pm HV H   HH$      HLl$XHD$@H|$@1Lt$P               H{3 HCJ1 HCA1 HC81 HC/1 HCHD$X8 tbL HKH/ HHHD$P8tLe HHj WH HD$X8*uH   HD$XHHK(* HK@* HKH / H5" HHHKH Hi/ H0H8HKH HM/ H`H0H H H0HuiLl$`Lt$hLHD$0    Ll$(Ht$pLD$xLt$ IHs + HR  D$L@uPZ=   LHHuHL.Mu  H   rB LH. HWH[ =H   @t2HL$xZ, HK(HT$x H HZo    H|$p urL1    HCH- I   HHc HcM   HA  HLcLB HNY HH|$h uHg HCH|$` uHcD$L@M$u)I$Hu  LF HX IX HKxL" 11/ MVHMtHKx *HKph H8HT$@7j HP uHh u1H{ u	P HCH{ tC H   W HS`HK~5C H   E H   E HPHT$@i { ut H AWAVAUATUWVSHh11H$      : H$   IZ LHOi H H HD$0IHD$\HD$8A<$ l  Lt*S<%tHH%t a<v*tHtH ; ILD$8HHcM)A   F4.DW DH$   HADD$HH D$G LHh DD$HHActEuGHD$Hv HD$HH@B  t\ D,E	 D HL= L\Asu5 HI+LD$8HA MLH8H! HL= MDD$     f( @|$GI9@;LHL$0L4 VHHcHc# 0 Hh[^_]A\A]A^A_AWAVAUATUWVSHhHHL$   eHHH L$   HHHD$HI NH Dm fD$F  L Dl$EDDl$DIL$@ 8 uD$F
E %   = !     E1;   HD$HA   Lt$FHD$0L|$PA|$ tH}H}LHMHHA   D$     HD$<C D\$<u!D$P9|$T u
D$T   AAHct$T< tt$TIcH|$HHHA)HHD$H HA9D$THL$0 HcD$TH; <   Eu71AHT   HL$HLALD$HHT$HHJHL$H A tdA|$ t%AUDwAED$DAE<wAu @t$EHD$HE1H\$D8 AHL$HHHt_HPAHT$H  E1; tFH 8 Ht6HT$HHJt	<t<vHHL$HCHL$HA DHh[^_]A\A]A^A_AWAVAUATUWVSH   H$H  HT$hL$X  D$P  L$X  HD$0MuHR H LH`LE1E1E1: H$H  H$   HzH|$HD$81D$ LL$HA
   HHL$0[A ~  $   LHAD$   LL$dD$<D$8MC\5 LL$P IcIIcHD$@IcLHD;$P     @$h  D$<A\ L$H  1@|$[AU    DKHcA\u   &tJ	   |$[ t|H01D)Hct
DKA?QD$8HcLD$PLD   D+   DL$\D HcL$\Hc   IH8IHHA1ID<Hl$@D;$P  t*D9t$<uE HcAt>H   A^DHLLD$d: HcHHIH$`   uH7 H H@`H$`  H$`  L HD$hH9D$0u
HL$0? DH   [^_]A\A]A^A_H(~H H 9P|19~LH 4     H(ATUWVSH0DHH]Z I  ~Rcc   L&H=E OH-bZ 1E4HDD$,DD$,HHH` 9u
   HP`a UWVSH   HH Hs H Hc HH8 uH= HH8H Ht$HD$( HL$(A   HP01    /Ht$:A9   HP HHtfyH   L} Hl$sAHH@  HC   1HH   L     
   c  	 HH01 VSH(  H=GH L} AHHH`H  HH([^UWVSH(HJHHtH& puHHKHu  e  HHHKHHt*H{ uH9vHHSH)H/HD7
H^H   IL H9H([^_]VSH(1 H HZt
tu< t<	t 1yH([^HtH/t\uHHUWVSH(H9 HuH 1H y   "E1   B	  Ht HxHH; uH([^_]SH L3   HH?H1H)H9tHtH]    H [Mt  1H(Hz   UWVSH(H   H HSHu	HCHH
HuHHpHH 8 H  (   v HH@   0<	wYHHqP	wHPu</tHH   HHG   G H;/uHK HH0<	w6FHNP	wH	<t<wH[HNGG H;"xHKHHZ<"tH\H)H HHHG  H([^_]AWAVAUATUWVSHX1HqHHHtHNv  9FH6L{@HsHtHHBF H6HkE1Hc{@HCHHHu"HC8    H HHCH HCPHSPHCPHC(HSHHHC(HC8A1L= { uD9o  {F tkH t]@kH{HHc@t-HSPIHPu@,  Hg    H7Ic1HHs8LcHHs0    SMcIt
D9AOLcHc   HKHu( HBtHCHH  CF#SCF t)SA)u\DkLcHAtHSPILtEMAw6C0AuL9 HC(CAHHC(HC8M  HC8LkHD$(M2I}LH  G  o  HD$LLHD$ M  HC0Hu      H;C8AG  uIGAG    sMGA I<%uMAt:H LT$8LD$0LD$0LT$8HtIG HtHIG I1AA HujIG HtD0  AG   w1   wtbti  {       =     w@   =      t  =   A  =      Y  IOS8H  IOH    DHF D:uH1H: uA@^w	IG   HL$ H 8HT$ IG s   AGt
t   ZIOf(fH~@    AG      B_.   C~IOHEIO {IGw sHG HcHIOu sIOH   :~w c xAGttuIOIO uIG HtD0IcGM?HC8HK.H?HD$(Mm HC8HC HtJH{0 uHS8Ht:HS0HpHt-Ft	=   tHNS0 	HN H6CDHX[^_]A\A]A^A_AWAVAUATUWVSH(E1HH   DmEtDEEE   H] 1   <%   SH LsAHtLLA.u&AFHs0<	wHAH0<	vH" H^AjHu1AsuD,A_u&Ncw  HH< 	@HHA}AHm 	DH([^_]A\A]A^A_H8HT$HHT$HLD$PE1LL$XHT$(  H8H8HT$HHT$HLD$PE1LL$XHT$(   AW(  AVAUATUWVS%H)ILMy   HAD   E1DMu
      E1Ll$ H   A   LLNW IHy	H{S $t=x,IL I9~EuHP   IMuL)uLH(  [^_]A\A]A^A_AUATUWVSH(11IIL t@@u H uHH    HH~@,3tMt
tHHMtI<$HtHHW~ 8 HHH([^_]A\A]VSH( aHH<w
y:uHq/   HHu\   HHtH9ux tHXHH([^VSH(/   Hf H aw
{:uHsHu,\   Hf HuHH([^NH9tH@ /\tH8HD$HHT$HLD$PLL$XHD$( HT$(HY I	   H(A   H y -A
   HR   H H(ATUWVSH HHtXH=A 1A
   HD   8 u  v$H HI HtHr D H [^_]A\AWAVAUATUWVSH   .HAE<w1y   HI  EA   I9u]AtVA~:uII</uEA~/u>I1At1</t	IFIA~/IFtt   IIV</tIAu7IA.@/tA @t"fu-1e f?tR 1f9t
? H yK 8uE    8utHT$(H xaD$8f% f= @uS@uF1cAsHH
 R @u'AtDH yAH DA.H IH   f9tx H   [^_]A\A]A^A_VSH A   L H    Df1v 1E1AD-EtAALHAHuIDtA1ADHAuH [^AWAVAUATUWVSHHHHw*HT$8A   H HT$8: uU=  u  HL= HX  <,tE1H Hl I8uL)HHfD$A; u#  H8 uDfE EH-9 fD$*D+AEtA=uf#t$*SH 8u9L)HfLE !ff$tf$@t@@ItIHMH8 uAH1fAI@H H8uXufEt
H)HfA<GH; t
H8 uft5DfEu1E L$,9 T$,!	!A-E<,
HH[^_]A\A]A^A_VSH8H HD$XLD$`HHT$XLL$hHD$(E18 ttIHT$(H  H8[^VSH8H HD$XLD$`HHT$XLL$hHD$(E18 tIHT$(H$  / SE1A   H:xuHA   A   E10	v <`vWD9rAu+A\tLDEED=   wAHAAu"EuHn :uHH8 uDH
HD[HH	H% HH	;~ VSH( H5~g HH3 xHu% H{ uuHg 
 HL  ;HL t9HL  H t<
tHL  H H-G  HH)I H(HHI H8HL$(<-uAP	H v a<v "   /HL$@HL$@HT$(A
        HT$(Hci H8H8HL$(<-uAP	H v a<v "   H,HL$@HL$@HT$(E1     1HT$(H H8SH0HHuH\$(HP	H( v a<v "   .DD$PHL$@HL$@DD$PH     H H0[H8L APHL$(	v a<vA "   H4DD$HHL$@AHL$@DD$HHT$(     2HT$(H H8SE~zAE11AtBAtDZDH<HAEGDQDRAA0AGDQEA?ADAACA 1A9tAQ@TH[AWAVAUATUWVSH   HFg 8 HIM  HuH-KD L=d 1IHMt
LH"D nP   )I~4H\$0HcHcMHILt$(} H\$ M   D))9aMHL$ H6A   HL$ ;BT(HcAMcHuHD$ A^B 
   HcHHD$ HcIHL$ HcHD$ D0:HD$ D0 Mt5}  tHL$ HcCH:HT$  HcLHL$ }HcHC HL$ DfHe  t HT$ Lc    HL$ HD$0H9tH   [^_]A\A]A^A_AWAVAUATUWVSH  L%Ff 11HD$PIIML$x  HD$@I] Htf;-u{ t[A<$ x8H$   H| tH   E11H k     HW x1 !A<$ x11   Av =  A$At5@   E1   H%            H   H$x  HAHHtXA$uhD$     H>      * A$tGA<$ yWE11   Hym HHS% @f  H 111 tHA% HT$`1   HD$|   HAHHHA$u
   : H  HH   H$   Ht%HT$@HD$PD$XD$T    D$\    C HAH9uHA.A$tXD$8    HtHk$   d1HHD$8DD$L DD$LHt$(Ad   HH`D+L$8H$ DD$ ICt A$    HD1HD$8Y HD$8HtHg @H9t@1H@I}  tII}  A$t
    @H  [^_]A\A]A^A_   HIc H H HQH9sH9w:
t
HHHBWVSH Hc H{s~'CHSHK@<{ @  u C    C    H [^_E1LVt EM9t/B
AAAAG BDIA FIIMJ	UWVSH   H HHPH(HHHA  HH{HpHPHHuHH r C<waH HH uH9^uH9   uH9uH9    uH9H9   C<w7HHfHuHuHuH?~HHT$xH ucHT$ H uR<uHD$XH9$   N<uHD$XH9$   5D$ 9D$xu   H|$(H9$   t1H   [^_]1DD	HH u1HHuH\ H @VSH(H` H0HFHH9wH;v	HX H6H9v HHH([^SH HJHHt* HSHo) f   HJ\ HR9~~H! :c 1H [y| ~HAhQ{L@LAhaxi|H(AIn   ALH(^   HDH|DPxA~HHhALILHhD`xh|    D)A)DH|AE	D@xHD@|DHxA~HHhALAL@hD	`xh|   D)AD@|D	Pxy|~HAhQ{L@LAhi|axA|t<\u/H+H(H^ L.^ HHcA tHRHHHB 
 2   H(   UWVSH5^ HH]  %   t*HcHtLAHM MD HAxA9yuDI 1DQLA@A9rALYHHcI{ILcDtE9rKI;{tA9s[^_]    LQPMA9sUAWAVAUATWVSHhH$   E11H9 1L=3 no L%G] L-\ I4$V 9w  CE1H8 E:o H; .o AE t0HF@I$H: HH;BPt@H: EUn HF@M4$HAF$@   H@6  HHeHH)HLl$0M> tLHH 9HHtH8 t,LIHH LHH.HIHLI  1Le1L5&8 T$ A   HMHk DEMA9}SuOHIcLMHED)LL$ H9 HD$(  HHEHcUHEIHH   HH7 MHEH9 m HHe   HHH~L- H)Ld$0;    LHHtH<? tiIH?9 HIm LH1uA?uA{AAHH9uA HHq6 Ll uHH8 l H]lAE AtH~( 1@uF)9rN  He[^_A\A]A^A_]H(HaZ H      t- HDZ H j   H(H(HZ HY L Ic    tIPHH@) )HA  H(ATUWVSH AHHLs8HY LgtHHI TH/ HDH=" H- H/upHH-] t41A   t>D	HH   u  1   tHH	HH   u  H H~upHH- t41A   t>D	HH   u>  1   tHH	HH   u  H! H)~upHH-w t41A   t>D	HH   u  1   tHH	HH   u  H H}upHH- t41A   t>D	HH   u8  1   tHH	HH   u  H H#}upHH-Y t41A   t>D	HH   u  1   tHH	HH   u  H H|u`   HtL   A   P	wD	<HH=   u2  	s=     H	wHC H-|upHH- t41A   t>D	HH   u  1   tHH	HH   u  H H{upHH- t41A   t>D	HH   u<  1   tHH	HH   u  HC H'{usHt8   A   	t uD	<HH=   u         t	uHAHAD	HH   u  H HzupHH- t41A   t>D	HH   u3  1   tHH	HH   u  HF HzupHH-| t41A   t>D	HH   u   1   tHH	HH   u   H Hy   ujHH- t11A   t>D	HH   u+1   tHH	HH   u1H [^_]A\ATUWVSH@H$   IH       L$   LwL$   HHu   #HHE1(   t#Hw.1fAHAD	u$    tHE11LL$0LD$8H\$0Vu  HuHHD$(v   HD$(H@[^_]A\VSH(HHHu   Hu   1	H([^SH HkuHfCHyE1fBKft!EAf\uDH fBK IE1E1IcHHf
ft?tcEB't"uEtA9uDHA1 Etf
E1'EA|AA;AA&AuEuHcHfDfEuEt!fLA&uf<tf>uEufD9LHDD1 A   fBDKAQft8Ef`u4IcfCAftHf`uEH 1H E1If(tf{tAIcfCfuA1Hj A1AHf|C t1HJ 1E1fSft>f f<ttEut;cu{duuA   HA   1Hf|C uHcAt5S t<tH>A|Au&uA1H 1fCHuDH [WVSLFO E1d   A
   AkIH HLLFAAtJHtHAcvD1G00AA	vD1A0D1HyA0QHIIuH[^_AWAVAUATUWVSH8H=N =  H LHIHIE~I|  1A9~9f< t&A|  VA|  HcfAPA    fD  HH/D|  AP1AD|  McL    fBDe f    *  HtBD)*  Av$ADHI AuMcEE)Hc|  D}HPfDE |     fEI Hc  UHHHfDx  fPAHLfA ffB     F=  D8ABB-  C,IfA@fAHfEI |  F  fUMM~EnEN   HfTE AF$1MvD$,Hfx    HH uHc  E1HPfAD  HcA<     <HIHM$;AT$ATA9}ADfAT$D9D$,|FHcfhx  1E9E)McC,E$A*  MtAT>DD*  HnAyEuXHH8[^_]A\A]A^A_ HcHfhz  ftHAHfx  fz  IcfPx  E~HcDPx  IcAEuAHEu|H9|$,|+MAx9tEA(A)D*  fEHAHAVAUATUWVSH Lcai(9iNiLH9}MCHH<HC8Ht@<8DDN LkMtD AE A} IssH [^_]A\A]A^SH HH HI HF HkJ HHc zcu
HhJ 
HL[ L H, H [AWAVAUATUWVSHh  HrHH      1L%2        L-2 L5x2  HF  H+  H/  H/  H5E HRmX)9
Lw uL   d LZ HcHM Ht> uH% 7   H1 H#/ H         1 L-RE H=E H-. L%. HCx t0HrHH' IE L H%  IA} uA}  u   H71 n   HsHu H H H H$X  HH u/$h  f% f= @uHnD L%0 L- L50 HHH0    A8uSHLHnu<HilH{ u; 8  HLIqt HHHI tHH{0 Hm  HKHtHe0 mu
1H@H[HtH$P  L% L-L    HD H0 @L H00 H0 f Hv  HHl$H   L$X  A11ID$(  L|$ A1IILAH H'  H$X  11AH\$LHl$ IHD$8    HD$0    D$(  AHH tzH- H" ! 1L H?/ D$H  HC/  IH   IHH WH  H dH# tH'Hy+ HkuHCHHHC    HH|HA HHH 1Hh  [^_]A\A]A^A_VSH(HH H6 `tHH([^HKE LU LHF  Hc HH([^AWAVAUATUWVSHH	  HH	 H HE HD #Hc H4HHu3Ht$@E1H4 H @pDl  uWDhANH~ t.H~ t3E1@uA      q AHE1HA'     kq AkLd$H 1LHl$dL= HJD\ H$   IM(   Ht$t Hk} H   Hw7(   HIt$|Lw  A   HHHLngHHuEH$`  H$   t|IDDZz  AEEHL   H ikILd$ L H H   )U HHHH   H9u  EH HIOikE1H1@	  H (V MDI   y  u P   HA   k$    1DpD$4A   DH   {	  ; uGA   DH   ]	  +E1DH   C	  Ld$ L A   LH T ; uML    H T 
   E1E1E1D+D9v:A8DDD$<Hi   HDL$8LHDD$<DL$8DL$4AHI I   uD+1\ AWAVAUATUWVSHhHB(IcIL|$@H$   HHLD$   T\ T  IF0IDD  uI1D   EIV(Hz tHRHcHD
uAA%  LD$ k     HD$PE11HD$8IF(HD9`~xH@Nc,IF0MILPtMuHL$8E1L    )D$PHT$8L uiIF0B|( uHL$Xd   I{L3 x<I^0D$   AAt	C    (L$@H$   (T$@	   Hh[^_]A\A]A^A_VSH8z0HHuHBHP@8HSC81THSB(HT$ )D$  Hc   S8t-1{0u%K(HH  AJ D	JH8[^B0HJ<t
<HBtHQ $L@LA HtLB LA HtHR HP 1WVSH HH  HH| H<   H H=~> HcHHVh    HNDbHVHHHHVuHV{HVpHVGHV]HNaHHIHVkh HNaHVHH,HV
HVHVH [^_H(H> L= H D@ PAt29vHcHH@HHPD9v+D) H( D9vD)8 y     H(AWAVAUATUWVSHxHH H H= Hc L4I> uH IIy  0Ht$HD$4        
   
D$0E1Il D$$  H9 L$$A   O A      Hr9 HD$(IH HD$8|$0 E$t#D9tD$4T$4H DD$0N DD$0A	u	   HtTD<A
u
   Ht<D$H$DHF.DHAvfD$HM-APHFvu	 ^@HD9D$0I@ HD$8HHP0L D+D$(A96A   II> Dhtf  Ht$HHD$P   H|$HH= H|$XH= H|$`D$i\$h1IHIXE 	I> u9V LHx[^_]A\A]A^A_AUATUWVSH   |  H37 H HHuH G H;-u+{ u%H G HHuH7 HH`</   <\    aw	{:Htx<.uC<.tH</tftbC<.uH HDH Ld$ `G Ll$(HD$  HL@( LHH yBHD$ HuHH  u@u?Wg ]HH IBD$8f% f= @u@t@;tH6 H H HP0 1H   [^_]A\A]WVSH L   1H=u H t9tH [^_SH0HT$HDD$P\T$HDD$P)AAB
AH FIHD$ HK OK H0[VSH(     H HFsHuH;  H8 H @ tH([^p
 H([^WVSH %;| rH8 s*%;|b =    z  H@u
 %8|t
   C  HU8 H%   = 	    w&=      =     =        = 1     w= 0  t   = 2     = 3         x  H=  HF   ]  %?|HHCH@HFt =   u@HCH@HGz  "    H HFC  C P  H [^_ <  1HB  HX,       1H%     HH@HF <  HC       @  n HCtSHt %   =   tH: f   \  HV1HPHVHP   HV   HP     (   @  Hp    H He   HXHuO    G	    HF      HS      HSHPH [^_H [^_ATUWVSH H5 HH{HkI  w      Hj    HC\ HC  I   HSL`HpHBHCHSH@HFHBHHkH{H [^_]A\WVSH HR5 HHsH> u1 HSHFHHCHSH9PtHP   HKH	n HFHC (  Hp> HSHFHBHH [^_SH H4 HC\u;CXuH Et9   tS\HK`XC\PHChH{m HC`H [ Hd H [<E SH Hd0 Hu@HH`  P %  d Hm A@   HHP  D H  21A
   "W   HEl  d  h  `  H [AVAUATUWVSH H E1'  L- AH  HH8tu<;t	;uuAl$DHt/Hu<%uLHD/ HAE<;uAH) yt x    D   H [^_]A\A]A^AWAVAUATUWVSH(HEu6    1H^  HE   H"   H-2 H] u6C 4 C,    8  CH    
P  HCH9H @  8Stt
tu+H9;(  HOA   HH([^_]A\A]A^A_M 
tu @
E   H{    H L4IA6CtnDH D+UHtVDLf Hu ?Hm 1LuHE U I9L L   Lu1p J|/@
uNCtHHG. H[ HHVHHt&HC EH,HHH HHH([^_]A\A]A^A_UWVSH(HHHDD$`-TDD$`H0 IDHE~4HrHu"HC HAHH tDHH9rH2tMcL)H9s1$Hd- HAHHq tHHH([^_]WVSH H, H5 HK8HtCuTt)H{8H, H9tHC0HPH cHK8G HC8    HH0,TtHe dH [^_AWAVAUATUWVSH   HAXHcrHD$0H|$0IcHHHEEHD$l     D$H$     9|[HJD0BHHtH    R   HSHuu   ^  MHHE1H)HcHu HCpHL}DC`HD$@C ADL{pD$Ls V D9uPLt$pDLA| D$l  D$  DD$HLHL$0  D$l   |$t Ll$puT|HcM$Mt-AD$P@t%IT$HL$p.| D$l  AD$P@urHD$p    HD$x    MuY$  ALHDL$HD$ q, D$l   HT$0HL$lAM t IHu|$l urHSpHcL$HcE1L4   HD$pHD$8HD$lHD$P;$    D9   ~  HCpD$t    J0Ht)HL$8H7~ D$ltHL$xmQD$l  M   H$       H{XE1H$       E9|$~IID$ AHNcLL\$XHH  L\$XuIHGHL$8Bj| x1   D$l`|$t D~tTD$  DD$HHT$8HL$0   D$l-DL$HHT$8EH$  D$ * D$lDC`HB LD$8HT$0HL$PA[r IHu|$l AE1HCpDN$0IhHL$xPHc$  HSpHHtHHD$@u HCpD$LC    Ht$    y H   [^_]A\A]A^A_AWAVAUATUWVSHHE1HHl$0RHHEEx    HND9v   Jc1IHHW0DRA9~+HBHcIHHDXE9uD; tHAu
H{ Dl$ EHHG   AtHL$8DNIrN(D$0HH[^_]A\A]A^A_ATUWVSH0$   HHEDHDD$pw DD$puRIcHHHP9u D9 u	u3DHy u$   UDHy tHG(HPu14tHG(HDD {H@EHHD@l$ GtH0[^_]A\AWAVAUATUWVSHH1HiXIDHDD$    $   A AA9v~yIFD$   HHcHHkH   Hc HHE D8Dd$(|$ EY   D$   EHD$<IF$   Dl$(HD$ (   9D$<u1   HH[^_]A\A]A^A_SDT$0\$8HcHkH   DZE9&D9R|%1E9	t\$0[      [AWAVAUATUWVSHhE1Hc$   LiXHkIDIcAHD$H   IHDI}0D$DD$DAfD$RD$TD9g  HGJcIHHD$8IE P   	      $      Ht$HI   D9   w
FD$DtqIE(HT$8HDDE9u
   $   ALDT$\D$ D\$XD\$XDT$\uKu	Et1>w	fD$Rf!FH~ i|$T t9(t	Et9(tIHh[^_]A\A]A^A_UWVSHhAHHq<[t<]    HyH HH|$@]LH4D  w0A  w?2    B  C    J   wH  f  K|  mT  H\$@H=I HL$@A
   HrI1  HcHf f| Ef~| t  f%q| g  fc|  Y  f%U| K      <       -  f%*|    f|   f|    f{    f{    f{    f{    f{    f% f{    f%{    f{ @kfp{  \fa{ `MfR{ >fC{ P/f4{ 0 f${ pf f{ p	f{ HD$@HPHT$@8;1fz =@  t-t@t t@t ttH 3v %  HT$@A
   HOGHT$@A
   H8G   HT$@A
   HGHT$@A
   HG   Hu11NHl$@HA
   HFHL$@   9;uHA
   HF   NNH V  H HF  HT$JH|$<7s D$P\$ZH|$ T$JL$N)DL$N)H]     Ar  H|$ ADL$NiH/ H   HT$JH\$<r DD$JD$N    DL$NH\$ A)H~ 8r DD$JD$NH\$ u DL$NA)H~ r iHH\$@Ht$@0<	wRHHt$@A<0uAy;u;   EHHt)H)H=   HHH0 Ht HHHh[^_]UWVSH(HDDA`H D^E1E9~`HFLKXJcHHI	DQAEfAyu.fEt/AttAtuA tt
AtuI1H([^_]SH DJHIcL@IAAtAt0E1A   8
IAL
AEGADE1
uHHXE1   @twuHHXE1   uaZA     tPD@`DH ftE1t+tE1u tE1tA   DEDH [SH H H] HC1HHt0H`  '   xHcH` H AHHSH [VSH(HzBtHKDtH([^   H([^H(L$0.p =   u'L$0s Hp u*H H8 tm   Cr      H(WVSH019 Hu6IHT$.A   m Hu	D$.9tH H0[^_AWAVAUATUWVSH(1HiXHHE9w   HGHcIHHE x             D   D9   uHH   EIcHtH    B   HBHu   UH   D   Hc   H      L<I    BIHtAD`D   D(H#1H([^_]A\A]A^A_VSH(HH  H :AH   E1H        H   1HAH=   uMc   Y A   HH([^PY AUATUWVSH8H- HHHHHt!;-uStH@Hua1H H H Hc Ht-HL- 1H=u9 L HX   AU Ld$ IID$(    H' DHH; uH8[^_]A\A]AWAVAUATUWVSH81E1AH   *6  H HI H Hc H4HHHD\  A   H 11HD$(HHT$(A   Dv Hc~HH%D@p H1HcHtD HHEHD HH9t2HA3L AuLH; IH< MHD- A   H> tHH> DO6 WVSH HcyxH9Q~A9~9|1;A(}Hq) u"HCp)HTHc1HHsx1H [^_H HHHt ATUWVSH 1H9{v9HCH4HtHNLf >HL>HCH        C    H [^_]A\Hy H H P , H(H} i HH(W1H   HHHBHB B(_WVSH H" HBXBXH.v H'v H   H9s;HHHt*Au9y
<u9=u |HHl HHH [^_e VSH8H5# HH HtVHHtN=   H<Ht7H)HPpR HH<HD$,u\=D$,Q=1H8[^A      0 SH HHIHth HK Hth HH [SH !Hr	HI<HC    %l  @HH [UWVSH(HtH%     1Ht H<HHtHKH=t3HHt'Hp;HHb HHHHH@a;HH=_y H([^_]AVAUATUWVSH@11ALt$(L& H 1H{d D![ IHu)@u^1Yj u{c tJH  {f u{1H  ME1L& v uu H@[^_]A\A]A^AWAVAUATUWVSHxHi HHD$XH HIM D$`Hr Hc H<HwL'HtMHO1E1HtKE1
   IP HOIHt(E1
   IP H1E1H5 H  D$`D$dt
H(   L}F HHrF HH9O  D$`HkK D$hHK HEHD$PH  MtHI' HH' HuIG0A   E1HD$HHH{' HAp' AA9   tAuBIHLHDL$lA}d  HD$XH`HD$H(0 HJ DL$lHD$P|$d uU|$h DL$0MIEEH\$ HT$PA   HL$HDl$(m% |$` uA
uA@A7A   LHc  HHc  D/ 1Hx[^_]A\A]A^A_+AWAVAUATUWVSHX  Hj  <:uHH D$DD$HHHCH3L`HL%  E < uH<	tH{PH|$0<%uLHD$H   H$  D$DMHHT$H HE < uH<	tHM<,u.< uH<	tHT$D H<	uHE < tH$   HI
tDAAtAvHHH  < uH<	tHL$PE16!   L/ Ht	  A   L$HxC HH9  IL$DxC H!  IL~6uL$H
  C    D$   A!u. - HM   H  $ |  A=u:$    u0|$H yHHSm#  D$DD$HT$HH d j
  HcA   H LHLN5uK|$H yLCL	HA  ID$    A   LHA   o\ HCv  	  HA   Hu LLNT5  {  tEuH$   HL K  |$P uHCPHt8 uH'    HD$PHD$0HL$0 Hc   w H   5Hc   H       Hc   w H   5Hc   H       HsH+HVH!  { H L LDLU LIH)HSPD$ t$(H }b   HA   H LLN+4uLD$H#D$DtHq b   |$P tHKP4HL$PI HCPq  CH    e  H	A	   HJ LLN3u   + H2 $# O9$  HA   H LLN}3   |$H yLCLH  I H H- " L9wyu$H    ., 5
u
H}, v1u^   t@11?tH =, HHA   H) LLN2tFHA   H LLN2t%HA   H LLNi2   EtAq  S(H   {  H S(Aqus  H `   AnuH ApB  H (  HA   H LLN1   |$P Hk |$H yHKHtH HHCHPH9HDLd$PE1HH+L ,   H)HcH3HT.H  { |$ L AH LLDH 4_   HCH9y  HHCm  HA   H LLN0u%{  t	ErH  C '  HA   H$   LNHw HHD$8s0A  |$P uSKHJ H IIILELELEHDClLT$ H D$(^   Ht$PH H` tH-    Ld$L> e  A   HH/D$    L HH DDEMc D$    EL H Ho D$    EL H HN |$ EHH L 1 J6A   H +/u+H JL6MD$L    1D$LPwClH7 H<9 H As  LemL.HH_    LhL.HHB    @|$H D$0xHIHKHHI  D$H|$D \$Hy\$DL)   H9\$D  HML)HD$8LA   LIHtKH8AH A   LLe I|$0guHD$8L   I|  I9r   L IrHA   HL$8H" LN-uH [   HA   HL$8H LNk-t]   HHL$8H ILNF-t8HIHL$8H LN&-tAx  $       |$P t
HD$PHD$0{ tEuHT$0H ][ b  {  uAxt5HL$0MH) xI)A0  HL$0[ !  E11HcHHT>  HT$0AH. AZ A9   H	 H H90uHH9puH Hp $   xt$   Qt	N   @    HA   HL$8H LN+uo|$H yLCL<Ht  ID   LH_ LH$   Hc   H   +DHX IY 
HL$8 H HHKcHCHG Y HX  [^_]A\A]A^A_WVSH@HHE H7 H` Hc HH4    7 HL31HD$ 7 HD$0    HD$(HD$8    ~HL$8+HL$(8 HD$8HL$0+HL$ 8 HD$0tH|$8Ht$0H1Hu/HH,xH1H_. vHcHt0Ht!H@. H +HL .8 H1H@[^_VSH8H 1E1HpH DD$,y DD$,tVt	vHEA   H\ HHtHH8[^mO  1H8[^AUATUWVSH(@   E1AH?xIIT= D)HvIEHHtH>IE8L1AU@vH([^_]A\A]UWVSH(@   HAHHLHHAH?A)L9AGILAL@uM)HLD$`S@1LD$`H([^_]AWAVAUATUWVSH   )t$p)$   L5 H-rf 1=0 AH|$@IL|$HIH|$(+  H"  ]uAI$AH&u IM AHHu H  tt%  H AHHF*  LHHT$(Hf(H9|$Hu
H9t$@     H9t$@B  f.ztf.   z'  1   f.   u~f(Wf(^^f.z2u0f/vf.zOuMf/   f.zCuA1f/   Wf.zu1f/D       f/            MH H` DL$XMHH HD$8DL$4` LT$8DL$4HMuH<   Ht7D+D$X.HD$4'Hf('D$4f/wf/I9<$tHD$4'D$4I9u tHD$4'D$4Hm uPA@t3I4$H&<Iu H%9<rI$IU 9(	s(t$p($   H   [^_]A\A]A^A_UWVSH(  11HHcIH.(Hu
Hc@t    uHt$ HH(  [^_]AWAVAUATUWVSH   H} A/   HHD$Pa'HH   E   HEc H  tL`H\} ;X IM   A$   <:uA|$    L   ;   $Htx tHHHcHb2 LA   H!: H;   HD~$Ht>x   t7HJIHXHHH)H9 HD$PHHt$P   1H$HD$(EuHtCIHDHD$@HD$XHD$8Dd$(L5T L= MLHAuLk9 HCIA uA? u? LxuWx.uQP	u?LHuLIL9d$@0  I$HHD$0Y IHu.ux
 t   LLt-DAAw DEHAwA HA8zMoHL$0L  HT$8HHj uEt!HT$8HUW u}D$hf% f= @u;L"HPHD$H6 LHH"D$hLD$Hf% f= @tH t&D/A@ AtHIBH#HD$PH9tH"H"H"D$(H   [^_]A\A]A^A_ATUWVSHP @  1/ HH0  	u  tH i HHD$(HHHw/ N"HCHHCHHC8\/   HCHC@J/    1HC   fC@k
sdH\$(HD$H    HCX   C`       H   1    HH=   u   L    A    H1]L HHyH|    D$@H|$0H\$(D$D    Ld$8{uHtH    6CH   s Hx u{X   w{\ HChH9Cp    +\$Dt=LcL   L 9t)H x*P H      H,tHH|$@ =Hl$HHt	HH\$(HK HK HK  H    H H HHP[^_]A\AWAVAUATUWVSHHL%I I$*   HHT$(u#     HH[^_]A\A]A^A_A 1E111L=/ M4$uDAA  IV@uHP   HcD$0E  A  DL$8HQ	 DL$8H/ BtD$0C+   FD$8IFp=   v   E  D$<HD$(LL$0JQ	\ LL$0t$8CtD$<C+L  7 I$@9*  SH0HIHuH{ /   HLL$(w LL$(A9/uIHL H{ HLEH H0[& :.uBt<.uz tu1H(       H( SH F: HHt8   $D HHHH [VSH8H QH H 
RHLHLD$( LD$(HHJ  HHP  A   H  A   H H8[^ SH0HHT$(HD$(8 tL  "   H    H0[SH 9+HuHHH [VSH(9+HHuH1HbH%L 8 tH\HH([^WVSH H   Hq(Hs(HH SOLFpzHFHCPH [^_AWAVAUATUWVSH   Hc EHHIP HA  L$   DHDLy6@`t+@@H` HHH	 HD$  M  H"H\$@HHO y"3K 8tLHHj   D$@9$   u-H$   H9D$HuHtIHH? (E1A$   f% f= @x  HH1 @tL HtHH, uEtD$PHH; f% f= @uI1d HDO Ayd HH$ "d HHN  E1H#?HO IH#  1D$,L,Ht\HHHHD$ 3IHtHT$ HDD$,LHHD$ LHLL$ LLE  $   AHD!$J   IHS HX e  Et4sHD$xH9$   1  sH c  E1@`.Hbc  HHHH @t$   f% f= t  Eu$   f% f=    A  1H" A1  D$     HDf% f=   DEEEgM uEHFbADA#I   E  H yDI   E1DIH x
IHH
 EDH $   f% f=    Z  Et"G H    a6  D$   Df% f= uFH^' HH   XG IIH~  (   H~ HDf f tf=  uG HH-}  (   HH_~ 1~@tuH$   HT$0HD$4    D$<    D$0D$8 yIH8~ H} $   H?G yIHr} Hw} 1sIHH} 9 H   [^_]A\A]A^A_WVSH0H~ HJT$XHc$ DD$XHt D$ DKHHHH AHH0[^_WVSH HH  HH L+0 HHAHH<  H H= HcHHN^HN  HCFC  HN|HNHCoHCHHy  HSHHPHHS*  HN| HCHN2HCHN%HCFC   HNHCHN .HNHCHNKHNHNHC| HCFHSCHH      HN   HNHC[| HCHNHCHH   HSHHSHPHPHHSHPxHNUHCFCFCHN<HCHHtJHSHHPHHSHP2HNHCHN HCHHtHPHHSHHHH [^_ATUWVSH0H- L% HH\$(Ht@H} HNH;HGHE HHGI$HtHSHXHHPI$H6H    HD$(H0[^_]A\VSH(HHH9t*FHN%C	Ht	( HCH HH([^1E1HtTNEMt>fEQfA fA @u&uM	A9.uEQEtA.uAy tIuA)DUWVSH(HH9sHHH1  HH H8H9w!HGHH9wH  8
uHXH([^_]AUATUWVSH   L HH HVt tH@ Hc )L$HcI|   H5Y LUF I$LEHT$xS  ,  HT$ IH9    s@utHHB xsHD tJs	   t@t    @     } @  tsH* rxHHH& HIA   H{ubLI$AH   HI9|$t?HII$rHzHH^HHH1   H   [^_]A\A]VSH(HHAy!3@ 18t(HH C1f% f= @TH([^AVAUATUWVSH`L-; IH Mu IHD$HO LL$XL1 L    HHD$HHj HD$(HD$PHD$ q H 	Hc(   H|$PMu .   HHu:   HyHt4 :/1A
   HA ? 8 tHG' AEu ZH9u1H1A
   HA> HH 8 u%Eu$x u  H'm uHH $vIE HCx%   =   uHL$X1R! 1! 
s<HD$H8nttsHL$X  !           @t@tH HC8@tHZ  sH  HC@@t
@t!H@ H9C8u	HC H* HC8@ t@@tI<H- LcHHtHkLH HCpHN tLCp1ILD$8t!r= LD$8Hd HH`e H`[^_]A\A]A^AWAVAUATUWVSH   L=< 1E1H  tA1HuAH IH  HE <.u}/uH} /t  H5 H$   HH tT FA tHE~H t$   @t$   $   f f tH$       f% f= @   $      H$   MMu h   2    HxIL II9FtM6H	HH HHHHIFHIv  ID$It$   HHhH ID$H   M$$HD$p    D$   H Hl$hD$   D$`H$   D$X    $   D$8H$   D$P    D$0$   D$H    D$($   D$@    D$  HHubHcHH$    uZM   H;-    MH$   tH$          1HH- 1{$   f% f= u2Hf HHHH' ; HHH641H  L$      hH$   ; t	1zHcHL
1H   [^_]A\A]A^A_EIL9t
H1A3VSH(HieHu
   e E1EtA   Dt	Ey
AtA1uFII   uH([^11wSLRHLJM9t;HD@ IYLHZAG8u$Hv@     @       	1   [AWAVAUATUWVSH   H$   HHH$   L$  H$   IMHD$(Ip  Ad   I HM E11HHHE    	A    H    E11DHOs 	Ark%  IcPAL9u%O$dHDD$0IIT$Ho DD$0HIcHHMH|IcHA
HzIcHHIcHHL
L+D
LHuAAHT$0HHcHW EHT$01IE A9|IINLHHHIIH9t$(H$      1L$   t$(9~9sHc1+L$(HHDDD ALNHA9uLCAD+D$(A9~)DBHHHE;Du9HE1L% KnB+1+T$(H)Jl   B,   9|IIBHHcHMA   IIu$   L$   A      D$   L$   A9Hc|JD9|EHMcILCt9ps@    uDHAHHHAD    A9}Hc1HHAD     HcM9|5IICA	OLMIHArA9r(uAIAAuLIAHcHcHH HHD$@$    A9|A$ED$ID1HA9|	L HHHH{ HD$HHHcH DCI1AA)A)9|9D$(}A9}D1AHMc>   1D MAPIHHL9AGuH D$Tu=      CT$T  A   + HH+ D$8d   E1HD$0   ID$0D$pIcIHD$`D;l$0z  HD$HHt$0HcZ  Ht$@ED$P    1H(HD$XACD$<IcHk9l   HD$`t$<Hc Hk;l-A1A49~HcIcHk;l}ALcAI9tGL8MEA9|IcHk;l   D;t$8uJAk
   DT$|D\$xDL$tLD$hHHcD$8Hk DT$|D\$xDL$tLD$hHIcT$pE7HkHhDHAFA9|4D$PEAHD$Xt$T9t$PhHD$XD\$<AHD$0gHc HkHPtL$(HcT$(AHc@L:H   -CHcHL$HADHL$@H$   Hh9;   HcM,A}     H$  H$   H HT? H$  IcU HH@HT" Em A)93|_AT5 A9uTE11H$   l DHl AD1	r	r  tA    D!	sHx6LH   [^_]A\A]A^A_VSH(A   1 HH  DHS\ HH([^UWVSH( HHt;11H HHtAH   H,HHHHHH([^_]VSH(   HHu?  LL$XLD$P IH   HSpLL$XHCp       LD$PHHc   HCpQHL   L\IB    IrMBAAB0d:IB     IB(    AB@HtLMtMLH([^H8DL$(LL$ H8HI L A*  MHDPE*  AHcufA  eA  fA  Hc   ~   HA   IPfAx  A*  DHE*  fBA*  A*  A*  A*  u*A*  HA*  A*  A   fA*     u^    1LP Ex  EHAEDHuAEHAHAE9*  sA)A   A9w     t1A*     H(1w#H H @\HP H,    H(WVSH HB< H=3X Hs(    CtH tH4 8 uH=X C tH3 8 u    { uH [^_WVSH H; H=W Hs(Ct@ t4H3 8 u'H=W  CtHj3 8 u	 H [^_AWAVAUATUWVSH  1A AHH$  HHt$`(   H$   Ht$@MHL   $      H$   $@  )$   )$  H$  Lg IMHcD$\H$   D,Hw@L|$8LHt$(ALd$ ADl$XLo`Ll$0L HL$@ML  H$   IHHHD$P  H$   ILHHD$H  LD$PHT$@H IHL  HT$HHAm   HT$@Ix HT$PIk HT$HHL$@II  HT$@A   H  H|$8MMLt$0HT$HHHt$(Ld$  DL$XMLL  DL$XILL  DL$XILL  DL$XHHLD$H  D$\aIHA     IHL  L   MLH~  IHLp  AuMLH]  IHLO  ILHA  IHL3  MLH%  IHL  MLH	  IHL  LLG H  UU1kL D HH u1   L HHuUIHDLHD$   AAk  H  [^_]A\A]A^A_AWAVAUATUWVSH   H$   L$   ILl$(LIIH|$ Hp~ {[ H~ t!t"H$   D2Etz tH~ `A	Hp 2t$@u/H H~ AuA	tH H~ G`E11H~ H2 H$   H   8 tHy L2 8 u1H tpH$   Ht9 t uh9uEH   HDAH0h^H~ EHcl$@DLHA   HxI4H> uHx HHHD$`    HD$hH HD$HHM  AD$D    D$THL$H H$   H  HHcR HH$   HD$8H D DD$PtFIL9l$h  Mce D9~)B|%  uH$   BD% XB U IE9e}IA
uA1;D$Dg  9D$D~ZLt9~BD9F  H9D$D6  T$THL$8D$   $    HuA  HL$8(    H$   D$d    E1D$@HD$xH$       D9|$P   D$PHHD$X8H$   HD$pH$    t9|$@}HT$xHL$p=0 D$@IMt@9|$@u:Lcd$@IA<$ u+|$d t	L$T % LHP0 D$dA$XHD$X@9H$    tqD$P2
    HD$DwHL$8mHL$Hv  D$`   HH> L$`  SH H HHL$0    LL$0   L HH HcHH [VSH(HHCPHHHH)HHKHSHHsPH([^ATUWVSH1Hq(F f% Hf= uH~ uH~DeXHEtTH/   HH  x   Ht$/   HH   x    HxHAE t./   HIHt  A   H&_A$/E tDF f% f= @  HtHHYj  HY>    # 8y   HT$(HA( u# 8tfH  VcHF(H9D$`|)F f% f= @tHH~ ZH    H= u<# 8tHH~ bHtIIH~ H~ ~b  F f% f= @   w#f=    f= 0  f=      f=    f=    f=    E I        	sHH]~ A IDF L7 MLFP@# e 	   LH
 L{H H& tfH=" 8tXHH} 8u4ELNIH} H} Pa)! HH}  (   3aH} %YV f% f= t>E  uHG" E t*HF(HT$(HD$,    D$4    D$(D$0h H[^_]A\VSH(Hq(LHA8/uIAx.tAx/uIA8.tIA8 tLH   H  HH2HC(E1H~ H uHC(HHD H([^VSH(HA(HpHNg KAHH   H([^    HA(IL@NHQ(HRHIH`HAVAUATUWVSH   Lx HD$PLL$XHHD$@    HD$8HD$@Ht HHD$0HD$HHD$(LL$ 5R H, Hc0tHt h*  t"HT$@HtH" - Ay`AE1Lt I.Ht} +u	HI1
   M&Ld$XM   H t LHcAt+.uiA|DGA	wZA|DGA	wKA| uCwtL   t+H$   It$LcHHI$KH|$XII> !Ht$`t!HL$HH$   + H$   HD$`	HO Ld$tHLr  HL$XH   HD$t    D$|    @t#HT$PMA( HuHT$XH UL| Ht$X>@t$   L HHtHD$`t Hr     J]H   At^H$   Hr CDm Et)HcH   %Hc Z   HH$       'H-q tH$   HXr u   }  uH   1HJr Hu Lq MHt H   LD5 H\  1H   [^_]A\A]A^UWVSH8AL   ALA	u7  u/H L'> i   1A THHu      AvD3 EH EtAAIEBA  vd   D1x11A@  vDA  1Aim  AD)*	 w-h  -s  1A   AH? 8    DD<AuDT$,k T$,B
BAD9uH8[^_]S1A   LcYDIAEl  AFA)Eim  DAAF'DAA   AADEA  AH DFZDAA   ABAQ[H(	DD$@ DD$@D9~     H(ATUWVSH H H= 1L%  @
   HMH~7etft&H @HH 
 H +[H Hc HH; t'H5 HHKH Hh H; u@u HM 1H [^_]A\AWAVAUATUWVSH   H 1   H5 A      LD$@LrL
   HHM.M  A} -uA}-uA}   =   LIHuCZ  LH  q xMou,H} A
   LA   HD$ / m  u-HL A
   LA   HD$  A;  	uLl HS Lo >
uLl H Lo u!Ll H L~o 	C    u/H A
   LA   HD$ j I   uK    HL HD$P   uHL HD$XmuHL L HD$`RuLl$hFuLl$p:u5LHV=  yH& Lk LO   	S I Hj IIL9tK    LP IHt$hHt=1H1 1 HX$ u)     u(     H HD$hHL$pH   Ht$XC   Hu     s    J HtaC uZ      IDHy=HT$x   2   $   f% f- @f up  H) HD$pHT$`HuHT$XHu\   C     A   HD1H= HyIL1C @t  Hy
HL$h  tHL$`uC    A      IDH Hy<  HD$@MI)IM9HMFLLHD$@L9   M)MuS 
"  @IL    t i IHuC     y'C =HL$hE1VA   H1 DC AuL9t6:HT$HtH1i bLL|$HL1HH9tfADE HHCHCAtH1L)MLIA	s;LLL$pMLLL\$0*    HD$@    L\$0LL$pMLL urHCHCH;D$P    x=HT$@HtLL$pML u)1    1 yHL$pU@C!uCLKLCHkH;LL$8LD$0Z Hl$(LL$8Hh H|$ LD$0HH` @H   [^_]A\A]A^A_SH HHI@WHH [Jy Hu5HA    +D
HIHMAIL	XEyH?tIL9rtEu   @       1UWVSHHHA HHH|$ > tDHIHC   HKDC   H S(HCHH (OCHHH[^_]AUATUWVSHH*HHL@f  w@c  @dt%@a    @ut@xt
@o  SH L-E A=Ht8 uRA0HA	waE1HT$8HTA 8"tAwDA|  uLY Ep  H\$8"HZ HH)H\ D$A   H Ct% Ht H)H AHLuI	tIH H ,HV HHHF$"D. AtHwAH   AH H HF  H0 H HE  HW    H HE  RH L% Ht8 u]0H@	wmE1HT$8H#SD$,e DD$,8"tAw
DA< uLX HH\X GH\$8"HK HH)HM DA   C4@t@t5c         A   HIX A    H             A   HX A    Hl s   A      A   HW  H HHA   1   H HA   1   H    IHW FHW1w/HGDg<zWuHHHH[^_]A\A]AWAVAUATUWVSH8A   1H H{DC)  L[SA@DHk  A1%  CHE   DfDLM fD CDcD$(EuA     D9cvDD)=~  wDsD;crADDMM  IcALAL$.D$-DHcDl$-LD8,   Dl$.D8l   A8   AB8A   IBHDaD8`   DaD8`tH}DaD8`tHmDaD8`tH]DaD8`tHMDaD8`tH=DaD8`tH-HHD!D8 AI9D$/Dl$/EjHLH)H  )9}DK9KvHHcALAL$.T$-A  ~  A~  ACFLM -~  D9sA9FAuD+CA   DSKD9      +L$(SLCCLS)CSSDKJBAKA D1A%  A  CIB   fDfGJfKuA   StyC1xL)E1A   1  CCQt@HSA1Kt"C1xHKSE1)  CCCKK   K  tHSA@1C1xHKSA   )H8[^_]A\A]A^A_P  SH H HK0#HK@HKHH H9tHH [UWVSH(LF 5u{  HHtlH H9!9|O;{|~
N,     )9~))s~H} HEHH8HHGgCHH([^_]SH HD HBXBXH HHH{u	HKZ  H
 H [ ATUWVSH0HHT$hDHuH H  HHT$htHU H{  HtH HE   HH8Ht-uHx U H<    HWHb    LL$hHT$ A   H  D$ <tQ<tb   |$(x%Ld$hHL! HH uHHHH uDH  uHU FtHD$(H H  uH HH`H oT tH T Hr} 1T    H0[^_]A\AWAVAUATUWVSH   HH[ H: H-[ A     H   EA@u(EA1E H[[ H I	1L[ EH[ L[ LDH[ HY H"[ t$DHD H Hc H4H> u1   8IHuH"[ dG AGAE11M   IG0Mo4IG(    H-` IGMw8I   MoMwIG AGH>     AAtoAOAAO0AO4LfAG1: AG5:\  A    uE1E11D$8d   Lt$0LHD$(    HD$      uAG8 Mo=rHH   IHu"HH$Z    =H.H  Mu HZ LImIEHT$XHHD$H tH   GH|$h u
HD$`HD$hLl$pMu	ML+l$xLH$   uE1!HIHoDwEkd1DALH}Y  EA~EtHdW HXY { |$D t.HT$HHGY c ~EtH/W H1Y F T$hHL$pAE HY H& T$hAHL$pH+L$x  HX H T$hH$   A IEHX H wLH   [^_]A\A]A^A_S1EL;YsuD9A0voLQHA D
L)L9MIGA)AIBDL)M9rHA(E1LALHPIXHYACHH9Q(IDAuHQH9QsHQ[H(HT$8ZtHT$8H ;H(AWAVAUATUWVSH      HD$H    IHD$@     H- HE H] H|$@LL IH4A HCC   HD$(HD$HHD$ 5 H Lc H|$@ t1H{ H@" HHL5 O| E1E1H{ Ht$PAK'I49-uy uH1A 'H H  t tHH=  IHXIuAEt)C0f% f= @t   f% f= @uH_@ 0:HC(HthH;   u_Cx9C uWH   H9CHuJH   H9CXu=H   H9C`u0H  HS0H!H#   H9u1H   H9{8}  S0   f f% f @  f= @     1Ld$HLnL$   L1IT= HE HPHL-    LID$(    Lt$ HU AVINLBA   'MuHHIHuL%<    AFD$<E~D;|$<}IVIcHLyEGEFH$   L4Lt$`Hc$   1;$      H|$hM   HD  A      Hw      1H> IcLD`HTP HE McJL`MkB4   '  Hc$   E1;$   RAH$   H<XHtHLE1AtXE1MHL$PAEtEuHL$   HD$p%LHM HD$pHQ HH$    HL$XEuEuLL$   HD$x)HH} HHD$xHWxH$    t$   HU D)HHkXHT IcHLp HU B0f% f= @u-   f f @u/LD$xHT$pH0= >     f tHT$p   f  f tHT$xH=  rf= @f @8tFHT$pLL$xf= @uHL= L= HD$ H= L0= HD$ H<  H$     HT$p HL$pHL$x|   D)HcHL`Hk^4   f= @    @u\1f= @/   HlPHHtHhIH   AJLP@HkXHJDPHT  1AH@   H6 tHLPH   [^_]A\A]A^A_AWAVAUATUWVSH   H2 1L%8 H$   HD$p    HD$x    H$   H- L-U H$   H$   H09-uy t=E  uA  1A u%1  1" u1L 1E11 HufA8u^H$: F  HtHH:  HHD4p E1G4Hy t E114 H4 H4   HHH5 11HL   L$   A      HML$   LA      IMA9tD9D@Nt9H1A9~DD   EtEtE8AE@H@tH    H$   HT$hL$   A   L$   HE11L$   H\$8IHHHD$HL$   E1IAHD$@D$   L$hIcE1ADA9}Et%$   HA9DuAEtD$   $   Ap1$   Hct$PEt9~LVEuLt$   AD$   A9}D9D$P   t2HL HRLHcHHDRAE9}J9   1HT$@BDHcHD9&L   M,M+lMIAHE	HHuH  LL$XAD\$W: LL$XD\$WH($   HcHDl$PAD;l$h	E4  H"  D  @  EL5J uDM>IWHuH$   HH6 E IWHuH$   HPH6 $ HcH6 E1 HHIFH6 BThDH   E)EDNFLA9DOID\$PF   EDL$@+E9F   EN D\$PDL$@E9t    }E)AQH6 { ItA   `H5 I D$   L9s
D$   ADHD$     H$   HL$84  L9rUEND$ -   IEFH$   HL$8	  EFEND$ +   H$   HL$H  AFD@vAD9l$hH   H$   H$   LEu
   HW H H$     H$   w  Ht$pHtH HEHt$xHtH H+H   [^_]A\A]A^A_SH HJHHtHJ uHHKHtH{ t7ZHi H [N  AWAVAUATUWVSHHL- A] IA0   1H|$4IHt:HH Ae T$<st"t\uH9BAE lH 1@v1DD9 1D   D$     1E1;t$    D$ 1D$$D$(DL$$AE    LEE9sBt'DL7 DL$,H?@ )p DL$,DKD4*T$,7   T$,t$$;\$(u
    D$ nHH[^_]A\A]A^A_AVAUATUWVSH   E1HIAAH 8 tfA fA uHK I1@tHS0HYB  sHS8HJB H H-   K1H)B Ht S@HB Ab SHD@@t&tHA ? lASDHA + XL0 H  tb  HA H 0L  SDL9 Hk I3  MHA H fCf% f=  uSLDCPHA  2HK s   E1 HzA H
HHpA z HK(s5 Lt$8   LPA ILl LHPA = c7 HUH+S(H  LpHB wLHA  -L@
   LLD$(@LD$(LH@    }     fDsfEuHKHT$8s uDt$HDf f uAIuDH@ fDf uA       AIuDH@ fHj@ D H| }  AtHV@ ' D 0  M   H<@ 	 u
}     DsfEuHKHT$8	 uDt$HAa}  AtfDf f uAIuDH? fDf uA       AIuDH? fH? b L Lt0V}  tHk? < EttAx H   [^_]A\A]A^H8)t$  f( ^(t$ H8 VSH(H   H HHpHtHJHHHHHB
H@H HH([^VSH(HHtH3H&  H9tHH([^tHA 1L9 A   HcAWAVAUATUWVSH  H HD$XH$   1A  IH+ b   HH$   Su HuH H0> t	v~ ~HF0   HFHLd$|Hl${ MHH  HdHDl${\$| 8,u<HHMH  H6E   Dd$|D|${ O  DfF  EuAHhi'  wN=  w-  .      ctuw
ati  dtzf     q(  w l  p  k     s  X  w  z  _  KDZ#=DD.H* @+  H HV(8 Hu'HtH*  H)  HH  Eu~    DsH5 awx tH~)   DdLA   E1Du  H Eu8 tHv) h  ~H   1A   IHf)  m  H   <yX  HF) @  H H>) 8 H  Eu^SH) H~( H HF(L) DH$  HH$  t	uH( y  HNH( H[  HP  HT$0HL$0Hc$ Ht  HPE1E1t'<gt<ptH(   A   A   H$     H[ H' 8   HD$8  HHHL$81E1HL$0HD$(D$`)1D$,HHHD$PA9  HT$8DD$(EH>  ytE1 Hm 1E1HD$XLc|$, L IEHD$@HcD$`A@HHD$HD$`D,sHD$@Ht$0HL$HH|$, Ht,MIcHD)T$(+L$(HHcHcD$,HtEDDE4EtE1? Hm    HcMHL$PT$dHuLD$h L$dLD$hID$,EAAIAHHHD$@Ht$0HL$HLHIcIDHM)T$(+L$(HcHcHtHE IHEIALILHI;huMHHLL$@ELL$@u'EtE1q LL$@I)1   ?DDL1HT$8HW&  Hf& @  H 8 HuH~(HS& Hg  EuFH Df   LH& D7A+  HgxqHH$ 
   .  IHu?1M6AD A9|0McFIV  IcNH9tH* 1 yH`*EH%  P-t.tHE1fP
HE1[PE1QHo% EuV<H(H{  2 ,EtE1DDH 
E1 H)% NHH_ HHt$8AH  [^_]A\A]A^A_AWAVAUATUWVSHh1Ll$T   Lu 	H[ w   H     L#A|$um  IL$9
uAD$4 M@%  @w
  tD$    A   E1H" ID$@IL$A   8A|$u?  @  @  IL$@A   `ID$     wH
 HcHL5]   L@l$TD$U   X  HH0   HH0   .  <        HH0H@H      -  HB,B,  .  H3HNV@V< HFF,F,     A   -  .  HB,B,  HH0M   @H3~ uP F 3  O  FH    ^  -  HB,B,E  6  a  H   #    Pw/HHcH  HT$@H;  H;P  HP  'X  H+HEHh  H9u w\H}HWH9wOHh  HH`   H Hz HHp   H H Hx  HHE'   +  -  S  D  a
  HHHJH  )  H3Hc   H   HL$HHun H    
   @Ht4Pua+  2pu-HNM  HVHJH9uHV+  
pu,  HNHT$HA      H3Hc   H    u  LFL,HHD$H2M  A   HHHD$@l Hc   A   HHD$HH   z HD$HHD$H(  AG<tn   <   <tZAG<   1<@ILI$  AL$   f0 L#M$  MuHd 
   McoAWIwM,$LL IcOLM AGEOAT$ D$ 1IcGIcOE1I$HTq AGEOL> AT$ D$ L -IcGI$11ID$> &*  H3HNK  HFF,F,  L3L- IFMfHD$@Ht$@I9vG>@
3  LHt!H  HD$HHuL IF
HHt$@HD$@8
  i  H3W
 FpHHpP  HxHWHxHT$@LOHT$@DI9vA
tD9tHHT$@A
   D9uHPx,WP,  HHp  LHxHWHT$@HT$@I9wDA
u
tD9tHHPx,WP,  (  )  HB,B,  H3HcFxq  p   Hp  C H   H   J  L@l$TD$U   HD$@8 *  H3x H   u9    @)   HL$@ H   zHHBH   HHHL$H:?uH   HD$HHHD$HH;Dd6HL$HEH   HP[HD$@Ht:HGHB,B,w  H   HBH   HHHL$H:?uHHD$HuHGHHD$HH   HL$HEHP[Hd HD$@HtHGH_ H} HDH  _H3AHNH3A   HNH ZHD$@H  H3   HB,0u  k
DB,  H   HHD$Hvh  H3HVHAG HT$@HL$HD  D$     HT$@E1HL$HA   D HL$H'HL$@HHD$HG  HHHD$@~lHL$H<u:<	uE1H << u8E1HL$H9 u+D9fl~%E1HA >uA   	   WHL$H HD$HD  HF&  ^
  %  HHB8
  HHB  1BL#@t6HcIL$Wt-9	<t#<vIL$A   A   \ ID$8A   A   B A   A   ID$H' ID$WuAD$,AD$,	  H3H~HyF  8
IuH)&LH)H~ILVA   E1LD$    H HFC   	F  D   I	  : gt$D$Tgy*   LD$UD$V  	  Hx, u@,   H3HFN,HHF"  s  HF  HHPXx0HPW9P,vP,x,WP,  +     ,#  $  H@a  A      +' ID$A   HPIT$     ID$HH' IL$< t4<	t0AD$,AD$,,  "  L#ID$IL$HH9rA   H4 E  H3HFF09F,vF,F,F,  -   /  H;E1HGXHGG0pA9  HOA/ HGH3HN-$HD$Hx
u*"  8"  H3A   
   HNqTHF!  HNA   
   OTHF"  H@' *  H3HFHNHH9  A   D$    A   H M  1X@HH3HF<8
t-XuHHFHND$    A   E1H HFF,F,QC  s  ~ Zt
D y  L#A|$     A|$ IL$PtHH2
  mMD$I$Ia  y.Z   *  F cH( H 	  IT$HI+$Z   H9  AD$   AD$ Z     V   "    E1bL#H= AE1eGl-AM<$IcAHD$8HL$8IL$L9  ID$HH9p  IL$	<t<wA   ED ID$It$B<	v a<v_uA   H 8 tA   E   HS ID$AD$,AD$,P  Ay   Yt  AHT$@HL$HE_  11v A   E1H	 DYADL$8DL$8Ht0H;cuIHD$@ uH9s8x
t2HHD$@	t!DHb	 DL$8DL$8Ht#H;D$    HT$@AHL$H2 HGaDH1	 DL$8HHt-H;D$    ADL$8HT$@HL$H HG   A 11A         1tdt`cu5H3
   A   HNPHVHFHH9W    M  dS      AD  H >A1  cuHo Lc   frdtYuHN LCH3Hc   L   LLd$HE1ILd$@HD$HI9r8
uAHHD$HDD$8 Hc   H   |$ LDD$8IH  b    L#IL$AT$@AT$<x ID$AD$,AD$,8  )  H3HN9
  HA   9 @A   HFHOHF    H3  ;   Fp0HF ;Fpu  Fp      L#H5 I|$B<	v a<v_uA   H 8 tA   A      H ID$I|$ID$HWH9sHID$IL$	<t<wA   A      s ID$AD$,AD$,Q     .uHD@0AAE1-uHD@0ALII\IAXDqH3F,HNP HF   A<vK  AD$,AD$,~tL#IL$Pw   A    IT$Hw' "   A    IT$Hw IL$A       w<    L#I$I9L$uE1
   LI$ID$IL$I;L$t
ID$HHsH;p  r	H;x  vX@H HtCH`  H`  HHh  a| HY| HHp   H Hx  0@	v	AD$,    MD$LA8
u:LH)~0A|$ u(IMD$AAHh[^_]A\A]A^A_AWAVAUATUWVSH(H$   L$   HHHD$HDHQHD$LDZDRIIZD2EAEE1D\$AE1EAE1Ek!AD?  AN+d DEI)LEL$A     H9   A   vQD:ktKA  IDI   AN+\ DEcEI)LA  wBI9r=A   vE:iu.D:3u)Dt$D:suD:{uIHT I)EEu!   HT LZL9\$  LAwDX=HpAwEkD(H'  EkHFA   vA   @ HD.1D,7D,0HA9uAILL@rLZ@8suF@rLZ@8su8@rLZ@8su*@rLZ@8su@rLZ@8suLZ	@r@8stlILH)A   w)AHB    ADP	P   HXA @  wAUA @  D	   H	L;\$sA3@83uHILHXH)A @  wA!w !  2A @  D	w	@0@    HHC   wHB    ADSHCL;\$sL#IH$   L)HD$L)H([^_]A\A]A^A_AWAVAUATUWVSH(H$   L$   HHHD$HDHQHD$LDZDRIIZD2EAEE1D\$AE1EAE1Ek!AD  AN+d DEI)LEL$A     H9   A   vQD:ktKA  IDI@  AN+\ DEcEI)LA  wBI9r=A   vE:iu.D:3u)Dt$D:suD:{uIHT I)EEu!   HT LZL9\$  LAwDX=HpAwEkD(H'  EkHFA   vA   @ HD.1D,7D,0HA9uAILL@rLZ@8suF@rLZ@8su8@rLZ@8su*@rLZ@8su@rLZ@8suLZ	@r@8stlILH)A   w)AHB    ADP	P   HXA @  wAUA @  D	   H	L;\$sA3@83uHILHXH)A @  wA!w !  2A @  D	w	@0@    HHC   wHB    ADSHCL;\$sL#IH$   L)HD$L)H([^_]A\A]A^A_UAWAVAUATWVSH(H$   A0A HH   HHHU'E1H)Ht$ HHC(D9k    HSN$HSBHtQuLLw VE1HC(N4?N8MtEL    L[ J?HC(J8InLML LLw- HILgH    HtH     HC0    H yHHHNHu1He[^_A\A]A^A_]SH Hv L A@0H~2HQ
9t'   tAH<E1AIH #*  HKHH [AVAUATUWVSH     I    AHLHg  Hl$lHH  M  HC    LsC         D$m   L$   HLx H   H] $   tt$     ugH HHEt H8SfC1HtHHC(IL$  IL$HC0  IL$HC8  T$lf%'?fAufCf% f= u  1Hb ^  LsH9 HZ HD  1H! A/  L$  A   Ln  DI A  $  <#u$  !   <M   $  Z   $  $  ?   $  D$  AB D$  AA$  AA  wvDA   H8 LuZAD$AT$    u/AD$   u AD$\  vufKI$   $   HMH H	HC(%  HMHC0  HMHC8  1HHD$0    HC@CD$    f% f= @f=    S   DE1E1   D$(L HH  H$  HN t>$  $   $  H H	   HCCf% f= @t$  S=  D$h   H     HD$`H-    D$P    Ld$X     MA      Hm t0Ll$PE1E1   Ll$ HL$XL%0 ADL$PEt;# M   H uWDDL$LIHa HuHU HE     Ll$ DL$L   HL$XAtHL$XH=  u
     HD$XLL$PHHD$0    HD$8A      HD$(    HD$     S t1WH HL$PH. HL$XAx EuLd$PHT$`A   LuAD$
  wCHCfcHC    HC(CH   H  HHHCP 8H  [^_]A\A]A^WVSH@  1G   H\$$HH=p D$*tD$*tH" H5   D$+@	  fD$$0   fD$(   H5 fD$&'D$,s|$*u   	D$,s   	D$,A	   H     H=^l A   H   H   t    HL$,ODD$,L$ HT$ A      D$ 5 H H@  [^_UWVSHH  1A	   Ht$$H A	   HS HtH! H=k H   H   }  L$$Hp f=?	  L$(=  v
     =?	     D$*   <u|$+ u/D$+6<u|$+ uD$+$<   |$+ uD$+	D$+<   L$,H- D$,r%     T$<   D$-wD7] 9   D$,@   H   Ht$    H|  L$ 9uMD$-_D 9tQ         H VHNM|  k   H9|     L$, HH  [^_]SHH HD$|H\$\D$|HD$@HD$`LL$lHD$0HD$dLD$pHD$(HD$hH\$8HD$ ~-L$lt%D$p=k  v-l  L$lHD$p H[WVSH   H=_l H LL$8HHv HHDLL$(LLL$(tHH$ 1CHu*HW uD$HHt f% f=  H5 HELw HHHr H   [^_VSH   LL$8HHLLL$( LL$(tHHM 15HuHwk H  H HDLz HHq H   [^AWAVAUATUWVSH(L=g HIAXAXAt1  t"{:uCA   </@<\	@</@<\	@H HEuIHP`H9P0tL%g M,$I}t </t<\u5{ u/IHH0 tIHH0H`H9\H HHHHHp HH Mmu,ILx0L~ t7/t\u{ tD	uHI/t\u{ IDH,EtHHCAHAU tI}AE:IuG</tA<\t=Hw/H7/PHwHM/t\u@</t<\tHwG/HMHHH: H=: HtJ8.u'P.ux uL9v&HF</t<\ttHH  /HpH1I9H  I$HpHHEH u`H   Ow Hf 1L Hlf DH   t4IHt%Bt<uHBH  u	E~BHH@ H([^_]A\A]A^A_UWVSH   HH H HU:^uH" H\$X1   HUHLL$HE1HD$H    HLL$8HD$P    1 D$     HVA   LL$8H% t8|$H u1H$    t|$P xHcD$THV HcL$PHNHcL$LH$    tH  1? HHD$8% HD$8H   [^_]AWAVAUATUWVSH   Hfc 1H 8d@HH^ H  L5K EHg Hc H<HD$8HD$ L/AIAM  LA   / HH|D`H HHu#F 8t}; 8tr0 8(tgAuHH S8/t9H!HAIc HHHHHxHH\HuLkH` H| HIHT$ I HH6  HI   L6 HHp0LoAt5AtA
uuH   DD$,$DD$,HDMtBLEyL 1H*xHL LHH? tHH? -1H   [^_]A\A]A^A_H( HPe L IHI@H(SH  He HHK"  HCH [H( Hd HHBH;vx
tHHBH(SH  Hd HHKS HCH [H(W Hd L IHa I@H(H(' H`d HHJHBHH9s8
tHHBH(UWVSH( H=d H7~HNXua  HFXHHCXH9CsHC!  H9CvH HCH([^_]   Hc HHADBAAAAEt
tHQHH9s	HHAAUATUWVSH   Hj_ H(HM`. H=W HH'  Ht /   HH  HHD$ wHum\   HeHu[Ld$ Ll$(HLC HHt,LH uD$8f% f= tH9tHY HHF/ HLgMt9H HO D$(HPHT$8   @ AHH< uD HH   Hm H]H1[JY Mt0Hx H   HD$(HT$0HHSHD$8HC   H   [^_]A\A]WVSH H] HH^tY@8@^ H2       t4=x  t^^/H   uHt    Ht1<  HHu@>H [^_AWAVAUATUWVSHxIHf] H
QXQX1HL$8tsX 1   H^ LcH(Ht},tzDm(H] A   1IJ+IHD$(L9;uD$8HKL+HC HC    {    DDH H9\$(wHtEtF,N-D9tDf,	Hm0rF8 HtOL9uJL$8tAt<t7d  H\$?    IH?  tHcHHD?
D?  Hx[^_]A\A]A^A_ATUWVSH0IHt$(HD$(    / H/ HY HH   H] HoHGH0f HH( !f HH( f HH f HH e HH e HH e HH e HH e HH e LH   H^ Hc M$It$@tH] HC8Ht*@t4HD$(HKH HGKe H\ HCHHC@Hu@t HD$(HGHHC@HuH5	 @t%@tH] HC8HHC@HpI$ GCHtH3 H H 1H0[^_]A\UAWAVAUATWVSH   H$   8 I H=] HL LMLHM t  AHj]  EA@tbH]H1 HluA;H  HSu	A   H HA   0tH] D0D?tPuH H K IHEHELMA   LH HE  IH   L;         H LHdHtFHpHx HTHm HHbH HHEG HfGH\ fH0H  H5H H8 L{HcELI\ DEuDHE    "E  H H31H=  n H n H[ HcH H8 H   JH L$
RLL,HuA$it#E1LHLM  u8LMr   L1D EtA uHLl$ Hvm     S  DEL      L$I1 } I${  HMH HE    {a HK) HH) H   HUHeI<$HPHX HH@HHPF N H   I4$H   HH> tPHK HFI$H}  u>HSH HHCH{HcuHHE  HF   H=0Z I$H?fBH  HE HH<H8 Htfx u3    H" HI$@fD fFH8 P  A   H b A   H #  A  H 2D HK'D A   D H5aY I$L.fBL?  KD HuHH 
   IL D      AtXHH Md L~tH L~uI Hs  IT <
  A   Ho CAtDHH: IL a~uKD HN  IT 	  A   HI a E} uH3 I    Av  LM1I$Hh  HMA  Dh AHEHuHcJ    1HEHW LHEM,I P9   H@H    LMHUHD Dp   PHAB LMEHIH  HUu<    I H    HIHHUfDAIfD fHH HMA   MHEHUHcHIHW @L#I IB      H	 A 9uHHHu   1F9~HFL,EE D<   AUAMAA I Htq I8B      H	 E@ 9EuEHEE AU@AI H tAEH IMHCHU E    HEHU L(HcEI HuE}'  u  IL A HcI8  t   V  H 8@ 9uE    E11G9E}HcEHWHDSD u
If  uE1   KAl@ =  Mt&E$AEAH9tH I  uE   ~ 1   HM'  sM MtA@E19E~MPME
AApu=DMfE;Ju2M 1ufCMfEHEHcLHF  >  L-#T IE Mt*AT$LHHg HD$    H8 H   fx    1     1   {  H A\> A9tH@ K> Hi 9tgGH 2> H 9tNH#
 > H 9t7H+
 > H 9t Hr = H 9tH S<IE LHHL$ L H\ LEH9
 u	tu1E_HMvDE1AEDE} tI   H e  } 6  IHR HeH RH 
RH4LHLE#> HEuH(HKH	 LEH)HEd H|$0H Ha/ HIL H^  wHPtH1H uH  Ho   H L HH  I} LHI$J L  Hf H. 1H) H  MA   H Z He%A uEtI
 At	I1WH9]rEu2H H  H H HE H   1IHV9]HH v  HHG sv  LEH HHH5 ` MH H` L% HcMLEHL" Lm EM  HH  ` HMbtHMYtLQtHEHELMHMA   H HE  IH}  H LtuHtHpH HduH} HHruH HU LHE-uHEH  HMW; EH}O H0HcEL,I8 H  @HML$Lu  M     HZ HH<HtCMM$LMtuA@HMLEIH  HtuLEHIu MA   H} X I8 Hm H@L^ H? UHUHU 8HH2 HH
tH# HHtHv HELLttH LsLMMHHe^ HH supHL- H5 HcMLEHL LE EMwLLLEzsLEuMH H] LMHH] MH H] 3H=oM L% L- IH   H7@H  H
9    A  LHruAIHHs A   LDJV IcH HH8 @L(] InHM>qH6qH HG + u" H 86H! H H  1He[^_A\A]A^A_]SH@LD$`HL$0LD$`LL$hLD$8x!HT$0Lc(  HL$0D$,2pD$,H@[VSH(D~H ^    	a  Hc ] H([^3 ATUWVSHH|$(HHv tHjH#H @)L%&K A$ t"HH T$(x uP9Pt1  D$8H\$xf% f= u0H-G E9E~!HHP u}H\$xuEA$u|$<~H0 HuH'D$8f% f= @u{H H=jG HHu0HH cHLG @vHPH*PIHuHHuGHOLHnH  A$uHF x uHF x9xHHH HH[^_]A\ATUWVSH HF H    H Ht   CLCH HE  HlI 	Hc s    
s   @t   @tC   @tC@tC    HH8 HuH HHP{uC    Dc1HHDcHH? usHr HG Kc  SH 9t^ y0 MlH IH [UWVSH(H= rA10`  x	/8t8tH([^_]WVSH0HHcHT$ HDD$`HH8)D$  tkDD$`LcLLEHfALD  AQ D	QED; AE	A  AD	QI
HS B4H0[^_AWAVAUATUWVSHHD$   HDELcLHK(HcMIK(xuMHCIEIB,BD)    Hu
   Y  HCHK(BL  N)EJEuHCB.HMRHAA*A    u.D9u9t x1   @%  A	   CPHcHHL@
t'~#LK A9,u@%  A9   HEHA$HK(DDD$<H Dd$ DD$<EHuPHC(JD(hEHHs(H b HH[^_]A\A]A^A_UWVSH8HHHH|$(LN(E11HhHHtMHHK2HFH{HtHH9u#HHHHtHHVHtHD$(	H{HH8[^_]<-uH<+uHA H H]X r AUATUWVSH81@HHHHt68-u1HAntetEu1A\H8 uDI1I$HthI\KLl$(u IHHHtr@uHe HNHJA8tHCHAu0B<ctF<0uB0<wHJHL$(LHL$(HH> t H@t
HH5Z L)IL          L#h tH    H8[^_]A\A]VSH(   H HC HH   C   t HCHC HNHC0HC0HC8Ht.m|    HC(H t{ t
   K CH ?1H([^H)C H       @v SH HC HLBIXHH9vI)
   IhHHDH [VSH(HB 1H p0HHX9vK HH([^H_t awHt_tJ	vSH0LHHHL$(H5  HD$(HHH0[VSH8L HHt$(H HD$(    HI  HA HcHHHt:-uz uHt?(HH H H|$( u"=   HeHtRH xHH3HtH? H< H HHtHHt,T H1\  Hk  xN  HH HH ^ HA H 8~HH8)t$ 7 f(7 )6 f/sH,\H,H?f/sH,\H,H?H1xH*HHH	H*X(t$ H8z H(    =   g    !G      J     <        (  wA     w            	          w   	                      wF     w   q     \     V     A  @     w0        	      m        U  wF   7  w   $  '        P  R        Y  w   V  Wt     ks  l      w]  w@   pM     wn=  1oT&,  q#  r  
   =     w   z  {     =     =        =    x     =           =     wP   =     w)   =   y  =      b     =   Z  =      C     =   ;  w   =   )  =     &   =     =            =     wM=        w=     =        =     1=            =    w    =     =  h  "   =  e  (   Z  =        =  ;     =  *  wK   =    w   =    =           =     =     =  w   =     =           =l        =v     =]        =3  w6   =.  su(   =  ri   =  v]-!  (Kr   =  t?w   =4  t1=        =a	  t=d	  t=     (   EH(Ht
t.^H(   
yvuA~7R   _>KuA~B_<]w8R   _&A     $_]wR   _]v  *   H(UWVSH(H-N \   H56 HHz t/H=   HH tHH#  H  HH([^_]UWVSH(H- l   H=E6 HH
 tJHM   HH2 uH& tH  H  1[ HH  HH([^_]ATUWVSH H-H Z  H=5 HH upH& v u^H d uLH R u:H @ u(H . uH     H   HI L >tA<$tHFIT$"HG L? IT$HN^1H<uH9?yuH92=tzuH9 ^uH9>uH9H9H6  L.  Hc HHH [^_]A\AUATUWVSH8L% L-    H=J4 HL AuL  AtAHDD$,K   DD$,HHHHH~  H~  HM HHH8[^_]A\A]AUATUWVSH8L%. L-)    H=3 HLo Au"L` AuH M AtAHDD$,H   DD$,HHHeHH}  H}  H HHH8[^_]A\A]ATUWVSH H-~ Z   H53 HH t/H;   HHH}HIr}  HLg}  HH [^_]A\UWVSH(H52 HHHuHH; tEH4q _  t\H H{7 t0H>H H uH LH  H  uH>HHHPHuHHHtHHH([^_] u,5HH HNXH) HH.  	HuHHH>HSu^HH H HWHNZHH HNHHhXHH9uHC    H{  H      xHpHHU Hm uH_  HUHP tHNH_WH9H ~H} ~   Re  HHVHGHLU'm HCH;{  H3{  H+{  HH([^_]UATWVSHH@  H/ H HH@HHM0H HHU8HH@PLE@DMHHTX   HH HCPHE@H H     HCHHE@HHS H<G H9E0utHE@1HXHtuHx tNL%9 HpID$HHHQ H^HHt    ]1]I+D$He HUHH  HE0HU@M8P}o  s HH0V	H@0X HH0WHHHFHHHFPH@  [^_A\]AUATUWVSHXHK. HHq CH  B t
)  HKHT$(A   HD$(    HT$0Ld$8g5  H[Hu1   =  uHsH   HD$(LLh@ HFHN   H= H HGHj EH^ H9Gu  HL HE   =  HOE1   < E1LHno  L+ u#=  EHKH8  Hv:H[HX[^_]A\A]AWAVAUATUWVSH  H=, HI$h   AEH   Ct
)  CXCX   H$   wz HH H5 H HD$p1HD$`H C HD$PHm HD$xH$   H$   IEH$       H$   H$       HtuHH1[  HtH Mu1MtOL$   tM~LI9t8=A   tA   HL3  I$HtH MvNHcH} HXH$   HD$8HH|$8 t HT$8HHRHPHT$8HHT$8L'H     A|$d t=!  ut	H@HD$8IM<  IMi H=9 HD$XG    A|$h t+H? ; HHtH) tHUSG IM MuAH$   HD$@Mt.H$   HT$@LA   1  HE HH MvA|$h H    H     HH"6  O H IL$   H HD$@MtgIF=   HHD$H 8 ItILLL$hx O LD$@HL HD$(HD$HLL$hD+L$HHD$ \M6H L$   MtFINjf  INHtV Ex O LD$@IH Hv M6HD$@O A   H; x   HEA   AHD$@HHc) HHD$HHHT$pIZX  D$p<ui  1A      <   HD$xAu
HD2AH@ H9Y  H@H9Q  Hl$@HHBHJH8  8-uVD@EtMA-u#x uHHy   H  H$HAp  HD@HHl$HEuHA   H)HH)AEt"1H&( AH D82     o D$p<  <_  AD+t$xxqDHr' HDsQAD$XAD$XH59& L$   E1       H.H} 0 HDHE  AHH8   $h  tA$       AD$XAD$XH$   1   HD$x   H$   $      $   H$   H$   H$   Rm E1HHHa_ H! A 1   H  H$      Hp/ H9uH  HDL$xHIHH 1Eu&   u" ~@tH$      i/ 11HL$xID$h  YtRA|$_u0At+j  >11HL$xID$h    tH&    H HHP1H% H D8I} @uH Ht$XH;pt1" :! HD$PH; u1! HD$`H;7 uH|$8 t(HT$8H : @1E=DH  [^_]A\A]A^A_ATUWVSH0AHH)% HP H   Ct
)  Ld$ HwHD$     Ld$(HtHA   LC,  HvHD$(E1H     Ht$ CHt*HVHO9 HO  A.V uH6KDH0[^_]A\UWVSHHX  H~  H@H0 HM(HH($ U0HH LE8DM@H@PHLH $ H
uiAXAXHHH~ HPPHE(C  @ r  E0U@HE8HHCH   HCHE(HH  H=# HBXBXHM(\ m  H} H8n  HHHHHSHHCHHPP  % HX  [^_]UWVSH(H# 1HCHHM   S  A{T t.u-} 	tEAEEuHM!  JT DtKH([^_]AWAVAUATUWVSH   HAH1HtH Ha" T$,HBXBXh H]Lt$@IL|$8Ld$PH   HC8 u:H@Ht1HxHZ8 u H.| E1LHL  I%Q  H; D$<t/L/ y#y x HHl H1   LDED$,LLD$|   $   HC$   H$   HD$8H$   Y x^y L$<t$8tLy H1} uL D$,  D$,H   [^_]A\A]A^A_UATWVSHHP  U8hq HHH11HH9vHDAtDHHHd0 H3 H  H H    H H@PH*IutH]  H 1LH HPP1 HHtF=_  t1=  H#U8  HDL =  tH _ Hc H HH HHPtHP  [^_A\]ATUWVSH   @)AHv HHy CH2P   Ft
)  HK@0  @t&At     uHK1P HKD   FXFX   Re LL$0   E1HL1@AHLD$\   H\$xDd$h6W 1@tH D$,]  D$,H   [^_]A\AVAUATUWVSH@11Ll$(HL1 HL%b 9  WD6Aw,Hw AHcHH#]  H   HN   1  FI$H*x   B t
)  HN.  HN;\ HN uHN1H~ v  1 j  HI$1za    1@   HH   EHNAD	11D9  =     Hv;H9HN   1j=     t(Hv1H   HA1H   HvH$I$BXBX1H,HcHH}j HHPHH HHH Hh H     -HN   xHu	HH|f  H{fC 1  1I$!	t
   c L I$ H@[^_]A\A]A^AWAVAUATUWVSH   )t$p)$   D)$   HHHuH1"1 H      HD$8HD$hHD$PL5X HKD$HI>CGD$HHL$hA   %   = '  uHy'=   uHcAHH   HH!   HIHt-HT$8!H  HI  LHC    H  H  d$HsHT$8Hd$HsHD$8HKHP HD$0d$HsHe  Id$HsHL$0P  HD$@d$HsH  fD(Dd$HAAA&  H JcHHL$h%   =   uBd$Hs    HD$hHHpW u   HI^W u   #   EW H       HL$0  IE sLe	E1E ANH!|g HHEH@HHGLgE1E;f9
  IVDL<MtHIW(@H M AHMHH9ArHy,AH}H[	  H HH. H[	  o H{ uL`0oHOHT$@  H8 IuUA|u,HL$@Hq Yv IHuH AG#AwH HL$@H: HEnL IM'D$HHL$h%   =      HuHO`1  LH,    HL$PW HT$8HJH tQM  HO D$X  HO\$XD$       IX  HOLC, H|$h uH|$h u#  LHHO0  LH, IHH8  LH+  LHH+ H?L?=  HCHG0  HHE+   GGH`  A,HsH;   u?[ HcsHH   H{   H  HT$@H    HL$0  LH   H  W  HO`H\$h  I	HCHD$hI>HL$hH   HyE1E1LD$     HI AL9uH, EA!1p  HT$0H(*  HC %   =   tH  H HCtHHHHH  HCuHx u	H  IIH|$h tKHL$P HT$8HLIH)M|$HSA$    I LL)HH9|L   L   HHCLwHHrLwH   H L     H|$h tJHOL?  H8 HutD$H%   =    uH1 Lr GHLLX  H?H u	5 HGHHu&k I*H   )    H? tH{ uIH@`HD$0HT$0H~%H|$h uM&I$     I$     *w  A  HG JcHI,   ;*^5c   fA()
fA(X*f(  fA(E,fA(3fA(]'H|$h D   tI,
1k    I*:6  1zk "H|$h uHO`[  IE tHE H*   L:HyHHH	H*X   1  WM   A}     L *   H|$h ui HH0MtA}  tHOL  H;sn1  lHOLE1  HHtPHHtx to :AHO:I>LHO  Eti H   *' A*f(  HHl
  .  HL$h%  HL$0^  f(AMt:A!tXA-tmrAmt2AptAPu`X=: 0 X\=" f(f(\ HL$0' "HL$0z  = tWW= f(   HL$0  ,yH au	Hw`@  U 9w}\  HcHGHHt0  D$HLs %   =   uHOX
  ILL$@LH CA HH&   H  Wt#H  " uHKEN *H	&   HL$0A%  f(A
wtH JcHDX]DYVWf.zuH ]D^8fA(*fD('Wf.ztfA(^H,H*YD\D$HfA(%   =   HEHY% H   H9  E @B  t?HL$0"  HD$0 D$X@B  t H  HL$0f(  \f(2H  HL$0I   LHtjg /9*D$H~ttu3Wf/
Wf/W1    f.DD$LD$H3D$L[D$H%   =   wH[=  wH H x u	HyHL$8 (t$p($   HD($   H   [^_]A\A]A^A_UAWAVAUATWVSHXH$   IHHU(@ HHEHE(5PHiH)HH|$ HH}HJE1H)HELt$ A HEIvHM(? HE(D IEuTH9EuH    1M  HP I9t	HHE(HG H9E  HGH  HLo  HDEDEI9HtHL)L@HHH)HELHL$ HH H](HEA@ H HE4A@<	wGHEH@    ud HM(E1HU(     HUHRd 8 tHEH     Au.HEHx u#A@uE8GuA+IW-EHU(EHIO LD Eu	HM(X*D:uHHHx HHuHy    D<t Attwt-t3tA
12AAAG<vAuhAusHL9tSH4u
(At[uD8r1uAOt&At LMILjHu!4tHHpAH H
tAIE HHe[^_A\A]A^A_]AWAVAUATUWVSHhI$   D$V@uH lR $   L%> Li=   L%   I,$D$HH. L0I+nl$P~2HXGD$W@D$X$   D$\D$VDL$HLD$   D$L HD$V<H@uH@u H   $   HBac\  |$WwGH   D$\DL$XHE1LD$0D$LD$(D$PD$ m L$Pd$V3 QHy5HR
 Hym t%H`L)L{ MHL$ SH 4z@
uH    HI;@uC|$H t&A@   H	 H 8    D$H   DD$HI$I+V rHxrI$18A1HI$I+FAI$   l$ ED$0D$LD$(l HuIFI$McJD()HHI$% K@tWL	 H   u	HHHuHxIHIuQHYtuuHHh[^_]A\A]A^A_VSH(HR  	   d 8 Hu_ HH([^0   H_ tH L Hc H0HN`0HFhH^`HH      HFXH([^S AUATUWVSH(1IMHH7Ht4H.Ht)ILLU 	} tHtHH([^_]A\A]AWAVAUATUWVSH   1H$@     H H$       H$       IH$@  8H@H$@  H$@   AtUPH$@   H      	tHHHLaHDxsHLx  HDXH9vH u   H HcHH$     HL$xD$8   L$8f(  A~IH$   %   = !  tDHy
 IT$@H0HHP  ]  HHrx HHF
 HH  HL$   HL$X   MH$   L$   H  H9L HI L .*  Hl$XH-H$   H  \
     ,9NH)A~H$     ,    HcIHL5 B    HL$x(  H$     !3HL$x  H*L  HL$x  H$     H*%  HL$x  H$     	HL$x  H$     HL$x  H$     1HL$XA HDEt$EA AQwuAED	HHH   Ll$`L+Hl$XHLcH+)~y1OH/ H x uLH-HtH)P'L=\ 1LHL5 MAVt	H9}*  AHt$@~H$     H,HD$@	H[ HL[ L IEtLD$XH    H0HNr HVHH HV6   HL$Xk  H$   H$   HzfHT$XLL$HD$     A   HHw u
D$HD$LH HD$HH *L$HH H(HML$8  L$8H' D$L+D$HH *HML$8  L$8H *L$HH H9   Hh    L$   H$   LL$8  H\$ LL$8D,D$(   HT$`H$   SL$   D$(    E1LL$ L$   D$(    A   LL$ HT$`H$   G*H; L HH   [^_]A\A]A^A_SH HF Hh     H uL[ I: tIH L fA@d  J Hh A@I
HtIH[ E1LH  L@w# 1H [SH HCX u$HKHt H H   H 1H [UHH0  H  H H H H)tHx_uB 7HH H   HBPHtH       1.c  y4A  Y*AWAVAUATUWVSHH   1H:HILl$8> ~     9v   HH: I$H>\uHLHt$8KHT$8BHrFD><-uHFuHD<H<\uLHt$8Ht$8A9lA[  :  E1~xLvALADDD$,f< Ho HHD$   LT$ DxD$(LE'Eo  D$(t$,PLvA
u0   DCA:u
<AttA   DKEB[uAtta   DCA{uPw4C	Au
CSCCX P<wI1Au#P^w0P	v( av< tA	u<v<u=   uA
A   AJA DGu=u(Ft~=u~]tHHyHH[^_]A\A]A^A_AWAVAUATUWVSHhIDHED$    u1  HLaXHt$PHkHD$0HD$LHD$8H|$0H   Lc7LDcN v  _D+_A9   IMt$(LIF0N C  HnN D$   HLD$   D$LHLQ HL$X$D$L		Y   E   ID$HcF4H    HD$(HEpHH   HDHHD$(M    HT$(HN DHD$LO |$L u:x6HL$8ILL4    LupD HL$XI$HEpH< t+:HL$X#D$Lt!9DHPM D$Lu&D$Lt	   H f0Hh[^_]A\A]A^A_AWAVAUATUWVSHhH HD$PH HLL$PH 8euL H H  L| H H  uHL$PA   + H Hc H<H? uH HHE1D$HH?  IH  Hv H 8eHD$XHD$0tRD$G   Lh	tcLt|$H t t	tHL$84Q HL$8HP0 Hj"HT$0LHH   HHL5 )1AE AL A)HL Lr1IM)9 tM1AL,HDDA tDA	t9veM9   |$G tML DH  L!HT$0LJIHuL        L1r1T$8t	    \$8AqH LDT$L"DT$LLl$ H AL HD$8D L\$81BDLHA   O L9uLB!A   HH? rO H!tH DF  AWAVAUATUWVSHXH5R HAHIHZR HFIDDH&[ QH[ 1C'HPH[ M  H+FHI HHZ \$4HZ n  H=[    H R H=, H|$(h   uHp  HHD$(D$0    IH[ HD$({HD$ tH H H`HD$ LcSE1N4HcCHI9  A>LuInD] HL$ HDD\$8H   D$0	uD\$8H
, E1D{HAM9u	E   A    X HY LxIHHY ulHcCHHD$8LL9|$8vVA?uIoDu HL$ D
Ht2DH+ HuEtL}E1L}Dd$4ILIH|$0HuIA? t   W HY LxHHY HX H=, Ld$@H- H     HX H5X HX H  L?Ab u)HN <\uA{ tHHKHXHHuHX HNE11H0 H5qX   w<[t)D<t<u<SHCt(HtH; tHK]   Hu
H|AGXL5X AGXHNE1    HHc  IL$H)* E1LEHHD$@  HL$@K H9^tHK   HW I9H     I1HHtH 6n IHHtHHgW H6   =V HNW HpHH@W H9W H     H#W HtIMHIE  HX[^_]A\A]A^A_UHHp  U V H V  H H HPPH@XHH Ht*H HHHJPH PXPXt'1H HBP UE1A   1 @\ts; V  H] H1A   HHM H    HH)M H@Hp  ]AWAVAUATUWVSH   ELIHIHDM1Att<*tb<?t^<[u1A~!INtIN9\HuH/t5t1x]HHt+1<\u
1A~ HcA</uulI|11   MtuME  A?\u
A tIAIIAD$uHHT$HM   H<?  1LL9v&8\u	x tHHP IAD$H9vHA$ HMHg I)ELD$(HDN HD$ H:  A> A   LD$(tHcA E1Mt?\HuHG LL)D$(D)HD$0HZ L8AG\tHL$ E      HL$ }Htx.u|$(.uArLxHELAA3  uLLEt1H>{H  /HH)DHFD A   9Fs A  DL$<IU+ DfDL$<HALHLd$0L&Hc\ADH   [^_]A\A]A^A_ATUWVSH 1H=J    HH| t<nDHH-J     9rH] @D@Ht_AA!=   H5HPHu'H  HH,  HHtB	!BEH
 HH] Hu
E1Q 1H [^_]A\VSH(H H5 Ht  Hz HBHtHHH8 tH }; HSuHH " H H   UWVSH8HH|$ H   H|$(HD$     <   <~
<   $HKA
   HHD$ H@HC    HKH   A   HHD$ HuH |^HpH@  u{u1A
   HUE 8 u	xk >-u~ u	CH 5 H[H8[^_]VSH(QHv   Pb uCHKpHtCPHcH-HtHCp{H t
HH{8 tHUc H([^VSH(LcHH1L' HH([^G.UWVSH(Hz uVH-C H`" HHt[HH 8 Ht H 8 Ht  HH  HHZHHK H   H; u1H([^_]UWVSH(H5 HH   uHH H       H- AH1IHu=HHJ H     D  tu@ur9s   (-  HvHH&  
   H([^_]SH 9+uH
   	HB 8 tHH  HH [SH0HT HH{    C DKH|    DC4D$ HKCH   C0   HAH     QHC    K8$C K<C HK@9 t\ HK@HC@    C0    H0[AWAVAUATUWVSH  1LYLaHq Dy`H$      HH=  u1A9~AH  1  HH=   u$  HL   HHI9u1A9~"EB  B  HAHDE1    H91A   DHAAMcB	H=   uEW@A   DDDAIAH	DH!E9uICD$@   HD$X11A   A9~,EAHDAE+D$@yDHHAD$<    D$4Dt$4   ADDAHADt;t	AA DH<tA   DDDHtAAFD$DA9  D   AHADu5t H< tA   DHuCD$4A91  A9D$DD$L    D$8   D$lC$  ICHD$PD$8D$,H  DllD)	   A9k  EHhEHA9IcHA<HPLT$XM9|EHMC;<vEDA	HIcHA<HPLT$PM9}A	HA9~   EHMC;<vEDiD$L     1%  D$LIctHcu	AD- HADEDl$(Icl$0I;|$0v
IAD)uHcL$(D$(IDDD	H~HcL$0IDL$0DT$HG9u#LcOE
D	DL$HE
H;|$0
   9D$(   |$, tD$,D$8RHcD$DA   9D$4|%EGD9tDHc	<HDD$<D)DD$<d$@D;|$@||$< 1E1A9   IcLHAB  uLLcB  AHADDL$HD
DL$(+T$(AD$HD)9OLA)ADb D$HAA)AD+T$0E9DT$0EODD)D@}b DT$0+|$(D)D))9HcL$,HcT$8~  Dl  Dl  DllD$8D$,H  [^_]A\A]A^A_      VSH(Ht;     v; H9t
H	H([^UWVSH81HD$pLD$pLL$xHD$(vRHcL$pHD$xHD$(HR2 H
Hc9~
x19~<7 tt
HH/H8[^_]WVSE11E1K4MBIIFDDE9}IqIXIA tF;IHDEk&DB	IH ua1kDDHH u[^_E11F
EDB	II ua1kDDHH u1ADE E1E!E1DHH uAWAVAUATUWVSH(L-i D$   HHEIcA9   HTH/ D Ae s
	    E11HD H+DL9~\H
uHv H([^_]A\A]A^A_ HG	uAe 
s     @u	z IHXH([^_]A\A]A^A_ATUWVSH HHEHEHW   Wt=<,t;t6tP	wtuXk
\   MH [^_]A\SH Hs C H [1	H(H 7 HH0t	tHI x WVSH H HH`IHH   	HuH w
   H:> @8Ht
w	t
  Hu
)  HH+  tL7 IHHH` H [^_AUATUWVSH(   H Bf% f= @IHDu'St H19~DHD;t1   9k~uL   J9k|HKILAt{  tL Gf% f= @u9kttAu   H([^_]A\A]UWVSH(HHLEu#N    WHAtftBf% f= uZHH mH7 uAH  u
t)f9wt#  DsAHH LH    H 1 uHwH([^_]UWVSH   Bf% HLf= u9HT$(M tH= 1 ukH^waD$8   f% f= @tNH"  H- HHuH  uHwE
1H]0HZs  H   H   [^_]AWAVAUATUWVSH   H H(Lm HuI @  HE: AyE   H3   HT$86 y
H3 D$Hf% f= tHHa A3    H|$`H~M9M|$,MCLcL9IGHT^ MDL<L/  yHd3 KT/E1LD] D9~@119~A<
uHHcE1KT/L] 9|$,~HHXa 2 D4 Et   H3 xD$HuMH   [^_]A\A]A^A_SH   H3 t1#HT$(HyK uD$8f% f= H[WVSH AHH1Y H@w(H AHH0HG NLL^FH [^_ATUWVSH ILHuH
` j1 cA  A  7 xJL)LLc}.  1H19~A<
uHHc9    Ee3 H [^_]A\VSH   H  j t`HT$(H6 uOD$8f% f= uAHHm ( A   HHH4H    HH   [^H   [^SH   o H'j  Hu=l    Q H [&l  A H HH *!NbHHHWVSH HLD9   CD9C@riLC8I?  vA?  HC0KDL$XHP( DL$XCDH HH   HS8Hx	H)HS8C@   CDS@HK0HC@	eH [^_WVSH0HR H@   H  tm9srhHSHE1E1HHD$     x u@D   H   Et	Ic9tt$  n Hc   H   J   4H0[^_AWAVAUATUWVSH81L%O H   Ll$ & HLt$(HH ' fC9   HcLMHh HT$(AH   Hr   	wqHT$ IcLH fTH fCFA   6A   .A   &A   A	   A   A   A   Hw HL$(DHL$ 8sH@ K 9uH_   ;SA    HcHn HH H<H (   H H8[^_]A\A]A^A_WVL   HrH   L)IHJO   H)LH9HGH2HHBI   HI   1I;   uI       ^_ATUWVSH    AL A  IDCA     {    CAD)   =     HC    1H   Hk   HKk   k   f   Af fAD!f   HH   u1fQAf fAD!fQHH   uDD)D{ -KCHHKPv	CCH [^_]A\HA(H8 H(HA(HIH<
  HH(WVSH @HA(HHHI
  H   HC(.   HH   HpH= Hu	HbA  nH% Hu	HG  RH Hu	H:G  6H Hyu	HG  H H]uHG  H   1H [^_VSH(HA(H0HHIHd	  HuHK1HtHJ	  HH([^ATUWVSH   HA(HHHHIH  H  1H70       Ld$  HD$h    HH#EgHD$pHvT2HD$xH HD$`A   H ~LcHLHL" + HHH# A   HHH}tHy IHHKHOH  Hu(IHHM   H_(Hb H= HH
1H   [^_]A\H(HA(HIH  HH(SH ~H LEAA9}Hd aE1iA9 IA0A   IAEMQA9tHD   9~MQ0A   EC9}MQ8MAA9|MRAA9LH [AUATUWVSH(YIcD)IHLdD)IcxHDCU LMcHHt-IHHuID)HL)Lf)H([^_]A\A]AVUWVSH H? H=   IH_HLHlyH   uL19s+1L8L uHuAHIIXuH [^_]A^H8HE A   A(   H HD$ HH8AWAVAUATUWVSH   H/   HDL$  Hu\   HHt7@Gt"HBHuHT$XHd? @     Hm* H$  E1H  HH9AtH Hu(1H[HHt2P   t       Eu{ "  1E1HIHt+H    @t@   =l/    Hx )W  D$ Ht{ t{+/ tCD$ H$  D$$   AHD$(HD$XHD$0HL$(H IH  LA0 L6 MtCLH LD$8; LD$8HtM  @uHB L HtA$</t<\t a<wA|$:uD9t$ |b  L4HT$0Lw= y/y% 85j% 8&[%  D$$D$hf% f=    H=5  taLHHH    L 1n 1HDHHtxtMHHW =LL/   Eu Dw  H HBXBX   HH@ Dp   D$$   KHt
Et@tI1H Ht;xu5H Ht$HE1LD$@H\$@   HD$P    HHrL$$Hm HHh I<Eu	Lo@H HBXBX   H@HLhV  CC HCHGH   [^_]A\A]A^A_AUATUWVSH(L-X HIHHtr;   HHHt  ; uLHL4HHt;HHnHHtHHHstH7HHHH([^_]A\A]VSHHHH K& Ht/H HT$8HHHD$8HHD$(HD$(HH[^SH HT H H ~HS H [VSH(HHHtHKE1HP  tHHH([^VSH8  HHHtmHC1t/uHHD$,E1HFEt)I  tA/utHDHIH    HKE1  tHHH8  [^ATUWVSH   H 	   1L%V HC$ x  CC C#HHzHrHt6?-u1Gt*<-u u
H~HrLHOH| tH    HoV H7S  tK#DtK#BH>1HHt-t!t(ux tHuH%V H   HHcL$L HCI$    {! t?kH    Hl$81L HH~HtHX8 u
HT$88HH=HHt.S#D$(    IIHD$     5t uK"HHkL%|  HH}Ht7H7HtL9&tH~0 t1HT~ tt1   
C"C"H   [^_]A\WVSH1HT$(Hz7     a<w{:t411H51 u1tHHHtHuW1H a<wB1{:u0. H5R. f
. : - Cf- \ - H1HH[^_AVAUATUWVSH`1L- L% Ht$'HHMt A   HLt6HMLH HHH   uIHHR F UH HH`[^_]A\A]A^VSH(HH9I FH*I H)HcD
 H    L HHcMHI9wI9@vDA8uE8uu1H([^ATUWVSH 11I   e HH! Hc HH    Ht4HNXA   LpuAH   HF4HH    HH [^_]A\VSH(, E1H- HD9~IH09Pt_Au
HcHk0H9HuE1>Hh- L0 MM  L.I0M9uo, LtLH([^AWAVAUATUWVSH(H) H0LfAIIHP zHt6LA   e~,HHD9~M AHHB  HP 1Ht%4   HM H   4H^H>H9vwD{AG<t<w	<t<wSAHQH ! 8 tH=H ! 8 t*AG<	vA AaAwP	v a<vHH^HFH9s8
uHHFH~LdHO SHtLH<3gbH^4HO LLHtLLPdH3abH~H9ws!HHHHTO HH	HHHHH9r
8
t	H1   I>I] LfH([^_]A\A]A^A_H8H  A   A   H*E HD$ H8SH HIMMtIKH tMLH [VSH(H HH{@ tfK8tS<E1fQK8 K< HK@9 t2h HHHD HK@$ HlHK@cHC@    HC8H([^UWVSH(H5 H   HH  HHtHVHA
   I HH([^_]AWAVAUATUWVSH(H- H] *  *  IEH     ~vH(  rvHu $  H   L  Hx   HP  >vL5w    B0Aff   uHHuA   *  AEDG@D*  *  P
*  
9FA9woMtj   D1 a	g HU BH9t'D@HJDBEDz @  u  H        9r"AL$    H  Hl     AL$   1[ L     D$  A =    1 AM   # B6HE Hf      A9}Hu DH   Hx   Hx  H  <  EtH([^_]A\A]A^A_]`H([^_]A\A]A^A_SH HT HDCEtHS   
 C    H [H(H5 HBXBXH(  WVSH@)t$0$    Hf(t-L,I*f.zu(t$0HcLT H@[^_ L0@tH8 uHbT LD$(LD$(HtD,(t$0HcHH@[^_x H0T LD$(Ht%f(fI~HcHLD$((t$0H@[^_; H , HHH LL$hLAAXAAXLL$hLL$8 D$,  D$,HHEE1  AWAVAUATUWVSHHHe HLD$8He HD$8HF  HL$8A'      D$,H Hc H4H> uHve HH11H  IH'  E1E1L    A  uHA    HDEIA)
uAWH DD[
A;D$,vEuAHa AW tfxb< t<	tDjHDE)q 
    DEHHE1SE1E9eBD	AIA
AWHE1E1 5EtDH LOtHT@HH> @H::  SH0Hs HuHHD$(THD$(H0[H8HL$(m HL$(H H9t9-uy tH9 H8H8H(Hu H @X    @\t_ H(UWVSH8HHx"  IHTk HP HHVk ? ALj H1HD$     H uHHd QHH8[^_]p SH A   HcHIr KHS CHH [VSH(    H{   H @HX HH([^   VSH(H(   k )   H   tH([^L H([^Hi PIHHHB SH0<   AD1AMcAA  wT$ L dA  D1AAAQ wD1L ET$ 3AQ D1AAA w(A   D1AL T$ L1 H0[L LH0[ VSH(HHt$1HHt	HH([^H([^UWVSH(H9 HuHK11O1H9svHHHP  uHHHC0Hu!HC8Hu$HC(Hu'HHH9{w$HL0WHL0KHL0?HK(4HK0+HK8"HH{@ u%HK@
H   HH([^_]1H1HHk@HM9} ~HH   H9   sWVSH HHt31HN9~$HHHHL9{HFHL8mf1H [^_VSH(HHt/1CHK9vHH0)HH([^H([^SH HHI HK0HC8HSH9tHHHK8HKHKHHK@HH [SH H H{P t(CXHKPtCXHleHCP    H [H(B0%  u	HJ(.1H(VSH(AHtHAH1HI HK H HH([^Ht		y UWVSH(H- HU BXHBXq(Hy xHE HOH`H9ta H HK H9tM H c-HHJ0H9t	HB0HHH([^_]  VSH(At(HqHHHtH HH([^ H([^SH 9Hu	HIHH [UWVSH(H Hs9~HcHTQHKSHcH$ DCHcHCA9~HHH   HD    HKHH V9k{H([^_]SH q HHu"  	   ?H u.E t%H
 u
        1H [UWVSH(HH[ H<  H Hc HH; uK1HA  1O t!=tHLU    HH; uH([^_]H(L IA(IQ^wH  H Mu
L LI(H fAATUWVSHHH HHZ A9  H" =   tC$    ?-u uC$       {$ t`HT$(Hw! yH
 GILD$PM
C$    E1{$ t)H HK(1HK(  =^  tC$    HH   =   ~H u{$H  	 Dj H[^_]A\UWVSH(HH} ;-u1{ t1Hd HH   }t=   tH ;H([^_] WVSH HHLHtaHuH IIHx H: H  t IIH HH` HA   1HH H= HCc HHC`0<	w{c uA   1HCc HK` Cc H [^_WVSH H {  HItIHT$HHHM >LL$HHt8H/ MHKIHBHDG HKNHKA   1H=	 Hs(HH/LC  HHu1C(0<	w{+ uHKA   1HK(C+  C+ H [^_WVSHPH H H=L IHD$HH HH HH xgHsHDHS HHS HCHC$HD$8HC HD$0HD$HHD$(HCHD$ 8  HL$H   Ho Hc H4@HA    {  HCtHH  HH I HK H HCHu1wE111=   u;HH =   t3=K  u#HSH =   tH H 1H HVHNHHDHP[^_SH 9 HunC% CCDiSf D A_n<DSyA  DKSDB    D1AAA1A1D1A9uAwC1SSCE)DH [UWVSH(1HLHt(IHl Hy	HHDtHHH)HH([^_]UWVSH(1HLHt&IH Hy	HHDHHH)HH([^_]SH HH   IH [SH HH   IH [^UWVSH(Ah4HL 7  H  HS 9tI1  HHuHWXDCHMcH([^_]p BIPXLca SH Bf% Hf= @u9.uy tH q yHuD   H [L A@0EA(A1Aq$DA)WVSH HIH(LHtME@0   HcS0HC(JH<K0H HH_S4D	H C4;B$r1HHH [^_6   H [^_H(    H(VSH(HH APHL>    DCHMcHH([^ I@H9BAHRA@+t-u999SH 1HLD$@ LD$@H+C8HA@AkP<<+u	H;H9<-uH91H9|H;H9H [SH 1HLD$@ LD$@H+C8HA@AiPQ <+uHQ H9<-uH91H9|HQ H9H [VSH(LD$PHm.LD$P8 Hu=H9t"{/HCuHHHH9tx/u{ tHtH HH1AxIHHAHt/H([^HB8I9@HIHIH^H(AxHIHAH(AHBfAPAAA+uf-u!f%f9EH4AH*} EH8AH
} H(    H(H(E1HH*     H(   H(H H"SH@D$     HLL$8IHHA   h 1D$8uHcD$<1< H@[AHHR(I@+uH9-uH9H9Ly A@,A@(A1Ar$DAB%   A;@VSH(HH APDLC 	  DCHMcHH([^ H(HE E1L1LL$fEx  EfEHHuE1D9|AFTEt1McBLDXfFLE1AAE	AufFEIH(ATUWVSH   11Hq8    t	  HH=   u   1DBA9|      H19~HDY`E11E1HE9~6McFAyEHy@McFF	  D8$u   t>   ALaHIcDEfA<lH  xAtO$@|$D$HCA8tH@(@8H)HyHIcD$D`HAfD$o  1A:HAHMcDRHcAfFH  D   H   [^_]A\AWAVAUATUWVSHXH- HALLE tH      H L= E1L5Lj      E HD$LIIHD$ HDtnnAE A   A?   A:   uAu+HcD$LHj HH HcD$LH| tBAuIHDHj DD$<| DD$<HDHGx:=H HHID2 H@j H4 A   uEH&j H=j  H HHt2 HH 
   :DHX[^_]A\A]A^A_QQAWAVAUATUWVSH8  H-f 111IIIM I <'t4w	<$t   <.t	</tP   I H  H @I   AAavH4 y0   HU IDL   IAHt$1HHHD$(2/   H-L
1 Ht  LL$(HH)IIHLL$(D@* tnLL$('0<	vAu T1AJ	wk
ID@tL I <+t<-uII@@II1AE A$E1LH8  [^_]A\A]A^A_VSH8A   HcHT$(H HnHT$(t0xHYP a/1HH9tHHH8[^ATUWVSH0HPHMHL$(	wHT$(A
      <$uHAHD$(   </t<\   /   <\uHCKHD$(HD$(HxHH|$(7a  H- Hct<H8   H HI$DEH   I$ H!H   I$H    uH. <.HHt$(HD$(H)H0[^_]A\AVAUATUWVSH@  IL1A   HHp  Mu(H$8  A  HHOtHC$ILl$8LL$4A   HL5u1  1L$<  HcMtCD$4H9s7IT A  MHuHL#LH uD$4H9tL% 1H$<   LIHH)IHT8A   HD$     L- ALLLHI.L)H|8IHHA   HD$     AH$    H,HHH HH@  [^_]A\A]A^ATUWVSH 1A1H9~rC9Cu.HSKA    CHKPRC    C~D)1!HcSHKDBDC	C)C   3!	H [^_]A\H(H=  u   H H : u1A  K Hp AHd H(UWVSH(HcYHH	L19~HHHH98uH@CA   HF H<HA   HHH HHCH([^_]H(MI)I Bv.=   tDPM9|=   wBuDJHDHHAI)M9|HH(WVSH@Hd    HD$(Hd HHD$0Hd HD$8Ht=A   Hc u'1HHT(HtHHu   H@[^_UWVSHh  IHH1`    H-o  uIHT$ H Ht5T$ HHT$$HVHT$,HVHT$4HVHT$<HVI i!w    sXtS   &   ot?{t$      E(H   HvD</t<\u	   1Hh  [^_]H(AHtA   u9AA,LD$@tLL$H+  LD$@LL$HA A      H(ATUWVSH`A<   Hy(HHt$$IH <  |$$
u1HVA;   HgKHT$#A    D$#HCPD$_HCP<|$^`u|$_
tHH   HN0A
   
   ( |$$/HouVD$%< u
H3</u@   H   M KIH   Hs HkPH   HN(A      >( HN"A   
   fG &( HNA   
   G( HNA   
   G' |$$/HG(u;HNA   
   ' 9   wHG &H   H"    H3 HH7HG HH Su)HS8H   HtH   tHS@HHWHSPE1HSPK  1H`[^_]A\ATUWVSH      Hq(HH$   KAn   HD$t  HG nu.HCPnHH H  Ht$   1<vHH %H$   HMHD$XH$   LL$|HD$PH$   LD$xHD$HHD$tHH HD$@HD$hHD$8H$   HD$0HD$lHD$(HD$pHD$ hHH 
uD$|fF CxtD$pC|tD$lD$p$   FD$l  $   FD$hHcHF(D$tHF< KLc$   HH H9/uHH:/t~: Hc$   HCP   H%HHK uHCPH  H	HCp(  F HF    f% f= u9HN  HNH KLFHFH HFHCPHF    $   ~}F f% f= upHc$   H u HHD$xHMED$|ED$hED$pED$lE{|$t uH   H   HE ^H   H   HE HF0    SHuS@HS8HFHCPHNHHF    H    1   HNE1HH   H   HE    HH   DHcEHF(HEHEfF EFEFH   Ht/}9xu"HHHFSuHS@H)H HSuHS@H   HE H   THH   H   HuH   [^_]A\AWAVAUATUWVSHH  Hq(H   HHl$@KA   D$@    HHuH{P uHC !  =   t!KA   Hc  H      HCP   D$@
$  u1H{` u*{\ tKA   HH=   tC\(  C\ L  H0C LB|  HuCA   HC L]$K1 t	HB eHCP    1A   T HAH=   u   T HAH=   uH      $   .A9tHB  $   t9D$  HQ     HI     F0    D$  u0   GHF    AH{h u$Et$    tH   d    HFH      HM|   HF(qHMt   HF_HMl   FNHMd   F=H    f%H{` fF u;Et6$   $    tHY  H$4   	H H6   #2ty0tU1tHZ  4t~   nL  7t.K  /  gtkxtfV    fN  #H/   #  Hu.fN     fN  HF      fN   fN  0fN  @fN  LvI g  A  E M' KIHI HD$8HkPHD$(C4 ME   HT$(A
   L)A)AD	xEuHL@     8uHl$8}  uDIAF gtL}H4@ Lx  HtHK`tHMC HC`jH@ Lx  HRHKhAHM
 HCh7L'HK`HFHH HC`HKhHFHH HChKLFHU HFHCP"H? HFH  H H{PH	HKA   HH HX? HC`HtHHC`    HChHtHFHCh    H HH2 H/     HHSu6HS8Ht HS@H{ uH{ u#sHHK I  HHHFHCPHN1HH  [^_]A\A]A^A_SH H H< HAHHI>HCP    HtH [SH H Hl< HAHHIHCP    H~tH [SH H HB= HAHHIHCP    H>tH [SH HD H< HAHHI~HCP    HtH [ATUWVSH H  $ L%N H0H  HHHFH      H HhC  wHrXVt9t
tuLHc    ~-P   wHc  Hc   $1> HH [^_]A\AVAUATUWVSH HzHHDuHz uA    HD% E1AFTEEt}1A   E1EE9vcEMct!LAtIDIHA8t=Aw)F4IcIA	AtA	HAtAvD4AEuAtE)MuDA   cIusHcH	tvyIcA9}LH	tvUt9OAUt	t29OHcDHD9M)r 
HsJH1t9DBAt!AvDBA	vAA AaAw	LcBHH s,I1AHcHtDA A^wI  s 1HtD@Aw HH [^_]A\A]A^WVSH& A   E1H=V XHpL9vDLDHHcDDEEt1DAAtD1AAID[^_VSH   HT$(H  u) 8tHHX; \$8H   [^AWAVAUATUWVSH     Hi@H   HA    HC4AEr uP8   AYA1   YS&      Hq     HrD$(9CH=     HE11SAAs2   H<sIcA@  VtE   ~   HD$$  19D$$~   H   HD$,  L$   E1M~D9l$,~Q1   Ht;t$$d  Hc   Ht
B0AB+X  I$   D$$HT  El$L$  Hi  HHD$0      HLD$8LD$8   AGICD0E9   $     HcEA9   D9IOHA9  LNHE1  A9   1EHBD\A9HNTIE1HL$81D9   DD\DBLHD$8H      H9t$0      H9E1DxA  E|Ic:AD    E1D\    G<0E9uMcAG   IE9HBL\FT\AD)EADCLC?AE)G|TI1         HH=   uHX  E11E1HD$0L$   D9|$,'B;X  ;D$$Li  Ll$0A1   MUPA  )yTHcK;Ku(HLD$HLT$@D\$8D\$8LT$@LD$H<DISDKLKA		SCA   AD!Ic  L    HA9D|A  )VC+
=  CHA   w&Eu1A   DD9sH   E   Et6>;SH$   D  B  L)xD A9|]9sHHc   A   Hu  $   E1H  D A{I?H$  H$  1D HADH9u19v*L AHALc  LF	L   t%;t$(D$(D C(   S0C$s,1H  [^_]A\A]A^A_SH H4 H tH9H}k HBB#1H [ATUWVSH0IH+H HcC,;C0   Hs@Hu>HS8H< H;= Ht H_ H5HHu	C(   Hs@HT$(HHHteHD$(HT@:@
@ttg { u!tHD$(@
HvTHD8uJ  E@u@Ht0H'HHC@    C,@1@@HA<$H0[^_]A\UWVSH8HH<.uH HL IH   <'uJAPw aH<   H H
H  H   H	y   </ufHy/   H- HHHH) ;/HuHHz A   HH(HMuSHtHM HHrL<$u%H= HL I@HH HIa0<	wILL$,H HcD$,HHH8[^_]SH0H H{v uJH   Ht4HPH    u]H   H       H       H0[  HcSx~~H7 D$,C D$,JKxp  H0[VSH(H5 Htx tg HH1H([^VSH(Ax HLu)1A   ; HtHH HC   H; u  (   HH([^WVSH HV HH Hz`    I     H`IEAI2wLHHEA AJIHwEItA:tH5V A   @
HtH t
1HH [^_HcHkH= H8 upUWVSH(1A
   HvLA   H H uHH-r H= 1HHuHuH([^_]UWVSH8H1    H=H4 H H8 RH9t HHHHHHHH4 H HHvk HD$,D$,H8[^_]AWAVAUATUWVSHH$   DL$ IMED$0   IPHt$(EHE P   AoEe    9C||mH   HHtHk   HHuH   0      HcS|Hc   H   HkHkH1H   HcK|H   HHk~LDA;puA@H1D9hD)D0pD`fHS|@ 9   }   AwHA+U HH[^_]A\A]A^A_cHH[^_]A\A]A^A_H8E1HT$,   D$,H8UWVSH8   HLT  D$(    LD$(V`  u1f|$( @Ht8HZ \$(  Hu
H1eP.u     CE Ht8HZ f\$*C  Hu
H1'P.u  P   CH8[^_]UATWVSHH :   HHHt/HII)McI@H5.H)HH|$ HHa 1A
   HL%4 A8 u= 	  Htx,= Hy	  Hu15H@(Hu    Ht 1HA
   A8 uO H[^_A\]H8H=  D$,d   ud   ` H H 9 u.HT$,F 1tH Ht u _HHH8VSH(H& 8 tHHP 1TH([^WVSH H=6 H5gX HcHt	H   uGG
wHcHH+H"HHHHHJ| HBxR D@HW J HH [^_SH uHt@ H7   t1HtH HtH>  H H H H H  H H [AWAVAUATUWVSH(1H9H2IIMLt/LsI9rHHHHt0@H H@,L
uHHt HI} I4$H([^_]A\A]A^A_WVSH0H5. HHT$(A
   H     TBHH 8 uHL$(H9t
T 8 tH H HH0[^_H8LD$PE1LL$XLL$PLL$(a H8H8LL$XLL$XLL$(a H8AWAVAUATUWVSHxHD$h    HH? HD$`    HD$P      HsHuH   H=  1~  >-   H   HD$XL|$PHE1HD$(HD$`LL$hL|$0L H3? HD$ 1AH|$P    Ag  A   Hy H|$h    HcHHT$hH  H>    Hx H> H@H UHKE1IHHC  LE1  H> H#HMuFHDH"   PHc<:uLA   u0Hc u:HG> E1AHHHI| u|:uPA   E1EL   IcDL$LHA DL$LHHIDOG   * HH= 1YH6Ht$XH= H}HK< HfH= HtH= H|uHaw    .HHs= HT$`HuHHcLD$hMHH)   Hx[^_]A\A]A^A_AUATUWVSH8H@ cH| D@u0HxNHzD9sH   HpLchLbD$/ HjX@LIJt/~y
HHt/HN9HcHFt8 t7:-uJHBuHp@    ?%= J  J4/-uz tLhH
8   ugH9@ .  Ht80ux t} :uHT$.H@ \$.s     DH? HH`T H? <    z:HJu	HxHpz:   x HurHurH?   Ht80ux t} :uHT$.Hq? \$.E1 :kX DHr? E1HH` H=? ; 1?>I9uHILH? 1 E1HJq H? HH`g 1HH)HHA@   H
? Hj HT$.L\$.) MtD+VH PxH8[^_]A\A]SH Hp HC   HY  tHV u   CCH [SH HHtHH  tH8 Hu1H [   1H [VSH8  u^H=  u3  Ht$(   HH  H Ht H#8 H& H H0      t1   H HtH=;  D$$  u  g H  H : uNR    LD$(HG H t*LD$$HL$( HL$(9 H H6H H25  Hc HT Hi     o HL H5 H8  [^H(  (   H(LA A(Hn HH	ID Pyo tuH I9wP   uSH@  4    HLD$8) tIHD$0A   LD$4D$0   HD$    HL$8 t|$4  HL$8 H@[SH0H  uWHQHA    HT$(Ht6: t1HL$(
  #	Cs!HL$( HD$(8 t#   CH0[H(wWf/rH,W` H,H(VSHH%  HuPHp YH0\$8HNHN\$8D$    I   HN    HCHCHuH HH[^SH dHtH HuH [P H [H(HEp 1H H0a Hy H( VSH(Hp H    SHSHHcH9Hs4HcHSHHH;rt0;KsH{( ~ ~HcHH9quH([^WVSH H=o H7@   t~    I9   H~( ~        t>H   9    H   H   Hc   1H [^_H#N H [^_ H [^_H( H x tx t
   H(H(AWAVAUATUWVSHX1H$   D$8    D$<    D$4    H$    H=:n HHQ  Hk Lh(M  I]@   IL3t6LMHHD$@A?   LD$@LL! tILLIHe  sM9T  HDA<    F  L9t&AGP	w	Mgd av<_tHA  P	v av<_   CHLcuHLCHHi D@3 HC@    I1Ls@D$ MA   LL*    s{@ utHcCDA< twgsoHcC@I9wtADP	v av<_tHcCDAP	v av<_u#HcCDtI   ^Mm $E1AL-(i D$4E8e  D7A  t0HAt1AD$<   d  IM0V  D$<AsD$<A9E   A   Hh HD$8|$8 uAuHh h   (  H{h HLBI< tDt$4l$8A)HcI< uEAL-Dh IELcJHtDA-   Ar IEJIEJ    EA}@uHCLk@HD$HsE   A:   T$4H   T$4HA:   >r E   |$@HL$HE&MA D$    A   DHH(    D{@D{DCDK@L4I)E&D$@A tT$4A:   Hq LtT$4A-   Hq 2A} t+Lcd$8IEJIEJ4D$81A}T$8Hz'Hf t$<90 t-Hf x	 tHP0H +| T$<H | sHf HH0| D$<HX[^_]A\A]A^A_AWAVAUATUWVSH   HVj H?f LG  LK(HD$XH\$(HH5 HD$@HCHHD$8HCHD$0HD$`HD$H    HD$ HD$`    srT$XSrT$XS%  H5h t&HC    &C~=~CHcKH HCH{(CHtLgP    L HGH?&   HL$`Lk(HtNHyL1H HH IHtP   z LL Hn  HLH{( u$P   L H  HK(HHn  sHc H:fu@   uC   :etsKtKHg H{( Hc H| u*H/HuP   H HK(H(H)n  H? tH tC	sC		sC	 L-W 1L|$hL5T HHC0AHK0IHt9-uy u	Ls0   &s\Le  uPD$xf% f= @uB&	rC	HD$\HK0E1D$(    HD$ L9   D$\    7 l$\7HK0IHuu	HK0C
LL}H? tHH? ){
    u1H   [^_]A\A]A^A_ATUWVSH Hob H*LeK$I9vHHx sHwHHE HuHHH9uWHM H9tNH8b HAXAXH*HSHM H1 H0HE HHEHH]HEH [^_]A\=  Hi LHHEH]H [^_]A\VSH(Ha H0H^HFHH([^SH L HH&& HHa Hd HHc zcuHd 
  HE1L  H H [\WVSH H+  H Hd HhHLe H8 Hf`tHH [^_Au@   A   HDH LADCKLDK   CHd  \  @  HCN    HC@    HC2    HC$ HC+~Hdb Ly LfHHc H Hc HH [^_"VSH(H{	   HHCpHKhz t%H9s)HHHRHKp HHH@H@ H9V  {uz u{X   =  {\ 3  C`    1       HH=   u   C	{	ZHB   LcC`D;Cd   HBSX0C\9tBuG   L   1A3      HC@B sXC`*=   t
   wHIsXC\   C\HH@HX{t(u${X   wH1{HCX   
sd9s`|1H9C	iaH([^VSH(Ht6PHC 	wH "    a<v8 u    HH([^AWAVAUATUWVSHh!
H  Ha HH   H9  D,EyHj  DE11E1HK0eHHD$ AHHD$0HD$\HD$8E9   LHHK+HHD$(vIMtHcHt$ HL$0DLHF\ LD$8LHcC+LT$HID\$D LT$HD\$DHHt$(IHIcIcoMtA/ HK`L=r C   H9k`u	C    H9k(u HrH  H9k@uH[Hp  Hl  JH9   uHK  C4H+k,HHcH9~*HH*H   aq Hh[^_]A\A]A^A_SH .   HS     Hu1H   1H [UWVSH(.   H$HHt=HHw/HcHT H-Q HH<HHtHu1   H([^_]AVAUATUWVSH   I$8  `  A  HZ $8  H @<suKH#EgH=L  HD$h    H-l  HD$p   HvT2HD$xH] HD$`,  <1uVH#EgH=r HD$h    H-  HD$p   HvT2HD$xH^ $   HD$`   <2LD$ u LH=r     t H-     <5uBL\ 1L BAH HI@HH(uH=x H-y @   c<3uZ13   L$   H   B=  wtH C   H=u H-v )$       Lt$  HA   HD@ ~LcHLtLH/ 1$HHL$ L AHHH7HEtD  1HH   [^_]A\A]A^ATUWVSH HH  HH   1s
v|CttPSHz` 4BHHz D[LSE1HE9v5OMt'IH(M`   1HD HIP L MILBsHkHchHcH0 HHH(HUH  1sHCHHHV H0kHH [^_]A\SH       @=   H HCHH [UWVSH(HHH:  1sHCH<H7Ht=HN(H	u'H~HH)CHF HH([^_]FH~ H([^_]VSH(IHH  1ApI@HHtHK(HtH[ HH([^AWAVAUATUWVSHHH)   t11u@;  H H|$0H8    H= L%( H H   H9  HLt$0Htx{ umH| DkL{H  HHD$0LL); HH AyH{ MuHV H HD$(L@`HH6(   HH\1H.AHuIH A   HHL  I|$0   DH H HHu@t<u=N  xHH[^_]A\A]A^A_1t
k?Ht=tH'   1HU HHD(AWAVAUATUWVSH   AHJHHt>9-u9A0<	w/AHHE11   9-uHAHU T E11   
   L5Z AMHD~:ntctqtvt@HW HVDHW HcHHH; uH HHA)D9|1vEtH @FD$0    L- D$4HD$8HHD$@Hq HD$XHHD$(H  P H;D$(u
HfT HtHLti EK  @tkHL$8E1i IHL$(h tDCD= EwIAG9uD;t$4uE1EMAji HL$(h tAAL   HL$@E1 IHD$xHD$HHT$HHL$(H   KEoIAG9uHk HD$HHD$xHD$PD9l$4uE1HD$HDM<HP0MLLD$hf HT$PHL$(HHD$`tLD$hALSzHD$`IE1KI:zAE9uL*z-AEt%HL$(g t
t@tAEh HD$XHR HH0HL$(ltHD$0   HL- H; L$0PpH	8h AWAVAUATUWVSH   HHQ(HL$|k $   HDKDCxK HT$h$   D|$|DL$dD$   HkDD$`D$   D$   l  HT$hD|$PHc Dt$HDL$dHT$XDD$`HDl$@Dd$8|$0t$(Hl$ f HSHtHP f 
   H   [^_]A\A]A^A_VSHHHI ~HK(HU P@ H@ PHHVDKDCHD$(HCHL$0H HD$ f HH[^ATUWVSH H H5(g 1H  H- L%   	   LHIy  <v
L1h  HH9t H5KO H=] H-[ IH '  <v
H1  H~ u> u HH0)  1H [^_]A\AUATUWVSH81AX   H H@@@FHN H x 
  D$,C   H] HHZ HHr H|$,euHQ HH|$,fuYHQ HP Ha IL HHt(H t#tHH`H@vLv|$,nuHQ H~ C|$,su%HgQ LO 1IH, HD$,vuC RDL HD D$,~`H tHuH H)HH%H&Y HHcH4Y HH|$,CH{ uHX HbH HSHP Hc Ht @    H> Hu`HlHP	v a<v< tbP	v_ a<vUHtH HHu3HuH~ tNHHHy  HLd$,L- HHMLH$vuL$,b _1kHHH8[^_]A\A]WVSH H5 Ht"1H= 9^~LD(HHb 1H [^_VSH  A    H\$0H$H  HL$H  HHD$(   LD$(HH   H  [^UWVSH   1HH|$`H\$ HA\A6LDL8A9wEB6B\IA?vHHnpe He HHA@   ]IA@   HHLIH   [^_]WVH  L$@  HH|$08   L$H  L$@  HL$0LD$(   H  ^_WVSH HHLHHtHDFHHHHHpb HHAHHHH [^_b AWAVAUATUWVSHX  ID$  L$  D$(      v
   D$(H$  L$     LH     11AH  9u9$  u:0    H$  f@cHf@cHH$      1     A< uHHu   L   D@@EuHtAH$   9r9GH$     9vA+Hd     D)|$LQ  $         11H9t     L$    L1AtDL|AqB  t|H9wD$|    E11E1$       HH$H      D$,    LD$0\$H\$T9w  K   D  D$PIHD$@EG  t$`D   t$8D;d$TF  |$H   D)D9v<H$  D)D)D
HT$@AA9EFA9vHDA9sD)A<;D$(vD;d$(s|$(D)   LT$hL$   DD$dD$,A<   D$,LL$XHHe |$`DD$dL$H  HPHD$8LT$hH$  HHP  tMLL$XDIAD   AA   AAE!AD)LIMIQIIHD$8HEHH$  HD$0ActCHD$0;$  s   fAAA H$  +$  DH$  fDHL$H   DAE)D)D;t$,s"ELLIHHL1LQL$PEA1A!EtHcD$8L\$|D   HcHD!A;Lt
D   AHy$   H$  |$L 1!   HX  [^_]A\A]A^A_SH HHtHKH[mH [H(L    HL$0HE LD$0* H HlHE H(SH HsH[u,HCHCH [VSH8HD$pHHD$ H	SHSH HH8[^AWAVAUATUWVSH8HE E11E1HHD$(L-G HX0ML, Htsltct\ft7jot;tt0^H_ H5	, HHSH_  H	Z M'Iu IM H, w HA   wMtHuEtHH^, s H    L5 IAIU L       t6IUXH  t&HU MuIEHS IEMm It
LSkH+ /HF Hc09t%G9uHL H+ lt	L=+ ;HT$(IL] -HL LHv ILIH] L)k9IM AUAULjA1H8[^_]A\A]A^A_AWAVAUATUWVSH8H)B H 8gHuH HHE 0HS HHE Hc L4Mt*LHuLHS Dh(x,EAAt@uI	  H DV H EK 	E9tH DV 	H 9u1K 9tH K 	   L|$,rv MLIID$,@   y$HcT$,LH{ MLII|$, ~?E1H L= CL t9t9tL~J H 	ID9t$,tH8 [EEE1@t1DU @t1,J 	
   9_VSH(HLL)  Ht,HgH	<t<wq HH([^} HH([^VSH(HB HHt.H@ HBXBXH1 HHuH      HB H     H([^SH H HXH [T WVSH 1HH; t HH!itHfH\H [^_ATUWVSH HHIpfHcu;1; t1ILHDfu<+ tuH2fH\H [^_]A\VSH(AyAE11FEDEt_Ex$A]uOACA9tFAE9u)B|^DE1uA\tAuA[tA9u'A1
   EIH* H([^SH HBHHIDC H)H   H
H C H [SH HA H @uH H [j^ H ^^    d ] HA\d   H H '^    H [( AWAVAUATUWVSHh  A   A,HHt$\Q(HID$\bIHL$\A   bD$\S(D@DD$\DC,   t    DEHt$`A   A)HDD$`IvbIHl$`A   Xb9  |$`      CO      g  1Ht$p   HH=   u	   HH=   u   HH=  uLxo A  HH      H$     H$  H$  H$  HD$lHD$0HC`HD$(Hfo HD$ D$l   T1   HHuHD$hE1   HHD$0HChLn HD$(Hfn HD$ D$h   %  Hl$dA   A   HDD$dI`IHl$dA   `IHl$dAA     AAt$t$H`l$d    |$H  L=Q E1DhMHA   Id`C7Il$dLpE9wDtAHDp    L{`HD$lE1HD$     HD$0Lt$p   A   L|$(LD$l   &  D$HT$lE1E1D$DH(z PD$LDL$lHI_T$L!HHS`J)L$dBwDAADp   uHA   IHa_l$dAT;T$D  D9tDADlp   uFA   IH_l$dAT;T$D>  D9tDADp    DA   IH^l$dAT;T$D   D9tDADp    E1D9d$DHK`$D$ds(L|$(Ll A  LC,HD$lHD$0H2l HD$ D$l	    uHD$hT$HE1IHD$0HChLlk HD$(H@k HD$ D$h   u=K(D$hT$lKPK,SpKTKCtKXH2x AQCLSHHwHh  [^_]A\A]A^A_ATUWVSH     H  HkTL%w SPDKpIHi]CP#CHHHC`0HvDcuHv@SPI)CTAHSP!]CPfA#tHHG@SPKTSP)KTu.CXOHSD@DCX{X   RC       AIL%w H\O)sTATDKtI!SxHCPv\CP#CLHHCh0Hv@c	@SPI)CTAHSP2\CPfA#tHHG@SPAI)CTHSP[W{XAL)sT)!)S|CPA   S|{X  S|)9s)9ACxDDCD)9ADFD)CxD9rHsDH>HHDCXDC|#S|HKBC|CXDPDSXAu{X   CxuC      CX       DM    KXC,S(KHK`HKhHC`    1HCh    H [^_]A\UWVSHH8H5 HM(   HU0HE    i H}(HGHE0G    @H    f    G   G, G(    RH}(HHG H   GH   ?]HE(H     H   HE  HM(HHM(       HE(   <S  ^  HE(HM(   P            Q(A   A,HE(   HE(    t    jXHPHLH APHU(B    HHE(HM0HPD@ HHE   HE(@    H   {HM(IA   XHU(LU(   HJ   DBE   A      u%AB   A       A   A   3HE(      HM(	HM(qHE(XHHPLH AOHM(H   AHE(x,v!H}(@@O(HW0EG@o,o(HE(HHUZHE(HH HZHEH8[^_]SH@=D     H Ht	HC H6     Ht	H H     H Ht2HT$* fD$2_         fn f H@[AVAUATUWVSH     H= ~f     H H H H  H`  H  HKHHHH H9uH=/ H- H5a HHH   HH   A   HuHA   HW  HHHt"=   HWIH  HHuB+e H H  H  H   H  H   H  H   H  HHHt-H3Ht%=   HdWHt   HF H   Hd E    Hd E     HS HD HI u@     HtH+XH H# A   HC H :@  HuH\$xH HSAH D H @  HHtH8/t1?HT$ H>  uHT$xH )  uD$x9D$ uH$   H9D$(u1H@ H  [^_]A\A]A^HL-. L%+ H-0 H0#PvHL9r IE xp u6HA   LHUtA   HHUt	INHHL9s'DBA	vAA AaAv_uHk IA=tJ	v avA _I  HC NHHV j gHHG i hHSH: i hH:. H' Hi bSH HL$01  HL$01HHp/ HCGg CHH [WVSH H   H^H HFHG7  HH v7  HH g7  H HX7  H   H [^_H0 1H f    HHx  u1fx    HHxu1fd    HHLuf   H*      *      H*      f*   SH    1z 8   H$z HCxHC(HHC8H- HC@H[VHCH HCHHH [WVSH H5/ H>HHSG (   (  y HOPHHGHGHGXH9tSH~h HGPHHA   iMy!HE1
   sHH  jSHH  HuH  8   H HG 1HH [^_H    HT$( t H H 5H  H(HE x t      1H(   H(SH H C9Ft{DK)CA9rD)H CPDDS1D[A1D@DAE)D[D)H ASD%@ StH H [@ H [VSH(Hs s9styHct3{\ HKhtHK`C\ HS`II)IHK(LBLC`
DCHK(A)HTHMcfSKNk H ? K)H([^H([^VSH(H C;CsBH CCC+C-? x H ?    #CC    H([^AWAVAUATUWVSHHHi HI   9    {X   C11D$8H-0 DeXA9~HEPHO9LHF1DA   D$ Et$ vADAHc1HHD$(A9~vL<    A   HEPJ8E9tQHD$(ALHD$0E9~<D\$<AFOHMPDD$ L{ J9A)H = L|$0D\$<> HSA   +T$81HH[^_]A\A]A^A_   \ H HCHR(HD@ H?pH{P uHW)AHL5 NH4DHH)H9sU LNHAHHKPH   SXL11A   NSXHCPAAN    DuJ9v=VLD$ HH~ LD$ HCPuJANJJDJDsX{X   HsPH'  HXc HtSDBJ ID[XAA   A   FI)E9v%HKPJ	Bi@w I8u
AHH9     Hl HHNHH*MH2AE  HCPHll HH	M|/Ht HD H4 CD);C }NSHHS(LKIIH D)HK(4OHK(LKE1CD)K)9HYMHHH[^_]A\A]A^A_AMHH[^_]A\A]A^A_AUATUWVSH8AH~H( H(E9}H3 K{McDD$,IMY LDD$,HH@HHE0DCD9e|DQHu
HL1HPHDHSHPHHXEEHH8[^_]A\A]0 1H8[^_]A\A]H(HE$ HJXuB\t1l H(SH H   q HXH [AWAVAUATUWVSHxHD$hHEHH$   D$   HD$Xu @  EAt @x@| t} H}@?t&w@*   4  @[  @\tG    </t.<.3  $    %  H;$   Z  {/  AfAu8u@7  H}EtE@x"@| t@} Et+@x{ t
} 9    ;.u($    tH;$     {/u
A  DuH}@?u-</u  y  @?uw  HHw@*tEA@u'Eu1P  /   HkIH7  5  DH/m I@[uaDEuHAL9  E1$    tA   H;$   tE1{/AE!AHHiH@/u<Et?t	</tH</  EHSEHA[W  DEuD@\uA>  7Et"@xDD5z tD`{ HL9"  D+EtExDz tD-{ AD9tHE1$    tA   H;$   tE1{/AE!AHH\=b  uHJ LHHE @3@~  @.u*$    t H;$   `  {/uAP  @/E<!t=  y<^uH}D$    D$     Hy D/LgHD$0H3z HD$8Hx HD$@Hz HD$HHx HD$P@t$.Et&@x!@x @t$.ty D$.DD$$D$/A\uM|$/ tFA,$@   Et@x@cx t
y I|$@8l$.U  6  A[g  A<$:  L1@oHW@:t+Ml  H|$XH@,HHu     z]C  Ld$iH HDi LJHu@x@sw   Ho L Hu@x@Qw   HK LGu@   @	  H* LGu@x@w   H LGuF<	x  H LGu'@x"DDv tDv >  H LMGu@x@v   H L#Gu@x@tv   Hr LFu@x@Rv   HN LFu@x@0v   H* LFu@x@HD$Pk  H LzFtAI@x@u t5  EEt&Ex!AHD$@tHD$H	EuAT$.T$(9   A,$I|$@-umAD$<]x<\u|$/ uI|$
AD$I|$OD8l$.r/DEtxDHD$0tDHD$8AD9d$(~v@/H@]|$     D$$    LDLD@@/@\t:HG@[uO:u?HHP:u0z]t*@hHx@]u$|$$ u HGHHH|$  +Et@xOt t
{u 9_HHF1t3D/!E@?Hx[^_]A\A]A^A_VSHH   H5
r HD$xLD$pLLL$xHD$ A     Hu   Hu5EHT$*HGn tfD$:f+D$6fD$8+D$4fC1HT$*Hn uHH[^ATUWVSH0LoX HH  H}Ht Hc @ t
H  H<@utH tL'LtHH/u:x   u121A    $J 1   t	u @HLL%u AuHH  3HOD$,Ht+@tH  AuKHWH
  @u6pu        H~u t  x   @tLu H H. @tL$,)u H H. @tL$,!u H H}. @t5t     1A   AE!AAuHi B. @tDHL$,A      jt IHuHHA ?Ht HH I- 1H0[^_]A\WVSH BH<	v a<v1_ue=   H>H1HtNHH)xT HH HsH H\ HH HHHHB- Hb?   H [^_H(L$0L$0r  t1H=Lw  H(L9{ MtJLIA7  1DAMMt-M;u"A9@uAf% f= @A8@uIM@L0<	wH9 u   1E1FJEtIF8Lt1VSH(HHLD$PHT$H=HH=HT$HLD$PH)y1HHAuHH([^1H	tDBHA	v1WVH(1DQ(EtgD   AA   AAtD3z E9~l     -ty) t EHcz H5y LHy H(^_AWAVAUATUWVSHhL$   HIDMD$H    u^H=y McHH   _9~MHU<u,   LcHA<uGAD$(AE     l  HA(tMtRE1E1wcIcH-y HkHZ9|W19~_L Hyk  *     %   %   AD$(   AE        DA~k     LcJLD$PH2LLLAuBDPHcLcHLLHA$;w$AuHcx H5x LHHL4D\$<HL$Ht$LLL$LLl$(L|$ m ;t$LD\$<AD$(U fA9uAE	A9tEt$(Hh[^_]A\A]A^A_AWAVAUATUWVSHhIHD$LH\$PHD$   DHL$HIL$   AU L$   D$L   D$H    HD$(H\$ yl S  9$   F  |$L;$     H5Tw t-HIH  LcFHHM9uAD$1E1Ic1|PuA   uf}    HcLv HkAlA/9   AEu(AA	E9uEtlIcLcHE1H<Vu2Lcv LcHHJMLL$8;LL$8H5dv LAuE/HKHAMc;D$PA/;$   ~h     "HcH$   HEe(h  *   Hh[^_]A\A]A^A_1I>   D MAPIHHL9AGuSH Hc@%B  t1W   f.CEHSHt1: H [H(z H~r UWVSH8H$   HHLL$xQ   LL$xN  u> xn;vB1  t:;1t/  t%  tV!	v  t
   *u1E ILL$ AD$(xe E u;g  *   H8[^_]WVSHPD$   HLD$L    Euf    	vq,  tiD;1E1Av\AAA1  tL5  A  Au/  t'V!	v*tFLL$L%   1E1LL$8EIHD$0    DT$(H|$ e u zc zH0f u
    -#|$L tFtAHHV9te  *   HP[^_H(uL      #	uL=      uL     H(  e     H(WVSH A   1c HHtH1sd H@4a H [^_SH A1: Mc HtHH [   H [ATUWVSHPHHcHT$Ha H-`    1|$H     Lu H H JHHtY=n u&Wa Hn Hgb un *=n t!Ld$LHL=b tn 9D$Lt   /c /E11Ld$0ID$(    HH|$ 2` HtH1HHP[^_]A\H(1A    b HtH_ 1H(Hl Ht
   AWAVAUATUWVSH(HHH3H~DlH^H<  ;-3  C<l   {    H^Hu@ zL%#c HH- 0<	w.1A
   HA8 u Hw" %HyHHr    H! HHHu1  <qu*Aau${ uH^Hu;-H~   uc1SHs-u{ t;HGsuHt{ uHHHHAyHH r.A   H_H1A   s1HuH B      1AauzLcL= H.DH8 IuuCHH  2HHHt'L9tDtu
LHLHh2HHu[L-ka L5o L=z H)A8 tHLHcDWtLHHHuH([^_]A\A]A^A_AWX AVAUATUWVSH)MH~$P        u%0$P     $P     CT$(DD$@HxP  9   ?  >LH2uA9t*ADL   LLHD$ 0  Dx2uH/\ L-6_ 1L=%` HcL$P  xz1AAAtAHMH1   2HHu_ H ,A   Ll$ E1ND9uHcP  HHX [^_]A\A]A^A_VSH(HHu19 tz/HD9uH([^  w)uAd   1A   u1A  AH(g&H0p    H#10VSH(Hq HsCtuH([^AVAUATUWVSH 1A   L-    'U HH L0D AF=tQADutL ~AF$9vDsSH@4DzA HH AFH [^_]A\A]A^UAWAVAUATWVSH   H$   AX  HeT HN
 HHH HH CHCPC\   HC(   B     wH	 H HcA)H4DcXHsh`  Ht'H	 IIIMt6w"Ft)Hu   `     )RtStA
@	A   A	   {X u1|`  tHChHWB HC`H  tHC HCPC    1HS$LC {$vC wHpHe[^_A\A]A^A_]PHS H: HC@ H HEQHEQb     (  h  $      D       v    %  'G    =_  3/^  )~  -    :  <   E  >t  ?V  {  G]  N#  d  mn  gd  0[  R  5  ]  b     g   e   f     jtvkSu   9q   ny  p     r  s    zt6wtHyt#  {  }H          (H H H =Z  H H H A  H H H H H H 11H| H0  1  H /     aw\H1 HztuBt    DBtBDxLBD|Jt}H     qIiD a<vH  DH 1H0NtHc9rDDxHE9uL|10~tuH D9   u  Hs T 
   *Hf 8 It^HHV Y  H IHt@L56 1L-4 I;pwH@HLLL^ L|)H  L)}  &s  3  i  H  =H H    H H    *  HA       -      NtsEt<Mtmt~t7StAH 0H 0H 0H 0xH 0     H HeH L(AE$EHHHH)HD$ HEumM]HHuE1E1E    E1E1MAAEA   <	tAAAIHFD;e}HF HH+uLMNDUHcL]\4 HcHuEHx  H}}8H}L: H}D9eAVIIcL]DUI<LMHEAE1zE9UrnAAEIcLMIDUH<    L]H&EDUE;U L]ADAE9ULME,ML;EA;AHLMcx&EM}HEuMeAE A@   HeHEH0D&DvE9s HVHDDL,DIM i%Hu	H wD  DIM DC%HtD1+N WAIE9wH 8H H p 0;psLhHHcDDIL $HuH O    D  DAxIL DH$Ht1DH     d   Ho HcHH  H0~X   ~\t3VX   9wHNhD@ND@NVXK   VX   9wHNhD@ND@NN\VX   1C<	]   UH g NALm=   w#P	wAD5 HHHuA   LA
   1BD% H~ v
dG   Q%      xty n<   /   >tn?   n   e
d}3bgtAwt+pt7utpytzbVJ   . H HBpBAd   1A   yH H    -Hq  Hb     SH Hz uHm jHZHHh^H; uHH [A+Bu+SH T$8T$81u HjQ H [VSH(L#b HHH H- zHu+Q  (   !HE1H1uQ HXH([^SH HH< H	H2 Hc HHSH_tLLCH H q1H [WVSH @z0HcZ8HW   L_ IcL   HPHtHRHP r8HPHtHBH@ HHY(x8          HCHtk9uC   0ZC   }0xJ8pCH@ P8HP LAR8Ax0u%HHY(HH [^_J H@ P8HA1H [^_AUATUWVSH(1A"E ~a tu"@tHuHH?H?    X t  A 5a A      W x     IY @8HXLhH tt`  t	-   <uCv<t   8Y HXH\Ht   Y  HpHXHx!~wHl` @t\> U` HHtHH([^_]A\A]VSH(HHt0H HBXBXHK HHuH([^pH([^AWAVAUATUWVSH8H 1H8H H_L8	AMMT$$It/(HtSD$$#FD9uBMMt HVIILL$(t$LL$(M	H9_unHHFHHCH6HH8  uHGMt H9u:HID$HM$$HCH9uHMtI] H    HKH+OH8[^_]A\A]A^A_*G VSH(H   H* HHpHHH([^VSH(HHHHtH   =C HHpH([^SH HHtHHXHHHH [E11F
GEDB	II ua1kDDHH uE1A   BG   D)DBIAIuBAP)DkQ1DDHH uAWAVAUATUWVSH  Hl HHcLD$HHD$HHW HW}H| AHc A@)~EtH4 jH|HH{ uH{HHsH0 H_HHS` D$8HUHEE1HD$0D$<H$   HD$(|$< HT$(Htmb  O  u$   f% f= @uEu
HE1;HH H/ HHHHHIL|$8 u>Lt$PHLa  t*HLN  uD$`f% f= tHwLB@tSLD$HHH " HHIT  y#I 8tH3LsA   WLc@tHc  @ tLHH 3 HHHD$0tHA   LHH{ DH  [^_]A\A]A^A_ATUWVSH   HHI 5HH   ^tCH<HHO(HG(    HT$(  F    HH& HHt/? u
HjAJL(YJ|(F9^u1H~ tV9tH|( t1.1Hl(Ht49t!H3=  wHl(F9w1   ~H   [^_]A\VSH(H=J        H E H1HtiH5E H HH HHI H HHI H HHI H HH H   H([^SH HU LcC HHK(t HK(H [.SH H=U  uH6 _HI HHtHc  1H [SH`Hz t
vHHtHH?vF  "   Hf \LD$ HLH H`[SH ILH,HHu1eC	t1SC uH H H   H9u,H  H9SuD  H     LU 0HCtH=uH [ATUWVSH01H-n H]  ^ HtT]  DcI \  HD$( ^  , LD$(HH| DHHH?H0[^_]A\AVAUATUWVSH H*IXIMB0t!HtA@(         A   E11H;A	   E11HH%HIHtA   IHHIA   MHHHHtMt
HtHuA   1+AD$(F(G(AD$2V2	V2G2	G2HH [^_]A\A]A^VSH8LBHHD$,    Mt Ax0uHL$,HHCHtHLCMt Ax0uHL$,HHCHtHD$,H8[^AUATUWVSHHH5 H H    HNHF    FP   HHD$8JD 1pE1HL*, H FHD$8HD$(HFHD$ u   
G  t,H F  Ht8 tH Hts:HT$8:nu +H yx~   F  tH=0 t' u   t   1  u   cF  	H Hc Hl H}  uH HHE H} tF1E1A   HM AHAA(  EDzh  Ht	L`IHH}  u   QH1Ld Md$MttHyQHKa   H1 1HI1    HI)tL3QLJtLQ1L FHH[^_]A\A]UWVS= w(LIHALPLQADIADADQAAADE9v/   ED)IAfD
JT         D)E)AfAE)DQfD
= w%LIAHALXLYAADQDZDQEADE9v8D	A   EA)IADfBJ     
   A   6AE)E)H  fADA   D)DQf      A      = w(LIHALPLQADIADAD9YEHHA(ADAA9vDAA)AEfDD)D)AAfA9E)YfDE9l   D)AD   [^_]AWAVAUATUWVSH8HA8HH9AHv    tDC|H   HI(6:H      HD$(LK8L;KH	  HCH;C 	  D   D    w HHHSHKSCDE!kHDHHHHD   AE9F     D)Df   IAHMuH{PHOLC@1MtHS(
   ED#   I   +   DHi   L  A      A    w$HKHSLBLCKS;D[HLA*ADE9vDEA)ADf
D)E)AfA;D)D[f
=   q   S|H)I9wHCP1MtHS(A      A   D4 w(LCHKLQLSADCADKAD!+{HALAD)EEA9vDEE)A!AEfDD)D)EfA+AE){fDD=   UHS(IIHK8B
HC8H9C@sHC@   w       EHP
B   ,A)A)DfDKA)fD    w$HCAHKLXL[ADKHDKH;   AD9     ;H)Af   H  
               C|         F   A   DH   II w$HKHSLBLCKS;D[HLAHA*DE9vDEA)ADf
D)E)AfA;D)D[f
?p@wC|     DAA      DL   1S|H)HH= w(LKHCHhHkADKADCDD+kEHHELAD EEA9vD3D)AfD,D)E)Dc|AkDfD+A)fDADc|A9X  S|= w$HSHCL@LCSCS)AAD!CC|AD@C|uL  A   A   C|= w$HSHCL@LCSCED#{EMMDA(9vD)fA &A))k|fD#A){fA k|k  )A)fA)DKfD    w%L[AHKHyH{AADKD8  KEADA9v&A   DA)AAfD8  A v3UDD)D)AKfAD)f8         HCADLKLXL[AKD  CDA9v6   )Af           j  )A)CfDA)fD  %  LKHSLRLSAKP  KD   AAADA9v   D)fP     D)D)AfAE)KfDP   w"LSHSLZL[AK;h  SD   A9v   )fh  *))Sf;A)fDh     D   AD   EC|DK|      H  H   DC|HT$(HK(1t4 w%LCKHSLJLKASH8[^_]A\A]A^A_AWAVAUATUWVSHHHMHHD$(AA    LHD$0  H  L1E1  H9uD[IsJHHi  HHHH HcH)H)LHVPV@FGHoA  1H9uDcMl$J'N</HBIH9D$(  L9l$0  A   AGHHI)IHIuw    A  A  M A$AH  AWA   A$IAU AT$AU H;|$(Y  H;t$0N  HGw7  DCHHxPVHHVN1lHL?   LhHcHH)SL$H    A  @  XS{  FASj  A$PHuAT$HuA$AT$ECPHHAPU A$AT$VAT$V  vCu   Hu   D Lh@AEHII)Inu   Hu   Lh@ @  IHHHI)L9uL)1A1L9l$(    I @  HM  AEEuktg'  A} vrM HA$L)AMuAM1A   AM  AT$AUuA$AD$AEA   1   A         A] C<   F<AG   e HA$L)AEuAEAD$AEuA$AD$AE H}EtHMHL$   L$   EGIEAPUA$AT$VAT$VHE1   A$L^AL$N1A\\H9uLItL1E1AD$AG1M   A_KwyFAKwle A$JHtAL$JH}Et&HMHD\$<L$   L$   D\$<ECIGAPUA$AU AT$AUHLL1E1E1   Hu   L)A1L;l$(HH[^_]A\A]A^A_WVS   IHtdD  A  EtEA  AF1A<HADH9uBA)1MTDAA1AD	[^_AWAVAUATUWVSHxH   % C@ H% }   Ht   n% Lt$XD$<    L%3 IIFD$8   HD$HA   H1)H  AD}D$XAtAH   D$8AsAH1  D$<}   ~(Ll$ LL$PIH[T$PH  HHJH9uD@=   v9wBH/D@v# D@HHA   vA   A DAHcL)E1HFFID9u   ~$Ll$ LL$PIH^T$PHt}HHJH9uD@=   v9wBH/D@v# D@HHA   vA   A DAHcL)E1HFFID9uHTf HB H)T$PT$P9sD}u8LL$TIH\$Tu9\$TtLg Hm Hu cL$PAL|$HD$\EtL$8M~AD$`E	tIGL$<HD$@AAL|$@DD$PA9sTEt#H   IOHL$@AAL|$@E	t%DD$PH1   IOHL$@AAL|$@M)L   MF DD$PHA9rAH   ) 1D$X    AHT$XA      D$X LNHFH>   Hx[^_]A\A]A^A_H(HU L[H(AWAVAUATUWVSHHL-y 1AC@ D$0    D$,    D$(   D$$   D$    I   u	HD =   vHS bI At9r9t$ sHtHlt$ 1DdCD$4t	dI D$(%   D$8t	NI D$0D9v@t	:I D$$	s	+I D$,EHuL  HEM1M)J,H] D9}  H]  D$<rA@t"EH   k9D$$tHt 	s1EHf9D$,uE AII<p  D@HUDA  D9AHA9A1D\ADHAuHHHDAvH   JAHcIHL)HH9LH9CMI)A3HjHPQPQPdA   A2  ADDHAMcL)HH9H9MI)AHjHPQPM  I9DE HUA,  A?jDD
AHMcL)HH9\H9SAMI)EXE9<HjEX  EAu/A9
HRu	A   AE\
HjDJDHcHH   EAu/A9
HRu	A   AE\
DJAIA @  HjADHcLI)LL9uH)9XI9OH  H @  H97H9.LECH)A9L@EQP1DLDLHI9uACID 4HHMI)D9MDII)E9DD u
LBHH%DBD@t
LBHHLBRHHPIPI9tE HHEu/A9R
HRu	A   A1EDLEHH)A9LEHH)A9
LJLXEJHJH1@l
@lHI9uA@HIL?Ae r?|$4 tAH   9D$(|$8 t1AH9D$0kAH    DH   HH[^_]A\A]A^A_VSH(HHT HWH1 H: Hc   DH= HRcu!ou lH HE1L7  HHMu  H([^rjVSH(H H0~    HV`H  DFXAvV\H   N AHr  tD9NF^	h DAH  ? VpxH  w>t1H  VXvGF\9t@HVhH Hd *Np~#kdd   H dF8 Hw H([^& H([^WVSH H!kHx:u%x/u1t2u 0 H0 H =R  u# =R  uZ  j! Z  ! H5X" HtH   B# HtHH0   "# HtHH`   # H5 HU HHH8-uHHHKHt"H{HtH4 u	HH>1H' HoHntH.   CHt  HOHHHe WVSHA@EABB8  EHDRB4B84  EHDRBB8  EHDRB4B84  EHDRBB8  EHDRB4B84  EHDRBB8  EHDRB4B84m  EHDRBB8W  EH	DR	B4B84A  EH
DR
BB8+  EHDRB4B84  DQ`LI(AEZD@<@8<0   fA<YfA9<q   AXr@<@8<0   fA<YfA9<q   AXr@<@8<0   fA<YfA9<q   AXr@<@8<0   fA<YfA9<qutAXr@<@8<0ucfA<YfA9<quWAXr@<@8<0uFfA<YfA9<qu:AXr@<@8<0u)fA<YfA9<quAXr@<@8<0ufA<YfA9<qt&A9wD)AE9wE)I0A1[^_AWAVAUATUWVSH  A   HA8HD$ HA@H$P  HD$0$p  D$  D$P   AFD$,H  p  |P)	   H$P  x0 D    1H( LcH9vH$P  Lx8AtH FBLcD$<D9   GDA9D$8ADD$8DL$LE)H$P  DT$HDMAL\$@L\$@DT$HDL$LtAAD9l$<sAH$P  GIx0 tn  IIHT$ HcHHL$0DHcHL$0HA8s	DDLT$ AHcE<LL|$0AD8s	8CDAAAE9   L|$0AD)uL|$ HcIDD 
AH~HL$ IcH
LT$0ADGE9u#L|$ McAOEDAHE9%x|$, \  Dt$,D DDD9~HcD$,Dt$,D|PDEHL$ ))9OA)AyB  DAHL$ D)E)DA9ADOD)D@MB  AAD)A)AASA)AA)E9}ADADAAAA)E)E9}AEADADEAAA)A)E9}ADEADADLcL$,B  IcBp  p  AFHB|P  DDPDp    D|PAFD$,H  [^_]A\A]A^A_AWAVAUATUWVSHH  A`HY Hi@La8HD$$HA(H  HD$(1|$$E WHcHx'H|$(fO  DD HAD	ABHcL$$1L	HLD$(DL DfA@  HH"u   HH=  uE x(L 	LA8OAHcAH1L\$@@   BHH=   uA   l  i   	ACIcDIAF<D+<AA)DL@DIAAHcMcFD+E9vDl@Ic9vI@|@A   ~AuE1B|,@E1ID$8AD9tTDLAr=AIDAAD9}&HDL$<LT$0 ~0 LT$0DL$<  A
    AAA   uAL  HGIL1IAIAH   A  H=   uDt$8NNA%HA9  ~?AyL$$LcFt B4@   uN4Mc  E{E  CHANA%HA9  }?AyL$$LcFt B4@   uN4Mc  ExE  CH1
    H   =   uI   tvAA1<@  %)AAA  v%DAH|$(GAMfFWA!vy|$$AH|$(fFGIHH  [^_]A\A]A^A_AWAVAUATUWVSHHHHH[ H1H  L- 1   L5^ HE1LHuPMtTM|$H! LAt,H LAuH LAu1A$ HHI> C(    {HC    HC     HC0    tH H6u@    H H     A   H HH=. t>0<	w
H^A   He HtL% 1L5 MHNHIAtIT$HuHcHAD= PwfHW H HH= HCH HCtqH HtaH HtQH HH uj8 wkHf H HH= HCH
 HCu	KC  H HtH HtHv Ht  =  u&HHCHHCH^ HC   -,  w/t&H+HCH0HCHHC    ;  u(tHD3  HCH3  HCH~Q` tTHT$, tCHhHCH-HCD$,u	H uHKHC!H  H
     1Lt;=.  =,  }=  t=Q  t=  uH H	 HC0H   HH[^_]A\A]A^A_ATUWVSH A   LD$`HHDL$hDL$hLD$`A   D9~#BF\AAIAAD1AA1AAH [^_]A\H(HH   vHEt#DEH= L*? H1IE1~E1H= L? H=  v)AIH
H= A  Ek
A   A
A
uLv= HIDE1AuAvHHM= A   E	HS HH(G-H1= H(WVSH H.   HiHHtHHHuu H1HH [^_WVSH .   HHHt^HxHc| H!t{Zu{ u H3H;| H1uH, .   HHf@arHH [^_VSH(H H  t2.   HHtHHHXl t!HHIl 
HHDl H([^ H H([^UWVSH(b  H5 H   HHk8H   ' HII)tHHt.H8HL LL9uLHL HL0HtLHL0H HHtLHH H3       cec-&C-t K,fft	H8IH%1   HH2 H[ HHK-HS0~HcH HC HH([^_]H(    " H"  HPH HPH(WVSH H2 H0H+VHHHFH)H9sUHFHH [^_SH0HHuHtH HD$(HFHD$(H0[AWAVAUATUWVSH   H-6 H HE H HEH HEH HEIH L$   L@H D$LH  D$P3 H $       HD$@  L1IzIHu    IH I$H HHu#H| HHuHv HHC(HD$hH  HC HD$XLHKHT$XH$       H$       >HH   HCL{HD$`C0A|?
uHtoA|?\ugLHT$hHHL$`>IH~JLIRH9S s'HS LLT$pHD$x LD$xLT$pHCII?HsLHLA?    H{H HOH<#
E1H5 IcH   AtHHd 0H&H#    HWHHtH<#u 
t HHHH#!DA   o  HrHKHKHH HHpH HLLIHHHD$XHH{ 7  HuHs &  HtHE   s  u HV C  HU HU  HEHcD$PE1I4D$LD$LH/   HHuLd$X1L= (E1   HS    H<:tuIM4$M   H\$@:   H1J AIA)D\$0    EH H\$8HHH\$ MHT$(LLT$hD\$` E1HHD$P LL$Pl(	LtD\$`LT$h~t|$L t!LAuHHO A   AHH>    H$   HCH$   H Hu^HMIH _rHMIH HE HrHMIHm HE1rHMIH\ HErHE7HH %tHH uLILIHH |HL$@DH HD$@`DH   [^_]A\A]A^A_z0u	9J(uJ21ATUWVSH 1H9   ~^H   1HHK9k~L$HIL$LHCHtHHHKHH       F|    H [^_]A\I   #   Ht"DJAOw;%wIrH HH(9  u?
   yJ}w,A~&BP>v,P~v$A~P   	v        H(VSH(HH1-CP   H([^AWAVAUATUWVSHHI DqPDiTDaXi\EEDIHq@A;A;HA1IE!A1AEDSESAADE1D!1DDSESADDD1!D1ECDDSEEA1A!E1EA
AI9tL H IrEA:IHA1A!CA1D[DEEZAEBADD1!SD1DEZ	BDAD1D!DCD1DEZFEAA1E!A1EAAI9bH H=^ HEHHA1WD|$D~D\$A1D_FD~GEABEAD$D1DD^BDADD1DG1DD^FEEA1A1EA	AI9dH5 A{ FHAHE	A1D^DED[ABEAVD	D1DD[
BDADDF	D1DD[FEEAA	A1EAAI9dEEDDIPDATQXA\H[^_]A\A]A^A_AWAVAUATUWVSHXH	 H D$L   x3HuLD$LH4Q H6H5Q Hp6AH Hc HH; uH{F HHDE1AD$8|$8 H6   1E1HD$0DD$<HL$0 HH   HP HHu8HP HHu$|$< tHP :H   it  T$LHHHD$(QIHt'HHuEu0HT$(HPP  EuHT$(H@P     LHA"tEuEHP ):EuHH2P    :HL$02T$L[PHHtLHHP  H   HH; |HX[^_]A\A]A^A_AWAVAUATUWVSH(HHEDHtoEL- HAHDIU HHHDfEt(Et'ADt
EtuHtD#HH9uI] H([^_]A\A]A^A_AVAUATUWVSH@1IHMDH|$0Lt$,9~ZHID HuHAHt<HL@H  D$,u+ILL  HL$8H1D$,uH1H@[^_]A\A]A^AWAVAUATUWVSHHLcj HBpLrXJ,    LHHILD9jx}L Eox   HHuL vHD$0HLB8HD$(tLc8HL  t[A E1)D$0AG EG`LPE LD$(LHAIop^  HHE Mt
HL$8@A    t@Hu17HkALHuCP@tHL: uIGpJHHH[^_]A\A]A^A_VSH   HtuHT$(H  t'H xtD$8@u     H   [^SH0 HHtHHD$,OD$,H0[VSHXHT$,Hu
D$,tH;HX[^H 9u H 9u 	SH DH [H(H H LIH1B  tH(VSH(HHHtHo Ho HDHHH([^]UWVSHhHy HHU  HH|$(V Htf? <  HT$HHD$@fC    HS0HT$PHC(H  HS8HHT$XHHC    HS@HCPC      H    D$(EfA'?fAAuADD$HD$LfDKHOI I	LC(HOHC0HOHC8T$XHC@D$DI  fA ID$TILCPH H	HC   fA @tD$PCH    C     HC1CH     	   Hh[^_]H8HtHHD$(JHD$(H8VSH(H:HHu9Hsn Hu&Hgn HHuHWn H([^HH([^VSH8~ t3P HHt H6 uHT$,H u1H8[^WVSH0DD$,H DD$,HHu  	   :DD$,H DD$,t H    HH0[^_HH0[^_IH11UWVSH   1HH=0 y uHT$(H  1DDH   [^_]UWVSH8HLD$pLL$xtru   H5k DD$pHD$pHHD$(xH tu9HJ .@t(H=e 8uHm tt    H8[^_]H8 a<w&y:u y uLD$,HL,fD$./ HWH8WVSH HHuRtHHtHH HH5 HKHS1H [^_ATUWVSH0HHHu1  9 t<rt<wu-HHtH1t"uHH9HI.AL HcHHt  Hj @xH j HImHi HNHHt"u \HHHf " AIHHD$     H1>   t ?rHi Hi HEh HH9HH0[^_]A\AWAVAUATUWVSH  HIMEH  :   Artwtb  D$X  D$X   1D$X     HuH\$hb$      H$   $      H$       t$HS HKA    I        D@D  DD$\DD$\Hg X A   E1  @IHHl$8D$0    D$(   D$    % LIE1HC    HD$0    D$(  @D$     LHCH{<  H{ 1  HcE1   L4HcINH4 HU1   HHF$   h   H$   H$   AL= <ru"ExD AH$   $<wu ExDf AH$   AE1E11H$   Lf$     $     H\$HHl$@HD$8    HD$0    D$(    D$     t%HN HFT$XIN uHEH$p   C(tH$p  sH7H  [^_]A\A]A^A_VSH8=   HmHuP; t^H@HH HHH9Hg HHzHD$,D$,x tHH8[^T1H8[^AUATUWVSH(IHu1   H- 8   A   HLL- Au uTHo 9tEt
    Bt3HH= tA   HLArH    H([^_]A\A]SH   HHH [aUAWAVAUATWVSH	  H$   H=-   HuE1E111 H  H  HE    E1HE     L5 Hp  HE    HE    HE    HE     HE    D9#v^N|DDe Hh  IH u#   D   HTTHULAuI@@       N1H  EX    Lt$0H  A    ELd$0Hh  A$    `      h      E    E   EHE;u  LcEBD-  p IHu"  	     H m  BD-A    s^1A9vHL;<t?wA9u	N|EX1LUXA9vHM9<t?wA9u
N|`EXA)   BD-sjAA1A9vHM9<t?wA9u
O|A`  1L`  A9vHM9<tA9u?wNh  `  LcmBD-seA$A19vHM9<t9u?wM|A$h  19vH}HL9<t9u?wLp  h  H) Ld E?E} DhLp  t.HELMLHD$ LE; EDmDmE}E    Hp      ttE} th} tbH`  Lh  1HEL}XMLEH' LHD$ m u0   LH   H}L   LL1}tE    ;E})}H= E1Hp  DMMD$   9Eu9L= Lm(E1E11D$    LAtL L u.} t(HY HUX1HD$ Lh  L`   }   HEE   E1HEHEHED;m}xDEAHcD=DsXD UH;p  uBHULMLEHHT$ DE^ D= DrD=DrD= DsAuZ}t} tN}vHHEXH      HH`  L   Hh  L      ) HEX    E1A   A    A$    HED9}  DEAHcDEDHUD  D DEHUHDH9p     1E1HB HUHzt+19vHLHL9t?w9u	L|H`  H<t-A19vILHL9t9u?w
M|AHh  H   A$19   ILHL9   D ADs-1A9vLTHM9t?wA9u	N|DDs/A1A9vMTHM9t?wA9u
O|AD Ds/A$19vILHL9t9u?wM|A$I0H  [^_A\A]A^A_]VSH8E1E1   D$(    D$      HHu H} 7  H+ y(H  H H"H8[^UWVSH8HHLLxIIHH8[^_]d /   HGHu\   H5HtIIHH8[^_]X   HHHt$IIH8   HHD$(HD$(     HH8[^_]AWAVAUATUWVSH   I1LLMxHcxHT$HAc   H3Hc   f|$H#!t LgH5\ L|Huu   HL$H
   DH H\$0%Ht@ HKH[ HHtH8 tH[ 1H\$0HD$8HD$@?r HD$@    H HD$0HHD$8MIL %  H|$@ HAHc EEBL(IHcH% HcHHD$@HHCJDN<HHL$0:HHuHL$0H   HHMI?LD$8LLD$(LD$(x-AUHZ  HHzMIH .LHHtHMIHp     HHHD$(EH=HD$(
HT$0YH   [^_]A\A]A^A_H H HLI   IH   pAWAVAUATUWVSH   L=X H$   LIM Hl$`HIM  <%=  C<eu(EEHhX Acv?H_X HH   <su.H|$<	   LHL$< H-X AH<T   <zuf AU xN  -EH D D)+D)L$`  <   DkdHMHW AD$` T<-uStHW Ht
C#GtCH>L LKLIHW L)Hc LHoHIHHHH$   MMLLHD$(3HD$(H   [^_]A\A]A^A_SHPHS HD$0HS HD$8   HL$@HD$H    D$,    Ht?HL$0HHt)H. HT$,H H D$,HP[SH ft fm f  H [SH   HvHH [SH    HMyHHV $H [UWVSH(%   HHj HzXH= !  uHO HO t8~ t2HkHHA    !  H{` A   HHO HH([^_]ATUWVSH0L1 HLL$(H1 Ht+HL$(  !fuHT$(H0 <t   H| Hc H\ H; u	%1A   HAAEHH; uH0[^_]A\ATUWVSH =   HL% HI$BXBXH HXHt6HCHt(HHHs uH   1HG    H    # >-Hu)~ u#   + I$Ba fRqHGfPzH6HHHHu0Ht   H A   1H# HG    /HCHGCGCHt1H 
1H H! H_HPHHxH [^_]A\gH(HtA    HH(H(VSH8H. HHD$(Ht8 uH. HD$(HLD$(H. <Hc Hc HHuHt.  H@tHL$(HHH@t 1Hu B; t=H: 1C@t"Hu HtH4uy@u18!   H8[^WVSH@HHLL$xQtHLL$xD$<HN(IH$   LL$ LL$<HD$(5 u9\$<t  *   H@[^_UWVSHXHHD$<Ht$@LD$   DIHI(HD$(L$   Ht$ D$<    u99$   u0DD$<D;$   ~n     HHWDD$<D9tM  *   AIcHDHX[^_]H8)t$   f(   f/sH,\H,H?f/sH,\H,H?1HHxH*HHHH	H*X(t$ H8  H8HL$(= D$,T$( A
   H HH *!NbHHHHHHHcIA  Hi  AHHH8H8HL$( D$,T$( A
   H HH *!NbHHHHHi@B HHIHH8VSHHH Ht.HT$*k fT$6\$4H 	9 HH[^SH@H Ht"HT$* f\$.T$.Hb  H@[SH@HB Ht"HT$* f\$0T$.H"  H@[SH d'1IH L9}8M9Cv2A <
t+<	uESlAEJA)D
<v<uILH [UWVSH(HL$P   H1tHH?H    HH|$P)HHHVHKyHHHtHHH3H7HHtHHHHHL$PHH([^_]H8)t$   f(  Y(t$ H8  UWVSH(HHL<"t<'uKi HH5 HH      tHH&    H([^_]AVAUATUWVSH   L+ HH+ HLt$ AHu Hc )HHcLdu(LLL     t61H[LHLLHH[2  LuHHxi  A  Au   HwxAu1$t IH* HH`G        8tHH* mHHT$xL~tXuL* H u!uL H* HY CH:yHH* &HA   HxH   CG y   AtHIH& 2 L9tH-L9ct	HcH   [^_]A\A]A^HcMcDAA)E~DFDHFIH(HL$0bx HL$0P   IHuH5 H(WVSHHX   HD$   a D$   HHT$(H8H= HHp%   D	tOuD$8fC0tHH H1@lD$8fCD$8fCHD$PHC HD$`HC(s	HT$XHS(s	HD$hHC(HD$0HCL    HC0HD$xHC8HD$<HC@D$DCHHH[^_WVSH H;0Hu^C @xt0<	wIE1HHN@xtHJ	v(.t#HxH*)HHH	H*XHHH [^_>5H [^_H H Mc@tH% AVAUATUWVSHP  L-( E11H=g HIH
K~luApu*IM 1LH Hc)H4Et	~t  HH= Ht%9 t A   	 HH       LxAA   $H      A   D$    L$H  A   )   H    A   A   O AMHc HD(fDp	 HKQ j DDD$<HSDD$<H He u#HaDH tHe )jE11H4   HH y0 H 1H[e HBHxe HN1Ht1~HHcH$P  H     Ld$@$H  H|$@   H$H  LL$H  KyHd 1HcLq   H~ A   ]e H9uh1{`k    H 19v;HI|  uL$X  H$P  19vL   tH$P     H.~ LcV 9CH$X         SH     _ HH HRPH [SH H}    HDC HcSHJHHKH [SH H} HBXHBXH
   H!H [XATUWVSHH5 "u4HHPHHH%`uH.     H   HM tEHHH%u@HH_  HHHPHHH_&o  H 1] H~_tHHx tHFxu
w     HHHH  HHu9   u9   u  HT$(u_,  1  u     S   tu       u   D$8I   ;D$@uml$D9tY9tPH5. ~ u,   1 IAD$A$F   LfV19~HNH9u<    D$8   SwO @  t7    t- 0  t#   	t
   D      T$8   9]<w&   t      DT$83uH|$P #u\$@   u\$D9HcHFxHH 8 HH[^_]A\ATUWVSHL% HHl$(HCH0HtMHHC>-u~ uH; CEu8    HZ HIQHuHCD{E u|HHID1Ib D$8H;f% f= uHD$PH9|H)HC8H;Ht@\ E1HtHHHC8H    HC8HC(1   H[^_]A\WVSH0)t$ Hm| HH   HtH                     HKh
HKpf(t
X5| f/r!1        H5 H\HKh<8H
HKxH2HHH
HHt8 zH_jH H   HKPHV H   H   (t$ H0[^_H(G8HP{ HHRHH9s8
uHH(AWAVAUATUWVSHXH{ H0~ At	F       t       F     AH^Lt$HAAH HFF;#uH
tu;
uF@+@4  @"uNHH^H<"t.t<
uH}    LH\$HH  GH\$H H      Et@/uyHkHnIE H]</tUt<
tAI<\u:LH\$HkG;\u\IHD$HH9uHEHWIHIHA    a  E<	v@.u5LH\$H.H\$H0;.uH|      @  DL    L=[ D$,EEtvIAu|$,tZMLHL\$8LL$0sLL$0L\$8u4J tP	v av<_tAH   IM a<v
@_6HH^HP	wC av<_tDC %   =   tH H   <(t   <[uH         H^  t
r dt1!8|t)A  t     #        ~F   Du  H{ H { HDRHX[^_]A\A]A^A_HHt      uHPHH@H    VSH(H#t 1H HHHtH+u	FH([^WVSH HH{H9H<\u
<\uH;>uCtHHH [^_H(Lv IHt8 u>Lr MIHu1   :-uDRHBEtIMA-uz tDA8t#Eu	H(N Ey:LAuHLy:L@u8x u%Hur HL@LL MuHM Hv L E1MH(HHLBL: uWVSHpHb L; HD$@  Ht$HHHIH> HHD$HH HD$XHD$@HD$8HFHD$0HFHD$(HFHD$ D$P   FHD$@HL$X\$H8aD$h8tD$iL
 H  HD$`Hu Hc HH; uH
 HH1HHH  	H; uHy @  HY     @E SH HHt+&H HHHH)H H [1H [ATUWVSH0HH|$(MMHW HHy% 8u   Ht$(fD$, AW HH0[^_]A\VSH(H5s H@tH([^  sH   > D 'HPA   t['u'\''Et?!u'\!'H3
uf\nH#DIAtAwf'\JB'
HHf' H([^H(j  h f/sH,\H,H?HxH*HHH	H*XH(i  UWVSH   9 HD$  uH=P LD$ L   uH. LS   Hp.(IpvuA ^1@<u?L1LFF tLH LF
u	fA $ ILH)Hv~HH < H   [^_]HN9 HQuH
   t10u
z H(HWuHI 4HH(UWVSH(Hq 1H8HcHWHt*HrHB LcH)HHHL9~BHBHHG@@   MHcHH HP HG0HPHhHtHEHWHHBHHZHH9v    H HB    H([^_]UWVSH(H!q H0HFHP HH9rH9HwHas  HHFH9Xve%   u&H'HUHCHHHK#rHH WHKHC    HtHiHHxHFHPHtHH H9HuHVH([^_]AWAVAUATUWVSH   Hl HS C(    HKBIHD$hLt$`H6 HD$`    zH;LCHoHCHC(L$   CD7L H HD$@HD$hHD$8HD$pHD$(HD$xLt$0HD$ UHLo Lc @tbH$   Ht 0HuH 'HP H)uH5AHsHHD SHHG CD1@tHL$xLM I1 H@tH| ]@tHl K@tH] 9@ tHM '@@tH> @tH/ sH  1	sHL$pL I1 H
sH H rH|$` tL@uHsH sH rs"H5 AE11HD$ HL$hm COd B  I$H5  ID$H$   Hu4    H$   I  I|$ H$   uk4  t*IL$Hx4  tH$   H$   I   IL$HN4  tH$   ID$       IT$H I|$ uAH4  t,IL$H4  tH$   H$   ID$    H H Hx0HH9SuCHoHCD7HTH)HSHC L-Rl AE tHHk H91{ uH
 Hh HC0I<$ tLc0[  Hs H{8   As%K(t1At.EH ~Dc(   AAC(Ae   {dd   C{
 L% IAE tCHH)H9  E1AE uYL9u,LHc IuO;z  HK8Hu}  HtP^wC>IH9CI9sC> I    I7MSA   <   H@
 HcHAH
 HP0AH
 HP0]{ UAH	 HP0AH	 HP0AH	 HP0AH	 HP0AH	 HP0| IR
   | C(E1H$     IH$   C(LH$   AE    H9H$          IcK(IL   HH)H9LLL$XHO4  H$   C(H9wxALL$XHIcL    H$   ALL$XHIcL    H$   IcK(IL   LLL$X  H$   C(H9vH$   HtT1HcHDHHHIcAL   H1McH)M9LN   Hc H$   
   HSAE t
H98L HQtHe    H   [^_]A\A]A^A_VSH(UH HHHPHHHH$u'HHPHHH HH	@@H+HH([^SH0HsyHHD D$,D$,H0[SH Hd HC0H8 tAHPHS0H:HC8HuHug   u1HH [9H [Hy H9t9-uy tA  1L1H( H; HuoH(WVSH 1H}xPLHX HLHt%X   H=@ H5>  XHxHpH [^_Gv 1H [^_VSH(rHHt5pA   Hc H{  tHSMHH([^[tw(t)t{t}t]t	AAHJ0u&H   HtkLcB(BJ(   	   QuLLBMtCAx0u<AH(M@LBMtIHcR(L   EHcEw!   1AWAVAUATUWVSH8H   Ha H H@    H@     H@(    |t%Hda H HXDEtaHActAd   At   Ao)  Al  @<  A-2  Hc. HH  H HHt
Jt1q  HHH -uS$  -u{ /  1   HL%T 2K  Hw HHu	H- =HH[ HT` H HP @H8 HHuHZ- H` -HH H` H HP(H E1L Mt_KLLD$(McHPuLD$(uH_ H Bt0a   IIuH,    -3,  L5_ L=, KIHPIcDatL, H, MD  <IH, -  IIuH$ H8 HH HE    E    1IHc	A9uH^ H @taWHHuH, -H^ H f@h  Hx o H8[^_]A\A]A^A_H9^  HAd9to H yn tH8)t$ X  f(X  	W f/sH,\H,H?f/sH,\H,H?H	xH*HHH	H*X(t$ H8  ~t!1tQ	v av   SH@H4] HT$XHLD$`LL$hHBXBXLD$XLD$8LD$( LD$(HHH0u D$(8D$(H@[H8HL$(} H\ LAPXAPXHL$(HP0p H8E8H8HL$(= Hz\ LAPXAPXHL$(HP`p 
8H8VSHHHq(HAPtIA   H
  HCPHVLH9~LH DVA ~E1F= ~1LN(I9~E1HT$8V DT$(KT$0H D$ BHCP<HH[^H9t1DDHEuUWVSH(H5Q_ 1
  H-S HLBLH  H= H  H   Hl   H  H    H  Hx  H(  H  H0  H      HD  Hd  HP  H H`  H      H8  Hl        G  1@  HI11   E1CL A  E1ADLcID9~C  IAHHHu1   E1H  1AAL  E1ADLcID9~C  IAHHHu   E1ADAMcIL  19~A
  HAHHAHu1fn   HH=@  u1f  	 HH=  u1fn   HH`uf     Hl  f   f   f   f   f   f   f   f      p y1f   A   1AAD	Auf  HHu+H6 @  HFH   DH   HN=|FvFF    -HVF
1%  FR1%  F  O  UK  K  1H([^_]H(H[   t{4HH(VSH(H[ HHcH  HWG Hc1H8  HtAtt5   H    	Ht E 9H([^AWAVAUATUWVSHX@[11H$      Ll$6 D$7 HL$   A?   MwLl$8L$   E'A\  EgAttH$   AL;$   k  A   IVH$   EgAX  w>AAwA@   A$   %  AT   AW   AHtt  At   wA]  AhtSA[    Aw   Ax   E1Au  Hz Hp H@@HHDHD$8  9< IHD$8Ah  .   H*   n  ]E1#DDY  L|$GLI E1	   La @    HuMN HHt9H HPH: t0H>Ht#/tu~HKHHVk H\$8E1Aw   /   H~IH   IL|$8   HD$8A   Lt$GHD$(Ld$FAGHT$(A   LD$$H$    C<C7 {=   vLcd$$BD$G HD$8L)L9|IH$   Iu1A   LA?q{Ll$8DED8u=E1HL$8Dd$6m{A
uH B    @]t
H BLd$8HUHc LH}LH{Hj H9tH{HD 
   HHs8Hs0/}H$   HtHHC8     HX[^_]A\A]A^A_AVWVSB 9B0
      A8E1B AxIcDHuzK tDZH2DJ AMcDJ HrLcFD9J0~A8HquLrMcC<]tFII tB  APtt1u         1[^_A^AWAVAUATUWVSH8H$   $   L:Ht$(IHM|$ ED  > HtRHuM1v<	tnHt$(MEH|$ L  > Iu4Ht>Mt9HA   LyHHtAD$tHt   HIDtHH8[^_]A\A]A^A_ATUWVSH 1A   HH,   HLD$`xLD$`HHt  HHLD$`LD$`yHR HD	Ht	,HsH [^_]A\AWAVAUATUWVSHhHi hHD$8        H HcH     1 HuXHC  t
     1HSXHC  u9    [ 1HGH *XHF  u1HXHF= u1WHGHG              = H1	WHC     A     u=}  uH ?8 tH         H hHm HC  uaHt$@  u,    F H?  HPH HPHHpH    HD$@HC <t8<t4|    H=B  =  HxHCtR  1   VHC:       Hh  t
        Hy  HCHPH  HP     Hs~ y     = 	ub       HHL`      I$H HD$@H HFH HF  uLf	  =p 
t

   2   HwU HG  tC   H    
     
   c 1 Hh3UHC  1   UH  H 1E11 A   Ll$XLt$P@H|$HHD$H    HD$P    HD$X    D$$D=#   }?P  tV  	V      # @E  H H HDHp     f H5_ H  HHpH6vtHHc #v DDAH HSHCEt$HHT$(HT$(H9t8=uII	HE1H@   I    HH @uJ	s1H H tutuHd I] Lk#  xHD$HH   HH9   H|$P uzH|$X ur@um  
fHsH8 tH: W  H_zHtH  uHC$ HCHi @CHC   H        I    IE     #  HD$$CHD$HHCHD$PHCHD$XHCr  9 Ht$8  uH; HHpo"  H    Ht$8 Ht ;t     hHXHHsHHh[^_]A\A]A^A_AWAVAUATUWVSHhH:   HD$W sHH-  Ht$WLkHHt$ LcMH Ms   Ht$0L{LsHLl$(MMH Ld$ dsCHt$8LSMHLl$0MH Ld$(L|$ LT$H-sLT$H~kl  KWHt$8MMHLl$0Hf Ld$(L|$ rIHY HG H  8     |$W:  HMIIH* r    -   H%pHtqLcLl$WHHCLl$0HkHD$(HsIH Ld$ IGr~kl  Kt  Ll$(IIHLd$ H r?@uGHOAHHD$X` 8 u"HL$X HHt	   H  D$W1  .   HkLko Ht$WH)Iu"IMHB Hq\    HCu'Ht$ MIHH Zq,     AHSu-Ht$(IIHLl$ H $q     ALCu/Ht$0IHH Ll$(HD$ p      A
uiHT$ MHLCHt$8H` Ll$0HD$(p   K1~vd   1MkdS9BdB2S9vPdSHAuUHCHt$8LKHHD$(HCLCLl$0H HD$ 5p~kl  K|$W.    t{;~BHH\ .   HmIIHp HHouD$W ;<{{{|$W Hh[^_]A\A]A^A_UWVSHH)t$0.   H&mHt}H H:oH= HcH@+ HT$(H     f(8 u
HD$(8 t@s@+HKH| C1%v @sH*YH| Hv H*(t$0HH[^_]WVSH0@|$pHHAuHDL$/ClDL$/AH1D9}?Hc<\u#T@tA8ut# \HHct
H  )H0[^_AWAVAUATUWVSHHE1D$    AAHD$8    %8|H|$ A8|HD$0    A  H H L8AMt*'u" %!8|IEHLhE1       AA      HoE %   ~A9vH} HuHJ *  9u   t %  u	   AA!  HHEHGHCt*H{A%8|%   =    u    #H{D8|H_  HGHHx 8|  D      w5   wQ            j       
  w   t"   th      ti   @taS  IIO '  HzHt@   CIOHHC    
    HC    '      4 HHCsA0iW    IWW    p    I !  A   Hp8HCHHsH} A   HH} uIWIO    HCL   HHGHuH  Hx4DI8|&  ) AGtJHC%8|HHD$0HH[^_]A\A]A^A_AWAVAUATUWVSH   )$   L-" H$H  DEHI%   LEA D$8CI7P#	  IcT L|$8   E  A  <	  CIE11H.gIH  E    }	  Mo(EHHA  @ IEIG(^{	t?$@  EILHl$(HD$   }    {	tE      1IwA   DAD	   A   E1HHQgIHuE    *  Dh(!         -hIHuE      EHH+  AC<uE    U  <u2AsAM    Dw EHHA   *  {AuE1{uCH$      HD$8HD$8Dw HD$XCt<uHL$PIH  =u+<u'H$   EHT*  $   t
      D$P    D$XEHH$*  AD$P  C<uE    V  <  Dw LL$pELLL$@)  L$xtW tML$   LL$@LD$h<W tuHL$`MHu#)D$pD$`    D$hD)W C   E   HEHZ)  T$PAB   D$`   t	|$`t&HL$XdH   HL$hdHwwT$PuD$X1uHD$X L$`uT$h1uHT$h9w+19w9rAA   AAG	L    uE       E       E     pD$Pt.wt_t0t:SL$X   A	T 9HT$XL3#HT$XL$HO8LD$XELE u_C<<t1IDw EtLpL$   E11H$   L$   bIH   E    L(dE1x      uE      	   IE11HbIHZ   K  <!Hl$(HW8L  LK D$ H6I}  t	M  EHHZD%   D$HC<    H  O ;L$8<  EHH@YA  E1  A-  |$H -  D$8G ;C}    AvC<  E      EHHKYAE      D;A  uA t.      uH   E1LN      A   u!   IE11H`	   I   IE11H`
   IE11IH`LA
   HIIgaMMI^IE11Hn`IM@EHH4X  IE11H?`IH      <#HW8Hl$(Lx L  D$ E    M  {u;,tE 
      E1CE<A;,EHHVAAu{uE 	   [AtE9{uE1<AE1<AGt6EHHWMDD	uE1HDLl7  E1oEHD$8    qL|$8A   E9|JLHD\$@4HT$8A   HII_HD$8M   H   D\$@AE9   LHIA0uMcG(HL6  E1ALHAE1A
,_H   AMMIL$@D;t$@|NLHA   LHII^MtQHtLA
   E1HH^IHt0D$@H|$8 ?HT$8MA   H^I!E    L|$8Mt<E1cG.HT$HLT$8DDL$@ALT$8HT$Hu.DL$@A_t#AA uA HA   E1   D	($   LH   [^_]A\A]A^A_ATUWVSH HHg 
   HH HH9uH 8 tIHI)AT$s HE B \Hr HE HH)H [^_]A\WVSH H,   H)]=   HH]HHt4HtH9s* HHwmHP KH,8HHt HmX_HtHK=HO{ t\fH5 @   H [^_UWVSH(9+HHuH@+1U	wf.   HP\HHt
  
      @0uC1<X   Lx9 IHr HHt.HHH?H([^_]AWAVAUATUWVSH   L- L% H   D$@ HD$8    D HD$0H/H  HHI Hw~H  H)uH4 H#Bi  uHz4 @!T  DsAwHMcLd HU4 BD.  uH?4 H#      tu<D$8HL$0PT$8PH.n T$8HD$0H    D$<      tu
t$@  	uH3 HL$0LB@  
u&H3 HL$0LD@     d  HL$0LEtHL$0LDtuHS3 HL$0L@  H#&  H-3 HL$0L18   H@  oHxIHHuH HbH +ux u+u   < IG(
HAG IcO uHH14g IGIcG HL4tcIGLIoNpLL$(*YLL$(E1HD$ LLDT$(E[DT$(HtHT$ ALIGFT5 B40I  I(   H	  uxH   HHHuH	 
(u
z u)uz uuH    HL$0   LqHOHHHFL+t  CHL$0wL    Hp Cw!L;    Hp@$  u%L5H   E1HHH\l         L]bt4ct6dt8pt:ft<lt>st@L HHE  0  (    ! @              ~ uPh  LuULy   HC</uHH%  HSHwfCf  HHP )L   LD   u+L   EHT$HHHl H$   #u'   L1HH` HC   u6L    HHC$  Hrg H_ HCGu.Lh   HHC$  H6_ CHHi HEHD$0H   [^_]A\A]A^A_VSH(y7Huo)   WHt  ,   HWHu     1HHA   ^ ,   HWHt  HHA   1^ >|   hWHt  |   HSWHtHHA  1  H([^D^ H([^ATUWVSH Ho1 HC   H0Ho Lg8HK%=   <  uHksHGHC  s	Lc        HCHSHK-H@    H      t> Cu uHHsHKT=   tH3 3 HSHKJ  PBu{   u%8|tL      HHFCt l
   HXHF FH [^_]A\AWAVAUATUWVSHHH$   D$   L2Ht$(HHLDl$ E"> ItHuE1   D  @ D$<{
urDD$<HHJCt3<	uEu*Ht$(IEHDl$ H> It
HtE1LA
   LRIHu   LHH[^_]A\A]A^A_ATUWVSH HIuH HiLD$`H
HHcHt5;HI$HH);LD$`I 3H [^_]A\UWVSH(H-2 HH
HRH[g HkH HHHSHH     H@HHHC SuC(      H)2 HSuC(  H2 DH&2 HSuC(  H2 !H1 H{SuC(P   H1 HC:HH9 AHs H{ /   HP?   HHPHHtHtH9wH#   HPHtHtH9wHuH 	H  HHCHK @   RHH     HKQHK AIIAMQtu<+uA  c<%tA ZAQB	v @PWvA %3Ay0	v Djv1	=   wA MQIMA  H\e Hs HCzH([^_]H(  >  H      v9      H(/WVSH H ;u   t$o  <u[=g  H5 uH E11  Hs H    HFH HuH5u iHHHuH0Y<wIH55 HC    1A
   H=~ 8 u	x{>-u~ u	C	nHCH [^_WVSH0H H     Ht{    /  188 HCLC@{8LD$(@  LD$(Dw      m Hf  HPH HPHSHHBH0[^_AWAVAUATUWVSHHH HLD$8H HD$8HH) Hc@t&HL$89 uH H +l$8   L,I}  uHw IIE 1IL \$(Ht!jID HHu?Z @Lt$8   L%u| LH?    11HZ IHtJAHt:AHD~HP09 H}MD9uE1A6tAHP0nMIcLHtH H:; H:MHHF@kIL Hu)HA9t$(1CD$(D$,11)Z IHuIL ?ID     { LHP09 LLD9|$,tDgD9uE1E<>IcEvAA
;{ AIcHP0LSAWAVAUATUWVSH   P   HD$x    IHD$p    r H=( HHD$`LL$hLHD$ L Hm D$0Ht' Hc0D$0tEH\$hAH+u{-   HKDDHD$     E1
   ` ;-uHIt Ht$8BHB8D$0tHL$`HD$8H8 tHHHt] 1] |$0HT$pHD$xHE|$41HD$@Hy HD$HHD$HH`X HH  8 uHKHt _ Hg  Pt< I  H=& HL/IM<+tA<-t< uuAE,   D	jL7H& H$       M~0IGLH     1HJ9 t1HHuA   tE1A9F,AtA~ A~$ 10  D1D$WAF8E1E1D$PM   LLD$XL\ LD$XIJ L$PA   HLL$XLL$XHtI9u3LE1ID;
tHI tHML)I9uI9t	{uH HSLL)$\ IAF(DHH$ EN(MtLIWHcHH 8u7Mt-HLDL$PJDL$P	utD   DM?Mu1Mu	E   tEF4H\    lW5
  H$   LHMtJMgHKIT$HJHcH A8$u!	uH$ A~( t   M?tVL$   AF0   I$LH$   IT$HHP`H$   M~I9lH$       M?Mu|$W uHH;$   61H INHc0AF0HIF    AF0   H$   HtHAH     H# 1E1H p0e41YH HHuH
 HH   ;+H|$@u|$4 uH|$p   	t$4H|$xa\HD$8H8   HLsMGAE t<	tAU<\uIILsGH -m  EvAE  L[ H    Ha HHn  HKL-y" H$   A
   HH$   A   I} G$   G   {EH$   G9,uHA
   HZEGAH$   A
   HHH:EH$   G 9,u.HHA
   EG$EHH t   H|$x G,    uH Z HD$xH|$p uHl Z HD$p8U  |$4 tH\$xH\$pDwH  HD EGt|$4 tEtAt1|$4 tH\$pH\$xH  H$   D 1DH$   : t8t9Gt/LJL$   :/uH$   ;/uHH$   HT$8HHHEt`t$0H   A t$H 2 t1c  H\ V  Hk 2 uH  [V N -  t	9G  HL$xH Et$0H   tEunH  /2 uK/   HEH$   Ht  A   H=H$    /  HU G801Hy U G8QH 1 1HU G8u4Iu HH K HF@HU N8H$   F<Nt#I] H    H HC@<U C<IE @(    @4       IE @4H6CTXH H @HH   [^_]A\A]A^A_AWAVAUATUWVSH(H1HIIH      H   <;vHHsILAI)H= I,L}HL9xsH@H9tHL/HGLHAH9 H     ;%uHHt	<;tH1;;uHCHMIE H([^_]A\A]A^A_k 1H([^_]A\A]A^A_AVAUATUWVSH0r HH9r0A1I  LjDa
LcC|5 ADa
@9@\   ;r(|	A$  zK u
HcAt5 rHHc@40@D$   @3CHr @_D$   	C
	@BC
~  wq@9wC@1   @(
  w   @'  |  @)  @+
     @>   @?     @<   ;  @sH  w9   @W#  w@SD    @`I  @b     @{  w   @w     @|t@}       A        C
  A     1C;  Ax  C   i  A   Y  C	   J  A?  C   0  A      C     A  C   A  C!  A     C"  A  C#  A  C@     A  C     A   x    A   c    A     AA  A     AG  A      A   Q  A      A   [  A@D$   Zo @_	D	S
@._  D$   wA@(  w@
tk@$g    @*        @+tx  @^  w@?tw@[   \  @|t.@}   @{tmA  A   6  C
(  A   A   t  C
  A    C      A     C   A      A      C   A      A      C   A      C   AszC	tCiCcA @ utC|5
uNAsGC   ;Au+;u(t$u HHL$ D$(M P   wC       H0[^_]A\A]A^B 9B0A1   LRLcGD	A\uAt~;B(}wB HAjA[u@;B(}0CD<:t<=t
<.uAA
AtA   6A[(A]tA^tA-uAA
AA   ATUWVSH Hv PptPpHcDh$  xWPxHPHJHH  HH(Ht4u!Hy tH@P	t     s  ~     Hx     X   SHNv H- L%+ Hp HpH} H-v d HttA  H      Hl H%x A   IHr H  HHA  uEA   L   , H    tf
       96
   [Ny"Zi Hwu @H@      H=[u HcHHwHVt<uIH;<
uHH+GHGHHuHH+GGH Ht HXzi t HHHt HBHHHJ Ht JhBhJlH [^_]A\SH \u
t@O  H [H(W=  tH(AWAVAUATUWVSH   1   Ll$`HLH= Hxkt   !HJHt9-uHtHLL$XLD$\HD$XH: D$\Hxku@t  1=  H Hc86|$\ D$Hu	|D$\L4ID$\EfE1A  D$XyHtI~ t
 HtLEAAK HD$`11E1HD$8H8HD$@HD7  HHa  D$H9C4tD$4uD$Xx9C8uD$\x9C@uL{Mu
L{XIOfS
I@uLT$L6T$LLctA| uHtA<wA H|$4 tD$Xx9C8uyD$\x9C@ulI>    tWD$     LL$@LA   HL$8D\$L  1Lc\$LtHCXL9tAI@t1$    tk9T$4Dk4@@tH6LYK HExC K4ALM@ HtAHDM1EHc$   1A< H   [^_]A\A]A^A_AWAVAUATUWVSHHH- HLD$8Hu HD$8    HH\$8Ht%HKHQ7tH    HCH A   H-( AHc H4HH   F1IHI| ut$H1IL MD MD HIL H9|MD$,Eu!AH	# \$,u)II> uL|$8MtIOb= A;tM?1LH4Nu

   HH[^_]A\A]A^A_H(E1    Bd H(AU8  ATUWVS^H)1H-Nd HHt$0Ll$/A   H1s  H~91IH9tA   L   D$/.H& LcH   L^HT$/A      D$/
& 1H8  [^_]A\A]VSH(HC    9   u @H   HcQF    @H   Hc   H   H   @4H([^UWVSH(S  uGk    	yt 1H*  u\   l     Hl HGHHX   l j HHCHH  tH    Ht t   tl  HXHHH([^_]SHP    HHj H D@0A9wAHA    @4AH9wPH\$/DJDAHq H 4H* HP[H	QH AWAVAUATUWVSH(	  H$p	  EA} a       H=^m  uE1E111\ HEm H$p	  HHD$@H-m    $      H$   L$p	  H=` $       H$  $       AT$A$fAD$  $   G  f=  HHN6   $   A    AtD$  1L$  A9vHI;4t@tD9uJ  $  A)     tB$   A1L$   A9vHI94tD9u@tJ  $   t9$   A19vHH9t t9u@tH   $   Hk Hd 8H$   H# $    fAD$tH  f    DEIL9d$@H$  111HD$8L$   Hp HT$8L$   HD$ MMCd L5<c    ANNE1D$   AH$  A9uFHc HD$HH$   E1E11D$    HHD$HtHb Hb tHZp MM1HD$ HT$8c H      H$p	  1A   o  fCEc  &^ HDH9    1LD$\Hb 1E1H|b HT$8H,tD$\	u	D$\H$   H,tL$\H$   Hw,tL$\Dl$\{D)tNtu1L5b AH$   HA   A@   b D$Ha 1AT$HI'  uA$tJ'  tD'     At
  	At(   	CH$   HA$   <! fCfCfHH9\$@xuAu      [ H(	  [^_]A\A]A^A_H(H uH DH(ATUWVSH Ld$pXHAHcHLHHHp
IcHIL$,HEHL,H]CCA$H [^_]A\SH Hg H^ H9tRHa HBXBXKxZ\HK 1[ H{( te  HHHfg [ H [H [AUATUWVSH(H= HBXBXHi HHYH{i Z H   L#HstGCA    tHKA   H9NtA   uZ VC1D!1F' u|5Hu&HSH@afRfPqHKGZ O{ ufHN :HFHtHKtH=uFu	HNY CFHCHFHLY H([^_]A\A]ATUWVSH H HHx AtrH HAXAXH*1H]9s~3|Tu	EttEuKZHHHHEPY H [^_]A\ H [^_]A\SH H9 HtRH+ HBXBXH	 H HH;tHHX HSHKHPHHHHPH [H [SH He HX(H HBXBXHCHtKHd HRR t	uva HK H;HtgX HCPHt	HH Hd HSHPSH0PS0P@HS(HP8HHPH9t	HX H [VSH(HHHCHtHHCHuHLLD$Pu(HHt HBLD$PHAH9HAuH([^H8wD$(lL$(H8>  AUATUWVSHA H |  LcF@DMJ4LD9Hc   ~@McAhMIE!EiMfF$fF9$ruF  F8(  DFAMcFHMfFfD9r(uEF  D88  vfDPDEtfDP[^_]A\A]E1FJEtIF8Lt1VSH(HHHLLD$Pu3HS1LD$PHtHHuHHHtHHSH9tH([^H(H HH9s	x
uHHH(AWAVAUATUWVSHX  L$  D$  HH$  LD$  H|$p%D$  HHIAHt$PDl$(EHLd$ L$  HHD$0    THD$@    Dl$8Ld$0 wADt$(IHHH$  A    HHD$ HX  [^_]A\A]A^A_D|$(IHHH$  A    H  HD$ IHHHD$     A    XSH H$ D HEt
A@
H   AIHM HH [n AWAVAUATUWVSH8EL A<t1  Z*HHtD9   {HSEuLc   0    ~Hc|
uE1D)   BT+T$,S T$,L`0%  =  tLH     tu@u?   {   L^   {$LIn$iS H HP0  H   H8[^_]A\A]A^A_AVAUATUWVSH0H-R H5 L% L- D$/ HH|$$I   H4H|$$I9   AJ^wT$'HHP0   wKIcLH_ bH8 YH4 PH0 GH, >H( 5H$ ,H_000D$,L$*T$+LHHP0s IEH0[^_]A\A]A^SH0 f/sH,f(\H,H?H= @
uMHxH*HHHH	H*Xf.z	H t+f(fH~H H0[h tuH H0[M H    ?   H?HuHuHHT$(H!H1!HHT$(u
   H0[VSH(HH4
H9tLLD$PH LD$PH([^WVSH HMtLH2  H= tHuH q tu"HtH HtH HC 1H    H [^_AWAVAUATUWVSH8L$   HHe E$   HED6 Q"*   HH! HH@H9    HDO D$        AB<gw4<e   <X   w<E   <G   O  <ct0<dt=B  <s   w<it*<o
<u   <x     AH8 
  L) HT$(LHwrt	HD$(    LD$(HuHuLH    DHuDH    MDEH    L3) HT$(LwMHT$(LLqD$(Hu&Huf(fH~Hk @f(fI~DHuf(fI~DHB f(fI~EDH) D6H8[^_]A\A]A^A_WVSH 1HHHH9t%LLD$PHf(fH~ LD$PH [^_WVSH 1HHHH9t%ZLf(HfH~LD$P LD$PH [^_SH0HT$(/~LD$(HtH HH0[WVSH 1HHHH9tLLD$PH LD$PH [^_AWAVAUATUWVSH8L= HT$ MLL$(2 HILHH* HH   %   HIHu
HG hLHHHLHHD A *L HHP0	 H^t%u1%   TLL$(LD$ HApL-HH8[^_]A\A]A^A_UWVSH(HD   Ha CCt{ tB9C tHw o {	 Cs tHS0DHw 
 H' tDHxw 
 %   =   tHH([^_] H([^_]WVSH0HHH|$ HHt$.LHLD$`HH|$ 
 LD$`H0[^_WVSH 1HHHH9tHLLD$PH	 LD$PH [^_VSH8HHL$$  HH3  rQJ HHP0 \$,BD$,"   X	 t!<"t<\u\   	 H	 "   	 H8[^AUATUWVSH8H5 L%v D$/ HH|$$H   Hl$$H=I H4LmH9t^uHy HP0; vT$'HHP0$H@LT$*P@T$+D$,LHP0 HH8[^_]A\A]H(H uH DH(RATUWVSH0HHk6H   HtwsL%r HL' HHtP{  u{! t ? tH|$ LKAL sH{ tH HKHP0 HsH1H0[^_]A\VSH(HH4
H9tLLD$PHk LD$PH([^WVSH 1HHHH9t_LLD$PH% LD$PH [^_WVSH 1HHHH9t_LLD$PH LD$PH [^_WVSH H5	l    H=p > tIH HuH [^_VSH(H5 tCDH|H([^UWVSH(HLLL@n   @NuRs   pM Gf% f= u6H+' HH  IHH$  HH([^_]H@du!Hb H{HH([^_] H7 @Dt@iuH. JHW@auH 2W  Q  @AuAIHHH([^_]Y	  @fuH W  @FuzAAf% f= uIy( H H HEH f= @tH f= 0tH f=  tH f= pf= Hv H HDU@huH2 TWy  @uuH :W_  @UuAI[~)@guH W4  @Gu!AI vHc HH<TuH H1   @suH HW(-@BuHr       @buH\ xHWP@ouH; ]WH   @xuII0F@XuH 7HW0^@yuII8"@YuH HW8:@zuII@@ZuHv HW@c   oJ @HH([^_] H([^_]WVSH HLL@n   @iuHd W@GDH H	  @luHD fHWP	  @tuH, K   @Tu<H' E	1I
Ht	A9tHHIT HH [^_Z  @buH HWy@fuH HW a@auH HW(I<SuH HWK@cuHq HW0@duHY uHW8HH [^_ c   H @HH [^_ t(xHCH  @uu2LBH~| HH  sLBHHt| B H8HL$(H LD$(H H P$H8 SH0HT$(zLD$(HtH HH0[#H1   SH HIHA uHtTI)DDCDCD <^wIe' H
tw?HHtH)SSHH [\HH [SH HHI HSH IH [VSH(Hz Hu)Hy H HHu1<H  HHu1HHHtTDHt
Hg     WAWAVAUATUWVSHh   I   C  ID$Ht8-ux-u
x uIID$HD$8Hu*H H 8ptH w     >HD$XD$H    IHD$@HD$8LHD$PHt$P  %t\H  k  HFHD$PV%u%   O  bu^HH>  p  Hr<\u3B<0uB0<wHr<c*  HL$@Ht$XHt$X H   tH HtHF   HD$PHD$P8*u-HHE1HD$PHt+nHAHHD$PHD$P@8W	vE1HD$PE18.ucHPHT$Px*u*HHHD$PHt@nHA2HHD$PHD$P@8W	vE1D <lu%HQHL$PD)AhAzuAH  EtHuHH I\$u   Hl  UE1H)H:MT$L T$LIHHLMLD ED  lAD lUHHtHH HD$ HEE= L 	D$H-HFHD$P~ct;HL$P}~HL$P HD$PcI9sH; tICLI9|$H 	   HHh[^_]A\A]A^A_kVSH(HHs   *C HHH([^ UWVSH(HcLLHH4uH9t 1HFuHH< tH9uH H([^_]VSH(HH HHtH5 HOH([^AWAVAUATUWVSHX  L52< 1IILH$P     HM   IL|$PI)LL$@HL$0HHD$8H	   HL$ HHT$HLLD$8HD$8H|$HL|$@HD$0   H+t$0ILHI   J Hu(A8t A8uLtH8 ={H\$8HT$HHI0HL$ E11LL|$@HD$0   3H+t$0ILHI    HtHX  [^_]A\A]A^A_AWAVAUATUWVSH   E1HT$HL$~D$
&aHHz	  HT$HL$~Dt$~AaD$8    HH H   H	  CD@   S u{( u)H{ u"H{ ~{( uH{ tA9}YA9tXHKHt.D$     E1E1H9  uHSHj H   { CDuHtCD1   KDCDC(}D)C({  ~C C(tuHuD91:H{ t3HKHt%@t D$     E1E1H     SD	CD   SD{I{uEt  1SI{u}u  HHuHq '  AAtAAE^  HCHtH1 H   CI=<<9  Hq HcHH  H EHp HH   
   HHHt)  H A
   HLD$HP#  
  H A
   LD$HP'  
   HLH  HPHGjHCH=W HHD$0uH   HD$0HuHo @oHD$0LOHA
   HH   HD$         @    D$C H      D$HH&D$D    H   HH D$D@HD$<H LchLC@t9D$Du1d1A9~HD$P6HD$PHE    IIHD9l$<V  N  HA  HD$PHD$PH9D$<D$<D	
D$HD$P   HC8E1HD$HH HD$XHT$HIc   \uYAHT$HIcA	wvHT$XHHcTthH 9T~[HD$hHT$`NHT$`HD$hH&u/H Hc@HHx 9BL~HD$`HD$`HAMD|$PDD9l$<uIctAED$CDHH{@ uID9l$<D$H? u|$C u3D$CL HL$0A
   HD$    IH  HOAnEuH9H H   E  CDtHPELD$H  HS0D$8   H  ELCHH  r  HK8 HE HH   FN  H* HK8A
   LD$HPCDQ  H HK8A
   LD$HP-  HK8c!HH  H L   H HtHLH  HS0/H H|$8 uHPEIH  H  HAHHL$~HDt$~LZD$8    HY  H1R  HI  HAHHcHHT1 H8
HL8HHT$HL$~Dt$~YH  |$8   D$8    |$8   H{8H  H H   Ht${I:uHK8HtH  HHH>k njLDEtLPE8uDHDEQ  HK81HH HH HuHj h H     HtHxL- 1IM HtHHc Hu  Hj HA
IU HH      H= HO H HG    H=m A   HO Ht	Dh1HtHDHO Hcg HG Au  HO Hj BHt2HO H1$H=  HG Hu
   ]( Hw A
HHH 8 uHPELD$H  HL$HH-}H   [^_]A\A]A^A_AVAUATUWVSH 1E1HcLLAHH4u
H9u[   @tL@uA9uGE1   Ptw
H9u&   \   '   "   	11@Ln@uuEt"A'HJ\ HJ\ HEHF\ gH HP HtHu uH0HLL[0 At1@A@LH9H H [^_]A\A]A^AVAUATUWVSH H=+ 1HcLHHtHHtHGH9t HHHR tW9uH9t~ 1;tbLgE1LzHILHu Eu$HH~/ HGH(Hu-AJ(LGHID HHH9tkHH H [^_]A\A]A^UWVSH  HD$`0  Hu1h   % 1   H HHt)HT$`H H	HT$` uHl* H1V  HS    1H 0    DD$h1   o, HH   HD$PHT$8HHD$ LL$HLD$@+    HL$XH+ D$<T$8A A
   H HHIID$\H HD$XHHI1HHIDH)D$L)S0T$HH HHIT$PC(D$TH HHIC,H_) @t.1DD$h + HtH    HH{D+) t$h$   s4C8) H* 9uH H !H$   K4L0 H=6HHDHKXA   H$  HH  [^_]AWAVAUATUWVSHXHHt$(HD$(    zA  1HIH C$d   IH C(^H|$( tHHDH|$( uLD$2Hi L^HC       /t1Y   =   GC DKDS 11HD9}:DCD@DCL@A8 tC   D H BLAE)E~SHc	 { HHCtY{ t@1H- HHHHLH9{tD HHHHLH}S LCH " 1L- L5 L=z SH@HHt|{ tbHs1HIIHILP> uf- HH9kt)HcMHHHB")DBLOHHS LCL q1HX[^_]A\A]A^A_UWVSH8yjHH9uAxH8[^_]  LD$(   LD$(uAhHH
AxHHH8[^_]  ~LAHcA| uuA    SH HHt6HIHt-19~    HHC    H    C    H [HQ;PuHuHH   1D    DD;N|GLYIc1HIHB1A9~EDE9wHE9r1
   VSH(HHH9tO9S}H   HVHK19~DHHDA1DD9~    HFC1H([^HctHQD@TDtWVSH LLuHvA~   H/  u
HPLcHNA    )E1NTLAAxA:IAD!AAE	EZA1H [^_VSH(H9Q},HcHIH@ HcSsHC9S~    H1H([^VSH(HHH9     HC1sC    H([^VSH(H~O9Q}SHcHK2LL1LcND9|EEH1    H91H([^AWAVAUATUWVSH   HH\$@RLH$   H>   H$   HuH$   H]  H$   H$   H|$pH$   PH$      H$   HPH$   HkHHHHD$x    $       =    D$$    t'   IH)D$$   T$$IH  Dt$pD$   HL$XEE)E|$DD|$XDH,McIHHt"HD$hIHHL 
  e  AEA~DHE)D$(H$     Lc|$(Dt$,HcL$ID$p9|$(  9  Lct$,LD$hMl$H$   L$   IB:CD!IVHT$0I9u	A HC!H H	1HA H$   A HD$8HD$0HD$hHd
  1|$( H$   ~BL:H$   IB:H$      PHD$hHT$0  1H$   ~BL"H$   1~B"HB*H$      PHT$8`PHD$hL$   ILl$pLLL$8BT0Q  D$,HDpDNMHL     |$xu9LL$8HLQDHMHLusHD$0HD$hL$,I0tH$   @H\$pT$$D$xIHH$   Hc9D$p~    HHHT$@1HL$XD$$H$   HL$pH$   H$   D$$tD$$HL$@ND$H;FH\$@tIHH)HL$@HT$PLEE E1HM LD$PHU)D$@D$$H<D$$H   [^_]A\A]A^A_AWAVAUATUWVSH(HID$   L9Y7  DlMtD9$   r$   1LLHc HD] LM1A9~AHCHE1H<   A9}[D$   D1E11M|$BHCIHBIH D9HtHAHHcH19|IHAI1D9}A    HH] LgtILH   u1D9$   sHH([^_]A\A]A^A_WVSH LLl~   H*t`A    11A)9~$HSLHE
DDA:Dt%=  ;Su
HDHcHSH<H1H [^_AWAVAUATUWVSH8IILLA9X|HcHHuDLA  $   H9sb A   I1HHIC IE11E1E19   A$AM 9O))9~HMuHcHI<H|$ I|$HDEE1HD$(19~6LkL|$(G<7Lt$ E4HMIDI MEI EA<HkAEA3D$HVF19~EDH    HHcL19}A    HHZHt1Et
LN1H8[^_]A\A]A^A_VSH(HA;P|LLD$P^LD$PE1E1A CA@9~#HCIPDLKH HIMt   tIcIHDJEDHcHD9}IH    HL1H([^WVSH HHD{  A @  vA  @  HHcHH;V~HyHFHctHWHH1H [^_9~LcE11I  LIOGGID	A)A9LcID	A9~LIC    IA)D	AWAVAUATUWVSHH HIL9Z|HcHHu+PLD$     D$   EI9s	 A   H1HLH HE1E1E1E1ED9   U DD9BD))9~PLuLcOLT$(Lc)OLT$0EE9N1E1T$<9D$<~MHkHL$0HT$(HHILEH LLAH AH LAH AAu%AMcCHLAH LAH AFIA$IT$A$19~DDH    HHcL19}A    HLHt1Et
H1HH[^_]A\A]A^A_WVSH0yHH;ztAxH0[^_  LD$(LD$(tAxHH1HHA@H0[^_  H(1A   AH(1HQA        9A~    HHHHH5H(He HH0  HH(*VSH(E1QHt7RK11=   t11H 1   H([^H9% @pH(He ~vH bPH
DH(H(x    H$ @HH$ H(VSH(HuH H H@\19tHIHuHcH   > pHHtDDH7 HHAHHQH([^H H L LL@H@LAHAHh WVSH HHHH HBXBXH# Hz( HB0t8    H# HR(HH# HQHA(HPQPQpP0HQhHXHP(HtKHp HqyAp    H [^_UWVSHHHt$'MHAHHNs )HH>0uHHHH[^_]SH0H HSHHS=?  wf
C@
C= @  uL$, L$,CHSD@DC,{ @  u
H0[H0[SH H4 HB=?  wLBABH [DH [8VSH(H$ SHK(Ht
CC    s+sVx-CHS(u    V   VCC    H([^SH ? H# tHJ0HJ8HP0 H# 1AA    qAQH [H(H# P9PsH(ATUWVSH AIHLD
tt
   

HLG A<$ xE@uH1x@t@HHtH2 HL  #L] H [^_]A\SH   HH^ F   H^ HH   8/u{t,HP/ux.ux.HPtHPtR</tNHHT$ H,u8HT$xHH^  ,u#H$   H9D$(uD$x9D$ u
H{ " H   HtH_ HBH   [VSH(H HHs0tHC`H9C8u
1H_  Hs8HHY _1H([^HtA9TPAHc HAWAVAUATUWVSHX  E1L5h 1$  IL$  MLH E1H$  D$  Hl$PHD$  $  LL$  MH s?1< HD$@LD$@  HH	  H HHLD@DP
BPBDP LD$HD$< LD$HIH8HD$<LAD  Ht	E   HS H Eu9HI HA   ;HuH7 HE1$HAAKHuFH  HHHuH HHHtH  HD HA|$<HL$@EuAL5 SHt'LHuH1H  tMLq LMEH  LHHX  [^_]A\A]A^A_SH H 1HHS4LC0b>{0   vC0   {4   vC4   H [ATUWVSH 1L%5 HHHH9 H@.@t(@LHt	Hc\HcH@,HH [^_]A\H(H H HH H	IHH (UWVSHxHa: HH L~H\$ H HOIH|$0H H8t5HcL~Ht$ H HIHcH HH<H(H% LA@XA@XH   H_HHPmSH H HC\ (I{ u{d u   10   V1VSH(HAHH9Ar3Hq(	A   H  Hb 	FHHsHD(HCHCScHHHK 	CH([^AVAUATUWVSH HAPHLu      A19~HND$HED#   E1IL_@E3E9~&ICJD9#uHKH     I   X   &HH   LhHLc  t
HnLk8DF1A9~EHFHcHHHtuKPuKP@t	@  tKPHEHHCx  tHE    1HH [^_]A\A]A^AWAVAUATUWVSH8IAPLDH$   u      B,
19~HO,HAE#   1IM]@E#A9~1ICL<A9/uAGP9uIO8HF  l  H   X   IH;  LpHL  tL+  AGPMw8E1E1	AGPD$(D$,Dd$$D9g   HGJcHIE pPfu   uAOP
uAOP@tpM;w8u*   5IG8HtqHHA  ujAOPE1@tt$@tu@t|$, t@@t|$( uT$$LD)X
  AI0ALL/v  tLH$       E1LH8[^_]A\A]A^A_AWAVAUATUWVSHH1L9A   IILu	YH E1HD$(E9e   IMIJc,HDD(Au(I(H   HD$(H   Aul1IL    E1H(D8Es6Bt-D\$<DDD$8LT$0Q D\$<DD$8HLT$0AIA uHH u%AtAu   HAuAN0IHH[^_]A\A]A^A_AUATUWVSH8)|$ :HqHH9q     H<6HHpH	HtHHHuE     HHKHHtH       HzHK IHtH    i   HRHK(IHtHHB   H+HK0HHtHH   HMBM9H0H'LkLc Hk(HC0H{HKHHHH:b HSHC(H     H@    HCHHC0H     H@    HCHPHS(|$ H8[^_]A\A]AUATUWVSH(HRHL12  A@&  S+9~>HKHcHtH    
   H   H   HC+KD^GHnBLgAMcFT LcG;u2LcLCIxG,IE9}t	LcGAx}AyCNOD@q)CHC~:Ex5LcFMcFEMcNE9~EtAEAuHcHcHHH4H([^_]A\A]SH HuH    1HA    &HcA    H    HHCH [HtCHt>DA1D;Bu4IcHAxLIELJEHE9u	   11DAE~7LIA@19sDAEC9}AHDA1C9uAVSH(H      HH   HCHuH       01H([^WVSH HcZHHY~3HHHFHuH       HwHHH    HA    1H [^_AUATUWVSH8HHt`zMtT~PAXLD$(~VHT$ M HcH,IHE   M   ME1E11HT$ LD$(\MtAx ~LHH8[^_]A\A]HE     HE    jD.IpIcA9~#AAAI9~HrHcH4D99uAE+D9~ D)IcMcIHcJ4AHHDU1L)HcAHH8[^_]A\A]VSH(Hu         AHIu1}9u1HcHtH       HHtHCHcCHKH91~'~DDDH    I)DHDDA9Hc4C   H([^VSH(H;Au9HID HHtH        HHtHCHcCHSHK4   H([^UWVSH(HHH=  B2  Q1B9}AHI4 HcHtH    t   H]   H   HC3SMuHCHuKHcMHH   Jx+x'L]LSLcLcGG9t}LcGxHSHu)HcLcHJHMSDLJD)tQDBSHSMcBMcFEMcND9~AtAEAyHcHHHH41H([^_]x0A9~)AHcHLH9Q~LAET E LAWAVAUATUWVSH  1L!$`  $h  H$@  H$H  *   H$@  H$H  D$P  H$p  H@D$X  L$  HD$8Ht+H$@  @0ttHDL$8HL$8	HD$8    H$@  $       H@(H9sJ)$   H$@  D$H   x i  MD$HM[  IL$PHM  ID$XH?  I|$` 3  Ax u;y u5x tH$@  x0 x!$X   t$X  D$H     1Hc$   D$`   H)HT$@u1A$    D$`H$@  A$   H@ HD$PAD$$  P$P  9L9OH$H  H$H  $P  $p  $l  HD$PH$  H$@  @ H|$P @$  	$  A$   $  $P  $  H$H  $x  $t  h  D$Hx  I$   $  H$  A$   $  H$H  tH$P  H$P  1uA$   N$P  $\  $`  H$@  $x  @0$t  $  D$H$  A$    $  $  #H|$@$  $     $  wL?HcHkH    IH$  H$  H  Mu  A$   t0$d    HcHH$  H  H$      $X  $  $      $   $|  $X  D$Ly$X  $   $X  \$LH|$8 $      t@A$      tH$@  @ uH|$P t1@		$   H$       HIHH$   $   $   ;$X  ;D$L-  $   H$H    H	g HcHH$H  HcHt$PH\$8<   $   $   ;D$L|D$L9$   t;o  H$H  HcHt$8< Q  $   $   ;D$L}1\$L;$P  }H$H  HcH|$P t	Ht$PH\$8< ?     1;$P  |5H|$P u>H\$8<    $   $   ;$X  }  H$H  HcHt$PD$  H  D$H  $   +$X  $   1;$P  |PHD$8< uS$   $   ;$X  z  ;D$Lp  $   +$X  9$`  wtH$P  H$H  D$  $   HC  D$H  H$  D$h  H$      $      $       H^H{P yeD$  AVH7  AtH^P;t@uH^`)AtH^XAt LC8H$   H"HH  H$  HtcIc    HtSH{H$H  E1HH$   u&CP@u
D$h    )HH2 $   tAp  $   D$hCPt9{P yH$H  EH\D$dt%|$` 3  t$`Dt$dD$d    D$   AH$   H$   $h  ;$x  
  D$l;$d  }?$\  9D$l})Hc$h  P$h  H$P  $      ;$p  }H$H  $   m  HkHH    0  L$  2HH  H   L$      HC@    H$   L1HCH    D$0    HD$p    D$p9C   |$0 A  H|$0 L        pHC@HC@HF$   H,&  $h  D$  H$H  P  $   tH     Hl   HD$pH|$pHH$   HCLcIMEiAAAD$XfAuA	T$X	   z|$Xu'ILLD$xL$   BLD$xL$   L|$X  I I@I@I@A   @u$   t$   fE   A t($   1   L
  $      AuXAuAu>   |$XuAA
t911B A#   HBL 	H u5  |$XuAA
t   L1  11A   HB#T BT 	H u  Ht$xH   E1D;l$0g  |$XuA	6  11B #   H	H u  $       11F D#   	HD!	$   BT H utHcL$0($   L$   HT$xL$   HHHH$   H ($0  H($   ($  _   D$0L$   L$   HCH$   L$   HL$xL$   "   $    L$   L$   tAH HD$xD;l$0ubHcL$0($   LD$XH$   HHHH$   H ($   hHC8uD$0LD$X   LHD$p19|$0  HHHHLD$0PH$   HHD$xM$   D$X   kL$0HcHIIH   HcD$0T$XL$      D$p    HI| HH|$XLH$   H   1H$   H$   H$   $      IE1IF9D   JDJcIGHct{HL$xHIW0L$   L$   $   t>LH$  1HHHHL9|$0H  L$   L$   I\LD$xH$   E1LmID Hu$    zxP    LD$xLH$   A   0HT$XHHu$    9I;D tA      LD$pD$pLD$xLH$   A   H$   HHu%$    HT$XHH$   HH$   H$   Hn<H$    9|$0=|$p          HC@Hy1   L    A   tOt@LE1A   IjI D!uIE   tH|$XNOT NEIHH u         4HCHH1   L    A   tKt<LE1A   IiI D!uIO\ H|$XNNN   EIHH u$!  t<1HH  t H$   |$p HHPPtHP  	H9T$0L1H$  HHHHL9|$0H$      H$   tIH$H  H$   HH   $    =  H$   "  D$`D$d  H$H  H$   $h  D$  1L$  HDPA9}   D$h     HI| t$h  E1HH$    HuHt	H   H9uD$hD$h   u$   D$h    D$lEPt@$h  yH$H  AHgxt|$` AtCH$       D$`D$dD$lH$   !H$    tH$   $   Au H$H  #$   $   %A  H$@  D$  @0D$0H|$@ uA$    t5H$  IcH$H  EHw$  tA$   uA$      E>  A~H$  $  E1HcL,       LHH      	  LIH  H$H  L$   HD$0EN1L$0  IcLDL$XHH$   L$(  HL$0D$4  IE    IE       H$@    H; DL$XuFI? u@EFH$  McEE   JHuIBPtHL$0@vEMHHLE16   pH$H  H$   H$   H$(      $0  D$4  H$8      H$@        H$@  u?L;   Mt2H$  1E1H$  1$  D$     HLzt  @H|$@   1HH9D$@tH$x  DH$x  H$x       $  CH$@  @0  H|$@  1A$   t1A$    H$@  H$(      H   H!H\$PH$   t@   KH$(  HuV1H$   HD$PD   HD$@H$       H$      HHHD$0HHuHD$H     HD$@L$0$       H$x  D$LH$   HD$XH$   HD$8'HD$8L$x  HDD$LHT$XHD$ AH$x  D$   D;H-  Ht$PIcHHP(   9D$L   H$x  D;Hm  H$  McLHHHP[  Hc$   H$  HL$8L(L4D  IA1IAGD$`9t$`~AIGL<  A  HL$8D +  H@  EA  HH$  HD$H     H$x  HHD@	0V9T$LH$x  HcHD;	~DIHL$0@
t| tL$0H$x  HDID;$  HtS1H9D$@d  H$x  < x|tHHD$8L$x  HDD$LHT$XHD$ A-H$  H)  Lc3$   AV;Su'HcHKHHuAHCcILsHL$0A6A~IFHtL$0HHT$8H$x  IN;AHt(D$   H7H$H  HEZq   , H$x  HHPHc AA)Ht;tu	AEt)H$P  Hc$   McHH@uSEuNHL$8DHG(Hc$   HD0D(H$  HDHLU'D$   CD= EuAEHWF,$   Ht8;$  DH$  HHH-HD$      AH$  H=H$  vHnH   $   1H$x  tH$x  LHBH9D$@tHH$x  H\$@1H;$   } H@M$   Mt:1H9t3Ic9tH$x  LLIcLLH|$HD$HH$  A$    t'H$H  H$  zH$  m$   tH$P  VD$0%D$HH  [^_]A\A]A^A_IyA4I9Q(uAA2HAHcIQ@HHu
uAyM    EVSH(yK Ht1HIHcHt
H   H   Ht	HCs1H([^WVSH H+qy=A$AA    HA    A(A,AL A0yK A4uHHA   9s~8DSKVHC4EtDCHKHcA)HMc)s)sRCHC    HLHC8C    HtHS@Hu
u{M    EC4{K uHcHCC()s0{){K C(t!{H t
HBH{8 tH   C1C     H [^_A(LcA9ANAL9})DILAMcG
LQ8G
LIGIAAH8A   1HT$,J L$,L H8AWAVAUATUWVSH(HL$p~Hn H0F9}H C  HL$p1yHL$p""  HFF    E11HT$pH E1HF ( H 
   L8McwIw MHHt;H)HDpEcu  IcE)wEAIG xIGH9tHLIcGIGIG AGA9G|-@   IOHcH0 IcWAwIGHIG EGIW E+GMco  AGIGIG tHL$p >1iH H0DFEt"HV bu;ADn~ EDH LB    LDHY  H([^_]A\A]A^A_AWAVAUATUWVSH   1L% H$   DH$  ?)H$   @9u
Z  t 1HcDn   HcHt$nDn sHX H  H\$<IME1EAU u2EHL$<L$  A   MDH)H       LLT$(ILT$(HtL)@tBD8IIuA   A~OD$8T$9    	AuH+D$:	SAtH
D$;HCM'A? t)H_ LBLHLcH   [^_]A\A]A^A_UWVSH(HHLI     Ht=H< LH8Mt-HH   H)HIHH9t=Yh!H([^_]WVSH A,HH   y  Hq@   I$S0IC<K LAyC<1K$S0C    ALO1AD3TX{  DuLK,x<HcDK(tA9tC(   DDK C(   EtADK S8C<1S8S49t
S81HDD$PDD$PtC,uDK$S0nH [^_ATUWVSH`A HtH HH9  HT$HHH-  1HH= EHT$LLL$DA   Hi tDHO t+  f|$Lu|$P D$\u
tt1fT$Zf   fT$Vtf-wH $ !  Hk!f^HcT H         @D   @Ewpib[fT$BD$Af9t9HD$AA   11HD$8    LD$BHD$0    D$(   HD$ , \$AT$HHHcH`[^_]A\AWAVAUATUWVSH  H   HMD$x  D$o = H H H 1HCHHChCP   HC`u3H* $x  LI"H     tL  $x  C HuH D$8H
FH3D$8HtHy  ty uHPPC    C    Lc(A$ 5HHtH% HNHC@ HCH1E1HC)H D$p HD$(T$8H|$pHHD$(HTt"HD$(HH09t1H$   HD$ H$   HD$@C\AEtA   @A
  @  O  A	     A	  IAb  A  A"  AA  A  A    A?  A  v    A  !  Au  A]  A  :A
N  A^  i  A  A  #  y  A(  #A  A  A  	  Aq  A    A  A  @  AW  @"     A$  @  gA  @W  ,A  @  A  @  A  @  {  A  @h  A   @1  A  @	  O  AC  @  %AA  @g    A0  @    AE  @    AI  @  AP  @    Ai  @  PAc  @r  %Aa  @  K  AX  @    Ae  @  ;  Ah  @iAp  @+  %Ak  @     Al  @+  V  Aw  @  Ar  @d  5  Ax  @  A  @t  M@     R  R  1z  HL$o;T  HS(HcC HK(A"KE11<CHS(H  CC Y  H  SA   1+S45  (  HHcPHL(H     5S  DCHK(A)HDCAMcKS  HS(	<uQCt)<v!HS(	<  <  ^QC  sC)kQg     Qs9sJ     QH5Q $    E1$    HF8HD$0FD$<HT$ H  HF8HNVE1F+V]3HL$ T$8HL$@AHD$HtRLD$HtuEtEpD-@=   vM      A~wD@   A@    LEBuAMcExeKl(HtVHT$ HLD$XLT$P<LT$PLD$XHHD$Ht+EBHIHT$HHN8FH)VIB4    LMFHN8iHD$0NE1V+VHF8D$<F 2KO  P  {  { t     fO1     j V     p G  ~j =  k 3  
j )   k   E1   E1T$8H4 8 `  9{uN   Euj 9$   Btp      btd
Wt*  eu[k Ow  Ao 	Aj s)kN9sf     N/i Hj    N9{r4     N%     NC9Cr  EOL= Mw`IwhI)E  AGIO(IcEGH|$ HD$0A)HHA-AGIG(IcHEwAODL$0D)D)T$8H}6 8    F=   wLCHS(@4   J  H >     A-M,  S6  H' CHt'  KE1#N         K   u	C    u-{ uU      C@   1M   AF=   wq$x  S9}`sDBHC(DC9uD4CHS( 3HcA)HL8H8McHC(D48iK?E1	D$o {H5 ~ 4  H.E '  A<$   ]tCLHHL(  HcEHL(9HHcHHD(    9|3HH(H1ZK9~LD0LD(H   NL.LkHc ID(HhhH-D HE HH Ho  A  	  AT  1A   Y LDLLcXMLcA
VA DIgD9
  HE PX    P9   D((   @   HD(H@HE HP @HS CpH AHE HP 	 A    HIxTL E1s ID9k~ND(H LI LHE LHP u
HE SPLkHck~HL HVHL@uHcFPVA
HcFA ^H  [^_]A\A]A^A_AWAVAUATUWVSHHH=w H/uF=   HNw De$ tAAD$DB  HHHD$( HXEu$UHEHHH,H'  HMIsEIHE       E1A L?AB   IG8I9G0      1   1AD$4wHs HD$8! HT$81A        Z  IG( 8u1 I9ItyDD$4   1IG(IG0    IG8H      IW0Hs <u*IOHt!A~	tHHIIW0IOA Hu 	L$4s@<tAA   t2H	v<[t<;t<mu<mAA  HIW0AA   IO<	tHHHA9|>HIOIW0<
uAB  IG    <u
AIA pL?  EGIOH HIGHHKHP6 IWHAOL@LAWAB   tAGA~ v
IG(    ])u+A   A9   |DAwA   A9   |)I( ~"AGHL$( IG    HXIHH{( y# 8u
HC(   HS uCCp5   HH[^_]A\A]A^A_H(McB A1J
uH H(AUATUWVSH(HIMHuH    I        111E1Hch
t!wt4	tG t:u=u93Hc< uA9uA9u)D)t~A1IE     tMcJ IE I$    ~HcH7 I$H([^_]A\A]H(   2{   H}  x1J[H(jH(AUATUWVSH8L-7    HHLd$(ME1LHHD$(    HH  D$(Hx
u	 HtHg HV   Ht H?ADH)AD9   A   A   ~H    HSI
D    JD	AtAJAJD	AHuI"JIH
JAHIII)   H HH \H8[^_]A\A]VSH(H   H   tHHF	   	
uHp 	tD@Aw su%  ts	u
   E 	H([^AWAVAUATUWVSH      1H59 HP9 HT$XHHtqdwHcHH H$   H HD$xL$XH H$   L$XH H$   H H$   HJ H8 HD$hHGp HD$`|HD$pH!l HBXBXH+ Hl$h     HH:HtX a<v_u+HHD@A	vAA AaAv<_ttHH7 
  HHL$xHt*A
   1XD$4yH=7 X  8 uD$4    L$   Mt71A
   L8     Gi  D$0D$0    H$   D$P    HuM   |$0 t/   A
   1D$PyH=6   8 uL$P Hu
^F  H vL$Pt
9Fs  E1HL$P   fD$T [`~H$   Ht$L$P?t HHP`~ Ld$pMuL% D$XD$8Mt	D$0H$   D$?
HD$(Ht D$?D$811E1A   D$@u  HHcs HMt6T$0)   E1i  T$D      L$PsL$Pt8T$DHPHtHu
   Hc|$@ u2 (HcA   H" tD    D(  LcIEE   A   D$8u!EtE1A
      A\   LL$HD:D$?   H|$(    H}  t}ALDD$DDD$DLL$HHEttAPtav\AtHH} DD$Dt0t,A HHM 1T$`DD$DHA	AtAvE1AA   A   L$4>E1H}  Lt$`   HcAt)B<t<wLDD$0H'DD$0HuMcABD> tOB>LHt=IcEt!BT>B<t<wLIHuLHH9r HHM H3 AHHM HtHAHcHH3  AH6D D(H=H3 BHu'' 8uHf H @^   
vHH   [^_]A\A]A^A_SH S1Ju! 8t%0H H [ATP@  UWVSPH)E1HL1E1HD$0    D$(   D$    T HH_  HD$LHt$PE1E1HHD$0 	 HD$8    D$( @  Ht$ N HA E  |$P    D$XfHH\fD$ZffC  f;\uxA   H1. HyuH6A   H. HZtA   H. H!uHA   H
. Hu
fC\ HHfftf\uf / HH|$(IH9Hl$ HD$8    HG11HD$0    HAQ tH H&(HHP@  [^_]A\VSH(HH HHg Hc H@u
H+g   @t f HHt-@H H HHD0z H01   H([^WVSH   @tu< uq=N  uh@t)Hp {HtHO H)H  : t1H> HHtBuHJ9 ukK  H [^_UAWAVAUATWVSH   H$   1AH}   UXLE`DMhuEEX}XEuMH HE    H]E HpHEE HEHHEH}`t  H L0IFH)HwH   RHDF  H1 HcHH   Ha  D>H~H7NAyA\%  }   qNH*h ApHEH   HED}HEAG<w+   5NHUHJHMB0<wuPAxuBA   NHUDHJHMBP	v
 a<wAu1t=HEHEHEHM  HEHEDEM  BA'tA"t	A   E-  AsH}` tCtH\EHH}` tH   H  H  O=   uf\HVH  
u
  }Xu$u	f\HCt/Pt'$t""u	H}` t}u{ u	f\HHF"  H}` M  B  f% ff{ tC	CH}` t{ uD>HE   { uf# E EA"tN   =     j  S   C   CutH[A      CA   ~}CvCqC~CcN)uH[A   M`FG   `HE3{ uA&u4tK>>  DD#A  tD>HMKA?H*- <ttH}` uH!- { H,- uH}`  I^u<D<t	A>  u#} uHHt; B  3  EHNH) HEH   H       A  u$MA}h tA	u
MAL-4 H}`IM+eHDHtD9u:LHAA
t	A   uH A   @m g ZIUIcHTH)tG1A   Dz)t2FHHH{H)HcH1HD$ HH IuMcLH(     HA>u8@   K>u   |u   &u   yA>  u@   2IdK<t>tH&t>F    }       Hm  HXHr MK-uHa @xsH       ({tC_t> a<v`Gw
rN;t't$HE(u)J(uHSH`  R  E1  D;AIFHE{u
nJE1Ln_tC a<v7G<	va}  ?JAE   #   _uV_   A
LsIJ_t@<	v a<v   LBII@<	vy@<	wA
DXD a<vIA}t}t#   E1DA
A}   Gw
rA
   E1   @~LnD}t
A
   E   %ta#t_1/tp:u'!IHJ Hu
gAgAH& EHtNH H)A	=AAH9uA2+HA/tE1AA
EAAEED8#uCtKAtELCMu	H LD$ 1   LIXE LCA@LE	A@H HH+uH HcH@D40AtCCtCL=   `HFAMfE1L)Hut$HHH%HMH)LLl$ LE       Gj  G`t
tl\t$q wfLL1IVH9uctE@t $tCt"t+L\   I   ~H& C"   LrIRH)H  Hh  HEHuHtHH    1  HEt@=      _IEt	@= 
t

   !HL`Et`S	  BHEI9FvIFMtHLHMHHp H HT$    1HHZHSHJ`He[^_A\A]A^A_]ATUWVSHP  HHtHu\     Ht$LHA  Hu Hu1V  D$(   E1E11HD$0    HD$     HH   L H H HuH   E1A  HH=     |$L\uA   Hw H^H}L%N t7A   HX H}tA   HD HHAuH^A   H3 HAuC\H, Hx1H HHH/}H/   HrMHtH9s	x:t  HHP  [^_]A\WVSH Hz uHZ1H HHtHl Ho}H   HH; usUWVSH(H5W HW H> t4HU DD$`HAXAX    HHH0DD$`Hk{DCH([^_]AWAVAUATUWVSH   $  HAMMMuL=  MuL-  HHH|$HHDH~HDHy1A@uA T  W  b 8uHHuD$Xf% f= @tAL$  HHAAuAL$  HHA   DD$0t"HIHpE   D$4@AL$  HHAF      HPH\IHuL
HuDD$4LMMDLT$8D$(H$  HD$ sLT$8    LD4{L|$0 t(AL$  HHA
H1H   [^_]A\A]A^A_AWAVAUATUWVSH   HH  HR HAXAX1tHR H Hh^PwDvD9c       HL$8Eye yH, HC>u+HFHHYyIH=    wHFL$<HP3LL$@1   1LA   HD$8LH$   HD$|@  L$<Dt$8q  H~ <wH, HcH1HA>   H3, vHH/, I  A       HMQ H xj    Ld$@HL@yA    qD$Pf% f= tJA     H.A   L   D$Pf% f=    D     GA    HAx-QA  	  HAxA   1& H:+ ^HH?+ I\D9u?1H  LtHA9  HHD Dp@  AEH  A		   AM   HR H8Htx;_unBL= D$,DD$,1kAy-A8tA8tA8	t%AvDIP  L:ADg   pH?1LHct#;\uU
DyF H9t:8
Ay7 8	uHD D`XHO H ;X uD` 1Au   zHQ EtH Ht
xA9trHtU19~|tH|A9tODc	ExD>A      A_HvH**He  	   xuIH( 7H   [^_]A\A]A^A_UHH@  H HPPH@XHHMH vH tH HHJPu)7H HJPHM   z_t
   H JXJXuR\tZH@  ]SH 11B+  :  HQ H @H       H [#r  AWAVAUATUWVSH8HP E1H(Dm4u0%HM+u0HU8D+m4LE<  A	LeXA	E0D9  HP 1A~H0L^@Lp  VlV49   H9FvkD8LXA
   AuA.GAvAuLA	Hcu&DFlHAAD9t
o   A A	^AtA@
IA?GHc9E<9DVlND9|.IcLLcL\$(LDT$ uDT$ L\$(ID)D)L9^vL9N4N)HcI9v)Hc I9HH]L9v*I
   LLL$ M)SuLL$ HuHCL`]41CAH]`EuR9|E	HD:Du	A1 HcA@4A84	uDyH9~      A   9u@AE
A1   D9DBD9~A1t=A)HcAHLMcHLD@o A   LHLH0n_ AU<M8?E@   H8[^_]A\A]A^A_AWAVAUATUWVSH      DH    HIHA       D$  qO}  HFH#	  D$  1D    	At   AHF     LF0AAo	A	DF0pf0H~   InD$@    F    HF(    w:   Ht
Hp
   qHHu
   \  F   H4   1HF         I  IL$   HKHpHI9r   mq   H8 HC@H=G H     pHHt8 u-H pHHt8 uH  spHHt.   HoHtHxH= <UuGG<Tu=G<Fu3W1-u8u 	8u
 t      H;    tH{@ uD$@   q  Lt$X1   LF MND$@    LLl$XDd$|    D$   ML$   A$   A	   D$   D$   $   $   D$   E$    uAT$L   Ll$`Ll$`t
LEt
LD$tD$lD$pL.Ld$HALHF(    A  @ LA   D$@    ceHD$@AMHD$(HLD$     |$@ HtleD$@H>HOpHtH)nHHGp    HO       HGh    |nHG     $      HL$`\n  HtAA   E11LmHHtA   IHLmHtHuD$@   HCh    LH>HChHoL,    HLmLHGI~mHHG IomHHG(I`mMMHG0	MuHuD$@   Hn(H    !mH   HtN1H9tHHOhHIEHV(1H9H   t
9uH*mH       HOhIHWC  HOhIHCk  HOhIH	JEHOhIHLK7E;  E1E1HOIcH9uEtVE1E1McHG0IB|0 uEA   EHLYt   HG0B|0 uHL$PA   JlF0tAH~( t	   u    uD$@       HkHG8Hh1H;GsHHHHW8H    HB    E1Dl$4L9ovPMHG0E1INL0HG0F9|0~(KcT$4LL$8IHHO8LL$8tI   l$@HChLH@HcP8   HHS0D$DI      (Hl$DE1MHH'HCHH      1DD$LD9}LL$PHcL1IcHM
A{udA9~IcHLx	uE;D98t
HD9t<HC(HDLDDu!IcLHHS0CD$D   1kxP yaA   MHHdMHHHCPA   LMHHHCXA   4H{P HC`tH{X tHu|$DHC`HCXHCPHL$Pi|$@H>HOpHtH)iHHGp    HO       HGh    iHG     $    t
HL$`i|$@ tHH    F    \$@tkulLf@   H.LMHHUHuHUPH9UHtMH`HUXH9UHtMHKHU`H9UHtMH6N0   HNhHF    H   [^_]A\A]A^A_VSH81St.1E11   LcLLD$(u LD$(HH   HH8[^WVSH HviHcHJ LD$PH5VI H4HgLD$PHMtL9vIHHBD HHH [^_UWVSH(HC HH   g@   H                     tH    @   )H=;C %   ?   *88 HuHgH([^_]DH  HAAHHOgHtHSHH([^_]2g@  1       e      9}L   Hc3A94~
r         H([^_]VSHX$   HHHT$xL$   L$   eC0HT$xt$@L$   L$   tHD$8    HD$0    
LL$8LD$0D$(E1AHD$ HX[^SH HH	HtKH    HKC    fHC    HK eHC     H [AUATUWVSH(HLbRIDLDIt
      19n~,HFHcHHIE @tHLxA#   HI]@9C<HKl HcHtH    d   HeHxHCkHcHSHH4H([^_]A\A]WVSH H=@ HH{H t-1HCHHHd9ssHKHdHCH        HCHHK`Ht1yv 1@v CpH`= [y CpHC`HC0    HC8    HC    B  \7  H [^_D9tHcMcfBAIfQHfuAUATUWVSH   HT$8Hy( HH 8   @   =  D$Hf% f= @  @   @   @   H{HH  1AHH   HHH x,@   	  Hh   HHV   HHQ j   H+S1DL LD$( LD$(IH HH`N u$  HPHDIHHvLAHbLL LD$( LD$(IH HH`yN       HH P    @t@u,]   H.yD$Hf% f= t1tL LD$( LD$(IH~ HH`M rt%HVnsHH^ O 1H   [^_]A\A]AUATUWVSH   1IHtqH   Ll$(H>HtWLMtHU HtHHbt0LHxD$8Hf% f= @u*!HH   [^_]A\A]UAVAUATWVSHH0H< H AH 
RHLHLE=(  H_H@HHH^H)AHHt$ HHDH)Ll$ EtLEHH 4N H HU  L IHHR aHD^L ILH1 IaL ^ILLbuL~L~    LIt L] HH I$g HID$LHHH\~LT~HLA   H uD  H[^_A\A]A^]ATUWVSH H59 H>    H9 H-7 9K~=H; t!HU BXBXHL!  L#9{~	H    fH{^H1HHt9z}HtHH6 HH8 t&HBXBXHHH)j  HH(9x~xH [^_]A\H(H H: E11H HPH@    H(j VSHXH3 HtiHT$:Ht$4 1H  \$:D$<E1    H Ht$ A1 Ht$ E1As H 
 HX[^AVAUATUWVSH0L%8 H-D9 A$HuEHU H zPuH> HH`gI  LB0LD$(LD$(H/ HH`EI H] H=& {\ tR1HLk`SA   1L     ~HHyLH W8 uH;    C]Lk`     {] tLI  E~WA   IE   L\~LcKPLMt {] tL)3t8tH\H] u,{\ t1HSH] H; fC\ tHN KP1A   7HtKPH6A$u[{PH u H) HH`H0[^_]A\A]A^G LC0LD$(LD$(H HH`H0[^_]A\A]A^G H0[^_]A\A]A^ HJHtHT3 H  AWAVAUATUWVSH(HHP HnH6 Hc H<H? uH=C3       E1h HHE1#wHH   LvJ#IN<3D)AZH   A? u2|3
t+HZuHHHHt0@H1m HMHYu# HMHP0F tHc<
utHc<uHc19~DDHHHfZA   HH? 
DPAWAVAUATUWVSH8HZH$   IHQ  D$     Hs >   (    H{ IuHC%   HXIHuIvAF     DkEt IAH^g XIHuNIAWHAg IuXIHu@.u#GIWI0<	wIA0<	vIIA/I@cu<AF   H St9tH8 uLH        @luJIGIHAHn WHG  Hn H9w
AF    AF   H DHn LT$(DD\$$WHuD\$$H DrWLT$(HtAF   HQ /@su7AF   EnE   MuHY =  LXXAF   @_   AGI<ctNw
<At<atm<ptK<utXcH$   HX KAF   AGPw? Hs4IA:AF   zAF@   AciAF   \LH MHI)HAhl IFt
%tHH9t.IHI)JT-i 1IFHHL9u IFHD(IFAF{ |$  tHW &D$    { tHHCHtPH SIL$H   L	Mu,H$   AT$@@9}AuDAEt	)AAy~CHAHt:HHtHL@1At	t1wLIHtHH LrH8[^_]A\A]A^A_ATUWVSH HH HtttH0 Hc H4H> tW1   L% H8.u!Pt.ux uL   HHHH> uu01H [^_]A\AVAUATUWVSH L HH HYHP0 Hc H4H> uA1L% AAHAEtHLB Hy)@uHH    ( 8)tEtHr8.Hux uHH> uH [^_]A\A]A^AWAVAUATUWVSH(AH MHHBMHExUHHC  EHHAAtpIHRI)JL8Et0H+ HH8H- HH+_IsHcHWHJ:At` |  HHHMtHLI @   <ADDE   LCAAtr1A\tWAu&EtGDKLA!A=w9Ms3\H+Mt$McE IL9uH1H)AE 1E1LDALCHDOALDg EtH, HWHHH([^_]A\A]A^A_HY. H @SH H* @   HJ  e    Ht@H| HSu-X   x H. XHHPHp HPEo   '>  E1   HyHW gp H [VSH8H53* HA   LcFHcHVHD$ L$PHL$PRHHtF9YvAQIHuHc "uHc 	uH8[^WVSH0H5) H[A   LcFHVHD$ L$PHL$PxQHHt49xv-@Pvu[H19}HOH\1HH0[^_1yAWAVAUATUWVSHHIHt1ab 	L5f) 1A   `   10] H=( E1E1D$ H G    HD$(HT$0A   b l$0HD$(9tLH L$<H- L$8D$<WL$ ADDLWHcHD$ vb EHIIH,b A7D$$;t$$tDHM<AAOAAOAGAOAGD$ AGEuA/  EuD$<1HttD$<T$<A   [ At$$D$ tA   LgH\ E11H[ HIyHH[^_]A\A]A^A_AWAVAUATUWVSH   H=6' 1H-Q L- G   IILt5cwBIcD Lt9t7)0PH) Hc I,H}  uY      AL=aA`HM r  AUItoHJA7MtH X    DHH)   HFHHXHF@Dn9  HtHJ6  		BuA    HD$8  HD$0LL$8LD$0H H:;     wH H I;   WH H I:   7H H I:   H Hs I: 1  Hy Hw A:   Hi H1 Io: MuL% MHL H M: 1  Ld$^|HL$PHHD$P{ L! 2   LI3MH H 9   CH H I9 J  #IHuLV H Hp 9   IHtH HK 9   IHtH H& g9   H H	 IG9   H{ H.9    LcGHWL|$ HL$LA   D$L]  KHt{@L%< D$0;t$0}g  A@tA`tA ut9]  \  HD$8^  dLD$8LH8 HH}  tHuJHOlJDlz:1H   [^_]A\A]A^A_VSH(HHU HHt1Hi6PxIH/   H! H`uH Tu   :JAVAUATUWVSH0HcLL  H5]! Hc HtIHH! A   L%   H   H! A     L-! 9H[
 {HuKqH< tH! eHHIYHIDHwL4LLHJLLJLD$,H
 HJuL$,  OH5V% s(t!uHKH	 >Ju H+  HT UATWVSHH`  H H HHH!z HM0@   HS HHU8    Hi#      ~  HHHHT HAulHHHcHHAHL1, Hu8H)HD$'HH    HH    H?y HcE0AA=HHH@   H= H HHx ?   Hp"      AH[^_A\]VSH8IHHH N 1HHuE1uHAHDD$,FDD$,EtHH  H8[^AWAVAUATUWVSH   HEAu1     ^uuH!  tH4   
  HT$@HZ H|$h,    1HHHu1C  H@HtHG  HH_0   OA   E1E1HciR Do H$   H$       DFvL$   A I  IM9LLLT$8IGITW IDJ8IoLT$8Hu
L%ELIH9r+I9v&MI)   II  II   LGIWLW B8 HHuHH  1NOtHDHH  HHuHD   
   y  HK  M  /   HHEHtZ  /   HCHt/   HEHt3  HIH
  ML HHDED$HC@  up1t1HHe t8{A
~AHCLCH HSDL$ HD$(K 	HKX HHHC   H   [^_]A\A]A^A_ATUWVSH 192M2A(IHLA0A;p~
LJ11A9~AH    E1A9$|	MD$EE1D9|LGELHLLCAH     I  %t!S9u
HJHcHC   ;HcH9}HS    HHG1H [^_]A\VSH(HH9   A;P~LLD$PILD$PE1E1A9~,HSL)LNEL)MHAH HI    HHcH9~!HS
L)MHA	H HIHcHD9}IH    HLF1H([^SHp  H\$+H+  |$l HKAH HDA   mV Hp  [H9 HB9wH1xHBHHcH@ATUWVSH H5;p AHEHy8t8tH yH [^_]A\UWVSH(HLIH/ HcHyo 8tHH([^_]MtBD I?HUWVSH(HHH~BA1  m HHt1E1HHBo HH>k Ht'(   u   %o HcHuo 8tHH([^_]ATUWVSH H5n HMMH1 HcHy8u
     HH [^_]A\WVSH H5} HF(8 t&HHcXHHLl?HN(H>8T HDH [^_   AWAVAUATUWVSH(L= HAH? R  A uH  s%Eu

   HH/ E1HP, HL`LsHHuLH 16AG   11HHtyx.u-H   tux	 tP   .  tHPLLHIQE1LHHu
L.>HXH@zHHt|1HH[Ht1HH-k E    tzsA   HtH   HHt
HJ8HH1E1H
YH H.   HtH   HHt
HQ8HHH W+    H|HuE s=   HE\     HHU)tH{H1H<1Ht.H4Ht~ t	HN<H<H<HH([^_]A\A]A^A_WVSAELcAfBDLZ E1A   E1M A9   A\E9~9tcE9~LcfGd  tR>t9tLcfCd  fA  A

fA  fA  t9t#A   A   ! E1A   A   A   A   E1HT[^_UWVSH(HHH|$x @>Ht HE1LLL$hU@>t!|$p LL$ht;uHHH@u1HH([^_]AUATUWVSH(1IHIqLL9rm$    D/Ht HE1LLL$xUD/tB$    HVLL$xt%yHHH)I9sH8ttHVHH1HH([^_]A\A]WHx H HP`HcHh H_ATUWVSH DL H^uz> H u9 uH [H9tHv9HHY9IG?HHt/9E1EHH?yH?HH @1H [^_]A\1DY|EA9~&EAMcMkL   A9Q}A@EA9~LcMkL   A9PEATUWVSH0A?  HT$,LD$(HTH' Dd$(H8l$,HHHt%H:u%D)\$,y?  \$,HM HD$,H0[^_]A\UWVSH8H A'  HDHHT$,LD$(,TT$,HH Ht=
9ut1JA>  tD$,D$,+D$(D$,y'  D$,H8[^_]UWVSH8A  HT$,LD$(HSH	 l$(H0D$,HH8 Ht2 HH  H9t)\$,y  \$,H8[^_]AWAVAUATUWVSH   H6 H   H   HJIHt#H 09uHy .& p  Lt$HLl$PLH\$0Lt$(LL$@L Ll$ H` HD$H    HD$P    HD$@    H Hc0tH HH@tK@@tC   LH}UH|$P u+LHB ILC IHuL)H|$H uLOL6@0I4uHHuHUH Ld$XOH=e L-F Hs8H0HCH> u<tH HO H H  9-tHH>    C0Huy uH H*L|tHC(C,HL= HCH)G L `A HC)HK5LD$@H0HCMt%HH = HIHHI LX5HKH4I HKC5HC    H   HP$P P,P(H =)s(H   [^_]A\A]A^A_VSH(HHt8A   hHu(c 8uHH([^   H$ H([^IHt@H9QtHQH	E1c4AWAVAUATUWVSH   HAHHD$0   IH  LD$Pp19vH  HH  H9uA   1=   A1=W  1=  T1=_	  1DCMi  MD119s9vAC  B9A9AEttAA)AtA+  BM19v!9r9w
AH   AH  IxA)I  oA   L119v      HH  9uA   1E1DmDL$<9   P19AFE1HL$hB    ID9LcD9r6Lt$0HE1GVMAEH  I  D7HD9uI|$hE1A   F$A9sEDID9G  Mi  HHL$09wDHMC  I4HD$(    I  HD$@D$PD$\19~#H|$@   tA  HHiD$(  LHD$HA         A      A  A9|WA  A  HcA  AAIcMc  LC;  }A  IcE  HHcT$\HHA  A  Ic  Lc   |$THA  Hp3  D	D9|X~/McEhO$Mc$  Mc$  G  G9  ELMcOc  G  E9t|E  IcErA  Mc     Dt$XIc  LE  Ip3  D	D;D$XY}-McEpO,Mc  Mc  G  G9  ELMcOc  MG  G9t|E  IcLcD$TA  AI  OA  A    A  @DA9AM@0@0	A  A  DLcKc  IA;  }G  LcG  HH%   E1Hc9|-1Ic  x@DMH|$HG  HEt/1H9GA     A  HD$(HD$@  ;\$(A1LL$bBH919D$<v7E  T$bLE1HD8t@9AEL  HT$bIT  MH  E1E11    Il9~H  A9DB9GH1A9|19~A,9uHAH  I  D9uI   I  E1PPPHFRH9uDL1fAEy"11A   QuL;E   uLA   DD$<   LE1A   D9L$<vW1CL  9v;A{|~IShAK{LBMCh
Ak|AcxAK|DA	SxAK|LIE1Ii     LE1A+H  A.LA9}RH  9v,A      LA      LH  9rLAHvID9wI  A   D9v\Ao19whHi  Hi  HH  HT  A9w(HT$0DABILD0L`HH   [^_]A\A]A^A_WVSH H H0NFv     )VDF^H [^_AWAVAUATUWVSH(    H`  HD$P$     uHE H$   0   H  Lc@f$   fA$  f$   A$  D$\=   vA   H D$\H hA   HD$Pf@ HxHW  H8 u HAuHD$PH    HHH$   H$       HD$`D$\HP2DD$\HT$`H;tH/9  I$  HI$   HHD$H/  H02D$hI$   D$hD(AuH  {A$  H$       HT j1I$  =0AuA    A$  ~YHA|> =  U$   ;$   ~0   H$   Hc'HA   Y>H$       $      AH$   $   ;$   |
HK0L$   D$   11LD$   D9}DHGD	PDA  tt    $   Hc$   HM1A9~A    HHT$HH.uAA I  HT$HIHtH$   c-H| 4HL$H
=H =   A;$  sHD$`HD$`@ H|$`1L$   LH$   <   $   )1Hl$`H$   H>/LHE1-D$   DEt$H$0  I   H BD% I.1H9~L DD DD HL HH`,   AH$   F,EtH H 9t$\HD$PT$\A0   H$   f$   fx   uH H$       H$   H,  $?  HLK $   ?@$?  HD$PHH(HC@HHL  r(HD$P!   A    @ HD$PH|$PHDL$@ fGH=( > HC@DL$@ID$0@   0   HspH   HpHD$(H HD$ HC@SH$   SSA0      L   )$      )$0  Pp)$@     HL$(HD$0@   H|$ )$P  mCK CHH   HSPHIHHSXHC`HH  HCh*HSPDCH  *H$   L  H  H$       H$       $LH(  [^_]A\A]A^A_L$8  $   H$   LLD$@;,HL$HH>*LD$@tHT$HH,l  LHq*$   $8  H$   L$   9$<  IvHM$<  +E1IHD$     H$   83tH*)  HT$HHI5,H)  $8     HI HD$@D$hD$pL$p   D$xHHkIH$   I9t1$8  $<  D 9PL+H$8  Lh)Ct-D   D)D)D)LD$@ALL5A  |$ LL$@ALHT$H/  E   9D$pD$xL$hLct$xDh   MkED$|H$   H8  H$   IID;|$|}%ALLD$pAP*LD$pIL$8  D9l$|~P|$ LL$@HMILp1A  |$ LL$@HAHT$HH(/A  AA$   H$   E1E1D$p   L$   H$   $   1L$pu@$   {  Hc$   I$   D$p    $   $   $   $   	u$   uEuALD$@ALL3
  |$ LL$@ALHT$HB.     L$hAF)D	$   19D$htCAD$      y|$ LL$@ALHT$H-A  ED9}"LD$@ALL13Ah  |$ LL$@MLHc$   HkH$   /A3  |$ LL$@ALHT$Hh-A  E1   uE1|$ H$   LL$@AHT$HH%-A      H$8  EH$   HD$hLD$@AHHZ2A   |$ LL$@AHHT$H,AuqEDl$|uD$pD;t$p_|$ LL$@IHHT$h.Au7|$ LL$@AHHT$Hl,AuH$   HS%AH$   H   |$x9|$|tHHH$D$xAHL$@D
H$8  %$AWAVAUATUWVSH(L% YMT$xI11%   9l$x%  DvA|D9~79   D9~*HcHIHf  d  yAu   I$tC9tHcAHf  d  FI$    /AN   >A
    N       N   t9E1E1      HD%   H([^_]A\A]A^A_ATUWVSH)t$@)|$PD)D$`D)L$pHS HLD$0HD$0HH Ld$8f~H Hc )H<H5L      t*ttEuHOLf(HT$8	5 HLf(HT$8	5 f(HcLHLfD(8 u
HD$88 t11L'.   LQ  HL)IH}D9ABHH? t9B1tt@    f(DHA EW1H- fA/rfD/fA/tD$ AAH	 yu$FHT$0H*HYX
   :(t$@(|$PD(D$`D(L$pH[^_]A\SH  1HtH6 HHB   H [fftfufQVSH(H H,rP  H5{  FuHp CF
   H([^UWVSH8HDD$,I   Ku   =u   /uDD$,AtAHEDHN H H:HLL" HHH8 HfBH8[^_]2VSH8HLD$(HHHHLD$(HLH8[^  SH H Hz HuH`A    1H [d  AXAX11uHHK H9 t&  !H [UWVSH(H-Q HU HBXBX1iMy0@   HE  8H UHH Ia	SA
   1Oy.H-G  	t7tH I`H}	r@t.HS H@     HS H{  su   }% HC HS H@    @   H([^_]H8H5 HBXHL$(BX`.HL$(HTS HHCHDS BHB     B   H8WVSH IcLL$XHHHT$HHHT$HHH=G D@McLL$Xu#Hu T$`HA!D$`EAA   LHtH [^_UWVSH(1HHT HHHuHc1H3$ HHL HHt+ HHH,I H     H9;H   HsHCCH([^_]WVSH@   H   tt*H H H  H H H  HHj HH`HL Ht$(HH HP8-   HHt HHE  H+ HHH@[^_ATUWVSH0H5 H.H]0HtA   HH+ ,  EXEXH.HM8Le`L9tH9tD  Le8H9tHu 11GHuHH`HE8Ht
.HT* H9t!H>HW`H9tHHD$(FD  HD$(HHHX0A   HH H0[^_]A\  HHD$<   jD LL$<A   D$      HI HHH 1H L MHL9HuH 1I9+UWVSH8X   H|$,: A   HpH & D$,f=uH  HCHo if=uH  HCH\ Of=BZuH HCHM 5f=7u5A   H& |$,zXZ uH  HCH HCtH ozHH8[^_]H(Hx Hu   01H(AUATUWVSH8HHE=   HHH  II)tH9tILH g[HuA 1HzHH8 HBXBXJL+9 LHHtHW=HHHDH   HD$(HD$(H8[^_]A\A]E1(SH HL$8L$8HKHH [VSH(HHHsHsHH([^SH HHt: tH' H1HH [H(   H(AVAUATUWVSH`H5+B HH|$0   ALl$`H|$0Hc_HHI   H& ILAtOB<v* awAx:uItIA PwA <:uA ;   I<;uIu
L2@  .Mt)D%  =   uH@  DL   AHI96HH HL*H%AukHD	IH   C%  u@sH?  LCAE =   LLD$(F  LD$(H L)HX@   HCHt@@uHtH=uCu	HK4?  {'	 u'HHI$?       uVH>  L	(@u<' t    5 HI$HI$  uH$ HHk{HH`[^_]A\A]A^WVSH HH   )HB   H9F@1D@LPLPH9w    HPHHH [^_AWAVAUATUWVSH   1LD$ MH@AHBT H@uAP1E1L=] D$ATDD$D$AX\$D$A\Dd$D$A`D\$D$AAEEDE   D$DIcD1Dt Hu!D1~O1uD	A!D!D	ABEbHMcD B3D A1ABHD3t ABAHDt IcDt AADD$AEAG.AEtEDEXHH0DD$\$Dd$D\$DAPDL$YTDaXDY\DI`H   [^_]A\A]A^A_WVH5g# HQHH
   HH   HP@^_AWAVAUATUWVSH(  1DHD$ ADD HH@uL$   P8DHHAA
AAE1EA1PP AADAD1D1DP<I9uATDaP1L5] D$AXED\$D$A\DT$D$A`Dl$D$AdDD$D$Ahl$D$Al|$D$ADDD!1D1DATT H!1DDDE1DE!
1DD1D!D1AB(EH@tEDEAAyDDL$D\$DT$T$APDD$l$DIT|$DYXDQ\Q`DAdihylH(  [^_]A\A]A^A_WVSH    4   HHH      @   H [^_VSH(   HHD   A)DL9EG1DDH9tDHF0HD9   uI)HLD$P!   1LD$P   H([^AWAVAUATUWVSHhE1L-F A 3HHy(DD$LT$HIMI	II3I II3IHI3IpI3   IKIK L9uIJIHI3JH1
H1J(H1JPH1JxH1   HH9uLH1H5  H LHMIM
MHu1DJNDJEN<HA7EAA!A1DDJN$AA$AA!E1E
DJJ,ADU AE!A1EEAA!A!D1JE1A$DU tr	(fL$ 8DCLE I   	L$H   H H?H!H	H1I{Hh[^_]A\A]A^A_AVAUATUWVSH A   E1xDPHHLiPDIT= D)Hv6H>H    H=fH   HFH    H	eH   H1   v1HLeHDHH@uHH   @   H [^_]A\A]A^ATUWVSH HHHILHsHA   Il$PAAA)DL9EGILEDL=   uM)LLD$`   1LD$`H [^_]A\AWAVAUATUWVSH  1HALaHD$(HA HHD$0HA(HD$8HA0HD$@HA8HD$HHA@HD$PHAHHD$XHL3PdHT$`HD4`HH   uHL   HHpLHHHIHIHL1MH1HHHH@IHLIHL1L1HHPxI9uL|$XH|$PME1Hl$HHL$@L5W Ll$8LL$0LT$(HHJt`K4HHIH1HHH1HHHHH!H!H1LHLHHLMH1LM!HH1LL1L!L1IHJ*MHI  tHMHMHI`LLD$(LT$0LL$8HD$@HSHL$HHl$PLCH|$XLS LK(HC0HK8Hk@H{HH  [^_]A\A]A^A_AWAVAUATUWVSH8HI       L$   DE1E1/   HIHu?\   HHu-Hy"   H$   AL%y4 HD$(-MMHw  uU4 UxH>  HL$(HHHu2H=D  uMMHDw  A8tA8tA   t&tr~H HH I   H I]LATUWVSH    HJHt#nHcH6    9|xHI HBXBXH5g6 )LfLx~ t	HM 	3  H    HNHH1MI HHHuH   HF1H [^_]A\ATUWVSH IHDH  .   HHAHHuzHH HAHuWHn HAHu7HR HqAHuALH [^_]A\   H [^_]A\AUATUWVSHXH H{DH    LcHLYs A;s$tHCLHP>s$AD      ~	Akd       E1d   H/_ LCPL_ LDL_ { LDMuL_ {4   K   IFs4D$H   LL$(LD$ VL^ D$@H HcDl$8DHLT$0  9BHcHL9vIAT${D utU9{HtP1{H4mH<  {D t*H +CDPC49vCD    SCD    S<K8HX[^_]A\A]AUATUWVSHHH=, L-' HLL$8DE1aHT$8Lu  A   HHH)H }  L% HDH9\$8vLH8=Ht
I$H`HH  HHD$(AILHHT$ A)HM{1HH[^_]A\A]AWAVAUATUWVSH   HLD$4Hx D$4   Ha1Hx H HcI|$4 D$(t1Hx ID$$H<H? tALt$8AD$,1p|$, t@   H3x L0t0HH7H     Hj/   H]ILd$`M~E1D9l$4v&L$$MAT]=#E11! EtL$(M,]#@t1v	 H Yk	 M1H   [^_]A\A]A^A_AUATUWVSHXHD$8HLL$@HD$ HLD$HH(w `H3 Hc )H4@   tsHt$H-   HHHHt$  HL$H HK -9sHT$HHv dX)HJ H1T 9v`HH~;nHHuHo '
 1HH: IHtAH  B HL$Hu@u[tMCHL,t*A  vA1MD1ME IHHIUL HL$8  9     @tHL$@ 9GL%u H,
H9t&HAtHu   L  H1AWAVAUATUWVSHxDbHLl$`RHL6&  MEHH+  ^  HFD$@    IcHD$PHLl$HE8  HH< uD$@D$@    D$@9   }1HH  AD$D$d    D$<HGpLtMu+LL$HDD$<HHH     Dd$<zLXE1E9n~IF DD$<HNcLDL$DHILL$XHLL$XuIHHHtIGHFDDD$X$t~ DD$XuT$DHL$H&t,D$<HT$PEHD$(D$DD$ Ru   HL$h1Hx[^_]A\A]A^A_AVAUATUWVSH H L It$H'   HS0  HHHIH)HK{HHP 'H'A>'HwuK1LkA|'K,.uLHKHH9Ht LHP "H"}  Hwt ID$H [^_]A\A]A^VSH(H5 HHtHSHHH([^UWVSH  HH   H5b H$   HN8H   0HT$(*u<D$8f% f= u.HD$PH~$H9}H)OHN8A   }tVQ   H~&H9LN8   HHFIHdH)H9tHtm^Hr _H  [^_]H(=e4  uHS +M4    Hv: 1H=l:  H(H8HIHL$(H4HD$(H8UWVSH   H  uEt>V    uRI9 HtGHA H0HNUHT$(HHU?HCuD$8f% f= @t   H   [^_]Ht	vHH L H\ux
uHA@ t
	tuHAUATUWVSH(H} H=iS H(AMcHB4+AuLF<t:<v6@
uA   A   AtHEHH9H9]    L1@
`AuB<t<w
AuJ	)Au-@HDL$xDD$pO,  DD$pDL$x W+Au%F<	Y a<4@_?HH([^_]A\A]HJwH t	1 Pw!;7 Q27 	0     UWVSH(Wf/r*\ f/vH,H*\Y\ ,H1H=$ @B      ;v
    i  11# 8tH([^_]VSH8)t$ HJHHueA   Hm -% uHz# HWHH8H; Xuf((t$ 1H8[^H8LL$XLL$XLL$((H8AWAVAUATUWVSHxHY  HD$PHl$HHHD$H    HD$0HD$XLD$`HHl$(MHH HD$ UsH 
   szHT$Ptz t	Hl [1 XL)HD      	FL|$hHD$ht{,Lx   LSHuH3l ZA   H\$HH   H1 H 1 HtHH     L%G  HHH1rHD$hHD$h8 tL|$hL&(  HcL4AFHD$h8.uHLHD$h'  AFA   +t9L|$h   H/k 5ADH Hc H<H? uH~d HHH- 1HLcI  IE t1LZL	  IHtAH   N4 HILHH? uH=/  u    l H/ @   E  tUH   9}:HYH9~#  AHj HH`Z       H1   @u!HcLA   HE u4E1D9~N,LLxWx JD$8I   @   E1E 9~0McHIJ+#HuJL+AHtAt$e sHL$X  8     E L%i %   1
9~HALH  1Hx[^_]A\A]A^A_UWVSH(H H1H:s*fG1f% f= @fFf% f= @)Hculs
HG H+F @s
HG(H+F(0s/H.   %  H.   H%  HHHHuHHH HcsH([^_]SH0HH	x+Hs HcsHWH6HtHq HcH,HT$,LHtD$,tJ1~  H0[AWAVAUATUWVSH   H L%! H5 HD$pHk IHHD$xHJ L!IT$H D$  H$       HAH@' H$       HA      `%IT$E1AHtLcBHBDAEtD1Mt<(MtINX M6HH8  uH}x  )HOLg`HO0L9tHO8I9tHO@HOH1$Le   M4Mt/INjA~\uIFKHPM6HHuHUHHUPM$HMXBH}`HtHOX+H?>   E1WDpH$   LBD$<1LA   D$<H$      $      HD$(    D$  E1E1   HHD$@HD$     z HW L%p HHhHHI$HHH   HHcD$<   HL2L} H' I  LLHAF IO"MGH IFI$HHI$INHHD$hMt:IcHL
L   LLHcM	LI$H M LIM$HH     HD$h(   IFI$HPI$IVHHD$hHD$HM?Ht$HMtjHC IHLD$PH3 LLIA LL$XHRLD$PLL$XH6IAA@HNHF    M FI$HHHI$HpH    HD$hI>I$HHI$I>HHH`  TH L3^   LuH= L8LIx  HLIv`INPRIN0IGIG`H9t:RIN8IG0IG`H9t$RIG8IN@RINHIG@
RIWH= IGHI$IHIW0HPIW8HPIW@HPHP(I$IWHHP HEL{E1HD$HH L I   HHD$HLd$hN48M   IINLD$PLI$L LD$PHHcHIII<$AFI$<t<u\IFH=z H)HAEHQIFHIHHLD$PQH=J I$LD$PL HHHJHHH" M$$M6HHHH
L 2I$    L% HD$hK8I$HPI$K8IHI   HSLCHMHHt$hHPHP I$HSHPHXHMPHCHBHMXHCPEPHm`H=Z HCXHt:L7HML6IFHPH6Hm IFI$HVHHPI$HpH    HD$hHSHHC`I$HHSPHPHSXHPHP I$HS`HPH@     D$<H[ C(HD$@HC$  C01MtAE(C4H$   LD$@H H$HL$pH$   J/HKHa H HuMtL
HA 50H $  uHH	 Hr! HHp  Ha! LB0I9t	HJ0LLHE! L->! IU0Mt3AU(JHIU AM(HH HrH BH`HBH   [^_]A\A]A^A_UWVSHHD>  :   HHHt  H H5 HD HD$8"Ht$ ILD$8HH /  AL 1HD$     HHuH UHHHH[^_]Z  AWAVAUATUWVSH   HHHT$8$   MHL$   w-`  D$Hf%@f=@tg     A  LE1e  A@HHHHD$(,  HE9N  K\ 1; H@1E1tiDBAtJAvD"u@\u;1ELAHDTA\tA"t	Eu	tBDxEt   EALYLEE	   BL Hc  Ht "HPAAtx"tU\u^1DL
LAA\u	
\HA"t
Eu-Et(Ic1H9t
A
\HLLA"u\HLLt
HHt"H HJIHD$(   HHD    `uH1A.   HHu?$Ht/u \HHl$`1Ht8HH   HHHEL$   $   IH>H1A9~HI;L tHHHHH   [^_]A\A]A^A_WVSH0H H{    CH   1HK`NH  L   H?8H   E1L\$(HD$(D9~*MH{LILHLKHGIA	 R  H   WH   *C   @H0[^_AWAVAUATUWVSHXA  HD$DHLD$HD$D   HD$ MHZ HDtHL$HE1
   I  ItHL$HH7 s  IH	 Hc L4IHt I^HuH2Z   1  H3 HZ IHyT$DHHH   v	HY u L$DH1IaLHY /  IHu HD$8HT$8A  1HH   yIRL=A HunMuHY ;H  L~     B  L\$D   HH)HLDAywALD9raLE1tH9HHNH)"I
   LHHt
L)HHxLI   I  H)<1HX[^_]A\A]A^A_VSH(HHtid1HHtPfDAfA fA @u*t3t%LA8.uEHEtA.uAx tu	AJHHHH([^AWAVAUATUWVSH     HD$`    HHD$X     LL$`LD$XHH~ HRAAu'HNHuPH|$` uHL$`  ;HL$XHuH= k  LD$PH; ]u  HL$PE Ht$`C1A   CHtz   HtDxEo=HD;<  HAG9fAE LufELU    fE;    fD};( E7E'uH}=G@}EHcE@GEBHEFHH3   H HC@MHHpAV   DH  *   H;  HS8Azu:z u4z u.z	u(z
u"J+B uHJLuHJ, EHK8H i  ZHC@H           b   DAH{DDfS9u"tC   +<w/A<tAuC   <uC    C   
   H:  LK8HK8H7 AAy  IIAAD9|DC  _  II	AAD9|DC"  ;  II}AD9|DC%    H|$p  IIHt$hHHHHD$h}vHHrv8uHT$hHHT$hHHT$hHHT$hHHT$hHHT$hHHHvA   H7 HHTu.A   H H6tH B   HT$hHhHHuHT$hH)H  8 uHHHuLD$hHHHC@HH  HLl$pD$LrDD$LHLRHT$hHLD$hHHs@HqH   Hl$pHD$L!DD$LHHHs@H  Q     H^8  Hs8A~   tsHNoAD9|DC[  #DC]  H An	  U H 9nHC@  F     H7  AHC8@p@u   H7  AHC8HK8H x  @u!   HK7     H @G  HKA   H_(      H z6  H   HK@HuHS@H|$(HND$0H A0   HD$ L      A      H.  H H7  uHK8A   H' ztHK8AH   H HC6  A~
HC8xtHK8H l  Hs@AAL5 H   H  QH @  DH   8Hp  ,H   H@  HX  H(     HK@CHC@    D$p    fD$t D$xfD$|    H\yH lGf|$v tfH4  1LcH(HK Dl$pSC(    HC     E   #9u    @  OA   Hn  f|$~ iLHG5  LcE~THS8:tHK8H- 2   Hx  K4#HcC0HC8P@D91H   [^_]A\A]A^A_WVSH HHXH   HHH [^_UWVSH8H= HHl$(HH^cH\$(H9t
/HH8 It9L LLhHHtARII9uLH b=H8[^_]WVSH HHT$HHT$HHHLHHHH [^_WVSH H=b HHYHH9XsbH    HCHHr=HA HBXBXA  HH
HHHHrHHJHrHH HH)ZHBHHJH [^_ATUWVSH   l$pAH  IHEDD$`L  DD$`HI$D@AHxPuHpH  HcHCHHKX   k   Hw5i  aH    CH'HtHC@1H*  H [^_]A\WVSH0H=DHLD$(HTE HD$(    H"6HDHEH> Hc H4   HHNHtHT$(!H0[^_UWVSH   HH  HhHT$`LL$PLD$XHY  t=HD$DH|$lE11HD$(HD$HLL$LHD$8d   H|$0HD$   u Hfo2  H  Ht$XH9w
HC   SH  H9w
HC    :H?  H9w
HC @  !H  H9w
HC   HC   H* HuNTFSOH* HtH* Hu@  !H* Hu`      HKH1HCH1HHK1HCHD$PH1HC HD$`HHC(HC0HC8D$LHC@D$HHCPH   [^_]SH0HT$HHo HLD$PLD$HLL$XHHLD$(H  CD   H0[WVSH0HD$XLL$hHHD$(H HT$XH:. LD$`HH  HULD$(H  HaH. HCD   H0[^_SH H  HH- IH [TSH Ht H{ yuH  t
H [5; tFu:   H [cAHS`H DKXAvDC\H H ['  H H [  H [H9 w	H9  wSH H H1{ u*HB HHtz,uH (LC   H [VSH(H S(Hu   HHcH$  HHcC(HHK(H4H([^E1FJFIEuUAWAVAUATWVSH   H$   9[HUXDE`HE    uLHy]   H=HHt@<:    HH' #61E`;  "  :   (HHt:   HHH9uH  IL u HE    MLeHE    A} :u2!   6  H    f@ x  A}:g  M}ID$LE1E1HE    LHEEE  DH- DEIDM,DEHu)DMH- DH- DMDEHu	H- AA  9  A:uDEuH}   LH]lHCH9E  fALE1fD3HE1DA.  LSID$I9n  E L}E1E1L DE   DLDELUDMBL DMLUHDEtAAu	E  k
L)=      AEu:AA   A   %A.D   A   AG E1IHVA   EL.H)AA	FEtIT$HCH9ryfAfD3HH} ID$t.H9t\H+]LHcH]HDH)9H H9u.HuH}      H    f@ HpHx   IT$1	   MHLM1   LH HEE`E  u	HEHuHHZ$ 12E`tTH~tHv(HuHHFHHI  HNHv HH@HHMX  HKHMH   -  {II)AMcI@HWH)HHL$ >;:It{ <HHK1A
   x= 8 u  w]XHH# HHe[^_A\A]A^A_]H(HH	0<	vHYC 1A
   FtH(HIAtJw AIVSH(H     H H  HCHH([^VSH(HHcH@4 H([^Ht	9tHWVSH HT$HHH|$HHD$HHPHT$H@0@\uH9@tHHH [^_UWVSH8HLMuH\$(H ILu IHIHH8[^_]HH8 tHH)HATUWVSH HHHDD$`DD$`HHHE  Ht"  HcIHHt<
uH  ADH3% LH [^_]A\AWAVAUATUWVSHHHj HLL$0HD$8LD$8HS HN HHD$0,*HL$8   HK AHcM  HHc  HT$0Id<w Hsz t8HH   H; L= HD$(uH@ HL= HFE1D$$HIH   Hcl$$1HLZ@^v	u];t$$v	8`A<uBH  tHL  Hn  tHL$(H   LHP0  ;t$$v

   71HoLA   HH; 3D#UWVSH(H=9O HoHH;/uHHHHtHHHHtHXH9t%=  uHIHN  H)W-HH([^_]H8LL$,D$,   jH8VSH(HHHt.: Hu
H Hu	H    	  HHHH([^HY H HPH)HPHHWSH(HH1HHH([_H8)t$ f(\(t$ H8AWAVAUATUWVSHH1HD$0HcILL$   IHHY8HD$0    HD$8    HD$ 9k   HCHc4A9   I$HD0   IT$(AHzHB~DhD8HDuDHru#E~PDH^uADHOt2It$8H$   HL$ I!D$,tHL$8D$,OH;1Ld$09s~/HCL,uHHPHHL$81HH[^_]A\A]A^A_AWAVAUATUWVSH   H-6 E1Lu AAHIDD$   D$`w79/IuLaA$t </uA$ AT$<uIIE1Fv
   u   HMD$|H= tDH HHHc$   HAHH)L$|/   IL$   HHA$/H1D$   Hj Lu AHc$   HH*HL$8HUL4
ttitc  LLh<  H, H H`Mt;u$   H^w HEL5Aw HD$ L)MMSHDw 
Hc$   H,:   HIHt  HX  MtAE :H+\$8EtLHUH9s8uHH} :HMtHt:u:u  y9sy)11)L9Bt'Et:uHHEu
HIANu:uAHIA HLH)HcHH]  HD$0    )D$dL5 H}D$dHc$   I)HHIHD$8L<HMEt$E1	   LgmII9tI>L|$8L}E1H|$0 u|$| LD$0xLD$|H]HG   HHD$@m|$`5  H H|$0 H HD$PHEHD$Xu-HcD$|yH H H`HD$0HHx  H|$0; uE1U  HC1HD$HL;|$Hv  Dd$ LD$@ILD$(   LbHuzLuHr AHH_ HEt-A?u'IOHHL$hAOYH2 L|$hHL9uoIL9|$H   I;*tatIEuIII9rA?uILt$0AteHMHL$h<\u%Et H    HH HH AHH HHD$hH9EIH[ D)AB?tHLu`HL9uIH% 1H;Lt$8HT$PDGHHEH+T$XMcHcIHLB7)HHHzHILDd$ H,LD$@9|$(HDLIHtH)HLIMtpHy A LHH)HcHHLH   [^_]A\A]A^A_H('H   H=   HLH=HOH(AWAVAUATUWVSH(HV2A1A   H 11IIA   LD}IH'EuMtXDtH}.1   vHB(HuL1B(HI9ut+t.L  II	H0 H-~. L  II
Hg0 )     H([^_]A\A]A^A_WVSH HHH0 HGt       EHZ Hc H4H> uH?. 0H~    	HHe!H> u1H [^_WSH   HLD$(H } HD$(    HH Hc H< tQ,H  Ht/u \HH\$01   D$0p   LCLH| HT$H1HD$@9H1  H| H  LD$(HD$PMtHH|   HD$PD$`   H H   [_H(  (   H(H(b  (   H(AWAVAUATUWVSH(IHL3HH HC0HSXDhH9v:HEHsXE1AA9rHKXE1cHKXHCXAE9uSH9vHHFD9rE1DpE9~HKXAHCXE9vAHH9uE1H9s4<
t.<	uDDSlAEJA)E<v<uAAHD9C@~DC@C4S@D9wD)C@H9u?	uC@    D+C@E4$DE H([^_]A\A]A^A_H(Ht9 tIHHf,  H\,  H     HH FH(HU H HPD@IHO  AWAVAUATUWVSHHHD$8    HHf* HuH Hc H<H? uH* HHHH; tHHD$8L- 1E1HD$ HHIH   AE1     Lt2AuAWHHcHB  HMcEOBl
tEEt7EIcHDL$,1H  DL$,HL$ HDtE1A8 tA8tH(A   H98HD$8Ht$H@   Lc HP  HD$8H HD$8DHH[^_]A\A]A^A_AWAVAUATUWVSHX  
   $      HHJHt +uA0<	wNHH$   L$   HHD$ L$   H* tH$   M@tH$   MD$h    d$hL$h@ DD$hD$hHy Hc )Ll KHcH  I}  HD$Hu21H$   u$  f% f= uH IE D$4    L% E1@KL *yuAD$T$4HL$HD$4KD ID ID9|$4 uH) H A   8 u@t   =   vA  =  GE11HD$pH;) HD$`D$lHD$HBD$8  \$49\$hs+OD HT$`   =Ey1$H( HD$`H 8 uoL$81A   H~Y|$l t8!      L$8H)HIE1  L$8I   *  H+D$p    L$8HIE1  HuL  HD$@   I1D$P    HcML$8LI)HD$X|Hy!H8& HD$xV#H? @HD$xH/ K  tq;t$@vI|$l tDD$@D$@A)A&LAHAz
u
D$@;t$@t
EugE^AHcMc   HL)I  :2t*9   HcAHHL)HT    LcLA|
uHuL$P9t$P}HC|
L$PHAED)t:
uHHH))HLccD)D$PHcH   L9v   HLcL  HLcIduLD$XH     AFID9t$4RHt$HH   HDt  HD$8@  H7 1HD$@i$     HD$@1HD$HMd @@   xPH$   x6H$   Lx"$   9$   uH$   H9$   t\1LAx%H% LL% H% LHxLH%  HD$HDD<   He% L$49L$hHBH$   HD$PHT$Pu0H$    ~%1A   H9$   }E11  HT$8A   NIHyH# * H @E~>Ht"A9tMH    AA1HT$8Mc     LH9t$4W>H @HX  [^_]A\A]A^A_ATUWVSHHm= HHD$pHD$x    D$d    HD$h    \    Hzt HoHthH#= HKuH= I    E t;<-t7f   HHtPtH fHWH<   HGHD$dLcHHD$PLL$xL5 HD$HHD$hH< HD$@HCXHD$8HCHD$0HD$pLd$(HD$ yHp Hc(D$dtH\ uHC HC8@tH"HC@@tHaHC@s#s@@ ts s	s#HK1HCHD$hHtHHSHHCHt	HD$h    HKH,HCH} Ht(/   H~H9E s  HU LHHCHuH{ tH HSAA   tHuH; L11
     HL$p9-uy uCH HCHV%  	u<LHi; oHt$HL$p1}#Cy HT$pHF; 5HL$p  CHL$xHtW  E      H=: x   HE   H0: HE   H$: HE   H: HE   H: HE  SLCIHT$dPHSHP		Y       t^   H9 H9 KHE   H9 HE   H9 HEH9    HEH  HCH  HMu&   HPHKHtHCH HCHCHu*HCHK HPwHuHCH9 HP>5G  H[^_]A\AWAVAUATUWVSH8HH HH (@t      )HcE1KH<1@HcIH     H
  L5 HAH0HJ+1L=! dI<$ tVAI$MD$H09-JD+uy uI$MJ/IJ>LD$(LD$(HJD+u@ML- MA   L1jIH~"HLM   LH+  H> uEH' 1HGAHHT7H3H	H<3 u@UVSHH H
HU(8[uUHu(x HcHHu!9]uy t-H &   q  H PH uH         H  H  HHH :H5    HE(HE(HHE(H HtSHU(HJLBHu8 5HU(Hz tjLJHRHu1eHFxuNHE(Hx#   1   HM(Hy  u!8(ux u:)uz uI    LE(HE(H 8!ux uHE(JH1HeHHH8 t!HPHHPHtH~    H5|  HN[HSH [^]AUATUWVSH(H E1H DH,H<:   H[HHtHHkA:   H7IHtHI}XD9v   1   A9w{H  HI  -   LI-   LHHHt HHtE  HLLj  uHHj  LOLGDF1Aw6H8 JcH   H([^_]A\A]ATUWVSH HiHH9rHjHH H)ZH0LfAtAtAuA   A   &"  V HBF H9wZHFH9AH9AuDH9v?V H9tI)HHMcHFHcH)HFH9wHxHH9wHVHHH [^_]A\ATUWVSH 1H   H LcHHCHcSHLIHHCH9rUH)A  (  SHcW  1HH+3HsXHsHsH  HtHH  HH   uHHLCJL% HM)I)! HHH [^_]A\WVSH HHH)yHH McH J<H    VH  H   HH [^_UWVSHH)t$0H-L H E }HLL$ LD$(D$$    H HHD$(D$     HL$(w  HrHT$(H H= HcHHHuX?7Hcf(H< tH	Hu!) Hp 8~E H,HWpH  +H- H=I   H  t+%	|      ED$$7 m1uHT$$H|   Ho  } D$$(t$0HU  HH[^_]UWVSHHd   <   p  HR HD$0    HD$8    C1HL0Ai  11ADA1CHsG D$ ; u1HH[^_]SH H @  ~  H9Q(}HI S(Hc4  HC HC HH [WVSH HH3[    y  HIHAH9uH [^_WSH(cHcH1HHH([_VSH(H] H)   9|	HS8:tHK8AHs] H([^AWAVAUATUWVSH   H H$H  HH$   Dc4EtHK8HcS0McH7H$   H       AH{8~FH  u>GWlH  utA9AH$H  HK8ENBD)yuS,D)u+ 	  H  HH  OS,HcD)z  HC8KLcIcHS8` D	uC4    b  DH[ ~A4C4Cuk0  9      HChuLgL= AA   H$    $   HGH$   H$   E&  ADAH  IH$   FALHA   MD$EFE  DE)I   @tH[ =EHcGLoD$8HL$   HD$pH/H$   Lt$h)$   IEHD$xL;$   W  L;t$hH$   HED$hHD$ 1AL H$   HL$ HHu  HD$<H  HHD$0H$   Ht$`HD$X$   $   H$   $   $   $   $   $   $   $   $   $   $   $   $   $   $   $   $   $   $   $   $   $   H$   Hk HPH9D$XuHl$0HL$`HT$0L$<  FVDFD    ,    DT$@AD$	D3d$@A1l$H,D< DT$TD    D    E1DT$DD    1D3d$TD\$,D13T$,D    D3d$,1F    l$LE1D1A13D$@3D$,E1C E1D13D$DD3d$DE1D1B,    E1E1D1D3|$H3D$LE1D3|$LD	D3D$T1A1D13L$,ED1Al$PD1E1D13L$H11C A1B    AA1E1EAA   E1C D&A1B    AA1E1AAA   D1C D~1B    A1D1AA%   FD1C 1B    1AHD1   VH9t$X=K1Ht$`Ht$xA2HHuILt$ HD$pt$8D!)yHXW rH{8<      G<ubOLV 2t:wLV t,LV (LV 3tLV ptIDGHV HV u! t<uHK@HWLc_r1H   [^_]A\A]A^A_WVSH0@9Hu:HIHT$(A
   Z?HKHT$(HH9t: t1H{ H0[^_UWVSH(   YDQ@H)9~WHI0HcIH`F@    A @  H~0A)NHMcFDyH 11^D9H([^_]SH 9 HuHQH S  HCH [UWVSH   L HD$0HLL$8HD$8    HD$(HH HD$ HD$0    D$L    D$T    6H-v Hc HH; u
HL$8HtHT$X7  H$   D$HD$PH|$0 t_H|$@Ht$XHH HHp  HL$0H(D$xH|$0H HuHr H D$HD$P1Ht$HH|$8 HuHT$0HHEH
U  tY 8uA@uHHA    x$  H|$8 uH|$0 tHHT  H   M
HH; vH   [^_]AUATUWVSH8   Hg     HD$(X     HD$ )  H1HH=   uHH< gHT$(Ht Hc H,HM ptHL$(srHMHtR9 uH
 WHT$ ]pLT$ 11L\$(A09v$EI9wEAG
EH1HL$(H   19~DHBD HL$ H   19~DHBAA   AHT$(1A   RWH   Hx	 AE11AHL$(DEt&B|  tHH9uMtHT$    |  FDEtE9uB|  uEB< uLL$ ECI1H8[^_]A\A]ATUWVSH HA HHLHt[Hy(N$La(HI0L9sRHS HC0    H.  @IT$  HHC0HHHC0B  HIH9tH   HH [^_]A\AWAVAUATUWVSH   HcA LyXD$LHIH$   H$   H$   H$   H$(  HD$h    H$   H$(  |$h9x  H$(  H|$hH@HcD$XHD$xHHD$PIxtHD$hX  t>T$LEF`Lftttu ttttAF|T$LLD$\\tFHHkI   |$X;8u'HD$xHc|$\$       HHkHD$`N  Hx uIFXHt$PHD$p    I~HD$`H 0$   D$pA9   ~I   Ht$pL,Ht$`IcEHH$   ;0  A] t$L1$   A9m   IEHH$   @A$   A)E$0E.D$LDL$XLLL$   HD$ J  ME9f}-D$   E9f(|LDLU!  I~D$   HcHcMcHHHuI~D$   8$   A;E  ~Hc9\$L  A+E ~6A9vA;v(  L!~  I~HcL/8|  IFpHH_  DA1A9P  HALT$`HcIHIx	uD$   D;tHA  I} EM t,EEIU\$(LD$0	   Dd$ ?   =   D$   D)HcD$   HIEu$           AEA9EuFIMD $   HHtH    q   HZHtIE$   AE      7IHtIcMIUDL$XHLLLE AXAED$LD$ H<HD$p
$     I   \$XH9tD$\HD$\A9F|t$L9puX@IO0)t$puHt$PIW(HT2Hc2HHIWHt$`Hc2HH4MnpH$   1IT Htj\$LEF`L)SHcL$    MAIE HuH$   ILIE nHP8H$   ID$   D$   $   tH$   W   H$   L$   LMfp>H$   I$%IFpH< u
$    ue|$p IFpH$   H9hDD$LHLM$   u&HL$   u]$       $   H   [^_]A\A]A^A_AUATUWVSH8H=mh L'IL$`0H5Y  H.HuO1H=$5 I$X  H4Ht$ HHD$(LD$(HH
HHuE1   H^HtH1?QuHHE1L-4 HH   HcyHLA   QZHBXBXHt+<-u{ tt
H   H[  H1HH,H   QH   CHrDH8[^_]A\A]WVSH HYHHHt<D3HV	<uH<vHvH9tHHH)H)HIH3H9t  H [^_H8 tHPL@	u
LH9uv  =}     11AUATUWVSH8HLD$(H5  H}HL$(H9 1     IH{i Hc H4HHtiA  Ay% 8ut@HH     C*L5uHH     D  HH8[^_]A\A]UWVSH(HLL   Hd HD s^OHHtH   3bIHHg  Hi  Hf H     Hbh      C1IIHRu$H%IIHHD1H.tH([^_]UWVSH81Ht$(HT  IIut$*|$(6IT     ItIT     iIt   P   H{ uAHRC z  /HGC HiHHHt <wt<huy  H
   1H8[^_]UWVSH(      HHRHt1:-@Hc1HHLHtA1e	H([^_]  wf
A    +   f
f f%fJf fA    SH HtH HuH [G  H [   UWVSHH1H. Ht   Hb HBXBX12>H{  H0HuyteHD$-   L HE ,@=DHtH@rHu wH@u xHHHu  Hx  tH- d0<	vfHf=vHH- 0	vf1H-     Hw1HH[^_]SH H   H; t$Haa HBXBXH>H<1H [WVSH0H< uH5` H= `H a HBXBX1Ha HHH;HtHH9HHDHH8  uh<1J/uHHHHu0H   LLL$(LL$(L< H< HH`t  H0[^_UWVSH   H% HHsAA   H tH$ HiHT$`1$   D$\   HH   H$ H   Hl$\H.HH$ H t-DD$`DL$dH$ HiDD$hHx$ HUHL$(V D$(H  ftHQ$ f	t!f|$THC$ vH?$ H$ 1H   [^_]UWVSH  H-^ HE 8uHuFL H  HHb Hc H< tr H=  u!      H=     H=  Ht$.HUHE 8auH  Pu  mHHE  HH  H= H  H`  HG  HitH: tFt  HHu
   A1|VSH(H</t1<\uGC</t1<\u:HsH2 Ht!HH2 HtHgt0)H([^SH HHV" HHa LC" LH  Hc HH [AVAUATUWVSH HEAtA@  A   
    H` H   ttZ@          H  V  )DHcD     !  H [^_]A\A]A^O  J  A      f   Hn` L(A  <t<t<@uWA   I  A  A  =   u   u      A   HH [^_]A\A]A^DL5_ u-IHH9BuAHIM  LHPH
     IhH
)A t  )AXD`H  HB H  H [^_]A\A]A^AtAtAuE1A   A   SH H4_ H  ~5D  HcHH)A H  E  @      H [VSH8HL$(HHt$(HutHH8[^AWAVAUATUWVSHHHD$4HLL$8D$8    HD$ HLD$<Hb  D$<    D$4AH] Hc HH;HtR?-u t1g1H-  HKHt-H{ tX9-uy t         L= E11L1AH;  IHty\$<LtH^HHD$89t
; tHHuILDD$4HLA@tu uLtHt:DuAtVH.  Po  Ho  HHMuAHH1wSH HH  HYH\ Hc Hv  1H [SH HHR HHrX HRmu	`ucu
H2\ H\ L LH
  Hc HH [AWAVAUATUWVSH     I<  @  .     HD$0     HD$8     I  AOHT$0A   HD$PH> H  HD$0 $   D$pvH4	 I  $   D$,   D$,   AD HHu   D$HE1E1I 11T$tA	   E1D$\    D$h  D$L  HD$`1A)HcHl$0A9~T Ht$0HA?AAOIcA   HT$0D\$XDT$@'>DT$@D\$XAyH    AEtDAD)D$lB    AC)T$l$   1$   Ht$8HcDd$\D$Dd$H;l$lv  |$h9|$,|DHHD$0D`P AA	A	AD#d$L|$HuA   ~H? A   taD9d$,      H S1AK   9L$pD$LD$tED$LAD$hBD AA)DAk$    tH|$PA1@   D$h  BD D$,   D$L  AA)DA	   D$\I A HcD$HHT$`Ic=   Hr~L9AL H|$PHGAD HL$`Ht$@D$XH)D$\D$XB        )9NHcHt$x~HcHT$8Ht$@HcH  ~HHcHT$8LD$   ID$   I1D$     D$   D$   D$   Ht$xHT$`Ht$@H+T$@cHcH\$8HcH|$t9|$,HcD$,Ht$P|$HD$,f<F@t$XAt {E~HcHT$8LII  HL$0{HL$8{L{HL$P{ILH   [^_]A\A]A^A_VSH8A   Ht$)HIH  Hp H<HuHd HCPHdtH8[^UHHP  H HH    {uUD$ -  AHH LF u+[}  HHHtA[}  HBHFHHP  ]UWVSHHx  BZ  HM(H    6     g      HHHHHHHHHHz   LHHD$ HE(D@uVHHA   Dx7   )Hct4HHM(IH9t
   H   Hx89x4tH {Hcpx)HpHHw)HE(   +IH=8H9u0   Hf8BZuH1HjHxt)HcHHH HHx  [^_]AWAVAUATUWVSH89 HuRIHT$.A   HtH H-  fD$.f=uHH  f=u  1L%    @  H@8H  HC0GCS@DCDHK0A)HDCDy   HC@      S@HK0HH,IC@@   HItA   H   S@HK0D4HHDC@{   Ds@AtA   H\tC@HS0HK@< uLuLIHHGPfA t   H	t,C@HHHH      Hu	H  %S@LC0KEHRS@D9tH  RAHC@;tLH   Hzt(K@HS0<
HuI<
uC@>HHK0vHvHH8[^_]A\A]A^A_AWAVAUATUWVSH   A   H$   IHT$sRHu	D$s<vH  H
  |$t HL$xuD$t   	   Dd$t   D$\I9LGLW  HD$8D$\06  HcH8  H1fDE  H9H$   (  Dh  D(HHAH9H1H)H!   Dd$`CD$X   D$H   D$4   D$0   HD$@    HD$(    HD$P       11D$dBHD$hLt$(Lt$@L;t$x  { wHDl$(D|$@AAKDCED#|$dMcDIMNL% EADC D9vYL$\L#t$h@C   I   +L$\D)HcIfAMi   N5l  :   A   ?  )A)DfK)DCfA     D+l$0yDl$tHD$8E   F4(A   { wHEHcDKDCEA   IcH   DHLDADS D9vSDD)f1A)A)DfDKDC)f   <x%   A9   Z~{ vJHcDKDCHLDDADS D9v*SDD)f1<x   ~+HA)A)DfDK)DCf   HcH 40HD$(HL$(L`HD$8@<D$tL9  HT$8H$   MZT$tH9tH  H!  Ld$@E1HD$P  HHcKDCHE  DADS D9v
S~+")A)DfK)DCf v;A   1   D)fD$HHd  D$XD$4D$HD$0#  H[DCDOSDDAC 9v   CD)DfW= v-3A))DfDC)SfOA       HDCJ%  DKDDDAC D9vC   D)Df~8/A)A)D|$0fDC)D$4DKf
|$4D$0     	   D+l$0yDl$tD9l$`3HD$8EB<(H;KDO0DCDAC D9vC   D)DfG0   )A)DfK)DCfW0 wHKDOHDCDAC D9v#C   D)DfGH|$HD$4|$4-)A)DfK)D$4DCfWH|$X|$4|$H|$XD$H~      L$4D$0Hh
  L$0{ D$4wH+KDDCDAC D9v)C   D)DfB   E1HHHr)A)DfK)DCf wHKDODCDAC D9v2C   D)DfGB   A   HH|GA   /)A)DH  fKA   A   DC)fEA   { wH IcDKDCHHDDADS D9vS   D)f1A)A)DfDKDC)f   F$`Au   DA)C<D$L  A      A   DNA   AMcI  Atw{ wHWHcDKDCLHDHDADS D9vSDD)f1A)A)DfDKDC)f   <xG   AAA7DHH)LU^  I{ v CS1C9vA	AuH)   SLD  A   A   { wHSIcDKDCHLDDADS D9vS   D)f1"A)A)DD	fDKDC)f   F<xEAuGD$0~-LD$(HT$8H$   H;D$(   D|$LLd$(AT$tD+D$0y9D$`_H|$8HL$8@<ID$B<!AI9u/HH$   M|T$tH9Ld$@E1HD$PIAtL;d$xrLd$(jHt$PHt$(HjHjHL$8jHH   [^_]A\A]A^A_AWAVAUATUWVSHHHIF H0AH  HHH1   AH8 D(HD$0    H#  HkLGuRMH  HH @LW  HmE  	rLD$0H  H1HH  W  L  HH  1q  HOL5M L=  IHHHD$8HD$8    HD$(ILHxq  HL$(HKH
uH   HT$8L5vHHPHC HPLp@L   mH  H"HwD  rLD$0H  HHO2HjHoH  HGHFJH  HJH  HJH  HJH  HJHD$0H   H  HFHlHFH  H   Lv@HL  HW  Ap  H  HHs  H   1HHA HtL HHLHQ H-  H   Hy  t$H JHHIIS  LgHgDA   H  LA   H  DLLmgHHH[^_]A\A]A^A_UgAWAVAUATUWVSH   H=u   Iu]Hd  Ht$P1   H   	t  HD$x   HHD$PH   HD$hMtA<$ tH  H	fHD$`     ^fHHtM@(   Po  EfHuH1f+   H@(    HH!@\   HP`H    1A   HD$`H9D$XuHAL$A   Hb%yH^  H~  u
A  HD$X    HHD$`Au4HD$XHL$`1< ttHD$XHu  HH9rHD$XHD$XHD$(HD$pHD$8HD$(HC	wH  HcHLvL     HH%f     H   A   H  &g  E1H      "  ;   tA         tA        C$wd  HT$XH;T$`   HD$PuHBHSHD$X         C@H   H       HHAe  L   L   E1LMOL   LLL$0M  C;D>(   H      ?#@t)LL$0L   LHHCHC0HC0    y+L   L   LHHCHC8HC8H   H   HH)HL@L      !{HPH      bH9EHH      '>L  AFXA;F\  A~dIVPu4A;F`v.IN(cANXbIF(HuAF`    A   p  AFh    H   A       AFxAo      H   H9sHHH       H       HCH    HCP       HD$XH  HHCHD$pHCy  HKHT$pL{PL[0AH)Lt$XLsHIL+sLsHL{PM9LS8M9C$D$0u%DC HL$hLT$HL\$@  LT$HL\$@C A  M9t	IM9t	IC@HC`HT HK`ID$0L{hDCp   ILs`x  HCXCp   HL$`LD$PHCHt+HT$XH9  LJLL$XA< HHCH   C$tH	T LL$`1DHD$X(HHWA7  ;L9tHSSD9r  HD$X  tHD$XC       Cxt[t@tfH       LL$`HT$PMHC|AtHH@  HCH   H;CX,@HCCx   H   HCH      LD     H      Cx   b   L   HKLL$`LT$PHD$XJ H)t+I9uHH  HPHT$XA< HHvH   HK`A   ha^   HHUA   H      	   HH_   H   A   Hi  aE1H      ~  ;   H      HH9       A   ;C$tQEuGHD$(H;D$Xu8HD$8H;D$pu,{,C,EAAA   A   A   E1C, LD$pMtHT$hLu  Hl$pHD$p    AAHV  HHt H  HN(^H^H^H^HH   [^_]A\A]A^A_VSH(1H? HtH  HHt)ft(   1 Htxu?H1H([^E11ISH HH  HH5 HRu	`u_cu
H8 H8 L  LzHHc HH [3SH q  HHA   HtAi  HH [\AWAVAUATUWVSHX  L%8 11E1E1E1HD$xD$W H$  H$       HD$x    HD$HH$  Lk  D$P  |$Pn   ,|$PdtX|$P      |$Pjtq|$PltX   |$Pqt@|$Po   |$Ppt'   |$Pvt(|$Pxt.   H37 H8c   AVD$WAIA@A7I$Hu%HZHHh  I$HHZ	H$   AtHL$H=AAHuZ;-u{ u1   f  EuxAsHIZ1HH,3yMHj H8Z1Hy0Hj HZ1HyE  HH       Vl  HtHd  A>EuHGH  HwH  At|$W H  H*  HDI  A   1   D$HH   H-          HIE1Hf       A      HHHL  L9wD8PHPu6xKu0xHPu&xHPuDHHH)HLI9ML$HL$HHHYH$   D$X    11D$\    HD$`|$H   H$   A      k  $   PK  PKu   ~  PKtH]  \  H$   A      k  $   tHF  HM  s  A     T$HE1   H$   e  A   H   'k  $   PK=  H$   A*      j  $  $  D.$  D$H  $  E1   Pe  A   H   j  $   tH$  H$   $  $   $     A  u$  A$   tHU  HW$   f=vHB    HH}     D$   HH
j  $     HHHHL$xHdH  H$   HuAu  HcH  f$   D$   H$   HfEffAD$(D?Af	T$0AHu    D$ X|$W u&HC$   IH]  ID     H|$qHR  D$   H5X$   fuH2  HU1fu+H"  HUf$   H  fD$v$   AD+$   yE1Ekdt
D1AH.CDd$ D$   IHD$8$   H  $   D$0H$   HD$(C  $   |$\$   "    AtHHH;   /   H%HuL%F  *  H&uCEuHtBH0  H5C  H-AA   H[  ~a  %   = @  y  H&BL     A[  %   =      A   HAH  HB  HL$`Hm%   =   uo$   n  vzr   HF  iB  HL$`H_THL$`-i  
   HH#H  HtD8HJAL=  HH  AtNn    yy  AHf% f=   D  He  Et
   EuH@H  HA  f f ux  $   =  f$    uFHHy  D$      HHe  IIH
  H  H'S  H    D$   fEu'D$   Mt   M  w  L$   1   L$   $  $     H$8  fA     x   @  HH$8  G@   HG8_  LHHG0PHO0HD$hZRDgHHD$@  H$0  ;RHD$hHy	H  AD9$   t\H  fAu
LhfAuLH$0  Hx!fA_u
LAHs  G$   H;$0  Hh  &A$        ;Lg?  .D$XA   At|$W u#D$XLx  AH/  LD$ "?  U+D$\y1kdt1t$XDL$\D$ t$0H3  AH  HT$(>  t$PE'N1HX  [^_]A\A]A^A_SH HHt-HA      HuI   H [&H [AWAVAUATUWVSH   HqXIcHHMIHD$PHHD$@HApIc$       L<MtIA} uHIcH      Mu4MH$   HH|$@H;pD$   HE>  g  MHH$   $       lpD$   Euwx( Hx(tILLvAZAUHxA     $       E1E9e~IEHJcIHHV8{$   tA   D$   E  { HD$8    H   HD$HD$89Co  HC H|$8HcHkHD$HD;pHD$8D;pHcLHA<D;p   AEU1DA9~6IEHcIHLDXAu;8ADA	u;8EDHyEyMMHYA   1A;}aIUHcLcDD$   ILHN8LD$X5wu6LD$XHN0DLwu$   MMHAuTE1E9eIEJcHHHHvI;8uMMHAuE1D$   E  eE1M  HEpHt$PH@P@  DHDD$8`DD$8$     HD$P    HLmXH$       HkHD$`H$   HD$xHHD$8D$PA9G  IGHt$PD$D;cuD;suHD$PIcIU HH|2Ht$XuHHt$`H   H$   HD$`HD$h$   D$HHCHD$pD;&|  ~+~tIEH$   DIE(HL$XHDD D;{E  HHcHH2  HDD$   ,u  |$(HT$pEHD$   DD$ E   H$    t(T$HHL$8D$   D$   w   .H$   
   HHT$pHL$8DuA   H$   Ht$@HHT$xH40iNA   HSHu:H$   H|$@T$HHL$8H48FtHL$8P9yHt$hH   L$   ENLGxAu-D$HHFHD$h~ H[E1A   H$    tH$   DD$8JDD$8DH   [^_]A\A]A^A_U  WVSRH)H8& H;Gp   tH@pHO`1^~xHT$(zuD$8H$   f% f= tGp51| 
tHH9uA   H	H
 u_pyH  [^_]H(HJHu	R  R1H(VSH(DY(H\$`AtA   =  uDRDD=  uDDDRA	fEfEAt3Au-Dq(fAu
ADY(fAu       A $  fvbfA (fAwrAw     L=  uBB=  uBB	fAAfAAf $f=vw  *               H([^ (  fwfQ
%    	   H8DT$`AtXA(uQA(A   =  ufA=  ufAAIDT$       A~ODfA  uAffA  ufAfAAfD (     fAwUAZv     >	  ufBAABAA        uJAIfRAQH8H(DQ(DDLD$PAtAu     vA.  u   A.  uAt0Au*DQ(=  u
ADQ(=  u	A     0 (  v= vlu  *   L   H(H8D$`IAtWDY(AuMADY(~E	.  uH  .  u	=  A	ILD$ tLGt     1HzA
.  u
A      .  uAH8H(y=t:t7t4t1<t1Mt  *   9   !               D9~t     H(VSHhE1E1HD$(      HD$0    D$    o HHus H   HLL$XtGHcHcFH >Hi@B HHcFHk
Hi@B HHT$PHcVHHk
HHD$XLLL$Hp HD$XLL$HHD$PLD$P1H1!r us     Ho Hh[^H(A   H_       HP  H(VSIEtN
   E1A ;
   1AD	uAuAt 0AIABE1D1AuL[^UWVSH8HLD$(H  HD$(    HxH Hc HH8 uH=  HH8HH5~  H-  O  HH%P  HH   HH>HtHsH-'HH!HtHsH-q
HB1A   HUH|$( t3q HL$(9-uD8    HAHuH  HHHL$(HD$(8 ty Hp0tH  N  HHz@HBA  HH1H8[^_]AUATUWVSH     H50 HHJH  H	tH5 H' Hc Ld I|$ u1AfA.I$1IYS  H$   8rD$   fAH9H  M$H~  HELl$.Ld$[A  H  $/  A-   LkHHtnyHk  LIAL
   H9u	o HH0AHC   1HL   L    SX  zH9H  H  HE.  1-7E1B	F
D9uIt=t=u1A=uE1D)AWAVAUATUWVSHH   @
@u	DAA   EE<-   w <#t^w	<!tg  <$t0<*     <?t/w0<	    <@     H H HcH:H H +H H HcHb H Hp  Hc   IHc  H5    1H^L# L H   IHc|a tI
tHHLRL
HHu3  Etu>H H    h   uDHp  D	"BAE!A	H Dd$?H LhMu	H   1L|$?Mu M   LI=AALHHD$(jHD$(HI}  tEtAA   LHj>xH H9ztHRHLdH H L`@&IMHL<AALHH]j@t
H H)HHH[^_]A\A]A^A_H(IIHuL  MujL  at*AAA9uQIIA	EA<	wAC<	w=A90t>A:0t=1EAEXJA	v,	vIuHAA
u7A)D6EuII	wuA)II   1H(UAWAVAUATWVSH  H$   11L}H`  MMJ  LHh  H;Hh  :^uHH@2@u@!uHHHHH)MHL$0X;HE E+<HEH 1te t`A$   Hxx:AT$u9IIT$PJw+HHAT$HPH?:tII(HMuH) HE   LA   ? tHA:H|DHH6H)1HT$0HUHHAt/L/LH HUP:HUIDLh@OGHA   H? tIH Lu9t;Wt-H((WD PtIIHPH AE1E11Ha  V  :E  KA?u0	-  HA"  -u0	  HA  =uDiHE   HED EtA8u:t!H(H3  {:u(@   LC+uK:tu1@&u	Dx   -uS:tu P	P	LsD8uILIHP HPLPHHxHtD:t??uH0-uI9HIELEEEtA8uAH	
I(HHHH      H`  HHAoAHEHEHD$     LMDLEH`  t   LEA9t   I(Ap   I@ AXAxHt H HHt7A@M@<u
L!<uHLE@  LEA MtI!	!!	1<HE8 tPt	ptt6H(EtDt&H= D+A9ExA9|H 0}!tH  [^_A\A]A^A_]VSH(H3u  Hs(Ct8	<u   <v	<t<v   CuH([^VSH(Ht  Hs(C;Cs&	<t<vB	<t<vCS9rH([^WVSH Hrt  Hs(C;Cs	<t<vqtC;Cs	<uT<vH [^_WVSH Ht  {    Hs(   C   DA@<t<vD8t"Ct\8tM   DH  H=  k8 t&CtHpk8 t   QH [^_WVSH HRs  C9C   Hs([{CW9   DA@<t<vD7t#CS9sYB7tIDH  H=  j8 t'CS9sBHj8 tH [^_AWAVAUATUWVSHH  IZ  L% I$I$   C$Z  CH  H     @SgHt8 t   HI  H  L- H-f  ILtSRtctHt3=KIM 9 t1H      @MI  HPHH  "  RH- H  HcU E     )HT$ {(,  HcE HD$ II$HD$(H   P   CHC0RM<$Hcs4Dk0IO`3AAAOhHc@  IG`H   D9}MG`A~HHL$(H  Cu H      H   H   HC Hh  H`  C,    HCl   HC8    C@    -3Cx    H       H       Cv L>MtT
   L?2IHtA} 
u
IAE A? tLMtMHH2HF    1QL=y  {    {LkCuL
H;   t)H   5LID   LH{v udH    uZ{ uTF}wLHJ l1Ht9M,$EE,E~Ip  AL3AExAp  AEx   AEv'y   0s^ HT$<H=^ t|$<1.'(E E 9mHT  *  1HH[^_]A\A]A^A_UWVSH(Hn  CHs(DIDh3tC;CsYQ3tmDHt  H-m  `f8 t"C;Cs HEf8 t0kD;Cr#t&C;Cs	<uH<v;H([^_]HH	AUATUWVSH8H5 L%^ F,H;F0}YPV,1   H:D$,    Lc\ tE|$,  HGu7HHV8yN,?   AE1AF,Ll$,XHcHHF8H8Z HcF,9}HV8HDH:F,E ~0 uN,D$,?)HV8HcE1Ad   HA=  u@9^,|F,S?@   9}1H8[^_]A\A]AWAVAUATUWVSH8L%I I$HK`H L- H(H}  u6IE H  x, t
H-H@01   {C^     L5i  H} ?%t3HI] HHP  S(HHS H9&  H[0GI] t. u0+t#%t-u!H   H[0L=     M   HwHt9H.t-;m  w%HWk  Hk8H\C-   L=  s?LpuHwLs/IL=  1Mt<IA LL$(HLT$ HHALT$ LL$(HtHuLL=R  MI0Hu+L=  HLu1   I$@^u%{, tK-HHH}  I$p^1H8[^_]A\A]A^A_SH0H$ HBXHBX{, uH   HTHD$,8OD$,H0[AWAVAUATUWVSHHH-) HE H$   1Htx,tH(H@0H"  YHcHH9  H   Iw9  Iu H5 IHI$HE Ht=x,t1HP DP(1D9t"LJMtLLcOO\ H H@0u	H  LEE1AZZ 9v<  HE1H^Y HE HX HIHE D9x(vINHt   I6AI    L=Y HE1AHD$<E1HD$ HE D9p(vHHHt7DD$,HT$ zW DD$,t|$<  u   HqY A   AH Et   AL5V 1IHE ;X(s&H97tG   HOL?AHG    H H$       H H xd t@A   Hm       'HT$<IV D$<It H$   L_YLWYHHH[^_]A\A]A^A_AVAUATUWVSH@)t$0H  L%  HLD$(H  HD$(HcH Hc H4H>HHHtHIL2  HHL$(AL-  L5  f(L  ue   HA9t&H)IAf(fH~Hb  1  HvL^  E1   HL;_HLAM  H0rf(3tAWAVAUATUWVSH   HHF  H[u   Hy Hc HH  H; HD$@uH HHH  HD$@H  H{ HD$(uEH  HED$(HD$(HD$P
   L|$xD$3 HD$8H|$81D$4    L|$HL+M   LD$4HDIHP  H|$H
   1E11L  uLc(tOLD$3@@H$   H$   ^wA tP   Fw	uDDb0DH;$   vH$   
u
HD$xE1    DEH$   t1SLH$   H9D$psHD$pH)D$p|$4~pD$4    L|$8L-t  HD$(E1   DK<tHH   H:  HT$8J<IIuHL$@L  D$3~L$3AWAVAUATUWVSH  `  H$       IL  L= IIH  L$   LL H  HC@H  LK0HCHHCHD$`HCHHD$8HC@HD$0HCHD$(HC8Lt$XHD$P    HD$H    HD$@    HD$ H H$    D$xHu HC0CPCX  H      1HM%Hm tHuNHc2  HC HH$    tLH=	 A   nH  HID'HcHH&H9uDc(HE$H|? uH8-ux uH  CP    CX  HK8CTHt$9-uy t  6     CT0  Hc|$xID H$   H$   HH
  H$   H$       H$       H$       H$       I7H  HN@,&tAH$   H  8fH  HEVHt8 tH$   HA>H$   H$   E1H$   $  $   8  H$   H$   H$   ?[u>%   H?#HHt)]   H*#HtP:tuHHHD$x    H=>  uKH$   HF0 </tuH  HF0HNHV0HtqHG8  HD$xHF0HF    t(HN0   sWFPxA   1/  HFH$       $      $   H$   A   RHH~   uEHM 3  L$   HL$   Q L$   IH.  HH`  H"IHf@\  EuH$   8f*  HH H9$   uH H$   E1:L$   Et&LL$ L$   H  HL$   N  4H  L2  H  H $   H  LD  I?G(uL$   H  H  G(uLGHH~  H  HH}    H$   HtG(uX}Hs  HI  Et*H$   HtG(u)}H>  HIw  LGMtG(uH=  HY  HO HtHx  H   $   s0LOLL$   & L$   H  HA  H8  H  H H  H9$   uH
O    H@U H=h  HHjM/IE`HH$   S(H)H A=   =   }0tdt:=   t,|1w&EHIyHuI} t/(I} u!H$   HZ  pO 8 u[AE]HyHHh  1H.UHH9v?H$   H6 <u8
   HIE HyHH   u  	t<u1H8TH  H tHH  AE\S<KA+  >$   uH  HU?/u+H$   HO3  H$   H$   )H$   HEH$   H$   HH$       H$   H$   H$   $  $   mNHv  L5L  HL9$   uHH$   A   611ID=   tIH  H`H$   H=  Ht:   .HHt  HH$   HuH  IH  mD=   t3=K  uIHH  MD=   tIHt  H`1IHm  "DH$   IH]  D=   u>M'
   I|$dHI$HyHH/  -L 8 uAD$]1IH!  C=   t+1IH  C=   tMH  I`   M'Ml$`LCxQ HMZHHL9$   u21IH  4C=   uHH$   E14MD$Mt3H  L1ILB=^  uID$I)$H$   IH^  B=   ~MHN  H  rHH-c  E rBM'A|$P yAT$XIL$0-  AD$PH#E u/AL$P%  AD$Pu:J H  HH`  H9t.H11IB=   tIH  H`H$   HH$   %H$   H$   H$   HL$xH$   KPx.%  KTx"%  1H  [^_]A\A]A^A_Hy  H    wa
UDDAWAVAUATUWVSHXH  HLIHuHL$-H2 IHH  1t{H  L-  Hc MHHH  uATLHr  HnHt!TH|  HU  8    17H3H yH&  H
HtH=  A}     H;/   HHu\   HHtPHcHHtHbH*HtdH	.  HQcHH6H  1=Ld$ L|$ HLu$HHt H1H  HA> uH	H; HX[^_]A\A]A^A_H(Hz t;$%  H,  H(ATUWVSH0H	  H-  HLL$$LD$(D$$+   H  HHD$(yH  Hc H4L&T$$1H\$(HM3HHHtHHH  +   HH> u1H0[^_]A\AWAVAUATUWVSHxH$   IHMLHtH: tHD$LLd$PHD$0{HtPHHtHIGxHt?A   IOXDE u AG\uA      WF 8t1HHH)E AGH    1A       R     HI)] IE H9  A   MAHEwHD$L   IO \$<H\$0H\$ AW(HcuAG\EwHuH   |$L tMGPMt1LbL
t Bt9BuLD$0L!HM   Mt4L%L
It HA@t9uAHLD$0LHE IOXLLDD$LD$ AWhu5AG\tE 8tD$<A   1D$<EwHA   !HHHI)] H)E Hx[^_]A\A]A^A_1SH0HHt%HHT$(tHT$(HD@H0[   1H0[UWVSHHHHDH   H   DH2"  11AHI\$(HD$ RB 1AI   \$(HD$8    HD$0    H|$ \C @ =Z  tH   19vf<F uH1HH[^_]UWVSHHHHDH   H   DHr!  1AIH   \$(HD$ A 11AI\$(HD$8    HD$0    H|$ B ? =Z  tH   19vf<F1uH1HH[^_]H8LD$PLD$PLL$XLD$(  H8VSH8HHHEu*1A HHVu'HD$,=D$,HH>H8[^AVAUATUWVSH0I9HHHIFLMHt 1#A MIHHH9wiLGtLHD$(HD$(@H9HCHK  HLHI IH=LLHEH0[^_]A\A]A^VSH8H:H*Et+H=nJ   t!tHL$/A   \$/H\$/H8[^SH@LD$`LD$XHHT$XLL$hLD$8LD$(@ LD$(HHH0  H@[SH0L$/   [uP'HL$/A   H)L$//DH0[H(HL$0? HL$0HP0t
   H(AWAVAUATUWVSH   H  AHM;u1HLL  H  ;p  LHtMy? H    V  =OQ      < L|$@< D$DP= 1t$@Ht$HH<    HDpHQA1DAuH$   H(= HAvHAAC1AuLt$XL< LHQA1!uHL$8_= DD$<L$@D$83D$DDP  1A9   mP  DhP  ZP  H$   N4+A   HD$(LL)HM~5H.P  y9ILHt$(IN$   IHcD1BtH=uG   t~AHHH   [^_]A\A]A^A_AUATUWVSHH  HILKtvLd$@IM   LH|$8   =   v1HcHWHHt=IMHHH|$8i   t#LHH9L9t9HD$,l'1~< ILHLuHD$,D$,HH  [^_]A\A]AUATUWVSH8H-> HHMLLL$(11IMHAHDD7 H8[^_]A\A]AUATUWVSH(AHMvu.1; EHDt3  D&  111A   I9tt
xAD   H	tEHDH([^_]A\A]L;%J  v$HK  )IL$L%J  HJ  H-J  LHBD%  }        H-IHtLuCLH)t(AHHfAHDu@LtI)HDHHHHAHD=tH([^_]A\A]UATWVSHHpHH{8     =K   u.H  {8 H  H8 J     H^=  HEE1E11HD$(    HHD$ 9 At} u1  Au  7 mu
   `  LEDHU
   LHE    H<  HE    Hu#  D$    A(   HuU  wE9u=  vi1HH}9 HHA6 uE>   E    HHE    W7 tzDEAE!DHkHHHH)LMHH|$0H7 U19HHkf|u#%  1H8 u$}%  H[^_A\]UAWAVAUATWVSHxH$   Lu`IMM76   t    =H   u.H  .6 H  H66 H     H!;  HEE1E11HD$(    LHD$ 6 t1}   1k  5 mtLEHU
   LHE    H:  HE    H  D$    A(   L  E=  s  U91  !  HA<=  1L(7 *  HULc4    E    HULE     5 DEE   DHkHHH?H)LMLH\$0H5    M   H11f:uz EH9u1Lu6 tyt0   HcAtA   AEDtK1HAT s   ATt As   AT11He[^_A\A]A^A_]H8HL$(6 HL$(HP0H8SH0HL$(5 HL$(A   LH0H0[AUATUWVSH(IHLv?8 H   CHF    f% f= @tc{~]HFHtHPH9SuP9tH HFHu5HHH   HVHFHHHPHSHPH9F u(HCH9F(uHtLH  l      LnMt_IM9/uQA	   H3 t5Mm }/tHE tH9u</tIMA	   Hu      HH~ u'Cf% f= uA  1LWyy1gIMHH  t?LC(cx5LC(H  1AHA  DA    H([^_]A\A]AWAVAUATUWVSH(  H5R ALEMH\$ A%H   H  Al1EHHCd   LcH   HK|HxHDD$   ALDE)Mc1  McDH&    A1HAA  DA  D  H(  [^_]A\A]A^A_AWAVAUATUWVSHHHAHQ 	LLL  B  H   HDm ]
x>IH  H  HH    HHD$8E1HD$ L  H:AuHHw  yrHDD&  Ld$8E11L-cA   Ht*HOHl$ MMD$(    DiH?ADH  1   A   HM   M 3tH  UiHt4HT$8LsHuH  bqD$8	   EHH[^_]A\A]A^A_AWAVAUATUWVSH(  A   1H\$ HLLHMAd   ILk|LIH|DFHKd   A  LcFHKl   LcFHKt   0   H~8 LIv8H      MVHf  Lv*=H	  A    H5VH  Lm<H)  A    H
HEHtGLhH   Ad   $   1L $      M E1MK   /{  Ff% f= u]LE  I1M  H   Ad   L$   22 $    tM E1MK   L   f= @uK$    $   5t'FE1M ML   f% f= @A   HD /   f=  u
$   3f= 0u2$   4HI  E1   -HQ  E1   xf= u
$   6hf= uOH   LF(I9w   L#   HK{DDIHu$   $   0LH  3f1n$    M H}    tJH`. } HH0uHH`FL:  MH  f% f= @H  LE   H(  [^_]A\A]A^A_VSH(HLIH   LL$X*HyLL$XH  Lm%H9uHv  H H9uHc  H@1H([^AWAVAUATUWVSH(HI  H2   HL$pHLLr:{@ t4DC(I9u+L] u{A   H4x  CA   fC@ 1L-] A.   9s   u1HL$pSSDLbo  Hw  0HCHHHIHL@PHKLy tuQC(L|= IED H)1IQLo  Hw  o, Hvw  HP0M9tA$A_ACI<   
   H([^_]A\A]A^A_AVAUATUWVSH@1L--  HHl$0Ld$8HHcILHdLD$8AMt4LLLD$(uDLL$0LD$(H  H	H@[^_]A\A]A^VSH(HC  HuuC3uu8u%	   u"u
	   HH([^H([^WVSH0H5  ^0uHS^,   H|$,H~0 t)HBHcL$,HV8HHqtu
~, uyH1Hl* 8~U  ~ HDHV  }   Ha-t,   uHHV  |   HaF@{1^@H0[^_AWAVAUATUWVSH   H  HV  L_  HCHC     HC(    C0   H$   HC8    HL$   C@ H^  HC
HD$PHC0HD$HHCHD$@HD$8HC HD$0HD$(H$   HD$ H$       \{0 C0@   HcK0H  H$   HC8Ht1D  1  @ tHC 8 uHC     L%9sC L%\H  Hc H,H}  uH.^  HHE  x  @tH$   A   u  IIE1IIOHt Nl(D)H]     OAHc  HD$h@tH$   A     A   tHkL%H    (IINHuHcC(IHHD$pLD$hDDs(A1I(LHD$pI< uA? tH`]  _@   H\  @@A   IMAMtBL$   H$   LD$xr' H$   LD$xHH`H\  L$   t$A' H\  HP`(' H\  HH`MuGt
u& H\  HP`YtHL$hLgttC0    C@H   [^_]A\A]A^A_H8HHT$HHL$ LD$PHLD$HLL$XLD$(cyUHD$ H8A1   19   H8HD$     EA
     H8H8AE1HT$ 
   v  H8II
   O  AVAUATUWVSH   H\$@HMIL$  HH$   L$   Ht$ H$   L$  HH$  Lt$`IHHyL$  H$   HL$  H$  HYIHL;MHH=IHHL$   ILL	MHH[IHHILHH   [^_]A\A]A^SH HS%tHH  dH [H(%tH  wdH(SH HDD$@$ DD$@HH) y2f;uK) H^K  HtK  I#dHHK  dH [SH 1H  =   t!1Hp  =   tH]  H^  HK(ex4) HCHHxHKH [
   SH0HI	  DHSD$,D$,H0[SH $9tH  DcH [H(HFL  HoJ  HDHuRH(SH H$HuHH  bH [H(Hu=   H(H(LD$@$tLD$@LqdH(H(HE  H HtH  SH 4[HuHdX  YH [VSH(HD_&HuuHHM  aHN  aH([^SH HHu
HtPH [H8HT$(bZHT$(HtHHT$(H:
u HT$(HtHHT$(H:u H8AWAVAUATUWVSHH11E1H$   MHIExI4$Ht$(   )HHD$    H+D$ HD$0H$   |$<?Au
   f9,   LD$<Hc  H9|$(DD$<IwD86E?yHHD$0LD$ LH8LquEESLHcHc.   II$LHH[^_]A\A]A^A_WVSH P   1HHH  IHHHbHcuH1HPN9} HH [^_VSH(HHHu+ LH  tIHHzH  WHH([^H8  HT$+/qHg  H8  ATUWVSH H5{ HH     HHuk8ud/   HHHtO  H}HHt<HHBHAH4HIT  MHB /HH!HH [^_]A\WVSH         A   f9EH\$PHt$@HD$0
   D$(   IHt$ # 1u9f?u!:   HHtIHH&G  IHHG  cH   [^_AWAVAUATUWVSH(MHLM5LI*HHD)HcHLIHLH1HtHHH)LHJ40HHHLH([^_]A\A]A^A_SH H;yHH  P]H [SH 9tH [DH [A     SH H3"yHH  \H [H(by>H(1EL9tDE2 DH1B1AB1AB1ASH LMtH9tH@F  SH [SH HHu
Ht4KH [VSH(   1V@HHHHXHu	 8"tHHHPH([^|HHC  H[1H([^WVSH    IDCDu+BTLKHI1HLH [^_SH HcIHtHHC  RH [SH HHT$8^&tLD$8HH  ZH [VSH(9 HuIHT$H=   LD$HMtHuHH  HHU%HuH([^H(.yHB  GZH(SH HS2tHH,   ZH [H(HHtHuIH(WVSH HHuH  uQt9 tH)KHcHc HH [^_AVAUATUWVSH0H$   PHEE   	<   <   H5 D0AHT$(H     Z8 uaH9|$(tZHD0Lt$(t&utLHu
pHA> uD9rD9v$EEH*A  HpPHH?A  aPH0[^_]A\A]A^AUATUWVSH8PHML   	<   <   H D(AHT$(H     H8 ubH;|$(t[HD(Ll$(t+]t$LHuHHHpHA}  uL9v$ME1HB@  HOHHW@  yOHH8[^_]A\A]SH LCQH9t)HH [SH H3PHuHHM  O@(H [SH H#2tHH  PWH [SH LMt%.H9tHH  H  HHWH [VSH(H u@HQ DFfBHBfBIHC HK@AHPH([^A   H([^   AWAVAUATUWVSH   La I|$H,  Ml$ED$HQpfAD$LNHA    HfAD$\$@ HD$H    H|$8D$0   Ll$(HD$    sHNH;DHH2DIL$   HFHCk@tH   AD$L$   HD$PL$   )$   HtF1B20AHHuHL$PL11AAHHuHHCDCLfAD$N  AED$LyHHH  DH	HA`I LL	Lt$p M|$AL|$dD$`*CHH!CA   HFHHD$`HD$PL   EtTADD\$\$ HT$PLMD$lA   AHHEFMEE)DD\$\HL  H$   H$   Lf LHL$   tiID$HD$PL|$PD$\AEtLHAIyLQD|$\LD$PAIMAtHH*L"LH    $      h1$   Hl$p($      )$     IHT$`LD$lH$   HCDC($   HV fBHfBNH   [^_]A\A]A^A_AWAVAUATUWVSH   X   ID$<   D$8    	  LL$@LD$HL@HH  @@FHD$8HD$(HD$<HD$ EC H4  Hc(@t!HL$HAE11HD$     C@tHL$@E11IHD$8tuD$8   D$8D$<uD$8   Hr  HNAD$<DD$8tD9rH|$PHY  u!H|$PHT  HHHA]Ik
   L5=  L=@  IH9|$8r"t1t$<tLLVHHL@LH  uHt$PDD$8H  H HH}@IHAH   [^_]A\A]A^A_VSH(=S#   tJ#   s           = 	u  t#u=   t
u\      tT
ufHH@ HHtXH@ HH)~)9uHh&u>t&H5@ H~@ H)H@ 0  E1E11H([^UH([^H(LU  HDAHBH(AWAVAUATUWVSH(L-c  I      HHLo  HEHUKhH9  wIcL LHU HHHM  =   wu(fCx HC0    HC8    HCH    HC@    {x t
        Ch      Sp=   vCy Cl   L{y uCl   =   4C|    1H       H       fC    HH=67  uC   HXLshHU HHHMCh   CpHU HHHMCpCh   DCpHU HHHMCh   CtpHU HHHMCtDCtClChKHM L@LE<          <,v-          A   AAD      <v	      @   C|    H       H          1fC    HH=67  uC   HCh   CtKw  LEI9u1  LU DKMXL]GAKEDCuKpHE(H+E LC8H9HGHKPIM)L9sJ o  D{tHKHu	E   Hu*   A))H)A9DGDH9I<DBHHu ELo  A;Ctu L?   1H)LHDo  wo  LE  HC HLcHC    Do  HSCH9D)StH9sA)LLDo     H)HUo      HEHMII)IvYHU HHKHSStDJM9rHHC HCHSDCtHH+MLL9)CtHUHuHUH)HwCtLH9HGHu o  HEHC8Hs0H;CPuHC8    HU H)HUHs(HHHS8{pHS0HU H)HU {pu5{t v    i{ _C   H  H9U(zHEH9ECt9o  ]HEHuH9GLU HU(L96LK8HKPEL)L9IGL)H9HFH)H9HFLK(Hu LA)HDCtHS8HHS8H;S@w<H;SPt<HU HUHHuHHu HS8HS0HE HEDCtEt.QHS@HC8       Ch   CtCh    H([^_]A\A]A^A_W1HLAHA, H    LLBxA        L   H       H      _WSH(HHH1HHH([_WVSH0|$pHHH9vHHE;
HtWHPH9wx
tHHHy  HHDL$,H D   O3DL$,AuAHHH0[^_1HH0[^_WVSH HZJ  Hz HHtHH= HH0gu5HHHHP0fH> t    F
   :u1GKNF                                                                                                                                                                                                                                             RG            RG            RG                            
                F                            5                           F     ?                                 H             0@              _p?            ?                                                                                      2-+          ] f                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              \      >   ~               ^  0     %"          "                                                    \      >   ~               0  ^        %"     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               @F                                                                                                                                                                                                                                                                                     `dG                   ddG                  hdG                  ldG                  pdG                  tdG                                                                                                                                                                                                                                                                                                                                                                                                 F     F      F     F                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           %s:  POSIXLY_CORRECT            unknown option -- %s            unknown option -- %c            option doesn't take an argument -- %.*s         ambiguous option -- %.*s                        option requires an argument -- %s                               option requires an argument -- %c                               nf inity an _````````````````````````````````````````````_                                         
                              !   #   &   (   *   -   /   1   4             ?       @      ?  A        V<                     }                             ?      $@      Y@     @@     @     j@    .A    cA    A    eA    _B   vH7B   mB  @0B  B  4&kC 7yAC W4vC NgmC =`XC@xDPKDMD        <3#I9=D2[%Cod(
                         7yACnF?O8M20HwZ<sOu                         `"#$%^&*()=+{}[]:;'|\<> %a %b %e %H:%M:%S %Y %Y-%m-%d %m/%d/%y AM PM %I:%M:%S %p %H:%M %H:%M:%S    ===========================V======KM======V[[=8V===7v=/can't connect to remote host %s (%s) r ==== truncated base64 input [%uD [%uA [%uC ? [1C [1B [J [%uA unable to make a socket file descriptor: %s socket tcp can't find hostname for %s poll read_key only works on stdin cgetcwd %s: %s number %s is not in %I64u..%I64u range invalid number '%s'  %s%s NTFS FAT FAT32 CDFS bad regex '%s': %s . PATH %s%-*s not a symlink %s: cannot read link: %s [%s]:%s %s:%s bad address '%s' bad port spec '%s' w %2u) %s
 SIG can't stat '%s' can't remove '%s' '%s' is a directory %s: descend into directory '%s'?  can't close '%s' %s: remove directory '%s'?  removed directory: '%s'
 %s: remove '%s'?  removed '%s'
 short read %*u%s%s
 %u:%u%c %u.%u-%u:%u%c %u.%u.%u-%u:%u%c %u-%u-%u %u:%u%c %b %d %T %Y %u%c %u-%u-%u %u%c %u-%u-%u%c %2u%2u%2u%2u%2u%c %4u%2u%2u%2u%2u%c !"#$%&'()*+,-./:;<=>?@[\]^_`{|}~ set permissions of create created directory: '%s'
 can't %s directory '%s' [H[J (reverse-i-search)'%s':  %s.%u.new %s
 %I64u %I64u%*c 0 %I64u.%u%c   NO OPT %c! ()[]{}    bad byte count for conversion character %s eEfgG %%s needs precision or byte count bad conversion character %%%s byte count with multiple conversion characters %s%c -- %i%c stdin r single double unmatched %s quote [%u;%uH [K '%s' terminated by signal %u %s: exited with status 255; aborting {} -exec only one '{}' allowed for -exec + unpaired '(' ) -type invalid mode '%s' unrecognized: %s !"#$%&'()*+,-./:;<=>?@[\]^_`{|}~ Put %d lines (%d chars) from [%c] [7m [m (NULL) '%s' is not implemented '%s' %s No current filename '%s' is not a regular file can't read '%s' can't read user input last_modifying_cmd overrun %d%n    [Modified]   [Readonly] No file %c %s%s%s %d/%d %d%%  )]}  	 [Hit return to continue]  [New file] no 
shell returned %i

 %d delete edit No write since last change (:%s! overrides) '%s'%s%s %dL, %dC file No address allowed on this command features These features are available:
	Pattern searches with / and ?
	Last command repeat with .
	Line marking with 'x
	Named buffers with "x
	Some colon mode commands with :
	Settable options with ":set"
	Adapt to window re-sizes list  $ quit next prev %d more file(s) to edit No more files to edit No previous files to edit read No filename given '%s'%s %dL, %dC rewind set all %sautoindent %sflash %signorecase %sshowmatch tabstop=%u ai autoindent  fl flash  ic ignorecase  sm showmatch  tabstop= %u version 1.31.0-FRP-3025-gc01300361 write wq wn '%s' is read only '%s' %dL, %dC yank Yank %d lines (%d chars) into [%c] :s expression missing delimiters Pattern not found search hit BOTTOM, continuing at TOP search hit TOP, continuing at BOTTOM Nothing in register %c Already at oldest change restored Undo [%d] %s %d chars at position %d deleted %s 

 : Write error: %s wW ^0bBeEft%$ lh cdykjHL+-{}
 Delete Change Yank %s %d lines (%d chars) using [%c]   T"\n("0JT_n (Ac< (<=={Nz]K=!=n(3]Nncdy>< ^%$0bBeEfth H-k{ L+j}
 ^0bBh EXINIT hCRHc: [?1049h %d%c [?1049l  %s no-run-if-empty  r +trn:s:e::E:px0I:i::P:+a: echo can't fit single argument within argument list size limit argument line too long  ?... 
 HLP +HLP . %s: %d
 color  ^lnqvscFiHhe:*f:*Lorm:+wxA:+B:+C:+EaI H-h:C-AB (standard input) 0123456789. bad format {%s}  -0+# %03o del * / %s%s%s unknown user %s unknown uid %u %s: overwrite '%s'?  can't create '%s' removed '%s'
 can't stat '%s' '%s' and '%s' are the same file omitting directory '%s' recursion detected, omitting directory '%s' target '%s' is not a directory can't create directory '%s' permissions can't preserve %s of '%s' can't create link '%s' error writing to '%s' sym can't create %slink '%s' to '%s' unrecognized file '%s' with mode %x times '%s' -> '%s'
 -            C    eA        unmatched '%c' %s:%i: %s 
n	tr bad format in substitution expression write error r  unterminated { %d
 no previous regexp can't find label for jump to '%s' 
  w DOFkg\/^empty filename %s
%s 
 no address after comma missing command w bad option in substitution expression command '%c' uses only one address unsupported command %c Files %s and %s differ
 Files %s and %s are identical
 %s
 Hunk %d FAILED %ld/%ld.
 Rup:i:NEfg   Possibly reversed hunk %d at %ld
 ---  +++  /dev/null @@ - Really? %s MISSING_FILENAME removing %s
 patching file %s
 creating %s
 %sXXXXXX +- -+ line number %d does not exist bad line range for %s delete inserting at bad line number print M- $
  (incomplete) bad line for read "%s",  %d lines%s, %d chars
 search no previous search string can't find string "%s" bad mark name :  bad file command "%s"
 No file name bad quit command Really quit?  bad read command no file name substitute bad delimiter for substitute missing 2nd delimiter for substitute unknown option for substitute no substitutions found for "%s" bad write command no file name specified write %d lines, %d chars
 no arguments allowed unimplemented command 
\ No newline at end of file TMPDIR %s/difXXXXXX --- %s
 +++ %s
 @@  %c%d ,%d  @@ ^abdiL:*NqrsS:tTU:+wupBE =2 can't compare stdin to a directory Only in %s: %s
 Common subdirectories: %s and %s
 File %s is not a regular file or directory and was skipped
 directory File %s is a %s while file %s is a %s
 regular file - ^sl -1:?4:l--s:s--l %u %u %u %u %u %u %d %I64d diouxX eEfgG NF set to negative value 

 Empty sequence %a %b %d %H:%M:%S %Z %Y RSTART RLENGTH    b^erf(ccecfeeQgggbdddddda popen %s%s%s  \ZRPPOOkSkSQR@R<R]ORPkSX5WkSBX{YBXDUWoRSYTRXXRGSYTRX,REWYSTW[RDRTTTTUUU%UZUdUUU$V]XLXXXX'X XXXX.X/dev/stdin /dev/stdout /dev/stderr +F:v:*f:*e:*W: warning: option -W is ignored cmd. line awk %*x formats are not supported --version This is not GNU sed version 4.0 ^i::rEne:*f:*b nn -i %s%s                      ?          @         |  /     @ =    ^tLfc: -1 ^ =2 hard can't create %slink '%s' to '%s'  del    x  xxx     \0   \b   \f   \n   \r   \t   \v   \a  kkkkkkkkkkkkkky 
  %s
  %9llu %llu total lwmcL  -base64 
`
end
 
====
 ^m -1:?2 begin%s %o %s read error ^d ?1 - ^o: ?1 begin-base64  begin  no 'begin' line w end line too long short file ^ =1 cduf:+s:+w:+i %7lu  unknown  %s snrvmpioa MS/Windows ^cs: s:-1 %s: open %s: truncate ^+Ccds -1 STRING2 cannot be empty cr:d:t:fma TERM +s: unknown signal '%s' can't execute '%s' %s: read error write error (%s) %s %u unknown ID %u %s: %s out of range bad number argument expected closing paren expected missing ] ]] missing ]] %s: unknown operand ia w a %u %I64u %s
 %05u %5I64u %s
 sr 
==> %s <==
 appeared been replaced ^fc:n:qs:+vF Ff no files %s has %s; following end of new file %s has become inaccessible #-+.I 0123456789 %n %s %b %f %u %g %D %i %h %t %T %X %Y %Z %o   File: %N
  Size: %-10s	Blocks: %-10b IO Block: %-6o %F
Device: %Dh/%dd	Inode: %-10i  Links: %-5h Device type: %t,%T
Access: (%04a/%10.10A)  Uid: (%5u/%8U)   Gid: (%5g/%8G)
Access: %x
Modify: %y
Change: %z
   File: %N
  Size: %-10s	Blocks: %-10b IO Block: %-6o %F
Device: %Dh/%dd	Inode: %-10i  Links: %h
Access: (%04a/%10.10A)  Uid: (%5u/%8U)   Gid: (%5g/%8G)
Access: %x
Modify: %y
Change: %z
 can't stat '%s' %n %i %l %t %s %b %f %a %c %d
   File: "%n"
    ID: %-8i Namelen: %-7l Type: %T
Block size: %-10s
Blocks: Total: %-10b Free: %-10f Available: %a
Inodes: Total: %-10c Free: %d can't read file system information for '%s' llx lu lx llu %Y-%m-%d %H:%M:%S .000000000 weird file regular empty file regular file directory block special file character special file fifo symbolic link UNKNOWN '%s' -> '%s' lo ld integral invalid type string '%s'; %u-byte %s type is not supported floating point  %%%d.%de  %%%d.%dLe invalid character '%c' in type string '%s' x ^l:b:a:+ ?2 suffix too long %s%s suffixes exhausted unknown sort type %b bad field specification bad -t parameter unknown key option Check line %u
 %s%c inf ^ei:n:o:z e--i:i--e bad range '%s' %u%c fuzn:+vx /dev/zero /dev/urandom +ws: %s%0*.*f parents  pignore-fail-on-non-empty  verbose  v pv rmdir: removing directory, '%s'
 '%s' ^fiRrv f-i:i-f can't remove '.' or '..' %s
 ^fnvsq =1 LP PWD . invalid number '%s' .* usage: printf FORMAT [ARGUMENT...] -+ # %s: invalid format 	 d:s -d '' is not supported * %*s   > can't skip past end of combined input 3 %0nI64xc A:N:abcdfhij:lot:*vxsS:w:+: bad output address radix '%c' (must be [doxn]) a oC c u2 fF x2 d2 d4 o2 invalid second argument '%s' the last two arguments must be offsets too many arguments SKIP + SIZE is too large warning: invalid width %u; using %d instead \a \b \f \n \r \t \v !1t pw:+s:v:+i:+b: %*s
 ~ ^sfnbS:vT -1 -T accepts 2 args max '%s' is a directory '%s' -> '%s'
 TMPDIR /tmp ^dqtp:u ?1 tmp.XXXXXX mode mparents  pverbose  v m:pv invalid mode '%s' bad -a%u can't read '%s' ^scwbta:+ s?c:w?c ^scwbt s?c:w?c     * invalid format %s: OK
 %s: FAILED
 WARNING: %d of %d computed checksums did NOT match %s: no checksum lines found %s  %s
 %19I64u  %6I64u  %-10s  %4lu  %-8u  %-8u %-8u  %-8.8s  %-8.8s %-8.8s  %4u, %3u  %7s  %9I64u  %Y-%m-%d %H:%M:%S %z %s  %.12s  %.7s%6s [%u;%um [m  ->  ##%"%## %$%#%%     %s:
 can't open '%s' total %-7s
 total %I64u
 ^Cadi1lgnsxAkFpRQctuSXrvLHhT:w: nl:gl:l:t-S:S-t:H-L:L-H:C-xl:x-Cl:l-xC:C-1:1-C:x-1:1-x:c-u:u-c:w+ LS_COLORS none getlogin  groups=   , ^rnugG ?1:u--g:g--u:G--u:u--G:g--G:G--g:r?ugG:n?ugG unknown user %s uid=  gid=  euid=  egid= can't get groups PATH ^a -1 busybox busybox.exe interactive  iforce  fno-clobber  nverbose  v ^finv -2:f-in:i-fn:n-fi mv: overwrite '%s'?  can't rename '%s' non- can't remove '%s' affs devpts ext ext2 ext2/ext3 jfs xfs hpfs isofs minix minix (30 char.) minix v2 minix v2 (30 char.) msdos fat novell nfs proc smb xenix sysv4 sysv2 coh ufs xia ntfs tmpfs reiserfs cramfs romfs ramfs squashfs sysfs           ?
==> %s <==
 - count is too big: %lu d 80 bsw:  2  %u  %I64u %I64u: non-numeric argument division by zero %I64d warning: '%s': using '^' as the first character
of a basic regular expression is not portable; it is ignored  syntax error ( ) : * / % + < <= = == != >= > & | too few arguments %I64d
 8 initial  itabs t it: first-only  itabs tall  a ^ft:a ta %s%*s %*s%s 	  %*s%.*s ignore-environment  iunset u +iu:* putenv can't execute '%s' writing '%s' write error %s	%s
 can't open '%s' POSIXLY_CORRECT ^aHkLsxd:+lchm h-km:k-hm:m-hk:H-L:L-H:s-d:d-s . total --      Size Capacity Use% Type        ^kPThm k-m:m-k %s-blocks Filesystem           %s%-15sUsed Available %s Mounted on
 /proc/mounts %s: can't find mount point rootfs 
%-20s  %-10s 
%-30s  %9s  %9s %3u%% %s
    mp+Aunexpected EOF read error conv iflag oflag status can't swab %lu byte buffer %I64u+%I64u records in
%I64u+%I64u records out
 %a %b %e %H:%M:%S %Z %Y %Y.%m.%d-%H:%M:%S ^Rs:ud:r:I::D: d--s:s--d:R--I:I--R TZ=UTC0 0123456789 can't set date %Y-%m-%dT%H:%M:%S %a, %d %b %Y %H:%M:%S  %f ^b:c:f:d:sn b--bcf:c--bcf:f--bcf expected a list of bytes, characters, or fields the delimiter must be a single character suppressing non-delimited lines makes sense%s a delimiter may be specified%s , missing list of positions archive  aforce  finteractive  ilink  ldereference  Lno-dereference  Precursive  Rsymbolic-link  sno-target-directory  Tverbose  vupdate  uremove-destination  parents   ^pdRfilsLHarPvuT -2:l--s:s--l:Pd:rRd:Rd:apdR '%s' is a directory with --parents, the destination must be a directory too many arguments ^123 =2 %u %I64u %s
 %u %I64u
 -Rvcf ^Rvcf -2 %s %u/%u %9I64u %4u-%02u-%02u %02u:%02u:%02u %s  -> %s invalid mode '%s' mode of '%s' changed to %04o (%s)
 ^etvAnbu Aetv %6u   	 
 [H[J gunzip uncompress bunzip2 unxz no gzip/bzip2/xz magic invalid ar header can't resolve long filename  / seek failure corrupted octal value in tar header unexpected end of file ^du u--d:d--u r %sXXXXXX /../ removing leading '%.*s' from member names !<arch> invalid ar magic .lzma unlzma %s --busybox %s -cf - %s -cf - short read ustar      invalid tar magic invalid tar header checksum malformed extended header, skipped path= linkpath= warning: skipping header '%c' unknown typeflag: 0x%x buffer %u too small write bad lzma header corrupted data 7zXZ YZ    D(JI4Bjinvalid magic compressed with %d bits, can only handle 16 bits 07070 unsupported cpio format, use newc or crc %8x%8x%8x%8x%8x%8x%8x%*16c%8x%8x%8x damaged cpio file tar gz bz2 lzma xz crc error incorrect length            /var/lib/dpkg/info/%s.%s can't stat '%s' lzo %s.out %s.lzo can't remove old file %s can't stat old file %s not created: newer or same age file exists sym can't create %slink '%s' to '%s' %s;%x can't make dir %s can't create node %s unrecognized file type %0*I64o can't read standard input control.tar control.tar.gz control.tar.bz2 control.tar.xz ustar   ././@LongLink / can't stat tar file %s --busybox %s -cf - %s -cf - w can't execute '%s' error exit delayed from previous errors waitpid compress gzip bzip2 lzma xz uncompress gunzip bunzip2 unlzma unxz - --version tar (busybox) 1.31.0-FRP-3025-gc01300361 -%s ^txC:f:OopvkchjaT:*X:*zJZm: tt:vv:::c:t:x:c--tx:t--cx:x--ct:+ empty archive .lzma can't open '%s' %s: not found in archive %s%s *.dpkg-new %s: unknown file type %s%s
 %s: file is the archive; skipping invalid RPM header magic in '%s' cfUvqdt123456789CFk this file is a split lzop file corrupted data checksum error bad magic number header_error %d optimization internal error %s: %s high compression not compiled in cfkvqdtn123456789 gz ./DEBIAN data.tar data.tar.gz data.tar.bz2 data.tar.lzma control.tar.lzma data.tar.xz ^cefXx -1:?2:c--efXx:e--cfXx:f--ceXx:X--cefx:x--cefX ./control Status %s: %s
    
 installed install %s %s %s   %s Warning: Creating %s as %s.dpkg-new
 %s.dpkg-new %s failed, exit code %d Setting up %s (%s)...
 postinst Removing %s (%s)...
 prerm list conffiles postrm config-files Preparing to replace %s %s (using %s)...
 md5sums Unpacking %s (from %s)...
 ./%s preinst %s
 unpacked , | ANY  ( <=> = << <= >> >= illegal operator  )  u|unknown 0o=oKoSo[ocokoso{oopre- is in an indeterminate state is not installed or flagged to be installed is marked to be removed is installed is marked to be purged is marked to be installed CilPruF: depends confnew confold r /var/lib/dpkg/status Status:  
	 
 

     Name           Version +++-==============-============== %c%c  %-14s %s
 can't extract control file invalid control file in %s install reinstreq not-installed reinstreq package %s is uninstalled or unknown not-installed %s is already removed deinstall %s is already purged purge no package files specified package %s conflicts with %s fatal error, package dependencies corrupt: %d != %d - 1 package %s %sdepends on %s, which %s cannot be satisfied Purging %s (%s)...
 /var/lib/dpkg/status.udeb Package: ok Status: %s

 ALERT: cannot find a control file, your status file may be broken, status may be incorrect for %s Package: %s
 Status: %s
 Priority Section %s

 /var/lib/dpkg/status.udeb.bak can't create backup status file no status file found, creating new one extract  ilist  tcreate  oformat Howner Rverbose  vnull  0quiet  to-stdout   it0uvdmLF:R:oH: unknown group %s unknown user/group %s %I64u blocks
 bunzip error %d CRC error  Length   Method    Size  Cmpr    Date    Time   CRC-32   Name
--------  ------  ------- ---- ---------- ----- --------  ----   Length      Date    Time    Name
---------  ---------- -----   ---- -d:lnopqxjv can't open %s[.zip] Archive:  %s
 invalid zip magic %08X 8 (streaming) zip flag %s is not supported 1 (encryption) bad archive %02u-%02u-%04u %02u:%02u %9u  %s   %s
 %6u Stored Defl:N %8u  %s%9u%4u%% %s %08x  %s
    creating: %s
 directory '%s' exists but is not a %s regular file replace %s? [y]es, [n]o, [A]ll, [N]one, [r]ename:    inflating: %s
 compressed symlink is not supported inflate error crc error unsupported method %u bad length new name:  error: invalid response [%c]
  --------%21s-------
%9lu%21s%u files
 --------          ------- ----%28s----
%8lu%17lu%4u%%%28s%u files
 NXFS %s.rpmorig error unpacking (none) (not relocatable) iqpldc %s-%s-%s
 Name %-12s: %s
 Version Release Group Size %-12s: %d
 License Source RPM %a %d %b %Y %T %Z Build Date Build Host Relocations Vendor URL Summary Description :
%s
  PKjjjj2jjFjjjA;shlibs config templates     %s.%s short write write error read error tgz 
 '%s' is bigger than ar can handle %-16.16s%-12lu%-6u%-6u%-8o%-10I64u`
 -%s ^vocptxr -1:p:t:x:r %sXXXXXX !<arch>
 %.15s/ BB_SKIP_ANSI_EMULATION   v0alpha upper lower alnum cntrl space digit print blank graph punct xdigit 0123456789;    oo$ooooooooooooooooo3ooBOaso*9HoR070701%08X%08X%08X%08X%08X%08X%08X%08X%08X%08X%08X%08X00000000%s%c %s %s %u/%u%7I64u %s %s
 /dev/null %s: unknown suffix - ignored compressed data not read from terminal, use -f to force it %s: %u%% - replaced with %.*s
 cfkvqdt xz lzma bz2 ^cfkvqdtzs123456789 s2 cfkvqdtn cf Z Windows_NT unknown %u.%u %u x86_64 i386 i686 sh -c ntdll.dll NtQueryInformationFile _     N=v& /= //($Jrr            ntdll.dll NtQueryInformationFile POSIXLY_CORRECT alnum alpha blank cntrl digit graph lower print punct space upper xdigit  ^l:s:apg:+c:+ ?1 "%08.8_ax: " %u/1 "%%02x" %u/1 "%%02x " /1 "%02x" /1 "%02x " "  "%u/1 "%%_p""
" "
" "%08.8_Ax
" "%08.8_ax  "8/1 "%02x ""  "8/1 "%02x " "  |"16/1 "%_p""|
" r "%07.7_ax "8/2 "%04x ""
" %x  %*s%*s  --%s  %s  -%c  --    o@a@5@a@a@a@,@,@??,@a@a@a@o@LC_ALL LC_CTYPE LANG ExitProcess kernel32 \\.\pipe\bb_pipe.%d.%d unable to initialize winsock subsystem, error %d GetTickCount64 kernel32.dll %H:%M:%S %2d    %d %04d dHIjmMSUwWyY %s%s%s jy %B %a %s %u %*s%s
%s
 %u 
 
%s%*s%s %*s%s rb wb sh %s --busybox  sh -c " root nul /dev/null null zero urandom /dev/ .dll PE   %s. can't open '%s'  \ ? ? \   \ \ ? \   \ D o s D e v i c e s \   U N C \   GetFinalPathNameByHandleA \??\ \\?\ \DosDevices\ UNC\ CreateHardLinkA = TMPDIR TMP TEMP PATH .sh  	
 
 %d:/%s GETOPT_COMPATIBLE missing optstring argument -+ +o:n:qQs:Tual:* , 	
 empty long option specified bash tcsh csh unknown shell '%s', assuming bash arithmetic syntax error expression recursion loop detected malformed ?: operator exponent less than 0 divide by zero %I64d "%07.7_ax "16/1 "%03o ""
" "%07.7_ax "16/1 "%3_c ""
" "%07.7_ax "8/2 "  %05u ""
" "%07.7_ax "8/2 " %06o ""
" "%07.7_ax "8/2 "   %04x ""
"   *$$$$$$*$$$*HjPS1=\w \$  PATH= SYSTEMROOT= COMSPEC= USER LOGNAME HOME SHELL PPID SHLVL HOSTNAME PWD . %um%u.%03us%c Built-in commands:
------------------
 %c%s 
 S %04o
 illegal mode: %s BB_UMASK=0%o invalid file descriptor invalid count invalid timeout p:u:rt:n:sd: IFS read: '%s': not a valid identifier  REPLY  &expression expected %4d %s
 trap -- %s %s
 %s: invalid signal specification builtin Illegal number: %s on off -d -t illegal option %co %s %-16s%s
 set %co %s
 login illegal option %c%c "%s" unexpected %s  (expecting %s) usage: getopts optstring var [arg] OPTARG OPTERR Illegal option -%c
 No arg for -%c option
 OPTIND   %s%s%.*s%s
 np can't open '%s': %s %d: %s ^C missing '))' unterminated quoted string missing '}' EOF in backquote substitution h)Q"{6;n-a -o bad for loop variable [[ ]] bad function name Nvnot in a function vf not found %s: %s a: redir error bad fd number  ABBBBBBBBBBXBBBBBCCCCCCBCBCCCCsh --fs %p unable to spawn shell    =dyyym
Use "exit" to leave shell.
 %s: not found LINENO= -X invalid forkshell ID Invalid forkshell memory /dev/null forkshell failed -c GetConsoleProcessList kernel32.dll ShowWindow user32.dll /etc/profile $HOME/.profile ENV HISTFILE .ash_history HISTFILESIZE   h%builtin func %s not defined in %s command_not_found_handle can't create pipe: %s  is a shell keyword special  alias   is an alias for %s  is %s  is a function  is a %sshell builtin : not found
 pvV * r %s%s
 BASH_XTRACEFD %s %s%.*s%s %s%s _    eerrexit fnoglob Iignoreeof iinteractive mmonitor nnoexec sstdin xxtrace vverbose Cnoclobber aallexport bnotify unounset  vi  pipefail Xwinxp  noconsole  nocaseglob end of file newline redirection word ; & && || | ( ) ;; ` ! case do done elif else esac fi for function if in then until while { } PS1=$  PS2=>  PS4=+  RANDOM 3. 3: 2[ 2[[ 6alias 3break 2cd 0chdir 2command 3continue 2echo 3eval 3exec 3exit 7export 2false 2getopts 0hash 0help 0history 0let 7local 2printf 0pwd 2read 7readonly 3return 3set 3shift 3source 2test 3times 3trap 2true 0type 0ulimit 2umask 2unalias 3unset 2wait /\ ^C 2 ^+dtn: -1 %s %s [H[J Every %.1fs: %-*s %Y-%m-%d %H:%M:%S %s

 %*u %.6s, bad -o argument '%s', supported arguments: %s Zo:*aAdefl pid,ppid,user,time,etime,args %-*s  %.*s
  %*s %2u:%02u %2uh%02u %2ud%02u %4lud so:* %PPID  %u %u %s
 %u
 vlafxons:+P:+ unknown signal '%s' %d
 bad signal name '%s' you need to specify whom to kill %s: no process killed can't kill pid %d invalid number '%s' [Querying %s:%d '%s%s']
 %s%s
 
 domain: domain name: whois server: whois: domain  [%s]
%s whois.iana.org ^ih:p:+ -1 [Redirected to %s]
 restart failed error getting response writing to stdout
 saving to '%s'
 read error bad chunk length '%s' connection closed prematurely written to stdout
 '%s' saved
 :// not an http or ftp url: %s  -e %s --busybox ssl_client -h %p -n %s%s b can't execute ssl_client   %s
 bad header line: %s --> %s%s

 %s
 r+ ftp_proxy http_proxy POST GET busybox anonymous on Wget ^cqSO:o:P:Y:U:T:+t:n:: -1::: %s
 off index.html Connecting to %s (%s)
 GET %s://%s/%s HTTP/1.1
 %s /%s HTTP/1.1
 Host: %s
 User-Agent: %s
 Connection: close
 Proxy-Authorization: Basic %s
 Range: bytes=%I64u-
 Content-Type: application/x-www-form-urlencoded
Content-Length: %u

%s server returned error: %s content-length %s is garbage chunked transfer encoding '%s' is not supported too many redirections %s USER  PASS  ftp login: %s TYPE I SIZE  bad SIZE value '%s' EPSV PASV bad response to %s: %s PROT P REST %I64u RETR  RETR remote file exists
 ftp error: %s %d %s:  line %d:  %d: %s can't create pipe: %s no such file can't open %s: %s nonexistent directory can't create %s: %s  Gac%.*s: is read only PATH= CDPATH= MANPATH= %.*s: bad variable name OLDPWD PWD illegal option -%c no arg for -%c option a unalias %s: %s not found
 LP Illegal number: %s %I64d %s=%s
 alias . HOME CDPATH can't cd to %s: %s syntax error: %s You have stopped jobs.
    )3G~~}parameter not set  or null %.*s: %s%s bad substitution No previous job No current job %s: ambiguous %s: no such job got bad TLS record (len:%d) while expecting %s  %02x server cert is not RSA RSA crypt outlen:%d < size:%d pkcs1Pad failure
 pstm_montogomery_setup failure
 psRsaCrypt error: pstm_exptmod
 psRsaCrypt error: pstm_unsigned_bin_size
 Error performing psRsaEncryptPub
 Encrypted size error in psRsaEncryptPub
 server did not provide EC key master secret key expansion USER GROUP COMMAND PID PPID ELAPSED TIME               mlang.dll ConvertINetString ConvertINetMultiByteToUnicode ConvertINetUnicodeToMultiByte IsConvertINetStringAvailable LcidToRfc1766A Rfc1766ToLcidA [%u;0H[K [7m%.*s[m [7m%s  (file %i of %i)  lines %i-%i /%i  (END)  - next: %s  %i%% [m %u %u (END) [7m%s (file %i of %i)[m [7m%s[m %I64u
 %g
 %I64x
 %I64o
 [%u;%uH LINES COLUMNS /dev/urandom  
 conversion error can't stat '%s' can't change directory to '%s' can't create temp file '%s' lseek(%I64u) lseek close failed short write write error can't duplicate file descriptor can't move '%s' to '%s' can't remove file '%s' can't open '%s'  to  unexpected server response%s%s: %s %s %s
 cmd %s %s EOF ftp anonymous busybox ^cvu:p:P: -2:?3:vv:cc Connecting to %s (%s)
 r+ USER PASS TYPE I EPSV PASV stack underflow error, base %u is not supported stack overflow %s: I/O error %7u           [K %s%.*s[7m%.*s[m %s%s %.*s %s %s=%s bad MAC decrypt error handshake failure unrecognized name decode error short read, have only %d bad encrypted len:%u encrypted data too short error TLS %s from peer (alert code %d): %s handshake record read error No next file No previous file No matches found xstrndup bug nocompat translit ignore // char wchar_t cp xx UTF-16 UTF16 UCS-2 UCS2 UCS-2-INTERNAL UTF-32 UTF32 UCS-4 UCS4   Examine:  Cannot read this file QUIT STOR SIZE stat REST %I64u RETR short read read error from '%s' .so  %s/%s %s | %s -rLL=%un -rLT=%un 2>&1 | %s %s.lzma xz bz2 gz col tbl nroff -mandoc less ^+aw -1 0p:1:1p:2:3:3p:4:5:6:7:8:9 MANDATORY_MANPATH /usr/man /etc/man.config /etc/man.conf /etc/man_db.conf DEFINE nroff pager MANSECT # 	 man MANPAGER PAGER GROFF_NO_SGR=1 %s -b -p -x cat man %s/%s%.*s/%s.%.*s no manual entry for '%s' syntax error at '%s'  multi-call binary
 
No help available
 
Usage:    eh:n: invalid handle %p 'server hello' certificate tls error at line %d cipher:%04x not RSA or ECDSA cert elliptic curve is not x25519 'server hello done' client finished switch to encrypted traffic 'server finished' poll encrypted data lp: bind listen unable to make a socket file descriptor: %s accept select ^mbnphs -1:?2 bad IP address: %s use prefix or netmask, not both bad netmask: %s NETMASK=%s
 BROADCAST=%s
 NETWORK=%s
 PREFIX=%i
 can't find hostname for %s HOSTNAME=%s
 {%s}:  %s:  4 o afon:t: %%7I64%s  Done Error opening log file ~ EMmN~IFSRs LESS Mark:  Invalid mark letter Go to mark:  Mark not set Log file:  w %s
 No bracket in top line No matching bracket found No bracket in bottom line  : :%c    22222222&@222222+wb f:t:lco: %s//IGNORE iconv_open error - rb e:f: r c: runas --busybox ash -d "%s" -t "BusyBox ash (Admin)"  %s -s -c "%s" BB_UMASK %o --help : applet not found
 --busybox NOFORK   noexec   (mingw64-gcc 8.3.0-1.fc29; mingw64-crt 5.0.4-2.fc29)

 BusyBox is copyrighted by many authors between 1998-2019.
Licensed under GPLv2. See source distribution for detailed
copyright notices.

Usage: busybox [function [arguments]...]
   or: busybox --list[-full]
   or: busybox --install [DIR]
   or: busybox --uninstall [-n] file
   or: function [arguments]...

	BusyBox is a multi-call binary that combines many common Unix
	utilities into a single executable.  The shell in this build
	is configured to run built-in utilities without $PATH search.
	You don't need to install a link to busybox for each utility.
	To run external program, use full path (/sbin/ip instead of ip).

Currently defined functions:
 ,
 	 ,  --list --install '%s' is not a directory %s/%s.exe busybox.exe --uninstall -n FindFirstFileNameW kernel32.dll FindNextFileNameW (B (J (I $@ $B $(D CP65001 UTF8 UTF-8 CP1200 UTF16LE UTF-16LE UCS2LE UCS-2LE CP1201 UTF16BE UTF-16BE UCS2BE UCS-2BE unicodeFFFE CP12000 UTF32LE UTF-32LE UCS4LE UCS-4LE CP12001 UTF32BE UTF-32BE UCS4BE UCS-4BE ANSI_X3.4-1968 ANSI_X3.4-1986 ASCII CP367 IBM367 ISO-IR-6 ISO646-US ISO_646.IRV:1991 US US-ASCII CSASCII CP819 IBM819 ISO-8859-1 ISO-IR-100 ISO8859-1 ISO_8859-1 ISO_8859-1:1987 L1 LATIN1 CSISOLATIN1 CP1250 MS-EE WINDOWS-1250 CP1251 MS-CYRL WINDOWS-1251 CP1252 MS-ANSI WINDOWS-1252 CP1253 MS-GREEK WINDOWS-1253 CP1254 MS-TURK WINDOWS-1254 CP1255 MS-HEBR WINDOWS-1255 CP1256 MS-ARAB WINDOWS-1256 CP1257 WINBALTRIM WINDOWS-1257 CP1258 WINDOWS-1258 850 CP850 IBM850 CSPC850MULTILINGUAL 862 CP862 IBM862 CSPC862LATINHEBREW 866 CP866 IBM866 CSIBM866 CP154 CYRILLIC-ASIAN PT154 PTCP154 CSPTCP154 CP1133 IBM-CP1133 CP874 WINDOWS-874 CP51932 MS51932 WINDOWS-51932 EUC-JP CP932 MS932 SHIFFT_JIS SHIFFT_JIS-MS SJIS SJIS-MS SJIS-OPEN SJIS-WIN WINDOWS-31J WINDOWS-932 CSWINDOWS31J CP50221 ISO-2022-JP ISO-2022-JP-MS ISO2022-JP ISO2022-JP-MS MS50221 WINDOWS-50221 CP936 GBK MS936 WINDOWS-936 CP950 BIG5 BIG5HKSCS BIG5-HKSCS CP949 UHC EUC-KR CP1361 JOHAB 437 CP437 IBM437 CSPC8CODEPAGE437 CP737 CP775 IBM775 CSPC775BALTIC 852 CP852 IBM852 CSPCP852 CP853 855 CP855 IBM855 CSIBM855 857 CP857 IBM857 CSIBM857 CP858 860 CP860 IBM860 CSIBM860 861 CP-IS CP861 IBM861 CSIBM861 863 CP863 IBM863 CSIBM863 CP864 IBM864 CSIBM864 865 CP865 IBM865 CSIBM865 869 CP-GR CP869 IBM869 CSIBM869 CP1125 IBM037 IBM500 ASMO-708 DOS-720 ibm737 ibm775 ibm850 ibm852 ibm857 IBM00858 ibm861 DOS-862 cp866 ibm869 IBM870 windows-874 cp875 shift_jis shift-jis gb2312 ks_c_5601-1987 big5 big5hkscs big5-hkscs IBM1026 IBM01047 IBM01140 IBM01141 IBM01142 IBM01143 IBM01144 IBM01145 IBM01146 IBM01147 IBM01148 IBM01149 windows-1250 windows-1251 windows-1252 windows-1253 windows-1254 windows-1255 windows-1256 windows-1257 windows-1258 Johab macintosh x-mac-japanese x-mac-chinesetrad x-mac-korean x-mac-arabic x-mac-hebrew x-mac-greek x-mac-cyrillic x-mac-chinesesimp x-mac-romanian x-mac-ukrainian x-mac-thai x-mac-ce x-mac-icelandic x-mac-turkish x-mac-croatian x-Chinese_CNS x-cp20001 x_Chinese-Eten x-cp20003 x-cp20004 x-cp20005 x-IA5 x-IA5-German x-IA5-Swedish x-IA5-Norwegian us-ascii x-cp20261 x-cp20269 IBM273 IBM277 IBM278 IBM280 IBM284 IBM285 IBM290 IBM297 IBM420 IBM423 IBM424 x-EBCDIC-KoreanExtended IBM-Thai koi8-r IBM871 IBM880 IBM905 IBM00924 x-cp20936 x-cp20949 cp1025 koi8-u iso-8859-1 iso8859-1 iso_8859-1 iso_8859_1 iso-8859-2 iso8859-2 iso_8859-2 iso_8859_2 iso-8859-3 iso8859-3 iso_8859-3 iso_8859_3 iso-8859-4 iso8859-4 iso_8859-4 iso_8859_4 iso-8859-5 iso8859-5 iso_8859-5 iso_8859_5 iso-8859-6 iso8859-6 iso_8859-6 iso_8859_6 iso-8859-7 iso8859-7 iso_8859-7 iso_8859_7 iso-8859-8 iso8859-8 iso_8859-8 iso_8859_8 iso-8859-9 iso8859-9 iso_8859-9 iso_8859_9 iso-8859-13 iso8859-13 iso_8859-13 iso_8859_13 iso-8859-15 iso8859-15 iso_8859-15 iso_8859_15 x-Europa iso-8859-8-i iso8859-8-i iso_8859-8-i iso_8859_8-i iso-2022-jp csISO2022JP iso-2022-kr iso2022-kr x-cp50227 euc-jp EUC-CN euc-kr hz-gb-2312 GB18030 x-iscii-de x-iscii-be x-iscii-ta x-iscii-te x-iscii-as x-iscii-or x-iscii-ka x-iscii-ma x-iscii-gu x-iscii-pa        CH      H     0@             Unknown error   Argument domain error (DOMAIN)  Overflow range error (OVERFLOW) Partial loss of significance (PLOSS)    Total loss of significance (TLOSS)      The result is too small to be represented (UNDERFLOW) Argument singularity (SIGN)       _matherr(): %s in %s(%g, %g)  (retval=%g)
  Mingw-w64 runtime failure:
     Address %p has no image-section   VirtualQuery failed for %d bytes at address %p          VirtualProtect failed with code 0x%x    Unknown pseudo relocation protocol version %d.
         Unknown pseudo relocation bit size %d.
               .pdata          @P       .             0123456789 abcdef ABCDEF        m s v c r t . d l l   _localtime64_s            sqrt                             ?        cos           exp                 ?9B.@Q0-I        log                       pow                                          ?                           ?  A                      sin           __powi                    ?                                                  `F             F              F             G             G             F              qG              H               @             \H             tH             H             H             H             H             dH             H             @H             HH             0H             8H             F             F              H             H             H             0H             F             F             H              G             `G             F             G             F             F             F             F             F              F             G             G             G             F             F             `F             0G             `G             G             G             G             G             G              G             G             G             F             F             F             G             0F             G              A             pA             A             PF             G             F              B             @B             0B             F              F             F             0F             pF             0&C             P&C             F             F             G             pF             `C             H             H             H             H             H             `F             F             F             PH             F             F             F              F             G             F             pF             0F             PF              kE             E             E             F             F             F             0%F             )F             @F             F             F             B      b                      CSIL                                        xjVp $|*GF0FiD[\"kqCy!Ib%@@QZ^&]/SD!7ZEogL*B9q"am8DK`Kp~('09|eVD")*C#9Y[e}]O~o,CN~S5:*nrbtfavx\01234567               Division by zero                Internal error  Invalid format specifier        Access to negative field        Not an array    Possible syntax error           Too few arguments               Call to undefined function      Unexpected end of string        Unexpected token                FDL                             	  	
   

                  0*H=     0	*H   
	         ?      ftp             ftps            http            https            
	
 	 
	
$-7)8+>'=,         @6       T wp",f`                           ; Z x     0Nm   < [ y     1On            Success No match Invalid regular expression Invalid collation character Invalid character class name Trailing backslash Invalid back reference Unmatched [ or [^ Unmatched ( or \( Unmatched \{ Invalid content of \{\} Invalid range end Memory exhausted Invalid preceding regular expression Premature end of regular expression Regular expression too big Unmatched ) or \)                                      ,       H       e       x                                                               D      _                               only when operating on fields  Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec                 Sun Mon Tue Wed Thu Fri Sat     "%07.7_Ax
"                     BG     /BG     JBG     fBG     BG                             /G     H/G     f/G     {/G     l/G     /G     T9G     q/G     [9G     b9G                      ("*
"?                             E     E     @     F     @     @     @     @     @     0A     1A     0A     5A      6A      >A      ^A     ^A     @aA     dA     sA     A     A     PA     A     @A     A     PA     A     A     B     B     B     1B     p6B     7B     C     p9B     0|B     @B     B     B     C     @B     B     B     0B     0B     `C     C     05C     0C     C     (C     "C     (C      3C     05C     ]C     PkC     PkC      qC     }C     C     C      C     F     F     C     C     C     PC     PC     C     C     C     D     @D     @QD     `SD     fD     iD     @kD     fD     D      D      D     @D      E      "E     DE      JE     JE     PE     PME     gE     `E     @     PC     PC     PC     PC     PE     E     @E     E     E     pE     E     E     PE     E     pE     E     E     0E     E     E     F     PF     PF     pF     @F     F     F     0|B     F     B     F     F     C     PBF      CF      VF     p\F     ]F     jF     puF     vF     xF     PF      F     PF     pF     F     PBF     PBF     pF     0C     `  (r  [ [[ ar arch ash awk base64 basename bash bunzip2 busybox bzcat bzip2 cal cat chmod cksum clear cmp comm cp cpio cut date dc dd df diff dirname dos2unix dpkg dpkg-deb du echo ed egrep env expand expr factor false fgrep find fold fsync ftpget ftpput getopt grep groups gunzip gzip hd head hexdump iconv id ipcalc kill killall less link ln logname ls lzcat lzma lzop lzopcat man md5sum mkdir mktemp mv nc nl od paste patch pgrep pidof pipe_progress pkill printenv printf ps pwd readlink realpath rev rm rmdir rpm rpm2cpio sed seq sh sha1sum sha256sum sha3sum sha512sum shred shuf sleep sort split ssl_client stat strings su sum tac tail tar tee test timeout touch tr true truncate ttysize uname uncompress unexpand uniq unix2dos unlink unlzma unlzop unxz unzip usleep uudecode uuencode vi watch wc wget which whoami whois xargs xxd xz xzcat yes zcat                                 	                               
            PATH=/sbin;/usr/sbin;/bin;/usr/bin              G             BusyBox v1.31.0-FRP-3025-gc01300361 (2019-03-17 10:32:35 GMT)   -/bin/sh        0123456789ABCDEF                invalid argument '%s' to '%s'   invalid date '%s'               out of memory   %s requires an argument         standard input  standard output (unknown)                                       ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=               `!"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`               b      k      m               	
             yKG     @B     |KG     `F     KG     E     KG     E     KG     @     KG     @A     KG     P@A     KG     P@A     KG     tA     KG     @A     KG     7B     KG             KG     uB     KG     vB     KG     pB     KG     B     KG     PC     KG      C     KG     'C     KG     +C     KG      }C     KG     C     LG     D     LG     0D     LG     
E     LG     pB      LG     PDE     (LG     E     -LG     @E     4LG     @B     <LG     E     BLG     E     ILG     @F     OLG     `F     ULG     F     [LG     F     cLG     F     jLG     F     sLG     AF     zLG     `pF      
                  #&)+               !#%(                
 "%'               abefnrtv\ 
	\\            nulsohstxetxeotenqackbel bs ht nl vt ff cr so sidledc1dc2dc3dc4naksynetbcan emsubesc fs gs rs us sp             *?[\              @@@  #'+/ < =              alpha:] alnum:] digit:] lower:] upper:] space:] blank:] punct:] cntrl:] xdigit:]                saicrw:btTydDgGhHlnNpPqx={}     -IR-                  ydG           dG           dG           dG           dG           dG           dG           dG           [G           dG           dG           dG           dG           dG           dG     .      dG     .      dG     .      dG     .      dG     .      eG     .      eG     .      eG     .      eG     .      'eG     .      .eG           [G           ZG           [G           	[G     .      *[G     .      #[G     .      0[G     .      6[G     N      6eG     N      EeG     N      TeG     N      ZeG     N      `eG     N      geG     N      peG     N      zeG     N      eG     N      eG     N      eG           eG           eG     o      eG     o      eG     o      eG     o      eG     o      eG     o      eG     o      eG     o      eG           eG           fG           
fG           fG           fG           &fG           3fG           :fG           BfG           OfG           VfG           _fG           lfG           sfG           {fG           fG           fG           fG           fG           fG           fG           fG           fG           fG           fG           fG     R      fG     R      fG     R      fG     R      gG     ^      gG     ^      gG     ^      "gG     ^      )gG     b      <gG     b      @gG     b      FgG     b      MgG            VgG            \gG            kgG            qgG            ygG     m      gG     m      gG     j      gG     j      gG           gG           gG           gG           gG           gG           gG           gG           gG           gG           gG           gG           hG           hG           hG           )hG     -      6hG     -      >hG     -      JhG     -      YhG     -      dhG     -      rhG     -      zhG           hG           hG           hG           hG           hG           hG           hG           hG           hG           hG           hG     Q      hG     Q      hG           hG           hG           hG           hG           iG           
iG           iG           iG     T      %iG     T      )iG     T      /iG     T      6iG     U      ?iG     W      EiG     W      IiG     W      OiG     W      ViG     Y      _iG     Y      ciG     Y      iiG     Y      piG     Z      yiG     \      iG     \      iG     \      iG     \      iG     ]      iG     ]      iG     ]      iG     ]      iG     ]      iG     _      iG     _      iG     _      iG     _      iG     `      iG     `      iG     `      iG     a      iG     a      iG     a      iG     a      iG     e      jG     e      jG     e      jG     e      jG     e      jG     e      #jG     %       *jG           hG           1jG           8jG           AjG           IjG           PjG     R      WjG     T      ^jG     W      OiG     Y      ejG     Z      ljG     \      iG     ]      ujG     ^      |jG     _      iG     `      iG     a      iG     b      jG     e      jG     f      jG     j      jG     k      jG           jG           jG           jG           jG           jG           jG           jG           jG           jG     t      jG     u      kG     v      kG     w      kG     x      #kG     y      ,kG     z      5kG     {      >kG     |      GkG     }      PkG           YkG           fkG           skG           kG           kG           kG           kG           kG           kG     Q      kG     '      kG     '      kG     '      kG     '      kG     '      lG     '      lG     '      &lG     '      2lG     '      AlG     '      SlG     !'      blG     %'      rlG     -'      }lG     _'      lG     a'      lG     b'      lG      N      lG     !N      lG     "N      lG     #N      lG     $N      lG     %N      lG     N      lG     N      lG     N      mG     N      mG     N      )mG     %O      2mG     -O      <mG     1O      FmG     5O      MmG     6O      TmG     8O      [mG     <O      bmG     =O      imG     BO      pmG     IO      wmG     O      ~mG     O      mG     O      mG     aQ      mG     fQ      mG     Q      mG     Q      mG     Q      mG     Q      mG     Q      mG     Q      gG     Q      mG     Q      mG     !R      mG     jU      mG     o      mG     o      nG     o      nG     o      nG     o      &nG     o      1nG     o      ;nG     o      FnG     o      QnG     o      \nG     o      fnG     o      qnG     o      |nG     o      nG     o      nG     o      nG     o      nG     o      nG     o      nG     o      nG     o      nG     o      nG     o      nG     o      nG     o      nG     o      oG     o      oG     o      oG     o      (oG     o      3oG     o      =oG     o      HoG     o      SoG     o      ^oG     o      hoG     o      soG     o      ~oG     o      oG     o      oG     o      oG     o      oG     o      oG     o      oG     o      oG     Iq      oG           oG           oG           oG           pG     ,      pG     -      $pG     .      pG     1      0pG     1      <pG     3      GpG           QpG           XpG           _pG           fpG           qpG           ypG           pG           pG           pG           pG           pG           pG           pG           pG           pG                                     always yes force auto tty if-tty                                
                 \0 \a \b \f 
\n \r 	\t \v                 notrunc sync noerror fsync swab                     		

        	    ! 1 A a    0@`    TRAILER!!!            	 
         # + 3 ; C S c s                    cc @ABCDEFGHI@KLMNOPQRSTUVWXYZ[\]^_                                c      w      b      kB    kD    k      KB    KD    K      MB  @B MD  @B M      GB   ;GD   ;G      @        rfc-822  Rrfc-2822  Rset sutc  udate dreference r                IFS= 	
        OPTIND=1        ignore-case  iignore-tab-expansion  Eignore-space-change  bignore-all-space  wignore-blank-lines  Btext  aunified Ulabel Lshow-c-function  pbrief  qexpand-tabs  tinitial-tab  Trecursive  rnew-file  Nreport-identical-files  sstarting-file Sminimal  d    0123456789      @=          .#-+ 0123456789 doux                            G     G     G     G                  lld llo llu llx  %%%u%s   %%0%u%s  %%%u%s   %%0%u%s                             doxn            uox             776             configure  Cforce Finstall  ilist  lpurge  Premove  runpack  uforce-depends  force-confnew  force-confold   s      m   <   h     d   Q                                 .zip .ZIP                                        		

              Package Version Pre-Depends Depends Replaces Provides Conflicts Suggests Recommends Enhances                    c      w             b      k                              can't overwrite %sdirectory with %sdirectory    %s %s differ: char %I64u, line %u
              cmp: EOF on %s
 %.0s%.0s%I64u %3o %3o
          diouxXfeEgGcs                                continue cverbose  vusername upassword pport P              options olongoptions lquiet  qquiet-output  Qshell stest  Tunquoted  ualternative  aname n  stdout  cto-stdout  cforce  ftest  tno-name  n  @@ 
@         stdout  cto-stdout  cforce  fverbose  vdecompress  duncompress  dtest  tquiet  qfast  1best  9no-name  n        n:c:qv          bcdoxCe:f:n:s:vR                                      G           G     }      G     Q      G     S      G     JFS1    G     BSFX    G     I    G     `      G      @      G     @      G           G           G     h$      %G     x$      .G     DM      BG     @      HG     LV      LG     ii      SG           WG     {Q      \G     /    `G     /    fG     /    lG     /    rG     T     vG     m/    zG     NTFS    ~G         G     sIeR    G     E=(    G     ur      G     X    G     hsqs    G     reeb    G             G     skip_bytes fullblock                     (   y   l  E    q&  Ts  Y  ) }$                 g	jgrn<:ORQh[                                ;+6_l>+kAy!~                        diouxX                      netmask  mbroadcast  bnetwork  nprefix  phostname  hsilent  s   date hours minutes seconds      bs count seek skip if of status ibs obs conv iflag oflag        content-length transfer-encoding location       quote length match index substr                 nul soh stx etx eot enq ack bel bs _ht _lf _vt _ff _cr _so _si _dle dcl dc2 dc3 dc4 nak syn etb can em _sub esc fs _gs _rs _us  full-time  group-directories-first  color   LZO 

              ?   ?              rwxSTst         cCdDJoOpPrRxX<>~                January   February  March     April     May       June      July      August    September October   November  December                  body-numbering bline-increment ino-renumber  pnumber-separator sstarting-line-number vnumber-width w                           ((((((((       2JG     A                     skip-bytes jaddress-radix Aread-bytes Nformat toutput-duplicates  vstrings Swidth wtraditional           seek_bytes append               <<= >>= << >> ,|| && != *<= k>= K== 
|= B&= "*= /= #%= C+= -= -- 3^= b++ ** /! 0< > += | & 	* / .% N+ - -^ ~ , ? : $) 4(                      ^        wD     %       C     and     p@     or      D     not     D     xor     :B     +       p@     -       E     *       C     /       A     p       PD     f       0D     o       E                             	            
  !"#$%&                -r -w -x -e -f -d -c -b -p -u -g -k -s -t -z -n -h -O -G -L -S = == != < > -eq -ne -ge -gt -le -lt -nt -ot -ef ! -a -o ( )      5JG     >JG     FJG     QJG     ^JG     gJG     oJG     vJG     ~JG     JG     JG     JG     JG     JG     JG     JG     JG     JG                      user  UG     B             group UG      B             comm  UG     B              args  UG     `B              pid   UG     B             ppid  UG     B             etime UG      B             time  VG     B      0      h11AY&SYot  Rppw`6= >$Rw  C^]{b+DRP-TTUAD} uZP}}jJEJb!V	E(Q>hQ;m(%Ico d F4hLI&O&'L4 @ 5=1A   b"je4Ma4z@@    J Lf`<jO4hhH&&Plh2      hjda&O=ILTj;{KC\2bb,-}ESR&>F+)D>&:Bw
]I{Sz{>^j'nvv+:"P~ ZJo:O^k&!E`7=HA~{'J
GKl>x=c, }lW|bYbNR<TeZ$x[4w1FdwvPY(f<<%|i^S<Ucgv)r'-`3)A`h9AM2km*#
H~:W{.9kMGak([eQJ` ~t`S@f#~'|e]kc6Ao{mrig~>-<Q-`rM^[XON$tW}zOSe=veO~;c~Hz{@DH0 @[(W*[1%\FU	7l_U~#muzymOOZE!Tjmpo6)R2!cB`*\lbMrWTs/D+mxF	;Glm{\b)	J;@p-0A}s#ZA2sk4RH2<zK-%pUT`3Yyz|YD8U@aAS-8X[WS~A,*0Pl|Prh@O.;11~RqW6^(GG +~qqZoV^dx[U*E]zEj\)r][&D.)Qi/{'nkm=8[Q*Pm?74Ed(W^XHLACQiiuMuZzO,!Y[6_qr?\
`@&thdlS6S1
3$yZ8|M]IiGvo"H%>
`s,zcfs$xsL)dSapx|}hz}/+wQ[cD|)C;OXM)2y_"
\ngQ1#C-~^a}-f.!ec]@tS,/oi_	rlE-jUO5JY
|3VUqhW ,/KzsYX^]{GOu:2#3|b?^K'w[c?7;S>=H<spPg"* ]]c|6kTsvA)0WNRq?-pzd(XP :\SF^)4Y=v:k7HNWO!\Hc	hYE3u?S'TJ E4]#u\0'QVHS[Es`JN9MFy*-X~FL+AH|C5xj45hytY@	JS'4ii Yz^#LPBc273{HU&P*~:k#]Mgfa%.
|W}j,c];_K+d1e0i.2v ?Hu}8@=_0n7Vv
)5q`6VZ+}kWKo4GZZ7{VRgR,,5',] |nF`e-Zu2qY?"*sO/u<5nMp=Ld ootYHpenoquPd;_t7{j^R;~Qcwt
6@`S&yLM	pF[+mP@$z#mn.V}qc~GOR4N(To"{}y,w1v
5_t]eHOs7E&3#ToeGR<G6wJt093HV\@P9|f#8oAdyA]<wB c:AWWuo.\HALGj.Q#HD.km! 4,W%bI[Hv(D7g2Wap"UR.LXX!7	3+ZKH IoSelY]awh4o-t} oJ2*.M 0aT^V_cK1h#ah)\EBQAp("_N=28uNip1BL}4A,	cH53h`~DS
Q:	v(%Zzc+M'1u=+7"rl.Nz{dNWq	)X*dfm$-SgP_]Ykeh-y'*Bw6>xV3cV9+88DNG"j.\pO5;VU2uUw	8gI=]0+acRiy\!;*#"lbWM3\I,*O8}y!^{K0p\OP RHY Ab
DK
}'.-/^}ahx?\I_C0Hi}p{ %1#X(7pv"4'sj^93ENTnxl{]+i2>#aW"Fo>G`RyLB 7BopUOwW 1ykGE'-Q"b\RcGaiJK zX0"l'Lvj*ERC1!tPNnH
0u~SiN4?I5H!S%	50u06)'.wF"d4Z6d~XC,PLZ9	pVC;xkXqQ1Pl+0^tL,vYMN,'c1ho)!MRJ8.x9@
${wQSbX%0 ^qs6MFIqi0[1~lg#$'tM}_)NaW96z7	??;:}<TCbaG`CFY[/;L|^~ah>p]b+p`7s;/?E
@+:0X8@&!YGC2Ab<<v-lX=^bqU"Gsy%EH&cZ08IXL|&YFk@RRZh<!"K/w`Z
GrbX`!x?Pg:q=\\	}weAFkDL`:Zc#R0H M
DI#?%|(5gvq&I.S6;\Xy|pd+F!5Rs0K^0|qG."3:06dV)~}	4/u <m	%EX=mECpb0L!XL8(J#6Tt\0C6@NSdl(*z?L(YG;xd<)&2y*;`~?Hr13<4mH@ ;#x`sB2M6d.K0a?R%9IrnH[yL
p>=HI*	}Nkan,kwQy}|SI['6/H.Cm0ce$3h*46]r=Nol<~td\@KP.Jow@b!c
ge	7e\]P*qBHEpgH%bJ7&HoqWPo3&&r3~:*kL94]@]qIXJ$F""
b{Y7,X?YepO@j7B25@b%qq12PG'{bDc(y+1IHsQ+qx93@	4LTpFP!bR O`CPb1Xer-i)&yI#9fa dKjz8Gfh9\fI>NaM y~ct. 7HQjWj	hzgQv<	\9G#\+{?cy#i6u32>Hey S3?bp<x0Hg1%W
S=A`d;Mh;4lnM##;-RE@c$FEQ*X0q$ad@	&DXM:*QhM
9_'NWpFjPlD"zN3J9
LB	MA+e]7>g5[:$G']Y)$K%DQ0&:f[:xq]E\>BzF}h/eUf4:NVe\nvX{N,:9Vd zdz%~{bS/["*HSO3;.Ehu=(RK 3q!Xnb@~ \_r6,&9D)OR`.+}Nki;[Zk;=@,yXAJ#/_6Oo?=(K(	>{uLaZ]T,b!/MnSkk8 l70n
WqEx[(F:Tfdkw^DV`'$h;t	61ZGyNQK2j^0wtM[>xx;<qB/o,cq .#`VEJCQe	TYQ?Mc!bjt~>7=!#F$5AWvtD^z&H!8KY_gV	sI!Lj`gn0"#Y(!11{eo[)(D0 MN1@CH)>tKr|{!+;e Mk%#"z"9+LD>:P(*cv;96C;n/6\:*LVd.hZB% 4h8ietmcd@%fsTp`[NifL%3y5466}&s9#t6yd1TwAq_EQ@<RJqE2d-/i}boZ>eS,ux*kFTtgl\].C`|+4 dKF)edH`J+$iN-u \Q-2!,&+AeFp*05<\CEVk>e!B%;h!5^k"+x5Q)8TyRTzj;4.K\p*c`
hP)Z**Z%(v\	eZPB(@A*6C0HE-E8i:W*-df"PXT4J?k, %Ce`* T0bH86uNiwaIr1Q-9s$&@@.m+rkPZi%j%hHhZ#=TY+}eETGJ=	l^]r98 IX(#ahNiOPh~ulZVVvzEKC:46^Qe1HjRJ7*%37RK'T?-z0QJd!fn+uZ|f$9lSn#S^~	h`_T6@*xW]qqkPlt& );_9} 9VD4n`Z=A.6,8OC.}tjl\RKB H!cD0VCC3[N&kUHtT5b@0H@jzAyF(Dd,IY]zPV/ac)Vjz7_]]EP$*f[ p7(	Z|L j6#(GA /wOV/QTL$#U,:SqM.l;"bApD;OPHL:"|:"mTd:{(J["(}1GX-=%d9QYVL*S	;lj?;S0z&=f`s%a#(dX$TK"?<:q?2`$(,$6'"1d} wl_F|]Zz9A@J!
t0:~FY%=\92<hc#cEy(&p\6P4`]S+<]7*aM`U&j^:)t$=h&6kiqkanu9bKFH*yZ>Jb4jXfvNXE11P	lL8!l>B%" iBy>: bX
4'n$yf}fOM `0Wlm
hd 6RK.{GhLnup&f6Ro4$C9j9_O~}x.gn]4a}r6_le@A{Ww%Z#!hbF^}nZ K!wR!el5JVf)U8J3!`b}6Qd4
Y
t&A0aIF2=nKE(+:ZCSYBCk:c(NE
YVbYEe8/@BVO)%(5k(\SD7CD=UmN\& D'P6\Vd,vdM|7s3Oq)@|l>&eHDRYb
F G~}<:U-%m*
h8F%?TL"4aL@pC]yo$]-=&]Cl hdLDAbJ1%	7%[5P!00P
I Jd& 517K1Py`MfALD73~YE3Xwf3/,VjXAR+ }xOW=!YBD@@`
AV&-bM4`ZvK{K&bX
qbeSwmc1BU	D a}ahDT7#QD0iIV%Kl%+Q]39PQb$3C(h!6Rq}YnL@lht%>{L09`FQrA;{WO TGi~{
@!
KD.!+^g)XX?\SGi'bABM#b>P6ii}qlhn?R)<*`6!y"DbkU1ad`F}/xPy',CV'(Yv.rAD4LS~Zhb*'d,jg"{%op(lq?0]c=tuwNPmz1'I;$(q7F
%q[=4?{QE!>	~6_#fVJW!+mp"EuE_%X6E l<`<:)v#-@sT6#yC_7i`R`H,EfS[9qA4B"A1"2ix_rlYUHadTpmr`9\A(E"%@ix+#H'EZN.d)XRpUle("g=1H<U3#=i%%h0r 0ug#!|YQSNfv: XL`{FHXxmRFu(XsHQ-lCFmX{!^FYR
_KX0Kb
tyxybYbzh\&LK=6
(uT~~3G R[Q2")VP)J-ZR9H#95o.*: YCi<:T8uEESU49gqW7e(V#9g$5Q$9J3F(T{yUkMZH[8gc4` Iv
JQ7q rs AgeWAPX;.e=do46{&~581;f{7.nI(@(N0RzH06VCm63PA# i(3|<)656M\L&yvv?&H(I	I-Wdm\4P/yH:bd'O5O\#9s&T1_UcDT.	A<*O<nt"3_\ ]n013',X[)_J8+1\b0Y5t7W;[
bS,/PltLf.f%FJN2'n&:1*A)0$qRySEXi94RE^%jC9S$zPbV	)PB]I<7WI/{?R:wq]HlnTMf@^2jtBkfl2g}3(oiYF}*Ve5jY[Rj!{`pvfTrk=L+?[VMCIxU& D4)ue !ivo"Z`ld}he$Bsa"@Z4D"JYGKQ]/^OG}kIZ6=<:LdPmX{r1|Tuuz4=(=V &$)?Ky7_Z5Fs'P<Rc|fZ?y u]!`9:-`b3$merBb!&<:FQR
'@,3}w`61?(1ay`>^/
P^-GJlmj'~HPZclnHmE={v/`c[TH?E!\v30CR^}>/c)Jp&K%]Z@w|eF[uj RH+2;A!R8S9b	6dHdhpWtvVxd\@ >1k8eM"b|V?k\FSN$[       -follow -xdev -depth -a -o ! -and -or -not -print -print0 -prune -quit -delete -exec -executable ( -name -iname -path -wholename -ipath -regex -type -perm -mtime -mmin -newer -inum -size -links -mindepth -maxdepth           reverse  Runified  ustrip pinput iforward  Nremove-empty-files  Eforce  fget gdry-run  backup-if-mismatch  no-backup-if-mismatch          rwxXst          $ I I       ogu                             0000000 0000000 0000000 00000000000 00000000000                 /             yZnb                           R	j068@|9/4CDT{2#=LBN.f($v[Im%rdh\]elpHP^FW 
XE,?k:AOgst"57unGq)obV>Ky xZ31Y'_`QJ-z;M*<Sa+~w&icU!}c|w{ko0g+v}YGr&6?4q1#'u	,nZR;)/S  [j9JLXCM3EP<Q@8!_D~=d]s`O"*F^2:
I$\by7mNlVezx%.tKp>fHa5WiU(BhA-Tin-place iregexp-extended  rquiet  nsilent  nexpression efile fbinary  b     ; 
	                       "(/Be#D7q/;M8H[V9YO?m^BopE[N1$}Uo{t]r;5%&itJi%O8Gew$u+Yo,-ntJA\SvfRQ>2-m1?!'Y=%
GoQcpn
g))/F
'&&\8!.*Zm,M8ScTs
ew<
jvG.;5,rdL0BKfpK0TQlReU$* qW52pjSAQl7LwH'H4cZ9AJNscwO[o.h]t`/Cocxrx9d(c#lPy+Srxqa&>'!}xnO}org}c
?G5q}#w($@{2
<LgCB>L*~e)Y:o_XGJDlEXIT          INT           ILL                         FPE    KILL          SEGV                        TERM                                             ABRT                  cdiouxXeEfgG        ^ngMVucszbrdfimS:T:o:k:*t: o--o:t--t            =:        	
 !"$&'()*-:;<=>?[\]`|}~                       b      k      m      g      @                                none noxfer      
           	
       list  textract  xdirectory Cfile fto-stdout  Ono-same-owner  osame-permissions  pverbose  vkeep-old  kcreate  cdereference  hbzip2  jlzma  afiles-from Texclude-from Xgzip  zxz  Jcompress  Ztouch  mstrip-components no-recursion  numeric-owner  no-same-permissions  overwrite  exclude            
 
                 !  a 
 w 
 | 
 p&	m&	P&	M&	 ' J+"J-"J*"J/"J%"J&"J+-&"J&/%&*'' '''!-~- 7 ;?%@: C 1 P  %+&-&!&                     0   1   2      	   Q              #  
  3        A     
              	 
     $         I I	                                   ()/>>>|++--++--$===+=-=*=/=%=^=+-**=**/%^*!=>=<=><!~~&&||?:in,|+-!]{};
ifdoforbreakcontinuedeleteprintprintfnextnextfilereturnexitwhileelseandcompllshiftorrshiftxorclosesystemfflushatan2cosexpintlograndsinsqrtsrandgensubgsubindexmatchsplitsprintfsubsubstrsystimestrftimemktimetolowertoupperlengthgetlinefuncfunctionBEGINEND JG     JG     JG     JG     JG     KG     KG     KG     	KG     KG     KG     KG     KG     KG     KG     KG     KG     #KG     (KG     -KG     2KG     5KG     9KG     BKG     EKG     HKG     MKG     SKG     YKG     [KG                     no-create  creference rdate d ?pc?d?b?-?l?s???}-+?=           all  akernel-name  snodename  nkernel-release  rrelease  rkernel-version  vmachine  mprocessor  phardware-platform  ioperating-system  o         KMGTPEZY         A   ECONVFMT OFMT FS *OFS ORS RS *RT FILENAME SUBSEP $ *ARGIND ARGC ARGV ERRNO FNR NR NF *IGNORECASE *ENVIRON        %.6g %.6g     
 
                    G                    G     GA            ]KG                    dKG                    kKG                    G      C                            ,      rKG     PGA     ,       IG                     Sunday    Monday    Tuesday   Wednesday Thursday  Friday    Saturday                            continue  cquiet  qserver-response  Soutput-document Ooutput-file odirectory-prefix Pproxy Yuser-agent Utries theader post-data spider  no-check-certificate  passive-ftp  no-cache  no-verbose  no-clobber  no-host-directories  no-parent   Host: User-Agent: Range: Authorization: Proxy-Authorization:    augo            	8                sh  com exe bat cmd             0123456789abcdef                0123456789ABCDEF                
()&|;          	
                                                                                                                                                                                                                                                             P   N  P P    P     P     (P   2  HP @  L  hP P  Q  lP `       )   0  e   p                                 (    /  8 0    @     L     P     X      \     t    $  x 0  4  | @                   f"   p"  Z#   `#  7%   @%  %   %  /&   0&  &   &  '   '  '   '  '    (  D(   P(  (   (  g)   p)  )  $ )  "*  , 0*  [*  4 `*  *  < *  +  D +  ,  L ,  	/  T /  51  d @1  1  t 1  1    2  62   @2  2   2  u6   6  87   @7  7   7  .;   0;  B    B  BB   PB  pB   pB  B   B  B   B  B   B  C     C  TE  $ `E  xG  < G  H  T H  tJ  \ J  J  t  K  K   K  K   K  :O   @O  lO   pO  P   P  k   k  m   m  +m   0m  Sm    `m  v   v  nw    pw  w  0 w  Dx  4 Px  {  8  |  |  P |  }  \  }  ~  d  ~  ~  p ~  I  x P  v          :   @  0   0  n   p                   #   0  '   0       #   0       	  $     (    +  , 0    0   :  < @  E  D P    L     \     d      p    T   `               @       [           )  P 0    w     w                [   >  { @       e   p            Q   `    @Q     4o    e   p    $   	  X`          s    R  _ `    _     t   P  LT P  A  v P  q  |u     `   |  S     0   *   0  b   k p  	     ^   `    f         ;   @    q     $X   e  @ p        F  z P    d     u   "  w 0    lr   p  4x p    `         V    `       I   P    Pl     ,c        U  $ `         S               ^         0  ] 0  Q  j `    c     b   L  c P  b  c p     b      <c     ,`    }       @e        v  m     ^     D     ]    f  ] p              8   K  h] P   x]   X   K 4 P { D  c  p 	 \  o , p  8  4	 S @	 {	 , 	 	  S  
  8W  z 0W  K W P        DV   Y   Y     ~          dS    S   ]   \S   |U    l  6 D{ @ J Q P  W   r  ) ( 0  |f   p   t     4 [ @  T   v   v  Z v `  v   v   $    q  X 4 `  `   "! H 0! u!   ! !  ! E( 4z P( 2) Dz @) }) w ) + P  , , | , 0 Pq  0 0 , 0 1 l{ 1 5  5 6 t{  6 9 l 9 e; { p; ; (}  < B< | P< q= , = =   > P@ n P@ A  A B   B xB  ~ B B b B E b E 1F b @F F ^ F DG  PG G  G H 0 H J [ J dK XZ pK K Hf  L P `y P P 0y  Q Q  y Q R Pw R S Hw S T 0w T Y z Y PZ y PZ ;[ y @[ [ e [ [ x [ <\ xx @\ \ \p \ ] x ]  ^ xr  ^ ^ ln ^ "` Tn 0` ` x ` ` ^ ` a `^  a <a L @a _a n `a a | a b D b b 0 b b < b b l} b c X^  c c  c d  d f xa f f 0k f s [ s t Hn t \u  `u u xR u Hv H\ Pv Py  h Py y e y | XT  } @ w @  r  " ] 0 N ] P l b p  R  + ,u 0 i @h p  (i   0i   (x   (^   $_   ,  0  H   \b   _ d `  @Z   4n   j   u   {  1 ] @  ]   ]  ' Tk 0  a   T   \ u ` % \x 0 H | P  (q   4  j V p  V  J < P  n   P   <k    q  # <s 0 d r p  q   q   n   [ | `  pP   :  @    ^ m ` ~  v   \k  \ h `  g   t   0Q  p 4` p    G  P  m   lk   0  " `a 0  Ha   m    xj   `j     ' @_ 0 Z  T ` r e   h   `    \  >  p @   p   Y  C _ P  X  N \t P 5 s @  a   dg   tg      pl  7 po @ e TX p  8Z   dX   hZ   % LX 0 d \X p  Z  4 W @    9 T @  @  z t  A/ u P/ / V / / (R / ~1 `m 1 2 pm 2 2  2 3   3 3 } 3 5 ~ 5 56 hx @6 h6 g p6 7 Dm 7 7  7 j8 ` p8 8 W 8 8 0Z 8 9 xZ 9 >9 @] @9 n9 X p9 : ,m : $;  0; @  @ @ 8 @ jA @ pA A l A `B l `B C l C hD l pD E l  E E l E G l G ZI @ `I J  J rR  R MS ( PS T ` T .U 8 0U V  V !X  0X %Y   0Y [  [ h lc  i l   l n  n mo  po o W o u Tc u qv @ v v ` v Xw  `w z e  z /| Hy 0| + m 0  `     k H p <  @  l   x  D x P y s   l   k  6 k @  _   w   $k       ]      A t P  p      0a  @ ,| @ V $| ` g  p  ]  I l P  X   n   \  ! $[ 0 s 8]   s  x [   \v  J tv P t |  4 <o @    b u p  m   s   8k   ? p @ ! p 0 u o   t   x   `  " ` 0     @   ? t @  ]  @ H @ k pZ p  p  > o @ 8 \ @ 
 \   t  * xX 0  \  Y @} ` { \   H     | _   h_  4 r @ s r      b          k   lQ   HU   @ PU @ g P p   o   : o @ r d   c   d   d      xq   |   l w p  q  ! | 0 q (Q   w       <      $   k   ^  	 $T   k   t     v   O  P 0 | 0    ]  `        "   0 R  `        Y   C  P  Y   X   :  @ O W P | W   Z  F Z P   Z   W    W   L Y P  W   p   l   X   X   W   5 Y @  Y   W      W  J  P  8q  I v P  (~        `    o   / _ 0  x   q      4V   H    <  t }   `f  	 n   p    o  N p P  p   o   o   |[   g    d   q   q   ; Q @ c x_ p  L[  F D[ P  Q         U  R U `  t   ] xy ` z   ?  @ ! S 0     i            tV    pf  5 x\ @ ] X\ ` P  P     C  P        	 	 c  	 f	 \ p	 	  	 c
 a p
 
 a 
  b   K Y P z XY       (   4R   \  0  ] 0     '  0  {   tt   w   ]   Db   (   s }   $j   _     ^      _     ^   n"  p" " T^ " "  " !& k 0& 8&  l @& A& 4k P& H' n P' ' 0{ ' (  ( }+ ~ + +  + , 4S , , L , , 0  - Y- $ `- 2 ,l  2 B2 k P2 2 g 2 2 ^ 2 3 R  3 !5 l 05 87 j @7 7 t 7 7  7 8 pb  8 a8 X p8 8 H 8 9 p^ 9 9 ,o 9 H: [ P: ? Ho ? B `o B E p E /F x 0F *J  0J eJ dr pJ J Xr J bK hq pK K p K L [ L L  L M  R  M M Q M UN R `N N Q N R pT R aS D` pS S X S S k S \ }  ] ] R ] _ ( _ s` c ` ` z ` 
a W a +a 0 0a Ma p Pa a d a a  a ?b  @b Jd  Pd 2f  @f tf (k f f a f f 8Q f g   g h   i Wi  `i i t} i i  i j   k .k d} 0k Hk 0f Pk m $ m Vo  `o o   o o | o p R  p ]p  `p q l  q | P  } =}  @} M} @^ P} z} |S } }  } G~  d P~ O ~ P  h   `      J dW P  XW   PW  	   w    i   Q        Q     w j      S   |   |    j   `k  J tk P ~ ,t   q    Dt   s   s  ~ s         t v  f v p = w @ 9 H @  r   W   w   x  	 q  1  @ l  p     <      hw  a |w p     P   F R P U R ` N P P o <j p       y   y  P  P        ,    $   O | P  0      E  P  <    hz   x       S   H     ^  `        $       L   S  t R  E l P  T      p   T  2 { @ h  p       A a P 	 j  ]  `     j   4      <  @  U   U  [ x `  x   z  @ W @  X       <i   k   v  - Hr 0 . e 0  a   Y  ?  @ i ^ p        f   X   5  c @  l  PZ p   a   D^  K Hk P  a  `  ` s L^  { i             _ $V `  }  g  p I	 Z P	 {	 ,k 	 	  	 g
 ^ p
 @ ^ @  i   b f p     f   ' 4U 0 V  `  o  4 o @ s    |  q x   $  D  P z lq     +  0 p 0 p  x   8  @  t   lt  t  t   A$ V P$ % lw % % p| % v& m & -  - 1 V 1 2 T] 2 3 ^  3 6 b 6 NA T| PA A _ A B  B "C g 0C EI Y PI J @  J K b K L <| L M 0_  M \O  `O O | O P \ P 1Q  @Q VS |i `S \ ` \ ]  ] ?c Tz @c c xw  d Xf   `f f 0 f f 8 f i  i k   k :k  @k k (d k Ol ^ Pl m   m m PY m m W m r  r r  r >s Lx @s s  s t  t {u $ u u  u v  v w @~  w Iw  Pw x @q  x =x X @x x | x x W x z \ z Rz Xm `z { h` { | Xd | }  } ~ d ~ ~ Tf ~  Li   d   E d P } <g   d   Lg  g X p  d   d    Tj  E Dd P ~   $ dV 0 c e p  d   d  / U 0 ]  `  g  # g 0  _   P   Dg   `V   w XV      d    di      g  M 8Y P        _   $Y    `Y        W  `  H     9  @ i h p  d  9 t @ d ` p 
 PS  U  `          K 0 P       G  P  h  6 d @ 5  @  X      l   T   + P 0 V c `           + h 0        x   q  Q r `  r  !  R 0 } Q   R  ; X_ @ ' i 0 }    ^   <   D \[ P  Q   (      @   H  { m      ~  . L} 0  }  C l~ P  ~   |  3 X~ @  ~   ~   9 ~ @ 
 ~  z 4}   \~  % T~ 0  z   $   P L P  @   (   ts   `    pQ  C i P ] v ` ; lS @  pW  &  0 \ n ` H t P    
 `e 
 
 L_ 
     B <[ P      i  m P p \   `  "   " z" h " " p " $ V $ ) 4 ) o* S p* * [ * O- d[ P- 6 X 6 ;7 ,T @7 7 P 7 8   9 9 | 9 9 L~ 9 : ~ : ;  ; ; |P ; K> U P> > 8u > @ Lu @ fA ` pA A d A 2B z @B KD x PD sD \ D E } E I X  J J h J K h K 3M 8 @M OM H^ PM M v  N N Pv N O hv O O |v  O P |s P U v U U  U EW  PW X `U X XY  u `Y J\  P\ 8]  @] ^ $  ^ \^ Q `^ ^  ^ ^ @S ^ ,_ h 0_ G_  P_ _ R _ -` X 0` u` XQ ` ` X ` c j  c d ,q d xd  d e   e <e W @e e ` e If ,w Pf f 0r f ng u pg g  r g j c j k n  k 1k n @k Vk a `k s v s t r  t    Q r ` H h P  $`   T      t    c  W  `      p  a Y p  h          T  
    n   o    l      2 hb @ g xb p  b   b   L   z R  
 P  8 W @  P   ? Q @  P  } P  I TR P  hR   <R  4 ( @  D      q [  D  P  h   xh   z  s p   8   i   x   P    a   U   P^  3 Z @ X U `  (  5 D] @  hh   a   Ph   h  , tU 0 D  P      t   8b   g  c e p ;  @ k  p     7  @     v  3 d @  T   g Z p  Z   [          8   g X p  V  X T `  Hh      dl   & g 0 D V P  LV   U      Z  N 8 P  o   T   I V P j 4 p       7 y @ T x `     f  B f P D  P h pX p  <d   Z  4 hf @ f |^ p  $g   g  & ,s 0  f   f   u      Z   Z   X  t 4f  
   N  P  `            Dl   ~ m   \l  O  f P ; f @  p  8 y @     U   3 ~ @ F xP P S c ` c  p N e P 8  @    j  p  \   Y     5  @    `  `  {   e     T { ` . 0X 0 Z lX `  DX   a   e   |e  N d{ P ($ hp 0$ $ o $ *% R 0% B' $v P' ) p ) 45 $p @5 s8 du 8 A Dp A @B  @B JB  PB B \{ B B Pr  C O 8v O PO @r PO FU y PU V x  V EV te PV W ( W W h W X  X Y ` Y DZ  PZ Z H Z [  [ \ 4 \ n\  p\ ] Pe ] D_ ,e P_ _  _ 6b X @b c pq  c g W  h ^h Q `h h Q h i Q  i i V i j V j hn 0\ pn 0o W 0o ;o   @o Zp tY `p r  r r X r mu  pu v T v x e x     E W P  j   N xd P  T    l   # $ 0 j x p & x 0  x   <{    {  Q { `  tz   {  c { p  {   z   z   z  q z   }  _ { `  HY   k   `s   r   s   s Hs   8m  g i p  t   e l p i Y p  `\  0 @ 0 = ,U @ G  U P r $U   U   0U         ?  @  dQ      M T P s     @U   ,   XU   %  0 U @ `  ]         M \ P a \ p  T   T   A T P  T    T  ? U @ f  p     (       8U       7 < @ j V p     S   t @T   8T     P l P n R p     x   <    U    S   <p  : ] @ g  p            }      $o  Y m `  $l   `  k Z p  ld   H                                                                                                                                                                                                                                                                                                                                                                                                                                                     B   b    0`pP	 B            `#    	 B          ,  `#  ,         0           	 0`
p	P   B0`  
  0`
p	P
 % 0`
p	P	 "0`
p	P   20 20`p 20`p
 
20`pP 20 20 20 B  	 0`
p	P   20`p 20   
  0`
p	P 20 B0`   . 0   0`pP   20 B0`   B0`   20`p    20 B0`   B0`   B   B0`   B   B0`   B  
 ] 0`
p	P 2
0	`pP
 
20`pP B0`pP   20`p B0`     * P 0`   B0`pP   b0`   B   b0`   B   20
 
20`pP b  !0`
p	P  	 	# 0`
 
20`pP 20`p b   b  
 
0`pP 20 B0`   b  ( P b0`pP    0`pP2	0`pP   B0`  
 
R0`pP b   B0`   b    0`pP 20 b0`   20 20`p B0`  
  0`
p	P	 0`
p	P   ' 
 
20`pP 20`p B0`  
 
 0`p   R0    0`
p	P      B0`   R
0	`pP b      b            B   B   R0 b   B  , 	0`pP R0 0   20`p    B0`pP   b   b   b0`pP         20`p	 B0`
p	P    0`pP
  0`
p	P 20
 
R0`pP B0`pP   0   20`p 20   
 
R0`pP	 B0`
p	P      B0`   r0   	 0`
p	P  	 0`
p	P   20`p 20`p 20`p 20`p B0`pP  	 0`
p	P   0`
  0`
p	P 20 B0`   B0`  
 # 0`
p	P    B   `p                         B0`pP                  20 B   p   0`
p	P   B0`   20`p 2
0	`pP 20 B   B   B   B      B   B0`   B  	 B0`
p	P  	 b0`
p	P   20`p B   B0`pP   B0`pP   B  
 
0`pP       20 20 2
0	`pP B0`pP   b   0 B   2
0	`pP b0`pP   R0`p r0 B      20`p
B0`
p	P 20`p
  0`
p	P 20 B   B0`   20 20 B0`pP   20 20 B0`pP   B   B0`pP   20 20 B0`   B0`pP  	 B0`
p	P  
 
20`pP R0`p
 
20`pP R0
 
20`pP R0`p  0`pP 20
 
20`pP
  0`
p	P 20 R0 b0`pP   20	 b0`
p	P  
 
20`pP 0`pP   20 20	 B0`
p	P   20`p B0`   B  
 + 0`
p	P	 0`
p	P  	 B0`
p	P  	 0`
p	P   B0`pP   b  
  0`
p	P b    0`pP   B0`pP   b  	 0`
p	P    0`pP
 
20`pP 0`p	 0`
p	P   B   B0`  
  0`
p	P 0    B0`pP   h 0`pP   B0`pP  	 0`
p	P      B0`      R0 B0`pP      B0`   R0 20 20 B0`pP      B0`pP   B0`  
 
R0`pP
  0`
p	P                   20
 
20`pP B0`   B   B0`      20 20`p B0`pP   20 20 B0`pP   B0`      B0`pP   R0`p B0`pP  
 
20`pP R0`p
 
20`pP B0`   B0`  
 
20`pP B0`pP  
 
R0`pP
  0`
p	P
 
20`pP
 
R0`pP	 0`
p	P   20`p    20 R0 B0`  
  0`
p	P 20 20 B   B0`pP   b0`pP    0`pP	 b0`
p	P  	 B0`
p	P   B0`pP  
 
20`pP
  0`
p	P
 0`
p	P B0`   20`p  0`pP   
  0`
p	P	 B0`
p	P  
  0`
p	P
  0`
p	P	 0`
p	P   B0`pP   0 20`p b0`   20`p	 0`
p	P   R0 20 B   b   h r0`p 0`  	 0`
p	P   R0`p	 0`
p	P   B0`   20 20 B0`   20	 0`
p	P  	 0`
p	P   B0`   B   20`p
 
20`pP
 
20`pP B   20`p h R0`p b0`  
 
20`pP
  0`
p	P
  0`
p	P) )	  x h  0`
p	P 0`pP  
  0`
p	P	 0`
p	P   B   B  
  0`
p	P       0`p         R0`p 20 0`p
P	 B   b0`pP   R
0	`pP 20`p B   B0`      B0`   B0`   20`p 20`p B0`   20`p R0`p 20`p 20`p 20`p B0`  
  0`
p	P  0`pP  0`pP b0`pP   b0`pP   B   20	 0`
p	P   A 0`pP b0`pP      B0`   0`p % 0`pP 20	 0`
p	P   b0`pP    0`pP    h 0`pP   20`p 20`p B   B   R0`p  0`pP
 
0`pP B0`   B0`  

20`P   20	 b0`
p	P  	 B0`
p	P   20`p   
 + 0`
p	P	 0`
p	P   R0 R0	 b0`
p	P  
 
 0`p  	 	 0` B0`   B0`   20`p 2
0	`pP B   B0`pP   0`pP  	 0`
p	P   B0`pP      0`pP     x h  0`
p	P R0 B  	 0`
p	P   h b0`   0`pP  
  0`
p	P     x h 
0`pP B0`pP   2
0	`pP
 
20`pP 20`p B0`    0   B0`   20 B0`   B0`pP  	 b0`
p	P  	 0`
p	P  	 0`
p	P   B0`pP  	 B0`
p	P    0`pP
  0`
p	P 0`p
 ! 0`
p	P b0`  
 
R0`pP	  
0	`pP  	 0`
p	P   b0`  	  
0	`pP  	 0`
p	P  	 B0`
p	P   0`pP   0	 b0`
p	P   B  	 0`
p	P   B0`  	  
0	`pP                        B0`   B0`   0      0`pP 0  	 b0`
p	P   20 20 20
  0`
p	P B0`pP   R0	 0`
p	P   B0`pP   20 B0`pP   B0`      p  
  0`
p	P R0`p 20`p 20 B0`    0`pP B0`pP  
 
20`pP b0`pP   b0`pP  
 
20`pP B0`pP   B0`pP   B0`  	 0`
p	P  
 
20`pP b0`   B0`   b0`pP   20
 
0`pP
 
20`pP B0`pP   20
  0`
p	P `p	 B0`
p	P   B0`   B0`pP  
  0`
p	P	  
0	`pP  
  0`
p	P  0`pP r0`p	 b0`
p	P   b0`pP  
  0`
p	P B0`pP  	 0`
p	P   B   b0`pP   B  
 
0`pP    B0`   b0`  	 	' 0` B0`   B   20 20 20`p
  0`
p	P
 
20`pP
  0`
p	P B0`pP   b0`   20`p b0`pP   B0`   20 B  
 I 0`
p	P 20 20 20 20
 
20`pP
  0`
p	P 20
  0`
p	P R0`p
  0`
p	P	 B0`
p	P  	 B0`
p	P   20   0`pP   B0`   20`p B  b0`pP	 b0`
p	P         0`p      0`p   B   0`pP	 b0`
p	P         B   B0`   B0`  
 
20`pP
  0`
p	P   
 
20`pP	 	 0` B0`  
 
0`pP 0`pP   B0`  
 
20`pP b0`pP  
 
R0`pP 20 B   20 20`p 20 R0`p B0`  
 E 0`
p	P 20 20`p R0 20 20`p	 0`
p	P  	 B0`
p	P  	 B0`
p	P  	 0`
p	P  
 
0`pP B0`  
 E 0`
p	P B0`pP   b  	 0`
p	P   B0`   B  	 0`
p	P   20`p B0`   ) 0`pP 20`p
 
20`pP	 b0`
p	P   B0`pP  	 0`
p	P  	 0`
p	P  
 
( 0`p   B   20`p
 
R0`pP B0`   B0`pP   r
0	`pP b0`pP   B0`   b0`pP    0`pP   20`p B0`pP   b0`   b0`    0`pP	R
0	`pP  	 0`
p	P  	 0`
p	P   B0`pP   b0`pP  	 b0`
p	P   0`
p	P   
0	`pP 20
 
20`pP 20`p/ 0`pP  
 + 0`
p	P b0`  	 	 0` R0`p 20    20
  0`
p	P   0`pP         B     
  0`
p	P    0   0`p     
  0`
p	P
 s0`
p	P   	 0`
p	P   0  	 0`
p	P      0`p   
 
20`pP 20`p B   B0`  
 I 0`
p	P B0`   20`p B0`     
 
0`pP 20`p 20`p B   0`   20`p	  
0	`pP  
 
20`pP B0`   b0`pP   B   B0`   0`pP   0`pP   R0 0`   r0 B   r0	 B0`
p	P   B0`   20`p 20 B0`pP  
 
R0`pP	 0`
p	P  	 0`
p	P  
  0`
p	P	 0`
p	P   r
0	`pP
  0`
p	P	 0`
p	P  	 0`
p	P  
  0`
p	P	 0`
p	P  
 ? 0`
p	P
 
20`pP
 
r0`pP R
0	`pP b0`   b0`  
  0`
p	P b0`pP   r0 0`pP  
 
20`pP 0`   B   B0`pP   ) 0`pP r0
  0`
p	P 0`   b  
 # 0`
p	P 20 20 20 B0`   20 20 b0`   B   R
0	`pP R0  0`pP 0
0`
p	P 0	 0`
p	P   0`   b   20
 
20`pP	 0`
p	P   x  0`
p	P	 b0`
p	P         B0`            2
0	`pP b0`   20 B0`pP   p   0`p   b0`pP  	 x b0`pP   R0`p b0`   B0`   B0`  	 0`
p	P   B   20 20`p B0`  	0`pP   B0`pP   - 0`pP	 0`
p	P  	 B0`
p	P  
  0`
p	P b0`pP      R0	 0`
p	P   B0`   20       B0`pP   B0`pP   20`p b0`pP   B0`   20`p B0`  	 0`
p	P   20 B0`pP  	 b0`
p	P   2
0	`pP       2
0	`pP 20`p B0`  
  0`
p	P      	 h 
0	`pP   B0`  
 
0`pP 20 20`p
 ! 0`
p	P
 %0`
p	P 9  B   3 0`pP R0`p b      20
 
20`pP B0`   20
  0`
p	P
 )0`
p	P 20 b0`pP   0`   R0 B  
 
R0`pP r0 b   20 B0`pP   b   B   B   0`pP   20 20    B0`   r0`p b0`pP  	  
0	`pP     
  0`
p	P	 	 0`    20 B  
 + 0`pP	 B   
0
`	pP   * 0`pP  	 	' 0` 20 B0`   0`      b0`   b0`   B0`   0`  
  0`
p	P b0`pP   B     	 0`
p	P   20
0`
p	P b0`pP   r
0	`pP    20`p B   B0`                           20`p B0`   20`p       B0`pP   B   b   20`p B0`pP  	 8 
0	`pP   0`pP  
 
20`pP 0`pP  
  0`
p	P 20 B0`pP   20`p b0`pP   2
0	`pP
 
20`pP 20    20 B0`pP  	 b0`
p	P   B   B0`      0`pP   b0`pP   20 0`pP  
 
20`pP 20 B0`pP   20 20
 
20`pP 20 B   b   b   20`p 20`p B0`pP   B   0`
p	P   R0`p B0`  	 0`
p	P   B0`pP           
 
20`pP 20 20 B0`   B0`pP  	 b0`
p	P   20
  0`
p	P	 0`
p	P   b0`pP  . P 20 20`p
  0`
p	P r
0	`pP r
0	`pP B    0`pP* 	0`pP& P1 0`
p	P  ( 	0`pP 20`p+ 0`pP  
  0`
p	P
  0`
p	P
 
R0`pP b0`   B0`pP  	 0`
p	P  
 # 0`
p	P  0`pP   0`pP  
 
R0`pP B0`pP  
 
R0`pP                      0`p        	  
0	`pP        
 
20`pP B0`pP   B0`pP   B0`   B0`   B0`pP   B0`   B0`  	 0`
p	P   B  
 1 0`
p	P
 h r
0	`pP       
0	`pP 20 20`p	 0`
p	P   R0          B0`pP   B0`   B0`  	 0`
p	P     
  0`
p	P	 B0`
p	P  
 0`
p	P
 
R0`pP B   20`p R
0	`pP B0`pP   0`pP   20`p 20`p B   B0`  
 # 0`
p	P B0`   20`p 20       20    B0`               B   20 B   B  
 
20`pP B0`pP   B0`   B0`pP   B0`pP   20 20 b      20 r0 20
 
R0`pP b   B   b      B   20
 
20`pP
  0`
p	P 
0	`pP B0`   b0`pP     
 
R0`pP    B   R0`p 20`p B0`   B   20 20`p
 
20`pP	 B0`
p	P   20`p 20`p	 B0`
p	P  	 B0`
p	P   20	 0`
p	P   2
0	`pP 20 2
0	`pP    B0`  	 b0`
p	P   20    r0`p    20`p	 B0`
p	P    0`pP B0p   B   b   20	 0`
p	P   R0
  0`
p	P
  0`
p	P	 0`
p	P  	 b0`
p	P      B   20   	 0`
p	P  	 b0`
p	P   B0`  
 
20`pP B0`  	 B0`
p	P   b0`pP   R0`p    20`p B0`   20`p B0`  
  0`
p	P
 
R0`pP 0`	 b0`
p	P   0
 
R0`pP
  0`
p	P                   B0`   r0`p B   B   B         B     	 0`
p	P   0` B`p   b   b   0`pP   R0`p	 0`
p	P  	 0`
p	P   0`p b0`pP   B   B0`   20`p	 	# `p    B0`      b  
 
20`pP B0`pP   	0`pP B0`   B0`pP   B0`pP   20    b0`pP   20 R0 B0`      20`p B0`   b0`pP   b   20    B   B      B   B   b   R0 20`p
  0`
p	P b0`  
  0`
p	P 20 20 20 B0`   B   20
  0`
p	P B0`   20 20 20 20 20    20 b   R0 b    0`pP
 + 0`
p	P B   20`p 0`p 20 B   B0`   B   B   B  	 	h b  	 	h b  	 	h b  	 	h b  	 	h b   b  	 	h b  	 	h b  	 	h b   B   B   b  
0`
p	P 0`pP B0`   B  
 
20`pP 20
  0`
p	P B0`   20 B0p   20	 0`
p	P   20`p 20 B0`   B   B   B   20`p B   20`p	 0`
p	P   B0p   2
0	`pP B0`pP   B0`            B   B   b0`  
 0`pP	 B0`   B0`pP  
 
0`pP    20 R0    B0`   B0`   B0`     
 
20`pP 20`p B0`      B0`  
  0`
p	P
 
20`pP
  0`
p	P b0`pP   B0`  
 
20`pP B0`  
  0`
p	P	  
0	`pP  
 
R0`pP	 0`
p	P   0`
p	P  	 b0`
p	P  
 
20`pP	 	 0p    R
0	`pP B0`   20`p
  0`
p	P R0 B   B   B0`           
 
R0`pP

0`P   B   B0`           	  x h 0`            b0`  
 
0`pP
b0`
p	P B  
 
20`pP 20 B0`pP   B0`pP   20 20          20`p B   B   B   B   B   B   0 ' 0`pP + 0`pP B0`   20 20 B0`  B0`pP 0`pP R0`p	 0`
p	P  	 0`
p	P   b   b   b   20      	 B0`
p	P  	 B0`
p	P   0`
  0`
p	P
 
20`pP    B0`  	 0`
p	P      B0`  > > 5 , #x h # 0`
p	P
 
20`pP 20 20	 b0`
p	P   0`pP        	 0`
p	P   B0`   20 b0`   20 B0`pP   20 2
0	`pP
 
20`pP 2
0	`pP    B0`pP   0 20`p    2
0	`pP 0`pP      `p          B0`   20       x 	h    "  	 	h    x 	h   
 
h 0 "  # #	 x h  0`pP  	 	h   	 	h    b                                                                                                                                                                                                                                                                                                                       D             l          T D          , d          L t          \                     \                                                                                0     D     R     d     z                                         2     F     X     j     ~                                             *     @     T     j                                             &     6     F     Z     p                                             $     4     N     ^     n                                              0     B     N     ^     l                                                  &     <     P     j     ~                                        (     4     J     \     j                                                   $     4     N     d             z                                                       $     .     <     F     R     \     h     r     z                                                                      &     2     <     N     V     `     l     x                                                                                      "     ,     6     >     F     N     X     `     h     p     x                                                                            
          $     .     :     D     N     X     b     j     t     |                                                                                     &     0     :     D     N     X     b     l     v                                                                                $     .     8     B     J     T     \     f     p     z                                                                                      0             B     V     r                                                                  *     :     D     L     Z     d     t                                                                                                                                                    0     D     R     d     z                                         2     F     X     j     ~                                             *     @     T     j                                             &     6     F     Z     p                                             $     4     N     ^     n                                              0     B     N     ^     l                                                  &     <     P     j     ~                                        (     4     J     \     j                                                   $     4     N     d             z                                                       $     .     <     F     R     \     h     r     z                                                                      &     2     <     N     V     `     l     x                                                                                      "     ,     6     >     F     N     X     `     h     p     x                                                                            
          $     .     :     D     N     X     b     j     t     |                                                                                     &     0     :     D     N     X     b     l     v                                                                                $     .     8     B     J     T     \     f     p     z                                                                                      0             B     V     r                                                                  *     :     D     L     Z     d     t                                                                                          EqualSid  OGetSecurityInfo [GetTokenInformation eGetUserNameA  OpenProcessToken  OpenThreadToken V CloseHandle  CreateEventA   CreateFileA  CreateFileMappingA   CreateNamedPipeA   CreatePipe   CreateProcessA   CreateRemoteThread   CreateToolhelp32Snapshot   DeleteCriticalSection  DeviceIoControl  EnterCriticalSection  4FillConsoleOutputAttribute  5FillConsoleOutputCharacterA <FindClose @FindFirstFileA  MFindFirstVolumeW  XFindNextVolumeW ^FindVolumeClose eFlushFileBuffers  vGetACP  GetCPInfo GetConsoleCP  GetConsoleMode  GetConsoleOutputCP  GetConsoleScreenBufferInfo  GetConsoleWindow  GetCurrentDirectoryA  GetCurrentProcess GetCurrentProcessId GetCurrentThread  GetCurrentThreadId  GetDiskFreeSpaceExA GetDiskFreeSpaceExW GetDriveTypeA GetExitCodeProcess  GetFileAttributesA  GetFileAttributesExA  GetFileInformationByHandle  GetFileSizeEx GetFileType GetLastError  GetLocalTime  GetLogicalDrives  $GetModuleFileNameA  &GetModuleHandleA  )GetModuleHandleW  HGetNumberOfConsoleInputEvents XGetProcAddress  _GetProcessId  eGetProcessTimes uGetStartupInfoA wGetStdHandle  GetSystemDirectoryA GetSystemInfo GetSystemTimeAsFileTime GetTickCount  GetVersionExA GetVolumeInformationA GetVolumeInformationW GlobalMemoryStatus  InitializeCriticalSection IsDBCSLeadByteEx  IsValidCodePage "IsWow64Process  MLeaveCriticalSection  PLoadLibraryA  QLoadLibraryExA  ]LocalFree lMapViewOfFile tMoveFileExA |MultiByteToWideChar OpenProcess PeekConsoleInputA PeekNamedPipe Process32First  Process32Next QueryPerformanceCounter ReadConsoleInputW ReadProcessMemory ResetEvent  RtlAddFunctionTable RtlCaptureContext RtlLookupFunctionEntry  RtlVirtualUnwind  *SetConsoleCP  ,SetConsoleCtrlHandler 0SetConsoleCursorPosition  <SetConsoleMode  ASetConsoleOutputCP  ESetConsoleTextAttribute FSetConsoleTitleA  RSetEndOfFile  XSetEvent  ]SetFileAttributesA  eSetFilePointer  iSetFileTime nSetHandleInformation  qSetLastError  SetUnhandledExceptionFilter Sleep SleepEx TerminateProcess  TlsGetValue UnhandledExceptionFilter  UnmapViewOfFile VirtualProtect  VirtualQuery  WaitForMultipleObjects  WaitForSingleObject WideCharToMultiByte 8 __C_specific_handler  G __argv  O __dllonexit R __getmainargs S __initenv T __iob_func  [ __lconv_init  \ __mb_cur_max  a __set_app_type  c __setusermatherr  q _access r _acmdln y _amsg_exit   _cexit   _ctime64   _cwait   _environ   _errno   _exit  _fdopen  _findclose   _findfirst64   _fmode  _fstat64   _fullpath  _get_osfhandle   _getch  _gmtime64 _initterm _isatty ~_localtime64  _lock _lseeki64  _mktime64 $_onexit &_open_osfhandle ,_pipe Q_setjmp U_setmode  o_spawnve  _stricmp  _strnicmp _telli64  _time64 _tzset  _unlock _vsnprintf  abort atof  atoi  bsearch calloc  clearerr  clock exit  fclose  feof  ferror  fflush  fgetc fgets fopen fprintf fputc fputs fread free  freopen fseek fwrite  getc  getchar getenv  isalnum isalpha iscntrl isgraph islower isprint ispunct isspace isupper isxdigit  localeconv  malloc  mbstowcs  memchr  memcmp  memcpy  memmove putc  putchar qsort raise rand  realloc rename  setbuf  setlocale signal  sprintf !srand "sscanf  $strcat  &strchr  'strcmp  )strcpy  +strcspn ,strerror  -strftime  .strlen  1strncmp 2strncpy 4strpbrk 5strrchr 6strspn  7strstr  9strtok  ;strtol  <strtoul Jtolower Ktoupper Nungetc  Pvfprintf  Tvsprintf  cwcslen  fwcsncmp swcstombs  _findnext64 longjmp _timezone _write  _wcsnicmp _unlink _umask  _strdup _rmdir  _read _putenv _open _mktemp _mkdir  _getpid _getcwd _getche _fileno _fdopen _dup2 _dup  _creat  _close  _chmod  _chdir  _stricmp   EnumProcessModules   GetModuleFileNameExA   GetProcessImageFileNameA  DShellExecuteExA  DispatchMessageA  MsgWaitForMultipleObjects PeekMessageA  TranslateMessage   GetUserProfileDirectoryA   WSACleanup  ( WSAEnumNetworkEvents  + WSAEventSelect  , WSAGetLastError P WSASetLastError S WSASocketA  U WSAStartup   __WSAFDIsSet   accept   bind   closesocket  connect  freeaddrinfo   getaddrinfo  gethostbyaddr  gethostname  getnameinfo  getservbyname  htonl  htons  inet_addr  inet_ntoa  listen   ntohl  ntohs  recv   select   setsockopt   shutdown              ADVAPI32.dll                                                                                                                   KERNEL32.dll    ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( ( msvcrt.dll  < < < PSAPI.DLL   P SHELL32.dll d d d d USER32.dll  x USERENV.dll                              WS2_32.dll                                                                                                                                                                  P@                     @      @                     0@      @                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       I     ` I     H     @H                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       0          P                       p                                          	                   	                   	                   	                   	                   	                            8                	                   	                       h                	  0                                        @  P	 %          7	           H	 h          M	 %          r	           X	 h          	 0           	 0            	 ,          P	           (   0   `                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                     1   7   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   8   4   &   	                 
[[[k}~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~}~PRPv                    	~~                                         552//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,552                      //,AD?@D>?C=?B=?A<>A<>@;=?;<?:<>:;>9:=8:<89;78;78:679668567457456345334234223112111000//0///....---------//,                       //,8<58;47:46:369358247247136125024/13/03.02./1-.0-.0,-/+,.+,-*+,**,)*+))*(()(()''(&&'&&&%%%%$%$$$$######//,                        //,BF?AE?@D>@C>?C=?B=?A<>@;=?;=?:<?:;>9;=9:=89<89;78:679679568557456445345334223122112001000////.....----//,                        //,9=69<58<57;47:469359258247136135025014/13/02./2-/1-.0,-/,-.+,.++-*+,**+))+()*(()''('''&&'&%&%%%$$$$###//,                        //,CG?BF?AE?AD?@D>?C=?B=?A<>A<>@;=?;<?:<>:;>9:=8:<89;78;78:679668567457456345334234223112111000//0///....//,                        //,:>7:>69=68<58;47:46:369358247247136125024/13/03.02./1-.0-.0,-/+,.+,-*+,**,)*+))*(()(()''(&&'&&&%%%%$%$//,                        //,DH@CG@BF?BF?AE?@D>@C>?C=?B=?A<>@;=?;=?:<?:;>9;=9:=89<89;78:679679568557456445345334223122112001000//////,                        //,;@8;?7:>69=69<58<57;47:469359258247136135025014/13/02./2-/1-.0,-/,-.+,.++-*+,**+))+()*(()''('''&&'&%&%//,                        //,EIADH@CH@CG?BF?AE?AD?@D>?C=?B=?A<>A<>@;=?;<?:<>:;>9:=8:<89;78;78:679668567457456345334234223112111000///,                        //,<A8<@8;?7:>7:>69=68<58;47:46:369358247247136125024/13/03.02./1-.0-.0,-/+,.+,-*+,**,)*+))*(()(()''(&&'&//,                        //,FJBEJADIADH@CG@BF?BF?AE?@D>@C>?C=?B=?A<>@;=?;=?:<?:;>9;=9:=89<89;78:6796795685574564453453342231221120//,                        //,=B9<A9<@8;@8;?7:>69=69<58<57;47:469359258247136135025014/13/02./2-/1-.0,-/,-.+,.++-*+,**+))+()*(()''('//,                        //,GKCFKBEJAEIADH@CH@CG?BF?AE?AD?@D>?C=?B=?A<>A<>@;=?;<?:<>:;>9:=8:<89;78;78:6796685674574563453342342231//,                        //,>C:=B9=B9<A8<@8;?7:>7:>69=68<58;47:46:369358247247136125024/13/03.02./1-.0-.0,-/+,.+,-*+,**,)*+))*(()(//,                        //,HMCGLCFKBFJBEJADIADH@CG@BF?BF?AE?@D>@C>?C=?B=?A<>@;=?;=?:<?:;>9;=9:=89<89;78:6796795685574564453453342//,                        //,?D;>C:>C:=B9<A9<@8;@8;?7:>69=69<58<57;47:469359258247136135025014/13/02./2-/1-.0,-/,-.+,.++-*+,**+))+(//,                        //,INDHMDGLCGKCFKBEJAEIADH@CH@CG?BF?AE?AD?@D>?C=?B=?A<>A<>@;=?;<?:<>:;>9:=8:<89;78;78:6796685674574563453//,                        //,@E<?E;?D;>C:=B9>C:CH?DG@CG?BF?AE=:>78<58;47:46:369358247247136125024/13/03.02./1-.0-.0,-/+,.+,-*+,**,)//,                        //,JOEINEHMDHMCGLCOSKQUNBF?AE?@D>@C>?C=?B=?A<>@;=?;=?:<?:;>9;=9:=89<89;78:6796795685574564//,                        //,AG=@F<@E;?D;>C:?D;DI@DHADG@CG@BF>;?79=69<58<57;47:469359258247136135025014/13/02./2-/1-.0,-/,-.+,.++-*//,                        //,KPFJOEMRIINDHMDGLCGKCFKBEJAEIADH@CH@CG?BF?AE?AD?@D>?C=?B=?A<>A<>@;=?;<?:<>:;>9:=8:<89;78;78:6796685674//,                        //,BH=EKBKPHAF=?D;>C:=B9=B9<A8<@8;?7:>7:>69=68<58;47:46:369358247247136125024/13/03.02./1-.0-.0,-/+,.+//,                        //,LQGOTJqunINEHMCGLCFKBFJBEJADIADH@CG@BF?BF?AE?@D>@C>?C=?B=?A<>@;=?;=?:<?:;>9;=9:=89<89;78:6796795//,                        //,CI>BH>GLBotk\`X@E<>C:>C:=B9<A9<@8;@8;?7:>69=69<58<57;47:469359258247136135025014/13/02./2-/1-.0,-/,//,                        //,MSHMSH^d[PVMINDHMDGLCGKCFKBEJAEIADH@CH@CG?BF?AE?AD?@D>?C=?B=?A<>A<>@;=?;<?:<>:;>9:=8:<89;78;78:6//,                        //,DJ?JOFHMDBG=@E<?E;?D;>C:=B9=B9<A8<@8;?7:>7:>69=68<58;47:46:369358247247136125024/13/03.02./1-.0-//,                        //,MSHNTIZ_VNSIKQFJPFJOEINEHMDHMCGLCFKBFJBEJADIADH@CG@BF?BF?AE?@D>@C>?C=?B=?A<>@;=?;=?:<?:;>9;=9:=89<89;7//,                        //,DJ?DJ?DJ?CI>BH>BG=AG=@F<@E;?D;>C:>C:=B9<A9<@8;@8;?7:>69=69<58<57;47:469359258247136135025014/13/02./2-//,                        663//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,663                                                                                                                        LK                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    (       @                                                                                                                                                                                                                                                                                                                                                                      *   :   <   <   <   <   <   <   <   <   <   <   <   <   <   <   <   <   <   <   <   <   <   <   <   <   <   <   :   *      NPN|~~~LNN|                   552//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,552        //,?C;>B;=@:<?9:>89<78;67:568457346234113002//0../--.,,,+++*)*)((((((//,        //,;?7:>68<57;46:358247136024/13./2..0--/,,.++,**+))*('('&'&%&%$$$###//,        //,@D=?D<>B;=A:<@9;>8:=79<67:569458346235124012//1../--.,,-++++***)))//,        //,<A8;?7:>69=58;57:459347236125013/02./1--/,,.++-**+))*(()'''&&&%$%$//,        //,BF>AD=@D<?C;=A:<@9;?8:=79<68;579458347235224113001//0../-,-,+,+*+*//,        //,>C:=A9;@8:?79=68<57:469358236125014/02./1-.0,-.+,-**,))*(()''(&&&%//,        //,CG?BF>AE=@D<?C;>B:=@9;?9:>89<78;67:568457346224113002//0../--.,,,+//,        //,?D;>C:=B9<@8;?79>68<57;46:358247136024/03./2-.0,-/,,.++,**+))*('('//,        //,DIADH@CF?BE>@D=?C<>B;=A:<?9;>8:=78;67:569457346235123012//1../--.,//,        //,AF<@E;>C:=B9<A8;?7:>69=58;46:459347236125013/02./1--/,,.++-**+))*(//,        //,EKBDJADH@CG?BF>AD=@D<>C;=A:<@9;?8:=79<68;579458347235124113001//0.//,        //,BH=AF<@E;?D;>B:8<57:469358236125014/02./1-.0,-.+,-**,)//,        //,GMCFKBEJADI@CG?BF>AE=@D<?C;>B:=@9;?8:>89<78;67:568457346224113002///,        //,DJ?BH>NSK@F<?D;>C:=B9<@8;?79>68<57;46:358247135024/03./1-.0,-/+,-+//,        //,HNDGMCDI@DH@CF?AE>@D=?C<>B;=A:<?9;>8:=78;67:5694573462351230//,        //,DJ?DJ?DJ??E;>C:=B9<A8;?7:>69=58;46:359247236125013/02..1--/,//,        //,HNDHNDEKBDIADH@CG?BE>AD=@D<>B;=A:<@9;>8:=79<68:5694583462351//,        //,DJ?DJ?LRHCI>BH=AF<@E;?D:>B:<A9;@8:>79=68<57:469348236125014/02./1-//,        //,HNDHNDHNDHNDGMCFKBEJADI@CG?BF>AE=@D<?C;>B:<@9;?8:>79<78;67:5684573//,        663//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,//,663                                LK                                                                            (                                                                                                     ~~~~~~~~~~~~~~552//,//,//,//,//,//,//,//,//,//,552//,<A89>67;4482250/2--/+*,)()'%&%//,//,GLCDI@BF??C=>@;;>98;7685352120//,//,?E;=B9:?703..0,+-*)*(//,//,JPETYPEJABG?@D>>A<<?:9<7795463//,//,CH>;@79<569347114/.0-,-+//,//,MSHLRGCG@AD??B<=?::<8896//,//,DJ??D:<@89>67;4482240/2-//,//,MSHU[PLRGIOEGLCDI@BF??C=>@;;>9//,663//,//,//,//,//,//,//,//,//,//,663                                                                                                                            (   0   `                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             0                                                                                                                           /                                                                                                                                                                                                                                                                                                            }       ,                                                                                                                                             +                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  N                                                                                                                                                                                      2                                                                                                                                                          P               2                                                                                                                                                                        2                                                                                                                                                      0                  5                                                                                                                                                               0                  5                                                                                                                                                               0                  5                                                                                                                                                               2                                                                                                                                                                                 _               S                                                                                                                                                           2                                                                                                                                                                         0                  5                                                                                                                                                       0                  5                                                                                                                                                       0                  5                                                                                                                                                                         2                                                                                                                                                           [               2                                                                                                                                                                           2                                                                                                                                                                          N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              -                                                                                                                                             0                                                                                                                                                                                                                                                                                                                   2                                                                                                                           1                                                                              ?                     ?                                                                        (       @                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                H                                                                                                                 H                                                                                                     F            L                                                                                                           F            L                                                                                                           H                                                                                                                   H                                                                                                               F            M                                                                                                   F            M                                                                                                               H                                                                                                       !         H                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       ??              (                                                                                                        5                                             4                                                                                                                                                                                  	      b                                                    a      h                                                             	                                               a      h                                                     b                                                                                                                                                                                                                                                                                                                                      5                                             4            7  #  1  8  1  #  7  ?  ?                00     %                  h       00     %                  h   ,4   V S _ V E R S I O N _ I N F O                                               S t r i n g F i l e I n f o   f   0 8 0 9 0 4 E 4   :   C o m p a n y N a m e     f r i p p e r y . o r g     \   F i l e D e s c r i p t i o n     B u s y B o x   m u l t i - c a l l   b i n a r y   V   F i l e V e r s i o n     1 . 3 1 . 0 - F R P - 3 0 2 5 - g c 0 1 3 0 0 3 6 1     0   I n t e r n a l N a m e   b u s y b o x   Z   L e g a l C o p y r i g h t   ( C )   1 9 9 8 - 2 0 1 9   M a n y   a u t h o r s     @   O r i g i n a l F i l e n a m e   b u s y b o x . e x e   8   P r o d u c t N a m e     b u s y b o x - w 3 2   Z   P r o d u c t V e r s i o n   1 . 3 1 . 0 - F R P - 3 0 2 5 - g c 0 1 3 0 0 3 6 1     D    V a r F i l e I n f o     $    T r a n s l a t i o n     	    <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<assembly xmlns="urn:schemas-microsoft-com:asm.v1" manifestVersion="1.0">
  <trustInfo xmlns="urn:schemas-microsoft-com:asm.v3">
    <security>
      <requestedPrivileges>
        <requestedExecutionLevel level="asInvoker"/>
      </requestedPrivileges>
    </security>
  </trustInfo>
  <compatibility xmlns="urn:schemas-microsoft-com:compatibility.v1">
    <application>
      <!--The ID below indicates application support for Windows Vista -->
      <supportedOS Id="{e2011457-1546-43c5-a5fe-008deee3d3f0}"/>
      <!--The ID below indicates application support for Windows 7 -->
      <supportedOS Id="{35138b9a-5d96-4fbd-8e2d-a2440225f93a}"/>
      <!--The ID below indicates application support for Windows 8 -->
      <supportedOS Id="{4a2f28e3-53b9-4441-ba9c-d69d4a4a6e38}"/>
      <!--The ID below indicates application support for Windows 8.1 -->
      <supportedOS Id="{1f676c76-80e1-4239-95bb-83d0f6d0da78}"/> 
      <!--The ID below indicates application support for Windows 10 -->
      <supportedOS Id="{8e0f7a12-bfb3-4fe8-b9a5-48fd50a15a9a}"/> 
    </application>
  </compatibility>
</assembly>
                                 GNU Wget 1.10.2

Copyright (C) 2005 Free Software Foundation, Inc.
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

Originally written by Hrvoje Niksic <hniksic@xemacs.org>.
MZ                @                                       	!L!This program cannot be run in DOS mode.
$       E5[[[|[F[&[B[Z[G[f [Rich[                        PE  L C                0 J  @  P   @                      `                                       P                                                                                                                   UPX0     0                         UPX1       @                  @  UPX2        P                  @                                                                                                                                                                                                                                                                                                                                                                                                     1.22 UPX!		tC* 
  p & N3SUnW ,mhH +l9}3_im=EF+/X _][wV U%yH@u%dl_m;}u 	k_ELN(L$0iQl$4D$(i VW7}4 U(@t*E EEU;EmA@i3<%tU+A:&_^][(AA%TH{w<!@ $ <ct<Ct<yt<Yt<xt<XtM%u3XT$:t?P_@uPUVq4}t1d`<I ?W'
C|<Epw0k%$*H (xDYGh{8$xmi.*c8:@$=pg9^ADXN+lovHHDQRh&S=xP# uwlME t409EJDA~cwa|?X~?cbH4.	1s;UfLB> 6_'3DLPQh?\:RPhU=|qwk ? <YQ Ug)b^x<.%3p\PE#Srn6rd=8<|H(<d[a8)['N\SAN;L;=Vr
zMAMMD?jUhL_u=!7E>40H&')E< <p60-LJ|3~,Ph0Rp |	J=Q5e=ZdW-Xr\ #'zqb?br/Lk<'%&%d$U.S255!}\dMl
Fq sEsddb?$#	'=&Y$$g>%WH1SK/_3 TOE3;H 5z<qd/Lq9J'~	
V6)8IG9%-7d 93*a@d;SGp<?_qZQ&y%y\ui
( O#@ t	}B$0
tcF*4#/t)^WtH}kdN	kf5b[!& I(VTBn@ yNFz_u#	t\^A;C*%u
KC9u@42gf{u+Gx]hX(|G_^]].NH75kYofG(^ ?]Vw:6ekg4Y:fbGmM6o !	>
4gN8}|N&UY~				?m%	QoN PQRP0Gt ^TqXV xtWG ^Y@GWF	OO2~$#MN|<t</t1w^<.V{O?;t7B&Sy/?6,wuF8gEtmt.u;txtuG*<]Au<!t<^397{_[FAGu<\F[j(7oK<-u!nFluk'Fc):|:~
2 {n{3u=^FV>,:?{{G%SL_S[Pt?g;|n^n
}F#?t{	*u"6	_4b.u`k QTG8jeI\b#&RN!dKO:<uRW p,`Gu61v"#
9VpVWw
}_NQS' + d WM>YO|n!}i^UyJBx~{
''oEOVWE@	{{?<M_Ou[,<`3:"#++-9E/L@:t**3M\<;gAAZ)pLQm`|~/f(`|f*mNX7GoU 49AuAC{}SVZ}7C_ ^LM=RT
 XP8m_qLo<Ps `K QP "W;6=}t B|P7h,j6Qce^[]4/F;s$W#tc	&=StE@Grhmj0cW34O}:u
F_tN|> u__xp?|/tFN<Y\NO+]3wS5~s:u*~1^=X[uBdb9VW
mA*(,j g]*/$G:S!UWPaoQSRJt(FMh*lh:u)81u3y^y<LX;A'RPLQhSh(@ J[!PS7Ckl }QR`$T$Rm&oN,0gQk@S"cFQ(uh'2hx	hp{RBVO5_hTZn`QVR4_InCXP^qph/"D\aw;,Hv,@PJ
DH#+?
$lHPpUXA|m2vu_\ $VaY^bH,RV@$^N7&K)t0:<{<<3<>t<" < u2BB8AV-Wwr-Tn&Aamp;Qi(eA<g>t1qAuo3#(32.uWAG!r^iZ)pV!6r hp W"3:'uFUVUP+m*,6j (RB	`wRU+Qj[m~*+~F0UR_TXru^_5tVp?ayRvMS30SWhVEMPq eUWFP_R@!pQ#tPU#t2	t 7}gt %@vs3F!25(x3N@FW /C?U$W3h	Gw] $%;@gI 9hAj@;u;uhfRA!y |!W;iu&uCx	[sT*W7{\#v+9-+t	D+}6C8,QC\SpFhX8V-

uRuGDfoC9QA;N!sq8q4h8_"{+ zRS:m27(F yF3u<ZaQl/L~Z[Q, `(VK[_=m)PRh?1
3!U$B@9q$3 (>@0s%F)NPQ+up@Xwa)kmhNUtvY{%@+;}+UP63p$#XEd ]hA;y+fL1j?3
 SV}dOE;I0'?]+5KiqVu2\P`},K//~"BQoeS-X
$VV)@
U!wIK@{zp;8u(vR0st/W@lFWv`W-3uf %GwSj^!n]pRqUBW	?VEG;V6WuHV]EX({XMPh	CZGt"1[4'tD05LkAPfC,f]XVo>{\WjPl(5|u'
,wBk
|
=jn1w=P_,|3<CIAB+0__UXNxo9/s%9S O~h6@e	~IL'8Xc;(	)!{E(FP9^'yu+51~}'"1%@QKTw` Ht04LoM-1 ?=?v{tF=>?=<8=;1=:*;t%
=MF~*=C=QW.aa(<A0i0$|M0oc(vm5p/`xK;Eh=c%S}
Mt 88?@3.J*nTZ}R@P-@ z|7}Z$

jO<Dm$zTHFv "L{%u5PTttnH@_sXC(T"U@c> Dz[=:_KX8
{M9IQRQV-d$L1t'uvTq1Ud\W/?B95JnX	*=D$	p1),1{e_?fM
O!6 )<
NyWF~QR=^2jVx5>E&dP@TBPT@ xAGA@.QR`b<IT<hZ_8lTB#XtO!*i7rlp/ #
&;~s8I(tOX7KOU@G\n0k~+_Tm]6Yr	.|rV3/JW_SrF	NW_Z|WhRf!1UBaW\(0tnSWvZ/UpP$QWhPyh8!m1T|; 3`0{ f(==of+GCjQ_,Q
t:+6|=  7s-P}.5
p4j8Qh	CtdF0M8:tZ%#N .?$j$QW\&||3RR9^d&,}KE 0|	 ,@Z</h(r<%9_0_ mw8gaZ]ouSx
kU"wLPr*Q1| \^;}0-U>}x,	}D072\@|,D#Vt<Zk\[4p#a,;VS1#gm8_$?VP	v5[KcV\GMO\PM,04q4P$kQcB16vGtw}V_[A
S1sVhmtunCVU]1[T7J>21{6UW	lMpWiP(4MJbV*xz99HMQ&fT{^`l'RP/e8!?H
p#V`;w|;7|jjh$}tK3_^_> AXAW~7M88x~tA;|8wOFthD SCB;g| 7B|0@NT (FWQ|OKF  Px_7G~Om Q|
_VJ`tjh<!a+O];> o;RV448!3`n`Z,hCb L?
8h*Ikp>nE $=pt!===8u~tdp?F}cr	sD`pq(GV5<5sD1i$WBWV}<4`R~cf~/^d-O+Ry=_F;(V|hE*P
tY%0PQ`Z	H7~"7`_Z@VtVA<Pt Pv`=pn^ggPWt_xtl8_K
LuV; =3M`9G?84i+Jj,le=ZO[)1XoJ}uw7~k3%~CW)uqvu:}C;$|t/Ru[B*?S+U10aWtGc_Ox| {s`(:
uxI#6w7|a c'ERC`[C`?\x(HNQn<
7,L3(p:R3-< #`IC!G!~3~'wJ=G0pVNE[|IG/9|@W)f \Z:6@^a>]xw; Ht"Hc-+QWV7bVFZP_:QSj:Etm+[?@0?u5t}-p/,uKdcRYwExZeaCUCDX)^rs.LPQWnRG]O^iRFP/hR!H;}+HeRF^V5@_H;Z	xM15WMx=\A/>X!|8A:I<p_!mb\u88i/}5U5@ZV;zAQL q^@y>A[G_TWt
Jfk]\fUr_
;MoDMF4`vM6U:@Hr`! EyF}k
@A?-ge!fEZ @;tc kTW'Eh]#j OW+lB%eezjB;	m~LDTTmkjSGD]QC]&81Kh4VFuM?=Wut;Sn|;GsfW+Rhp7.uK?+ ;v?PV~o|A?E9ytV0_$T2i2.Co	FM{N{ea+^uvWrb"\h)}Y+!vNRWTlq3__	W}M_ZPs)
}8us?u8Yt	tAQr2AqkLQGt
W20wcM;}^l.?};u|0N FB'4CEN<E~
tD<mj
pX   t<	t.?,K4!wRw
(LAJ,_<V+^iWHxE}v1` 2pippA?{uxt?8~7+~<+:*+UU!TdaO)3]Fu|Gu	!D+6@Bttc4VA@NBg  _C@}bmwW\~? 
^0SWxO+?+;>4hT:\\i'~$Q0;s]u:F`A>S"V~?B;.u1A8E_C_=@>51YyGAS}"V%N0'ml2BmA03T~8rNDUWVt0};j<`GaEO_\6F_tcOL;@	;sM
HQ+PUh||5*vruD-2};5Fq<:J#Fu(WS+^F:(30;X [Q`Fmu<-FjEq UiJV9;~ttdPv5{#P#\FWw	Vu6>U}#'uh@Wm!z|H
;cVPhfwvq~\fzv0X-E
GO )~L+&Qh]`
|w%Yw^XA)}`lB]TFpKV; &WQ }lt'=RPb_=t95Ft\v d7N: xO|d%&4z:);=pioA;x.kWW7jK E4L&[L~tm`$_ebRXK++Ltt"("C&p_ iF2$o $8'p_2 $!X'dH>S9tPU[GuxM{xTw_!+-uc@ttJ\$,G0~EYXql.  G0LQrD8!$=&_p|SIE
pBq*]<tF{DiSWNVUz116S^qjH~@4t:Nu{VSy)Ro4u	
T8]!wtqG=uK`_"u<"tJu8vnE Kg3+^@][D7_Xl3X@;Q=$C{v>!@Cr$GrGr$G Gr$"8w@DC@
: G@Nh3/Gh`:92\SC0l0?PZPh IuF'rF];wu|8_<=F&C"x70V}N]3MP&V$8+4VfV3/SWQ6JHYx}dSEPMlBJl}I X{mE	MQ2QVNUj R0=JVP{s,x} (QV!!C6(_7`'arBX>>5^#~SF9oGOn; 7*2iT se'a|flCLLbC!0otW<,WY
63F#Z,lWEUu- QR^h-S.5_O7wp|O@OfxfzO
y+OuiE^O~s J0;KlqA@+sr'jhC40tfEuXWht,:OM,r.jh0tWW2C#WWHzkI'5(BtT
Php7&1}yS5QvRQ3Gm`5 K#`8HX?BdyNpcUl$?Ex0w3;EdTu9/=
Lu9}|%Ipy%<@+A4+)0>~65^<h;wtuSD9A:H>$)YC $EpjK8kj`<	`.D~y<Nu	5=a40|giup~Q:`9S@jd8h,j+`Ztj 	;-K(j6V:DW~x!g$Q%w =J k]!\8 *{i-|'4N,ZE4M0PU4|l%io>kfhZg 0}l.(t`D5xX{yItKoK+C,$).]8tnNj:Q+` -^!WGR	
u/Sh]fI]'.\V0imSR_}_+"Tw\=9@NVq?p16[-NisU\PLQ%!@JEl<#:K0U'PA~(yrtk@paR3d
Q1`\E^eVuL8925DRphs]dk2P18Uu#UQ';FV:jJM:=\r/}d]rKT:"b9	6`P/8@8WGOQ.`vq?[{v@fP%?|# {5jCDpd|WRL [[VRcQ\tFAM.VAY : <lXs1`N;x|])m*Bu\58{>\R@>LvYBj9|_\i8Epq}uX An4{Zfy0?>(E|`u`fD?h4mQh!;\
KA#{Yu4tVRS=TozgxsVTX6< p4$;\p95L.M#QWHYABKg1]u)tP`/WShDgXA3@qoh@~|s#REEx^}O+=^/GUmw&aS N _j
Mq&
*uu;"uTX^}X9uCGT#MXY7k+uhDQCLRY`kDL5[0Phpu!/6RPW@dEP)u'F)KP3;t9]^ToV 2Dk&9o-tN;uE!gl7@NYt
`yb	+ovwum0th	4tcKH,(A\,}z39,}(PvXu],Pk(Ni.Xeuh?dDCgq2+E-	85OU	_-YPC2!/pyCRqUpR	!40H<PhuX#W4SP:uwqG=|mV<X 9<U '<h'3c<T#";qG4S!BJ;Th#H;:H!balCAu\H\cVW^71=ouf@icNi9(LVK`a90A`O\jsaHr+52Tis1Q|@)Hji`%0[K	4
Ibs(uh]dW]!hP,O.OLDRC	7\H	M!#~S\t/j;Wm$ ;vwUH1wP)vhDPLi+4~A ^h4i=@dhpPLxUAUXWO(:hE,	*Q(+.0pH}NGe#M,'A u\2p; \;lX<RuZ.SC/t-M9 M$3KSE=|=pM}x~~o=-"tU=.N=/G=31{@[tt\BytMj	9jh'%u{[#{	aH.i(~Tc&Vj.aV,hFh+;NaGP=~)1RS>fSyJAG8d/AFShQ2PCk_u `Q1.7;X-d\Sh9Edu^: &>MdQAl#t
;FokNu`u
sUd;`,dPqA] }$_	^~
t
lMxxT< UT#noWJPA#}|!A 0{r?ppjE$H\*X8	}LTi-CXt"\+5=<SRBL`D8IWYv)!/0y!53 qaz/ ;<&J3tUQVVt!+h, !iX^pNg2k7d]2RpMpWys h2EA|QP#jYu^XP22>h#M|UdRmA_G)BpP~Y#Q+SWo2iUWbxn,3tHAP|v]$u0PH# @|%;3V+8iO]pWlz(o|>.GI;=hCS2*z0~xMHS`s'+mFtWWA'%A
dtR@eC9;V(N GI^z+W+ ]x)EbRPDAw .5D%UALF]c7JBHLS9VW]xY\t9;:L.;tkn_"nlhGN<a!h*u7<t}p;c}9tRd>lu?)8~Yu\\*t'g	^8-uH;PTbM[wuL t>HD NS`!ettJWeul:,n\&x}xb| ulu&8'EI6O N>?QMQ0;Utw;0.;A(!xArM{[=k#5t,te,tCS	|^XEtu+k^hjD<^ <
KPQEd
~S)
'hDJPPQ.R(x8c 4_,H
	%O33C[ ]  +87Ox~%wUKQ%E}E|>a=o,Pk_#Qj(FXM,FGt~{)l/G4g|\gAQ%)y0;P4p(^rf/.#u,04LN up6Zu99-\R1A@2F$?Q9}TP^s\bvi@9wu&95o0(' ]h8Qfb!	8	o|C|uv#;u	9M/R j*yPGH\miYe,heYdq'R9q^8;< U};t9U(u:#3Twi"C$VP&oGDQYN}y'{;]qGG}(5#Cu_B;UG~|M=RQCq0#PE(F
Dkxhe$
!S To	;%D;f#yt$ut3vO OVC)5 ` 1UT5BM+qW 	uDgQhlL"*Y1u#Vhdi\} H{M- " "*^ BK-yC]tyW|K&ZIk!}X:W{MtYQW[)B_hxy=V45w{
@+*R%O WJw u.#hQe^
YEY /@RW7\C%3=5Pp*# 5D`tf7f@ W.[T~o0[H&)qe aaTm?W;.c~u.K'$j|i-;@B S803hh)IM;6|Z;u1E,A1tLrh -0F@SH(F #-?riU8XR\G
itY0(1s{}LV7~Y4$tvm<# uu ft>Q><	<>`tJOi>	^:!Xx3YC!A7LP-8aEF{x],X@(SZnGzD0dJ4G#w,	-0t]aG8 o`0	 4)(4r	PDD+f>{s%'}u=3YnHl4"7CFD
<ynw07
~[oo&g?8	7x#4ShUKt$b1S'$E:]SjR8 TQu	,Jmwf^Ak0|OQrgqw`E 8D2oWatChthlK[2EbE5Vkx,54v.@V49qx`t(+W)thFu3X@]Jxe_3NtV	No `WX'= Xk%T9P"uk8
 W'@(D(~;v4
@QsiY@p6
aAAJ##'Nw"NM'i\VU+H YgBe?E2h*S'
LLQ_0O
_	#c\hMrtw!t-+cpm	"DxSps#W?h!jh,S.,M#H*EuGC|	'h//C^'k?Q(~0
e82tMYM3\D~b+ KM*kXUVN}9"?p<2u\P]d<35>@bc?kVSRIY|rSo$s}|yoxA4Jo/!Nu_~ATPA=u9 uq/Ab5|3>S`cj*UTPcr0;yy%rtd%<7H$hm<sU@&y7,I}%)$CQ(R0@hXU$GD/U1,O	jUC PHGgB;/@} 
:^<j9'|$t" }!B7q1a7A
nXjDQo3etL]BdRxM5(
S8`d^EZk<IAkZ )J
=W?ZdeX#/QW@ C/U]x$E'u|P	>juygMuv#]-mO{ 2f]AD<t
#,0F4:6:},_|BG|U AH5P`UH~(1_.#5E&bV#4KCBW2R=QYE:u)gkA"Q\@p;b%,DPBMv*5Puk/2W
2p6f
Ny{W3PI$d1L_x #"[*wp|?5uWo'<1Dw3pWlE
]s]Uhtqh#iy_hD &R]'07X6P	?8Eue7t hl
lwdp05R#L$? 30n?:ST_XBoYJ!W
4?OSQ3tZDVH`t`U,y^ ?m&(5KRsn ^^IiX|@_&	(t+uZ3[}A4/@QPb>'[M@,7rIt:b{os0P	p ?El#G!7Vp%WNk]H=vS?{4=k++V)dVUF_X+XZ0^PK  g;;BE}uN.?hD 0 DIXdI?SttO
cA;?3H(P,6>M)MURP7u T:)du}9}1xI85XF~-{{Q{}$Pm}pxz^ypr+hPhRQ!EBhuIeR<#s4MB\AICTdQpTBC3Ju)RLp5K-F{*`{zL3hh#b1m&keL'0r@`ku'h}c)C /3wCP@#
t.	%dR(Jc%?_th#|sV10 hCw{
=7bOj[Pa{n^@j]-*'Z43!;`tK!Qhxc30/F;MWsOx.u=/J9GO5@r`)SRINuM80^\ CpHEu)NSkIJi'@^Y_E'uB  ~u
hFEM3tuJ$[/']Kt/	W q~:Ms$`!~}9/x03Q&A 3?}D81pI%gX1)/+@?!/hA\%Yl\0}U79t1%4_i#+>:/ yA"LOB[	/`v.]@G.h(|H`wp8   -'t3gWu>C UG{uxMt%0u${nM=QIy$F*s9@8QDSg8.R <wdLhl&v+hz+ H189MIN$\v`_"}W30B(VmtPPp Vk+E^\XKnx'qQa4/ZL(HYHol
2*'4jc,$	-U.JPS!'$%hQ<*sh+tXq54";6Q'URum<3bc<:ob!kMQ$Rv $S9rK4 bhQ(P (jaE!~U1yp9Xr	t`h0Jd=U?RMTpT,wK~wE6&IuIRK!u}MC{t;z99u)9Hr:Mu$qGPMF;01n`P5( >Cu8|_#\:RQ0Q.S aLC Pd]PX8R7r%d~udlc3F=u\%Qo@6~0y\Q(A]= Xu)>w/KD	0`xEiz4l{>|3g	+u_,5UsVDRU=-<Qd6qncJ`,9Br/@1}RP	P)#.1u<UH>/-_F:_PVKk <[+R7CYD}5CVihb908EA,oMQx`izHtu|OsRe#BhIB[a&/	aE-OVtSOHp/qzuH%jwkk0a_l?uW9r@el <-  iGNwm`|h!4
	\yE
va[|f+T7S\>z&]0'f #dK#5
x!(n$u\XK95kt0@f Zh ^o dT#
Mu	7HUWt ^p8(FCx@GW,\ \Qw-G<goJS%{}ef pK<6'180	[P6GLH4
77$L3V+1A!v$dm	)hnXdT#~P2d!5^hd -o;tO3q1`19RU4)"k38<PFrC}&nuS@*;1WJL;ctecw+DRP<j4da?_]7)#P (/KNSxQ+,RBc;,0UgTFs!I"(fR:U{(h~~TMD$'\vU6uy h tA0#4O\v_~@3<~t TJ@nATGtM[h 0UhX U^.L  5?`tJ*,8rOE  .!$aD	ZZn W=)Q*${!R<MEpb!X{~ xO>[urQee4x$
EiIawhM)W33F_@M&pU2x A ^t9&@&6|9N`H4hu]2
|@%<CvD.]%{@~|!"m1|p$QpG	V@q,h!rQkvR|=G9}S4!
tPy;T0CG SW`LF-@G%u$	Cy^]L&G!'3H4b#bRX~!Nm(w*uE,DI-LWAS 3t3;~/oOt[#FH3_ DC8]urt#CK`qONLu71 Pa8$=M}6&S+
!0~sG;#%]h$ R)uv{^,4Y|U H)hk
?[<+R,D
8u;_;WK9O!!6V4#i60@~OrL"ARS`  "p)Tn0`"<IO0a@XRxF%+WU"8f_6jMT3O	';+Yd1"(HsR`8mm	u;y&!COm*p"+B SUq#2ri3t	tf;WS}t6"Vu
s})VR
taa-e[i1g3Z!_ ]705(LiNN|V*>NHP8 q:\<lx3pw'g_w_C&9
GWeXs^ q(`	Q3 f5 th(\AagW@
7GPxtp[*[: 'm._R@Pyh6GkQYS%uY'1`6 NM`Qq "s3k&V0yad-axq!Rc,y#U aXTy	fw&Xo_dh3k
T_?t+9$o
a[q:((,J%(2-SizTsR|*S:4Rv,Y	s!m[ {h1qP
u^U?0<8QUkhW
PTh,h $##8Kp -t"j/ .JK@53Z OuG!VU3KaTI
Q VDdZ|"tDa),b),\$aOXVB	sA
m<s	=7S5r _	3wWv]C4Fdk`gidcG)gaO_a@qUka1du*coi5(f0Hm>P@`uX$m1|RH!;:	 O(JB%uUcQUDCg-@TtJ<dt/<Ztt<1h;%7hn(#Z, h#<y%v>9$P/<+Hv	RP
	SlNzRt`4Y	t@04M< 8x.u
0(l5L(/=?8 PO	<#@4`uuk>Vq^tC||&X9dv ANQ3w[zR'`A	&#DH(o| #RhT$^I;LuB$aE3%>YA;{0V00 ;H
#E}`V]z(jY4UXxALHw?m]u<:d NJ2;ttM/7:u45BHt#hgEsX
B#`58:}p`]WT]E-;}N3( TuChp\^$K' 7E,4pT$|%Tf+$
x<tsVWjK#uE|7*%%T @3.[DIS{ClX(i@u\atNhYm?7BIt=*u)ehP8^M}mT=8l}3Ql?-D'Kl#j(u@7C2uukh BOKr$l$0D\tZk &XCyx,`Q|n)T$j&* 8iNxau;P@~ ^=2jm`-pR$ Tj3XQ`&2CTKDI!@SAT!hcL|	Wjl5FF XI<P#d u'Rod\sSj$!;
GI00*2>r?(N'Q&(r7$&e &2qQhHEyS$9UGIamUV,?'Fd7=C;G?W}pCu3Pk	 v7loRP
q{>HSUj0]`0()Lp5&LKY\%%$8;u]=<u6}mbTX `~%*oX*pI*t|ptWVk;9\dvPMmX,lr!KjWn$SNS[UIubR-AyL|t?+w"O5O 	=@0& 1xiOxY^TcUgF'#hSW3 9VWe[hV\ ;+0`(B!WHYhVaUh'y38;t0HS\(' ?yL U|Ttwm;A@APhfld%B'v @k0`dwv@['G:_C_;*!@Yt'U5Ph]V#h(
/s4*4Y:eA^Kwt o0[TAu*0QXQLD0to~<:t
sr61FVI.<Q%^2(SW#9$'Iau 8R,|l$8DLKHL	P;p,`Vy6l ')-G>'' GEC&]B*,d$mVh&Kh ]'9#Tz$wH 'mp},[@ zR	 Ryt53X|Ghz;8Yx&|VH"XqB@?M9`o<cn|(S$ SK	sV~j0|	9
A]xiLYD6Rh'XLZif?5Z?HB!
G<*:H#(dX4	t#'hAtCNOW31SVtW`Ebz{^Br4)u0zv1'E (yC(D]hI<64?tKCG)C~QxmG(hA`(x-Yi/HthBh|hl_\C%	,ZD4DC .&yVj/[:KK&HKWEb.>A<(@bDy?xU4G(CT n; 6CB
w[+\|G  ][VuQ8
&.!?D73U*f Bs`DRatT=%k@+a^NE@b	Ch%)n8vQ?G?w!V %>~p?Y F&os-Vy:2=	aNP
KVaU
UHn%I9N'G~ !T$[>x
ANh)0HFT$W,%V/x\JHsRYT@\,>QMU333J6)~>VyjyIUR}|O{up&Hc`K,;cQ%qQDi>.9N~x;~pM+;	~4()FWI(Ku)4+rmm,~&]hb08K1P`s?^]-P7_)H>uCRh%*8OG
_'0@uFd`1}' F
`*--,Lhq"R*RWP
8N}`u0CZ5^lZ>)CW%~#n ~9ubuV|b.tQ0\f`[Z4eOo.;}}FnX%uEp;'m|Ut,+{Umtm@r-D?`Yyd7O._:ouB$<-wXtjE
l\=t'-{S5aP0xD<4`4L'MpK8t<=y.k49Dz=+_Pkj45+uG3#46 w@OpGEFU/n@jpJ,%+J:3{_>J; qJ 0G?9Kj_@M[Q; ICB;GbEyqAlI"P$G}RX%*o rKz	C6;f0BB 5;~}?@!Sc$	R+*A hj0):_9[H?Ip,NtU2gP:t|qLc?,[}
VuSd4xD_pE^]toP(U]l%t:sB1Gj4{E<?+9W;> y_SY uY;ouLI9 FrR,^?_$^?]/g+	'4BE5&#I
	e/qZI*G QURA-@F&\Fp-yCUAIsd`)dB-k5A|-C?AF;/OG=d-L4 Q8&~Kh{_^o*icXUj&A/W:O:]:u6P-	nt*X6)(mAf=N>P~R=kAb?I_C?98#XfG.52)q IZ71)tP)_P!&
#XVwF+sM"4_<p+mQCJU@EbQf . _OoP3-4`3T;C3jXjg"w:tjM?I
6
`Bg=Iu`egg<~hKN:K; oWGs90a}@,rTo@S
U,7PWnP,w_ <+F5! +	U#>?|H^sG}t5q/L48+'
;rK"{"Vbx	V;V|1lA< <8_Q xV0y6VP16S;:~|SU
WJD)q>X>W0x)_;8G<N<6u
%'pb8[;*s<%H^W@] )&VRo/
4r\HDoBJ0x+
ka;9J(+^[=!:k,tH%6=)8E%`i3eUv	3,R/3ijK23{~I|S;]VjvgM"p*FT7W!`Xb9UAASu%]<7'9Q~SMWR_[Iqh|h	3?p7WAXC6W#lNU *wKxu;hs`?s)tQ1A}h0
37NAE=||*m=}!uOSgABW]3[u ut9;uAq?
=;!7Cz^ [tv&]>a#<ts]*muSmupS&dilq;Lo.y9cpu^ouX:suSCsSt>FL7J`1s/+u"uuM;Ctu"~Q:BM]{eMab05v\Ia8uRlVV7t;;s7@:&S,}B+rc;v?{A	K-w[=WDM;L\{}
|;tMV$zKm:)u pSw>o$}&
u\zZC-aPP,V'dF(	F@1<rQHG6x;r}+O6;~yI,,?zU+F;};ESS3Rhl7_4}%~LrvtIwnU R%ag^!cVcW+,_@}ltAnEE}EZ	m*Dp1 t`]_a*K'}/c%8+4BX An1*]<@o!fM
i{5w|HVhGFe 
,= >O]%-u
 A t~tyztt$ f67w-'t	"rt3w: u2IzAm[PF$@6rA4a<	wiN#6Y6bY62dtf4 +
 yy$Db);Ss]-:t>uC8Xu>}gH5t?_s.LuzB@tm
v [rp.@1~iuQnWO?D$0gW484($|q`&gAk D|B#.4TB|<P\1+Rj<UiflRlLE;9a!uF5X[u#FYsuREgW2Vol?K/ua$ EVg}?<}<>;&<tU;-(p tY8_:
owSAf\f'+o  S]QC&,NlA43HV(4#+3EEU@sy> N~1	 9#4,ps~;y <	=/2g[h"tO<'tKXE3fV&uq/-U;4a<mG3nw~6:<t+`d~hn0au89{S$4
%B)Scp;`d8XPX~9wRB;I)}|7=tgjm

v_DA:DRa'D @Im)@Btt$L
X6H%4 >~D]j@X@dB&LH:DRQG8+Bu|9AH@J>qlt4(ls<&7$)}/*N
Z[>H?7 \)_[tHUL,;( ).c4R\dpSlUnt~"{oxx8'Iu`uV>TLq%xpEQQ(xNzxj,e&($[Lv}r5XB*PnmFsI-CT^n3Wm"MAX00!DQ9Pmmd"h=)_j
s,~h-OVrI?H}4r\$y+rHhA%~!3_"qUKFD!*Y{vTQ+,096L
zP>9~ )Tpq!UPh.}S; N+Qh`.!Q_%*G\^FVRh@vkX@mUAd,&y S,T+)S	]-R&I~*lRh-Oj  Oz|+>G:8=W;R
+,HH$<W+MAFq(S990N7 !=)	 OzC ..9s|MZ" U?^'l}b<@/9WuME*"T9^(:lfLO1 08|^@Oa@p[2 kB^WOh4+ &\HYSV!68	xrFD_L7_QK,.YvP^	_4-L`A` au,hl[Y=PUWh/@#NuN^ \.P"a)-<hQcOq3gu._Oyh2vq=2px.^CU0,i[WxGB-{!lOhP0Tq22Av
e=^4\q:1$<u[0|	e/p* uJU/<:!RUZNNLx*`l=Vd_U@&:kP__rhi`Xk[tR 
j,@ed +8.k2Zu_LH ap
KNH/}Vb7S
P-  ^@UQBGX(/2I$ [%S!QB:|)gR\Bj!.QR/~h`A!%w$(/4Og4<$p4@	_>S WV_J>!\fGV!>F_U/9j
D8'e`tk)s4oFmKBs>C+HMw&GB P.,DA%VYSVVC2p\RV|#+(k8im(@/
r2$~@8<~u$jB>W+M0Wb1AyWj:U@ N+}"IWgPFe+ri]#EhhB6C+Wev6(F{/F[/21P9>juhl > $SQ
p&x$ %NaRb\uTPZQqU:(MHa'KX h|p@EGk;/@HSD{,	8! +tDq0E4 $5}4	/#X;("!D|<%=L>RRdNOwr+w}i;|h  K/pq/X]E[BK<p6C4a0\Dgep-j]lC)NV'qsh! ?F+W,3RPK4#TVBsuH=5|'S+8\3W<<;Bo;uqCx,V"EbvoARt:5*j,x70R	9X2f;SXQfDeVF$j?4+;V)n1q #eUUiQ #-{Pon-V"A#CaHE%g	^$tS((	!4 )LnXGGcMKRTKqg7u;u+"O yP0gRUTEh0\N$@A(0D04%VI+t8u]8D^g O'^lb:L
 H2>B2h0q $'09A^ Gd( Vh1NL/Q^	M
Z
0VG;m3UW7~0/2Wu5(0{$Y1(UV75n+ HLG\+MP|8^QT"Mw.=+MLtFm9/d`an -(67k

AC1[u/_B(ME]T/aM$D
mC@5' ] +&2}{z-}|dv^YA&$0d~h0,6}Wh1k9?>0 r {jC@16fKm&$qi!8kKd9900[F~~g+ X.I5+~(Ogkv~_= _Vt0>Ff;}>F@|]FcYLCOgAIJ@+2jK0Q;u,<;2{=)9>T|n	rhI2>nx2|o e|5
MGp4W%ylOi04\R	\15pn.`04&[(?B!BA#03A
8AMHUb" ?2 (BaA|xw;Ut-gNq:tz0O$bB+dXP62eX;2k	j<e(!)cxi3*|5==:?ahxZxl=Ts}( WWd2O.zv(tqTX$PgH`LM %2I(8CM$;s6yg $F;r_!
$U 1w03t#18!!5o |(o'6;P_hk41FB,f*f;?fi;|t+Vv
Ph(>W	&"t.9^5BPrD-]-#/Z HY0@mm!uVg0~$h1D;1;CWS6a5$@C~Nex'5|#c{wF|-;vCm`njWPU,aF	=5N$Au0mKfjcyy(1(C1WRS)y0$4Lo1|%R^ BWh3Y$-:RE4I"_.{% K0
p7(Q6E3-0dnSm
_d1 [>z82uDlP`!V`}/h1m"@PA@kXZ`|Q72 7u!d19_PAu. @@++(&qHQ|`V8gdfuh{yk|/1@i'[!qA*C~/CU@quz^]o8T\1;3DnuQL5? UZ1m&T\/t'Oo58tA_uV0{V$c(H&?oE `FF=MhAt2 
zor!\@


9 <"0W
	;]%Oz@;|+ wFx0\N  nt{%6 +f $B	?XU#nag[*-TuEF/8L+i mq_JL:X:8tQG
Q
~D\@(/!pm@PQhbN\\rB$2vi  9bDa~jK glGfx3518HD	H*T!,X(}
 QdQjGmBU(Ibs8E ]vHOH0 (pnf#-D8APU2$/1K.1L/tJE*a<(
 Vs f%=++zEUhPUVDWSC7nF1#hN#kU;&~T'}+HP7QR:`DLXB@M?={,Li']85-6Z5,z_oj
Rot@5@jh$AS|E!/^^t?c02!|-OsQ:bDz8H;FVsA570 2Y C/1) :yT!V;4h!( }1Vw#t c&4L '~GEX! }z%OJZ9`r_SnmN\J/|t"B]W%D29!	VcXE47p%9Wsj~:@%8*jMy?8#UV'B8Bt0kmEePS74[M]5Y<K~U+:Qp>RnOdVWoC}WPuvjF`EWS?L?i2T Qk4 Zux32tx[	fC&J@QxWMr!tJ 7,H
*KS3(HtHuuGu5hYO !$h J?h2{/rZS7LWNKOe({' &YM	j<SU, 00^E^~(RU,_F;u-( K,3HL*xtMR9Eu\l9(p(W	9Nz<A-,RWF~=;C3 C5y77Q|N/^xdmum(=!N-9t
l*a @<Z82;it"qo {0T]Iiqhi38(RM4 ?;5dKa9L^2
BVsYZS!(^s	mRP~quI,BPpVQ``$PSw&l|LBWh2[{i_1{K04 d(T>{,YC`S,@d9[82-hjh]1C"m}XvttPn8G; n nd"]V @EBA"@WtS_![(81U(h]&wh JSSJ<[;|2&B6VG@Gc Q	94lvXxstbf$C
	},:STStePU]VP83rVSV".uq9|P(A|I0ljMcsRN"1\%L=LF3pnXza3#.wf0DW~_C~GJ_-SUh&)IW!/1kux3"wfpwu7cV?7+)u@c:N.E
^}OX!;Oa(Y2	V-OWBiHQR~BiQ3.^ug5JJGIUthW#!1p4,{u.\$is!MDx %Cm|HZ 7$e4q89zG4,xQtfV.R;t$u\ LT1u'&NG h4'WD@wZG1$$4q#Uh-0pAuXI4FPHbj#=sViN$QM:,?V$Rt#>NdUq>D
;
kX W}Su3qqj2,%LU&f.c#{Soqs+)dW1rl]WO0@tB4T<@jR[@`\Y9RHY>_.81]b	yW5o5i+&NVeD@&?kf(V;. <WX#^bt
Tj<(tXy^4t@8KZP>,Gbq u&8knL,3^t ]4Jqj(;{IGEa%1R(PI.'X{ZL	83@,790FDD <?%}H;)dty>LMkmULduP	8Uh6g@0Dhl7+I!~'HX#@5T4P9j,3OH
aL$DXhqbKKn'Iu#	}7XozE;t(2	ec6$LK
3Stb.])J%@?ZW"^=xNkN%tH-^SuG@-U4PpD5x/$t8?0P!\MN(0)k#% CQ*jK_uhS6QY 8aL zlEL3HTgmG_9R(Qd&7u\UF8PPAM!VHyl!]|6\EA(GX 5Pp}Z Pu8@ Aw)Z)X%U844DQCv)[RNs4^}Ru&+[ilP|9Z>5?"|	|v_[3n\VK71]4U*u2^aK%	,uz 7wK9vIc  ?s#@Lc4upF%~+v;0!D:*(T:WMY_^S4fH!_"CIu@XCM[< R<23}~<3Ul]Ar,%hkpBj#[N]9+h d^77qa@nd=K8MGK $W<jL-#\0z)occLV.iA:'Ec  6ow
F+r-<pJk4#gB'tG6?#	G;r7vO)O%w6r+r|lsP:" >mjNsLh!p;Tf>r_L:C:sec_sPA+p0 ES== .u.B%RN*L#$!0;umHph]x-#/F'*
-(R<$A;H&/W]+^g0u1\\<bpsRP3
Cxi7>:pgXG9C~LSX3l9_M|u#374@x'yjqC!Fiz'G|[E`_cbIk4q0u5i V |H4%u[yKO';<?7-K7c}e|&	]EMM=-&HCu_GEr9Z;!C$M};
FJ9SPW~h>[m7/|LFHp|Uxf(.tWK;)7T7 Wy	hhWO`,Tvs+RAQo-//:RhC	(PA(M/sRV)-	x1,i`mi@P;i[V$MHFd9"
ku:M-y8Ph7;FI\M(I[uS\P8^--':7SK-JdtJGtV}4I}r\<
/tTX] B"P0~
?3t"!~G tpI7Lw[@m+SV?6tH0HBB|-%!;-AFjUFA7).Ux ;:TRIxd(|:Bk3QxPtCl<)AfC~SpmD8&Us+O ]<}c_VU^F!U})	L ?dF@@T$@	FlF"oO vRo*=)tX$+t+XP#.N#xmu 4j+/_?K5tM~Ia<-+u5t >KF?0a:<X0p|qF"!;8B97+Pj:So@4@GWGkM<	 eVS=YYvIC)[tZ5t`W[:/!;M>HuuwN9+=JOgQJfA@OCi
 ;=H72R3hD;_A D8/2l_wK81bFJ*?2$t7QP
|r_P;%/WXL)Wj)2BAXeFV!-dhMM`i)9AiBt,`P^3DzQ#s.$uJr'@bIOxCY@ &asZ)Z2_;%U[/%[?>(	@([A<ETv+9|_7. [Qz  -KSkt2SGh@xM8XZ1@
B	xma[Ym" 1%"(,q h%0J"HN1_3(+	HutV6<zoa%%-<[B
7+R0!;q b(w<V;N?x0W%KOS;}+tCI;;|8~; 1C_^&wA/F]2FKb|A_ }$_j>@BUUt_[tK+)}i.[]A stWLf<D5'
-asS9HWr>] +!7\9KV}3?C!o"IY__{Q[3^TSs[.sE	Ea%6bhhC~@@6pr3+PMhlW" M_oX[-jJE/U	?Ms$;t #st
j/<	[[z_}u@{i_$S[p)MJPe<6v+])eBFckk_L-onKe%;2B8t7!~=$+ )adFfO>)M$N
WxRj#@WM{E@?I:nk@}&)b	@)<1w;,_ 	]zmx^?Fz/8;[Y:t:f)&vp{[I
8Yzw>y=U?s78Ar($
Xin
3&
+bQ;	dBOSY6S@+h0UG'n8Qd M_EzE  +VD<?u+#qC<#u5j#Tu/0q/9{+2/uJ*VG}Lx/o+tH{ T	%DT@]PwiLD4(Ru"/P& Z^i+B8! d).TR =t=v
	wR!<AKr9:uEBGW<gt"Dyp&KH@}]$m 3j*,|CL@O|Ph<<}(UZuh9?,		h"m+0BWjQ-$!*W*w):<j:F: ZaaJ)+]a'>%|7q|`q}L:T
8wjX T!,y?Ts,_]Q]6H_?UF(:E _WJ@UfmE[E]go]]`\W9CtlzEU\#|

9XV,+ER&]_k;C(D Bu:,$#P  "O$?@T:PWp8gRk>:B+nO/I<48h0hJR8@W:}>[L<oD~*uj]F`@h@< 5	i'QncV5K,.;uWh8]ZJR
/t03s(
B?F| ly_n3B;r"3Fh4[?3Y~Y$;u'0@H<W?u<,Y2$aGP  d"uD,
5Nk"DPc\dHLQT%H	x8x2@HwtMTUX03@pI?dj0u0,SQ8l<.(h`X^F\nE,A~-F ^$y}"<`j%A )	Vo(Jdd11b@D:+UBu;U7&Y9|-#TQ5`CYVZA\,='@X`FC|{ _Zj/}aI$Qu@+uGQmUCKGL+Q9(/iB> %@B]+;s cp;OW <,SSj48"W? Ns'dK2[_$$jj%px(l5JC gbEdcHR{B$M?:Y:^wss eEO4*z(l[2 f>_UVnARV'%WnM=9AP(tQ>DO(-W<(Kba+h<'_UGQe1(c'KA.b#y )A/a@9gu< "G.S|t!vo$ UPxVK7Y<(]^
HM7	Wq J4(QRYF?(Hg uhyX64=^r(=F(::tzR5!@3UZJ=B=gJtLAjcdH]"H:d!6xMDSRG)|$uaVh\=@71N}xz\cqY%R"Sfxdu]TJ_%LC1-L|, O"P~?p2Q\$#yA;,7}!/ <D) 7AEl`tWCtP@p_L36 h@EJ#1'4{~krCOeHk~<, +{g$fDj,?! M~Pu}PD%{OOZ$*f2eA `QG|G}t#g"k=b;@,Y,[/xtAlBt<^t7u* !7{GRS%,'|eFKy -Zu`]?:um`G!>}})M;k
"Cv)w	v u
';p7P!ORUHh-M`$\%d;)b$  ^=C_#Gv]>%!OgC]}+WCXFZ;q? cgfzdsiD&ptK+_@ d}gRHYwGU-a6*(6QC/-yVQgUt*Ah]Y-q%[Vi"F#ekcj`]L7)<.rx])1~&_&|&DCxF)UC)!=^{u(mRU4 vr  n~rBAgE5`B 2;~	7kjv!V^Q3!< 8l-[[_4E]~`<5C}j.Ag@_!]Sa"a|8p})"BAR(sQ$JhP%`uv#Wx)k<V]&^8!s	aT:^)8 DE E.re$/JIbU?7jA?`P<V0|p
G^;t|:cuG!X^;Du8e$$x)o2	_;2SX	HYpa+*uM}PQW+/+Bu3U#Dc)/XT!%0E M)})"lB*1yuiX z5MI.-10:Mp~+Tuk&42\L9c*U7;EuHM5M3u.,@n)](RSIG7v(2C(jLU10PX"4TIA(j,k^<[Vtt<GoY]
J:Y#~JM/{AF-GX+u0JK|;&9>VZhkKN91Uk5LC
0='>hp$1E_&Hu%{Sb}%kM1wM7x$aq1tPt	8m.8}vwC@WTIDw1}D;@ @{B.?_p]gH0 @a_^:P3Y.^ U	$$9BRc47rrXS]+s]B}<HiW V$P}	9(>	<)"W+iTt"LT_S<F8!?b:hH].=v|r8<	ow;^Tl3;[4t_0B&Y.$(!$H&,[7.d@<_@.d dpfETZ<(;vV$OrJdv]FZFbWU6+QRp* #$H+Y%,[s ;Q{+K	DMu%Z:@FRwxS]!;SC@6SD	
rL]S4R#X^2XmKH#+uKJVDtPQj#MHTWa/(M#1J8@\"IW n+r64 ^k%Wj.p(kL4 
hX AWb0*Evfdd!6
R- i$LG$ q0uxMM*#9PS0r?W/h&9;A!)Wph|zS0EVA[! sAhKF,tY+&V{raoUQ@N71p>
@?x;iHh	}W/Z/!'o_ 3!Rk]t;6bVQtzSMjL?RSoV[/OLJ,P
=8qhH_5.@/531y!rySVOB !#)mXxC]API#t3o>4;vtX ![D
^~~A;~=)LXe$W^n%'v
Lh8E@5$*<z8<s|5|+4Y"d+N}_q0d##P#d3OL 8 @D(t 
hD%u	Y \AmoLE]\<7mVrDdEG*F	W?o'0SXEob[0c
9*G[	cqFeAb$TeD=0@ItME>;v^MSK+wjR6+#s#Mai_tGQEsf_tJ?=-*s?2_+L.A<*]xl"P8 cB_Y_i	-F)lP3fA!Y
Fpr/E&E']/ ]WE= !Q{16?] H?5S-[-$bu7}RJ)6Dj*jG	J	^X
"_iBh Vm)yhlSVaaS=o{D9u3 n!t25yu!14eKsw"1-ID#4[u#dsf:u8%no0CqIF-sJ1<|L	<oNX	N0<@fV1IsH<F'CxYe<VVy#<nqoro0/	f[4!FC0$Oa?<|P_(vj@%'f9(M0K,>~</Oq\u{a^TQ=.?C_7xTy	%A	|IJ[Px(	*Bj0K
j~ir\/EE%"_ONgn\A 5{GH=/vYrVtd^lH}c;`U=2l6Wtfu ](0Jx	|
Mou_`]!gP_h\]k'375"z y4V&Eo0sQ$.}Y8`t-MfYg`d|#CPQhDs"U4k_
!Gp(iupbf-$<1][S+!	4T#+.$;0G99'u+(#H3iI
E	uD5LU3",H
2_$yO:AhZEa"1#8G$$(! 8;s4@?]![?8 -+]6<tj;1@`PCH/&LQ;|>`rRy/}4~xy0@;e kTS|PU3s\0g^HA]D28=t<Jw[DE*+=
U)0y,T !<,)bA1 8y~tS(B#@,qHb{;CiR l% 4LEAMb.( bDl=1mu4)$/yL8=UV#z
#&
Lu'-*@W)];||2 adOCR0	3(!M&BeY AIp(~,UhF#!R+cHnkpYz5U@br"POVE;zGuUWIXmhK(v`vp$G#dh{efg\}u[qh>t+ 0S5!s?'|	G%hG&| 	7 :LwF`pWma5N&4P~k;@sWJJ'r Qr2w:Dk PA<J@)0A}epB?'(#>/X@wWs;txrq=2*+$]{ p R-4M;} 9k~(I\wF01&VXEXb_98(nQ6w,B;iPE`-H3TZW,?/wO5TWX?3v1lB]BON *xu"c%xRtDu%MH]iMxPl4M+7i^S+t
D, S 3?*Y_?Q,|aF|WwC6
J5}4t: 0F"L043[Aj+TP`(WX3 `
d 0_.yj	/S /O")w)	R,+5Z1_?U+) X>5  3o$j,HPWRPv%b$m6CE c?!yEE@pB
E9muU;U!m`(> hTk7~;|*C
U>.Z/`,t-cfacsw%CEXlG|	}ztQxg"qsOAAG(
SyVJ'g\(XP _:n8]F
@k'$=0up)Fx
DDDWQgVrTH>9mYHa QRoAQw Ed$X?V|Kfz.:Q@-	AH/_PL0X8&8?P M?5G0]@5b0dlL
d%m!l'[CkEdX	d^:ffq&0\KyRi7>/t	D>F<>3MQWJ5_h>@/F2`?C%Nt+1oV+0A)L(W+6 5u/+n RxHQ|i:u	F^
;`L1v'P@HBauAZuA![;'kW|g):8u_IH#}\>oLq_#i}748BfCjxH% ^J`R@]Hu.
CmL<t*t<?t<[tth _"M8!}ChHW*h#FfQF~R&UN23 >,Dft|7
\8UsSa[8;b|rn] uhl`w04[eW4_ Q#-UA'h,&|z~j -}q(,Xe&pW@#',+
;_6+g Oq5R_WY7b0|/Q|s)uEL0[mQ!<;~h_+eKn f]H's8qU8^_VB5^\_k]Q;[z		hH3=3BGm>U 8|a!S
WAp}WFi[L)GW3TR*4@	*0t[f?\8#' XY890ZFX7^1jZV
'p'.hR02nemRjLtb5"lte'OT," uWH}E$onIt7##( W',UU-0x$o(8J,&)M;v'g-f
<S@G&?+Hak%e`. 	?{MHwu4	ET-K1j$<g	h(mAGi
$h 5c]\Ev 8rD 6WAzalYXy]dQEp5YRs0Osx
_$RPF'%u hS_A=<@f-s(GH?-F #}z
s0;
a0f8ds&eMVFX[c79<jis:ndwS yQX$Fv'Q<dAh#L%h'f@BE'!AE<\M:)T`DW `pWr@ `0Y;V(dTXmA | vHV0lhJ*pFSy<=16	h.01CTSy>HC	1OIrNT 6`bIe
w\!0IXS<BwZK@`>z=	!5w}E!Sg~eW1Z 1aS#, oqhhB @:1SdxEc]Dh2b5GXAiLSGrdCV,xF]i"-{H7EMSXThzHd1Z*k%QD}O
SnML X4@Q	(VKC@@(BMwj '8l
an/y"E&H}3lQ2%Y0IHC^[n~U"B<RqF`x'^! .&ASg=]1("?/?AJu^[;-WA=_+_>XO==A[9b"_]KTI
:B<'nxgcf<E }=u_Mt= M~d@tw6dDH>5ErDd
_E/y%Z
'P9A\_Nrbm#
d-"Z{;RbsOS@^,uMQFS-Q	XnQ%B%0.8#p	 rPAA(8MS P	_RPPX?W0Z	$a6,,W rNE*  8A0% u`5+^tkY#=951L]l>0+?"8qn,%Q"WMyP( MU!WdC?G }xt&=@+_5*c%
&?3X+\YJ^0,($4 &N5eFktE./+E8C(Ur:oRKQx<00pSQ(<	`u7|<8o>DPt#4P#c/!_Cm*3V_@UVX>$ OVq\xK rpno-d
^vk)Y` SVFNYz`zJ!udm{"_K<BMD {>]C{ =Q+SckJ7 ${(jj*m<lPdCEtOjpJ@0nUD@lN  $>+:;fYkEHAOHhgu[vhp!SA8mA8kG<uwh RB_((h 1R50
}rF^|lshlz0dBk@	DSd)m>[\PS~7{@#hUS+`w,b DhSXpUQ`  :b?M]\?)ck nFC1+A4[4y<(l+No5'$#	Pf+Pn<GH(VGR7	pxSBLTj2>;:B(mg=a"Q .U;x>Cb(@:J'o$E+P8DNX-tBh?A NFe}_$P1fQdytYI\-v+[9aA`\MQRBXdw @5pQ&eAS {[5>k",x*V",Yn1Ni`Z513jDWmtamYE 3#/ %h!o+DBuPQ,cS[FS0-
A&Y2,'e}`E~BcCQ@i?+
EFAu|%5a(8u`mUpJAN@1PA~pkp,X	tTlxN	TQD}Ca"C,E%=!M^tu7p9x`@AY{ o $gH1U5(D;Pdc~`S$m(z,Z1gAjJ>30:ma9}LGm	^;o2>zs SwgrtpXjKQ|Q0l( Et-
,hv^z:l5"Q|
,#!"<6DS(MpB$4vu
>elCA 4M\4MzkMFA\r&X60/:*0 QNI2[9t+SY6,q[5\n=h lv}n#AQ+Ak'qiQDA_SQ
@_Al	=@R":3C'Ku\Vw&/$i	475MBAy
9=xeX9=^tVE3D@`7VRZA?hn,m,hnkl{s%x($jt"x%A"}$n':%-nFDBJry _nnRKQj 0cd2 bJqA%3"C#RA=V_S0 dn	'0V&5,Ta :zh 
>puGUhYo+Z1&P}u?U6)]V05S Z[#F(5ANSp3PS;73XAT;H=R
UShnh40X)P\X4`GV's4,
&jF;cpTDL<AQHT9yaj_DW@g0^2z( =ZyM'<o(\<,8{zhNlQo4Ftd7 QO<MQ-J3@oX{01G/kWIUtfP_+,`p.&Z,)}xojju5hd;=4HtiEnIhc'`RM#4TSsgw;#VPv=<`ghYJnjbA427\:y&:P"wtD($R@o[d;d2)m.%W'spP_1U@U4t&s/i\Q6]z R(g*l5c\n!P{f c{-s%]QV[1ALNT`C62A<d]>l5J ]tV)`+h\pxS 2P0j{IH<OPppZ[Zp TO(A?Dwp5u2x`P4a !c -Ws`"lc*K^nqIWyB$< X% [Sq?)b}/[HW_Phn 3VTtdzF8*V_))q	:*V`H%o"
9@? y =F'/W($D$PaJ1gPhudVH4XDsddd8$tp\<(stTD,	>r=u\F& @qxT@(##q####|####hX8~#p2[0h*9@gd6li^=4M4M%+174M4=CIOU4M[agmM~] `I
iiii !4M[a5V;AG@%_S;@{a02	E6RRhu h5p_!9E`QA~##Eg0vT2)
$ZTeSUe`Q9.qYqyGm?Abd9`C1!3#3{*xj5%-3%0#35g.V3:pp]#T/0/p $j$b@UP#+j(
[XT5V,P3#3~
|[	L`E#3
*GTl3#;F0@0|8R3#7F
R?k$<N3?#3;i4R@@|DDNDr3`["H)P4d _\F
ILL3"kE3gPPZ;q**SZW|')Cy,To;
M4l#6!INXHM,Nb%!`Mp7_ #33@@HCu	f#2oQZ^&ga#3@W9bE\X]/V<OHr@XSD	I<3@X0ZI/@2Hf,@!@f*XI(78"	I<`PZE!$SI<E@	zAy,I@ogUGd5f4LAL*Q	Dy0o5B9q7@[<~3HqHPzn&rU/"am Ewlo)8+s,n ,aDl!)cK~=`K	y3DpFoP~(|
'_-0423o@ O9CLF{||P~eVE<{Ff7EA8D")YT}*CJ6x#Wu9X6Kp"Y[e`!_H@e9x*H
M }S0hLI<]GHzaPO~o`PMUIP,H

DQI<|C@`I@NuFI@S~SEE15:k4$MWW9Ps3D*\DW7",0`wFxxa
'-Bnd<">vhxp^(HZMmL_UqO
N<C8x8iMj8z,,`|o*$/K{Ld3SZ7T SBW6S8yPgS_`K)H]AA> &+;w),"&24@v2{Wwt0`-}|m+]$MvVJ|{mx?#{z*_iU K$W %u8 C "I+-Suk!J|o  i ~k-PSm(`+5`}^zc1:L/QV[:0&GJ/-(3H/='z\Ebt-V#{J)V#'HPI:@AQ@
Jx[F4uAouPW|
M_WV^<@
u}48FZ)#CA]  }3uzPx
;f$"THL<?X[&
Ti&X1-C
t~ZVQhu,@B'vQ}%+A0t	y(L=,[jGnR_~E.O|Y_q1l*`W 80t.Tfskp$o|3C=%4WF^;uirith
ez?tQ	6g_&_FA`wXwX);HUu#0@"05j0NrYMW"t!;IuuEt0NVz71Oy8pqGi-'5t/EtIc919#}-xE8Du2,\rljHjfl8?#j%Q4V!Fv@%,
 0v. R<%`yYZ]i]go hC4? wkS,n{fTMi_=Su oe}O+L~x%;$HtNR>Vt$C	%Z3QVdS*N   Ld 
a)k qA%W*&Pt-Cpw?Lb75Cx*p[>5S~%O<h6gIxWQUW6H  _Pt:t`s&H3W`<'N*H.A],2'a(tTX=|DIbG(v?v<o7,^fh<N80-@ >v}0!H	?, &\(6Bd(,	\vOu`^,Hu%FkEweJ 9xhl
8N`&p$_X /S*\Wqx
|8{1N)Nho}hpHqhGg"$^v.}l?t]Q2f\Z|ts(Xb\{"mAd!V P&O4 '.oc4~n Sb@#P q5@9\0"mmp@dl@H4q#?mZ?Vd
|7	8(I-'v:@ Bw
kJ$wwo$?Lpl7^%~K~4u|EVhB@t (eyq+w;Q0O\?SOTt/hF1;<04]e	E&E%]m7{FuF~F7t0+q>;u
h@t"~
_ui RIbCbd?@x@
rvt )%'Px4p|/%~!oUhpxaUpq6	 `[*+@tI.liT!VxhDxz,+I,t"WbH$M&$}q!jWxio[+6VRISK,$w!S <gQ0wWB
L%g`ALGA"8
3P, Wd| xuJH`2@w341'Mq Hry@}0%=px0r|0f|/Wn
-uGAe6ElPIS
Hm
G ACwi]gi@H;jNR<z8f_j^ ptVPb"uC&i?_`/~6~2}pU$ O~]d@K	uv}x+-z{<2r3EC@|S<F?LT wk\,E`3ELOmaTUaMES@JWR=Z)aku!$K
h5F|Rh|W>_MVl,4 ^,3.MD"MH]u|V`VN;	7<Br=I1ujXx^VXK?LOG\+iJN>J_+UrXduf
yZn EK6H^ #zm&[	 <}vQ,EQ8SKMMRPR0hlR|>OY@ 5uZYtzp4%dVhy8	lcN')1yK\Sqj8/[=<@Ym tBCR++EPsLGIJu0g	iUNfM;!>v9%ZV% Q2(Vy;98$bmX@\VQq;e (1BQR1dg0PL;0'4*@or${$
12ZZvg6JoCa}57?e+XuW:g6,+J18.RH8lQaRYExy%LwHD@<40,($P  fTX{219(_.P ";]Km3BjRJ@c-@c(sT( kkGJy?tjUD7VS*hhy.:1V?hkV8(!/a<L=0~ ~` sY 7CR4sTa<%|,e$-OR>DjR%J#,(_U@/W\S$Oi 63_W5<$FWPw3!((||qthp|7`|$`4"hL|#}s2	o2CM:.WB! F@i y!^1m{.O& 1jDg R 5`7{UJg`2:N$ hzl*2$	[8$cP{@Xgi+QC$:H@DP;@l<QRP@dPLQU HAd8($; 7T\MD@$Pu
CaVr,2n*)0OmP 3+d+yI@hy3lF?,QB04lD|hzn}FHZiw0ii8|<0iil(\C
QP0=s{n',(<'04 ;qI
4A(T*Vtw$Gd@ETI*t\^ p0Pot[r|`T dKQ{*:V(60)"Amg_8XX*NF'4X`lBXM(xA{	$R$T+($PjpR#u_X#!`VTQcOW-&Fp %". %mTR\m` ]-*<lPm_4WKIt+a" .!$|]x3VX>C~
bA~|wH(&V~3
.8Ra$HVP?x3Lx~+tL`XP6ONp!y|Pb0+fsWV(|ek}%ruA$A,WF| mR0F<6R5t;9"*|4l3+\-^k`8@SfaR258V!I(n?d,:#pj	z^Oapn=7 "Cd`* hhc
j<_l?h <4l{e#WYA-huUn`?6>|hw;mV(?.d`?=lh?\@ B W>h:?*B%heCthxj4-"` !QPb(AVhYD@az>RQY,"XR
VUfgOC.3@*N2 t*d5Xh* n@	'$nGBcAeW{(G >uh,E ~hE!
 =-#sD<CGF@%o@+OuS7X]S+!OVG^a&!FwcLR!s+c=R ";,C 9PC%El*{QuSG^I{33^3qOk!L(xV;W;j7L$]j_u}ho`h8tG>-DHOAfbh(5IuvR	P) OtnPl 3*yL;t1]J+G/&_=enD:M\&ihE*LiTL SxQJ0Id0n**;~ipD/.QWFG;c~ h'# kc_18bNQUWX	h1qP|jW%?W+06M!RP%XmQxuAhUoQ	4NA\h0BnYBl<rCp)[s &t!<%HhH$rttxh	:QcC>0kpxdw=:%<+$ft 5*%Hk-'}O` StAQX90a,kH/xVn]kpf eP9Wl4_d@%@451APeo;I;MX']"KV.e ?|!3R`DC-<93Q:|wAN<_UqDMq;Ml&c{@GueqfMuYi^ Kh$Vfi
]|Vc E`@@8 <,SXT9RC|89P9!z{g.8X$$,hdSWw!#yKL0%v+9Ma-7`vDO	fq3 >
 V
zXz	X? }V6Cx<S!fF\`]RC`	5.`s^[|UJZltOOt(V.%`}A,:bpvv0opT*NRfV;6G0'73r_DHChTllA .0Ht}Dd"6Fl<7WYQRIC7 FKVd{V4VZa8Lv;;V}YNNQ[-a$aW48|RhHM~L'vBD74~d_/j|fW<2-?|dV!e&+t'UO'l.b^W50Aa$.zRrN3} 8]!7F;} 
F~)UP|I3>|{Y%$CZ="HzD h{ H ~&P~}|y{'x)3tE0q`tL'#`ihp}!jM|,HE;}=(%0JFhQL3jHF@"}Sc8cVR	Oj1L-y$h=O 9\2[
I=^6L0Y,x18?;5?l#CB 
dD,ylD222tX,;22D,tT<$ \48#ojdhLV4M{/
M4M"(.4@:4M4FLRX^4Mdjpv|M4M4M44M 4M.3?RU?&)2<j_@,;NBCC8L	.9hRGbM!mtSQ3hM0UCO:k)~
RKb*0rjjq'1JP`r[A]>)x	9/}M5P;,6aT !meVzn^v	+HsRVBt];F=/WPU8kjuln_!{S[X |< Ad&B "oW&p<<ul'pMthIZW~.CyaE0Qq)2PPu	*<i{Xc1CE =wNEQ5OC-mT.R9NmD;1^OnB7Y`^M 6
JuhECNOkcpLY@E/`AJ0QltPlBb_V0+X WiqyB+mLNV@QGnP%KbG`SeZs+r`M'Vw`	m)8s<x~[z}d[d UnQW4	x16yVq%^/B:PxNy[o[Uu<
<{V'0,oYB[	\vhO^ ?MJTt\<]|!!l"\<d9TR'"t# B(4#L>.*=vb":<(9^/jQs@1KZ_4:Ip3CHvoh a[stJ	t7CIt>u
^FQHR^	Ih[haicrTNcBPR]u./A.V9HEnc`3+h-NacHtj-v]S41
QaHh|?tT; NW@:8	2?Knb	|&l5.{0FLK3CU;u<;tS7:I5PUaD.tNR!e#!a T3j\,hPR5'ZD"Pj<@fC&
n!88!,~/xufK%T4<$4~	 fnD#3~RBuotPPW0ADDA!J_99t8B=~r	~v?Rw;!IA .B3h)!;[NfA"}8@|Md@2 g=(QE*~F6T|
A4>=|V~"$\@Nx@S19tP?
.K _ <A5	H|4h36{hH6yddddd5|6~PWfPL>ta=HL&Q?b=fFFGWj"-F|\FvJWG@m|3 3'3W3}'vN&3+3/;TU }{S^mK	U9`z%r F8?B-)aw?StKd<	m_
~p(7%W"D"~'hR7hnwM@N< B?F,&	M[Y<wwkzZki%N.e@l">Y};T^=Z2A:=Xf1:puArf;^^V;lpU"AQK1?G+Q6@9h7$03T?P	OP	4hHh>'6}>^wc92C9DD 4XV# z~3ck}W{Ult20 Jul=ih:sq3m#T34I93D v~/#^Yp  (c@-.od|'#xlaEu*CE#z&e= P9 7nvw' %/\]f#\c`Dd/u3#=, ep_YE<|7D !f(8v^$fp=j(#l}Xg3<mZA, 5<#9+x4yZ=!w;
#qH$8/Tr&$0:h	##*h| 
Sc1[k	,G.;*-[H#$h`9(W/#4e;9%(&u9##x$2r/z9rC\Tb[/x_EZ <I7y8gf(
Ccy`~:7<@u8Nh' F`kF+<S998sg[-bh,J
,;>Pfy^zny3.5	3017j0lp 1:	VH2=73<33gp9X x(3{C`313,]	zTDU3RzqX<7:	;:W<3f>o[3,;);wYS	@e=SFN%1nFJ61UOm]:o2YG!WoXGQ#Bk#/Jx@W?Z,w-V5$EBfwv*C[+Ci!i@8~+U|IX';@GXT$tTUSpuC+X1[fCwX2x}oDsCokSCG/gOuYIt
ICKK weSUSPcMO3<1sN} ]u!*K<PNozDitCN
eUFy4It	xI3<CRq2#lO}*3s}[c4R|BTB,QKRAWKo_v-s2MlV/etM?W4A(^<<+.VjX1XmN ExEV^4~;pD~<SV.I}p)}W+Vz8PVC<
--%b8qp_NHN7GF:T`
j Lr}?$0wAa?(acpN`XC ;)L2&V4Nq	Qz!)mV|.u!hhh	"-v.boB~hBih\[?uk^6ehHDXRzx0)#hwW.WQah\B>ax$m?Ac	kAM*h5FKpYbh@'IK`.j:~ID-_SJ@_S@~oqu1'f ~Ij%iN+R`[5c@}|sEx*Ph2Cj&jn' .K?9st w SZO9x-|BQIJGB:dwCP@C\jM_5^5Ip>USr,R2h+wo _]%[ 7!V$,I!& Q,=R9B 4QrO"52<PMDV0y+ 40@,B?".K?&.G@N#u^WNUG_]{6?jChxj)%GNjF,5\ejHFK5~ DOp(c!Vs?}| LyRL	oK 
GjSu'?Zcjp##Sxjsda>+AX`1ZJ{c|!Ec+[L713U;{$GrzNCh&y@)UX,l.]	{;S]P1 KNhWhO=`fUP&"@^2av@GI wO2joTIWvCIBwoCVBFC3S8H+Ne$t
Vg *vV@4BAf?F
l@2(BXA@I.!}}V(b?[@gi	$o*jjuKkCj&xQVh|>aCjw^Abz4&<:$AmCN@HA
Trkr$H!4-a[	J$thhSgxh: 'jO423HL3Ff#'PTX\4gF`4Fjd&SUa'iN/hB`gIL(pAI15 
RiFAYfnkH_b54%;7R}	XXG [?XyFAvoC)l-d 
h%f`ImfNHBh9LW_
/lpPRp<0X|CJ+WY0RXsZag39(]PU7%vH<:\U@GR?"L02HC65ME|P	,HDb%!@tX.k c+}q(5
"*!|T)2A,yfc5"+Y-M,r;!F.$-!/.#0'##&/10%<2?132'g)@Rp%t|G][6o40.gOim`*t+rD?UrV'UA!PW;gfffh|J/o+Q
u=,=h: /	/
+_
Pu`lHo%}u9L-L<
 \)phD]iNu ?=N0	PH`+! ;]GS3~C>/-h1ECA
(<d$L

}.+P9JJw&V
lUHQX+0V{r(W` VgXhpN$71a$6:2A^Ke&ka:k1~ZVQ;!2<!3=!4>!5?H 6+x~Q70IM8(Ym1IfB$9	(x~4
|$jL)0 H<R6*ph>@1.@9= 'ShA\* f&[{vd$he7[%|Hxk&M
$u%	dubUpZL"h$kCyuLh+	Y.0,lD&`O5;j9trhA
Z3)4 aET(%[`	i_ +th!S{L~~}q2W'bmL
VIWA\@jERDN)(45ce9u6xY+ch9<Ge40 (js0hr %fkbl>S%
O(BAa-^+P'd> 
Wz?@$QB#q,]P(5]H-yy	UXydT(	v<3<Etm6p2&!R1"\5UIh=TfVQ^vu]tI*oaSUTM#0U0*
h[BA%~ ^v%.z&pq?ZJGr^:Dn]_1 ?qxOx6V,L$Q^
98&uOy^_`k?Kx&{2^uE [<y;Kya&Kw9W3^3C :^(*C/_<Gx%}<,5Vt*7 </ypt@;RlMyGR?a~F+r`[hVT8jR3EuF\n@R\+N/F,g{I,^]#`V~V;{D+@H8;r
Z#	/lJ/	_@N4?(A9I'wHPga0))7@y+0f9_
p03u-D R8;Q8X)v;V`svd}<`<i3GIw@m0G<AR8F8 GG]p1P(JNa% &q_0D'+c1 iGwu+[3BHN$jwj`?ZmCIt jq"y1@jmccdzi||`EFy LBv34:C1(,0eY7<@DHLhYPTX\5 $Fbe\mW\`!Fw:P;`_KhNC\,<0h*`_~``FK$q \q_:DHxQ3	-^LjLQW_9F7JNHH;]HHv>9'rv6 hwyTTNP-PB 5tT.P	h OBCo^lv}?2(!S%,{"*9tRh1]Xh%`89$c)?t6-H3Lp@ wOT*xh1	|.
NOp&^`\OVhow3>uN'uh
y2w+	>6?F=+_i 4\++y9+J5{l	gU%*?D+B~oGN@WRgBOCOl[Z'4d$3<aKnEtyN8Q7o&hpPaC~%P5id@DEVPxV1aU0{SCr4^+X%'xe@0
'(@M7YH q_VVX(-;uO+P	2T=9hdQ_d%=X?2` Y ?Zg-5 YY P	s_u8#	=:m3@C3
}2|,|/EL(+y3o%H;}'@z >DOFc,t*W$Of~[I`E4}%QGo`%(&4	i0/J@\}@D)v,-+T
 +0t` h3.PJ@8PnHD=udA 3;=Qa
L4Erm<@_+;D4d PZ\hA+++;K$1}F<y;: Di;6L/,fW%*Z40,g/u&LN0Vek\,]]PL|Pl8L[lQQ8lH:K<u&zp9D0URPnRN#kom/ K}F0 YxWdX?PeH;}`7#T=P#$18V<s-4dY8p<J`cKT~	(1Rs~}T|,2-p1?A6:609v|'JCvE+
MGqT<g?9Ervd<a:Fzm;q44+|>b>\tQB, w7t.`+H+\
)y0h\)
dgD!o;'IXL])HUP7lwLzGjT.\NkLDGzdAwRu04i!LbTU ce=&=HO@RK_C6`
L=|	.}(Oc+NnJU`(~#:	N(~<{}C%ZD_yZ!_$<hGpPZ5($ _[]P7Wt;sGw9$aBz#
R	\cxfBuJ;>H,m\8qE)NS(43"KpwF@*9(GKK:XnS'7[G_ZTAX j_(FF]kG',}RE\Or O3LQ>!5/ W&LP;S t! GXhHM%bhP	@TSp?l[SD>qb#v1c+BrKSn(4x}Ht
RF0#`Vhn,;zVV EP7@]fo?)u
R/jS]MD l,VRs@~P9H57LyY-\VKhs( 3+j\z2- 	V\=hVSjD!@8,PPC(s2hTne BlP?T1Zfff?uVHtGHf6>$BC}`n)>R
J03e(=[x\me8]Tj^'5M E< tkU`FQ^n,,[8^`	Y?w`g_4Ja. 5 %C?cg		\
A#?h,VhJ Ds4&V`T4@&_0JKD6:(*X'\Fk`[wC.LUvIjT  fkR)Uwj R2"B9j `)0eLXhlf&%mz\!9%|L;'5HI&LkCk'$dI&3D<6%LALO.|h@8'0d&(k L2$( ];,{2$ I,\{\lw,<h'% 11LI]<dK.2F- L79
\<LiGs\Z'U&6la\L\<&d|x|tyAZ@j6I.W$,h`r-'X\rE2%mLL$LDL<%X X{,K0_(D-]2 pL	,
y1r^!o 0H^ S)6%'k)y_8%/Ww
y|?uZS7j-]ZVR 40kP
AH``:G"eStSk	QvrDhfU%tu_OQ9uLNDBPR7^xo&P.!YXS?X
	WNQw`m+. ?B$6e'PA>,^XSV(V[9StFHj~[AhdZdk3 Z<
1h-@t%W1-lB~,(!t?N>, R"Y(zH3#aVLmSrIO ;98=KW6PPW] S2'X\cD+'Z>$UW%.Qza--v~X]nSR7)W3X<U,VG7;|OC;|XR7D]	r]#!q7:hBXlkYIht,%%@,=HPwUZ/9_e' }_R%M;4)8E;|j*[*S{|`9x_4Ph`mhS)AP.YjJRw&2[h32aRa+-z_hUw _|	v[^aRe:q
_[cd>h&@HJU
?VZA^1
t+Nw&\] (*$$Ea4]A|R$VWu7x,S@LZ/>;tDg0*
?a 
cH~G)g=`s(]'PWk&c?19tBhhcElt:)FZ+[ !*K{P3jje_ _
GW:Q$(,T07-{7$hAvaK7
P#oZ)gK8VE(#ViX{&STh!xBx_7z#\90K

0A!@l:@
GTr`Ux>pq+`+'^d`}hRoA `"^_yV_)']oDX%|SAu&H+u4Su@H,UtPZAGHR?(>fV1n*?R}3S@,T+EnTJ0nN+Qu2;~-yh J,ky)h4fYb`Q;uu@B uiUV 
+z0X-pYwCE*B(^[ 4HO+d
$hKh(\vSX #?Q|a$%JJQRZ0'j,8jd,v<Cs,$h:hPI~sh4xN aUthv+c@"cJ?585h?oBwhV
a&Ex_3VVB7Y
%'?>90_OdWV ~w%nBx1MOWtDB+rkxX!~&+6$_IxE4
+_</sb^Ghp*c(vIRchQ):s`%(	A?/0WxC |$y$]qK6 WDD>0 	<|;Qm&^;WVKXkk+mCBy[c|3+-CVT:@\|5jjLl^v0h}s!~qAhAH_+2%_ |,;	gq[}t?4SW8oA`E`e'Z$/XIQn]"h^_[dSb~GQ|$WerT!Rh,/4`{hf
:b!J
J-\4
S0@DO@2PV$U)tO&+#x3;P
hu@k
_k*#bQMA4r	0bn<cL$Th$l$j~D
"QCD]k  l0r2 {q$
m ;@0H;	 q?nyg\ny?+4uhrSJAc4vUP`B40XGi)'6iHiN_^  g(8W,# <R%@Ask8KPUV(.M,uDDh
.)L!_}S26ed3xrh 1s0K@Bx@@ScBjjityj80od\`D9|h j
+4E)@@HUi8ugCI#UsL`/PR	Mqc,WL[LR8\Ygju_OYi8,2wPOI!QU8G 
<Alg V
*M*AiU-p3
	L+T0qp75Er><~0-XS	*PXJ4-_g;}9{iWt.\%hC VXh+NUW0+\RPQ-F w8lB<t4Pkt*c	4E'X`1XGt49nPzs@5uh9hCc?$Cr{ =E2^r0M
9an"0W^pZSuYeP=pSf|b(VP}-VTHR@X w,$R	M-}<h5qR`!7L<4hvW ^`OFR`G92`@C3|LFT7vr,\N8>AU 2
	 RJ  I>DN1djx.T}M5VRh&xb	}(<QMy&oh\4X}w,~ k&U"WCwI	
tOhO!; 	YjLjr_qH%hR3x\a	6Q c%Z
gQXMIjhh#|?.v$RxeF|1t?'V Sda,R4X@ ubMR	_, h)Gv$obKL+x{h&}h$CZv:rTPDQvQ
f%SS0:eAE@=iKwh7sJUSv
9 @XS-z_;ARt8/)X'~u{m6W=4LO;86t?tqC7LJX&ciQdj	I`
naS3a/ V$i_@40{|S S+DP@XHHtY?6fm8Y<\N(!_Wd//~clU+TFTaLUY`qX3/THrx0+	HSNbT:Wjlib`
>#k8LWU&U.-ln2RBEaYN?P4E>WcW0V :C(+"*"GuzQ9Cf<$c6 %R%(ki-KHwkYq=Aa3@H'[l=iBt			Caq/xE 	#@ER'Lp*t,{pmtJklE\F#PaP"M[mF  `t5t6CVS,S>y	t$KFP*XR6wlcoTkEdt`^Q[60*`,WC
wZq9>DIikUJP/d+@e.?\CjP(wC8D.*~<zN#J+`/;+DtGj2|,;C}!K<W6M0,PD	<@(1qV-%k^cD/oPC*T7 

jDW ,@"	hzJ*~\W&fWI70;tI=3O, VR/6)&3Q?E*;n|>6UbVAL0ms/&CLQf ~W$rq$ '!i_'ir i39!tl8-zufJ <jYhVS_W% .[x8SRUV,*. @o"RUQJhUJ'\`68|Rh.6/m4@Txh>u'c2IQZ2x8K"rOvx38]Nx>T%~|SFQ\@.^k=[qN$lQUVON.S|v\h0'j><k8S3($P5fEMHn3SeCIE0fvFNW=@S"
u-A\/Ds}+j{nHQ?A@U?"9`UAQ
w
1,\1;^!&^Qf.wNKT _fP0^3dthM 4CAGy] AP8EEFzFa&/0;V~(J$uXmBzVYtv.tG5fQ-'CT  5eXjE(`V=6XJn5VamBc"Ap [ q*r
y

H CLV8||
|6@~ \P!N@Gy, y(]hKAb%&/=4]e~Ia
H*DAvxCI0Rf`Ah<hpuP+^l(e&N.l.(t3uhUD-f60-i%C$XS(K-HS,mW%[: jZI##n|	HbATxVq7V@1$Bu)4o%t#PVgp[(=Jo%g
{a[<dQcAM>uFJihT'XflX0p&oU{TKcHkIV'*8l7J JB	bTnd,UWU]6`JgN*>F _WNP*@g , Qto_?ql~$\IriSxJ/ a	Ddvq(bY)	e=L4-{Z]]x (Up-	voF4"UCI7|OA^f%07qH0k7jG?_k[h:R+j	*u-\u
j _0h$ b:0l!H_-5"\&9xSuI40-X'iVu
qQ_RGI^hEhG3<ij4)e&&9SSV#VPF-hd;DD&;h^RS )k )I9	3W]EO;&%;/cEQI~8ZOVS_P
 kJPhkh|cy" wu\wX+	xvt3#h 9fv8(#[{W(bzoRn|p n4
 `W`c(!C> '/ o]k%\f=@HvVi+=QF+~(?:R}m[hg"_@u_1 gqUMEK(~;hDcRWt_JD|h^M]#Th\l]PF=2$F,&Q?@(P?,cVQj-g ^,(fAU	V]*X	|cuTzIQ#Y<h7?G2t~?|!D |h|_$stX20jij  n1"8Nap$HV:,9PAmZ'Ut!!D?@8-,%QSRC!KkDD) 1NGDB3;) VP4K[4VK?d&8R.o-|X5aJ*lhHqjL*Joj: Pn]~ZtI*KX{ %SbQ5J%$%9fjp0C Ztxv%@lj?ZlQAO _|h%!j~hFa8e4xBjyzD!>=F: !,3A1 ux @46:S|8z|++@<
9Hu:V<,gXF[B[
b3P^7+/K)r%;}SG#'Aa|[^IEH<P	X ZM;$V
K~m1;Aj21|;}UU_4;}J#uAXS,&PjB
H f#Q=x	Ip7"mjb{4tpS][;}=1	r!lh53	E_MKp^Sg]xZ$pO~O~an9h.@5;|g^'}_JANJX FG1H#GaWv!z~9 n>|_WNJPPQqqIB@=lGRVPm:+/'SJQVutdE5-@,0wtLg-;[(Q._mS8 nGJMZw~re?0= _0)E4''Z
x`O0"P`2	|<johC0@O[J. mb_,LO@&t":0 9?(OV}(s|[\ABu0,.,zo);g$ILJ*EqaGKJ[_0)jys[x|9.!L(hhj-&|k	jizjdUj.i\^PX%@9maVjP`\ePvd/7^P*4q-hv5. pc;2r{jH, 
?tHDGeF
)5H-btEn	gG9k)0
'tpCUA8YY$C_m&t9k}oIN# )USu4ha9W+] V&9m<0z{!l`jj0CG||]?M|9%%6v jyfxt&tW	PhBcv67fK85D~Bs"Vh{mYO_|ea45u@9D!@_#(owOMr&JC#r@+Ok-l/|?B|o@eWu
un@l~?}P  \W9+{t7 Zhsj\ZEhu\.MNaC|%h` ALm	0+{rHTibhy0'?h|%[b$\?#|#
3%rWl{>J	, +
  GX$ 
R@D+Pfh.(AaTek'q _SSx !3A6_`7) AJCz+J+ Bhvx;gkHdn!V+,h84F>Y\#0q_M{jrGFX9E{jX1w1}/!hm#0s~9Kd]?	2t
A@$a5FIW?p!p}H;7n??d^_{uBA'a@	[7/P~#]">Vn9R 8|@<ZHQC=t&=g<Ft|=p>!DA$Z+ 6QSJ**PU4vDVL:xP6ncV"w?.|.=}'HS`9{J}oGX(
lE2t$DP8lPc'|*|ejgj0w\P?9L@-LLG		CJhsA
?YM\H@&L
AAjF	#dfsSt
~5m(*T 4V,}_&;|OBV-0$N>,a&t&K@X2Br%W~y} ^
+JuzS */|X_]+ t!s"H9!0?C$Z8x
:JmC$*
pBWp88!Z4(|)B[7 N8c:	/z: o2E:Yg$O8Gx8C~}K+L~^j'4f{`PYK$eCtp<}h9;wxD<Pw~U8{`q
e|6%H$)hTFxR
)<L
H<9\SHdj7.>x0qz:%ox| 
#dIAs1|FBNU fUfF@jC/ Ux7:@jW\I"	8SS2HMMhl[WQl<?<HHSM4BqRB'.|_QH1!x0sr Mso-Jj@,Bi_q{|
H<  P^p:LQc\+f	1FU0'6l,*r)oM4%31@#D3l+So)G,(xol426P? #$RkXja'wm4xHh"@1u U;I}V|,\wSMC9~*T
AH(7~VC1h3bq/VY~V3,Sl8'WB[rSKD)Y*l= wHfqlB H,/(! @,Wh p)
G4%rrN00RlkZF4mh8l$pr 362Q,:Yhp}UDVC^T_[w)	+o,i%A3:HP{2dV
-Po	)E|M1aIm``{g0]/S^UO+u.	X$<h/R6pPIP`pB,Ob
N]V#ut6tD0tT*9\A@tKdd".(;,N tM)'ur!7v1^{ c4G$#(l&_ C8L!/] I^|# H$m	(uBE-%^C[*St,^tIYlDC8('M4	V6uS^s!d@sT!XKqKV<=o)	ipl'l',\9+zk %(Q'(
T-) ?P}(jp9jr3xa(`x#5YQz!V^B]HJG`gC::W$qhAYw!tIL*p _011BY7g.qT [I. 35ZH}#pi6t*|7nw!`mtm0 Ti
RZ[3p!tQ QRSiwITcVmXUV5YjZjuj#4[xp+d33PS(ro{gtv<C\*Zo%el;BU.xw[QR-a.4[NavyP[l e@kgV\Vzg BD|tk?ZUFQc::
P))bH>JGKpt# ofKASI |kTfvRH" %|F$qljVG_+A;2-CN&	vBHv!'H)3(?qjCO!Pi5*'Rs~h>6@yrjxELtGEi1rI"0PLKAW[Tg@;~)>JZ)(0-bp\#Ku?41}kOt0{	OeyPp-		AL<a.%~W,Hu+~D~x?m^<~ UbKCba;H@J_=
%lSP[ o8aY-8K?\][tJ,K<=JJQPQ04nPLa T.=l60^:M'JS_crX}rdCSr:S_}/QeU_vB'#K(d`vPfbP Ch5K_=JpM[u/'CH K3m(4/UL@3[-ddC!p+@ -v-^iSIKkB</[]~$a/#JV&YW(KLJ`H'-e&%J3~3N<M4upuA0-GaG~#;~AWw17;Hz%	U^HZ? 	dopND q_a"_L	t
xw	ebF}g|6+)49;w$rJ}0Ik@pmI4X|
SUV%Kg_BxA9^h:X{;"4Wx8FUg|}C2[NX?bV+srby:K.A-4#^]TEfGLgm"HE0I?@XV?0}!D	'<: GCP7 G3% 33 /3A=G3%3 F-/U	 -H};9^3% ?3/| Cl38;h~ .(q
>4# 4 A3 22t 2rr<< $(<<,04<8<<@DH<<LPT<X\<`dh<<lpt<x|0V$@TptDA}D`dXD\PTDDHLD@D8D<04DD(,D $DDD
9s8Fi8
AZF@/C7R3YG<AD0}Ez'cg(y@A\/
 B!8pX_E<R:t$`YHY,&	nq.fy& |Ot0p@Kd *t=_M 8`GN&tD d @ U,l,${K#4b6JX@PMEIPt.p33$o+i?W-_u$=!}e&8Z,M+pv{nnE;/9MtC}^"`aQ3D3K$rbctN%WYnwO)` AYi~("iO,vX 8P9*	aM .p?dba<"$lIs`aTy`4S<+(Vma@L D?|4AHzR9%| E[ d`h3%]&ISWST!$pG<q@@t@,a (WSm|POX @Aru8L"G"jWh|I``"uj q.+jP<!\D>ujiOa9XFf9t T$3QH
5DZ[(9 EPf'R>@NIvphrjz@ MPyRT}AjXS  RPpHa< H50
ft@PUQH H|I(
:@(F|]*kwjwF<(u+F08PXTS8-RmaUhSL{b;#hAw]yt|D;'u<wcu3VUPSL7$u'  EBjSh+h/Isjj#9<tn	Ua(a[dJ/Muuh'94t &p[Cp9e,S'	b1_Wn	MEU}\EoU@UF4<T+<hms,U
K^W<|H!;iK\E\Oq+,rY+hu\y}SL_4k(gy1oGMu}?]6tHuOKK4N!sY6I_'}\,1sQ4V$It0c^NcII@dpHqsI#tL}+?wgi|gKZK4iw)3:j4;i$\^+&QXOu :iBH
<8f!Ic@;D2}!\Hf` d~lx&\cBC?(!28lOb#AvF@-aH$O"7NHd	lXh=p5V!#	S	B	12H#,yqL}pwuYZP}`tZ0O	VOvX8{!>E'9t"O
E)G]Ndu@
|a1&ko{8.3w:-Fey) ($Mq
sSZ77z(Sah1A[/0\CSK0|(J8 Mi(yJ5Rng ha(QNEVWj<qmx7FF0xM2Pv*}\vhqy Cj"?u508R5 e^KI+@4#dqe#ajdiL])IX5K`\6`[RHvh2 KHnLRGgHaZK2V2g0P2 ChQ?u9iLWP UPZ<I~>Tl]5.NhB.9:gY.US$LSOP5HRSgQ"$2O5 IA2UxXDCAV$ bm !`
DPHuM[;A(*LkJX$WEc2E+R+[fV('$I(mb_@Q,v^f<@4vgp[O07I~jFG@[EI-AA =FZ0P7Xy6$je)93,j;AZT)
,) @m&dXhtYtQ:.QCZWN A t2L8XBM`7jj3!d}(QJ$
_L	 ,QF#Oq/="IWxFr`MaCx"jLEmOh_|	?8x<lP#;a,nzBZ}{om%/)	#Fjt\hQHhUPY&A=!Ax>nP'$f?.+z.Hb6|O^u}{9ff%J,%'SX4pQV88U0(h|hx
.K6XI1@3;B[eLQZ U}kb n_m$l`q>pkMMWeiM<!=Ro
 

5!Aw KAn- g
J<|6N ?_+*E~SS)CZHuPS	XAW~uujhA`|8Vk, !Kujkvwm 	#5G h~eVv|SjY*?
'_BIlL,y!OOQ#Q||!C h<$_,ZWVk+% B7P/V_ nPAA +\[hbK&J(>dWNB /R<`h)Ezjh
-h@	~L5BjS<I![jye |0\e)0	E2#.Cu!^g_u^T:e#gAh-E[ !JjPRQ=G.B.WQRQh[sG\  M+!X}11<Q8CcU{cG_EK=0@zEdDK<WrQSQKuDjGRxToh0<a!yH<2!`_i]A&Otn(fp[4[/@mLeeH6B,{S[zE jQc&Spu4U4dQ&@R6r\0&P8~:`,{bR&Rl0
x<b@
$OupLA{$ w K`R%V@,?CD}3~oVmp+r0{R.X% R`)rZ,ty$[fA3K0_TujwuA<h\Zn>2lX5	%|;`<;::Q_D/CYuxm[ #ssDWKAR]iTT
E;pX6\iQ-8
YXPXX@V$O}Hs)ikxoN%jsjy9#Umdc lB%Qd8qlRX@8m=jcRxrq\[Y&;lSr
,B%)L61D0_d:qHuP`H b!,FZB 4h@`J0JK5$^'81V(!A{I3j#+msfRR.V|*0p;v+$`HPb8dHl) ?|<pr<6P\IUx/E<`B#(XW`L-za./|H'GQ5%A% ,;xr OPIES5G9$_@+D!IU\4XML,\m^]_|$BbX^~q	DHtwF!%	t \WIlhsC/D}GQ`K`w;DP$#P=IxH*($|t #J?\@t)XA	LW35*9D78lH.rD:,$=yC|D 
E|F<x\!Hk|GVZp`=6>:"x2(JrY?/:3 x@p==J(j8ljmf
rtO$"IO%$LB "HpTh[~/1JUJy1xuDaaT@H$vX!<Ht,VjSQc(C!Mh0+!^I ,C_;t!;V)<l
)8'Z;LVB`L#y,,UxQZBT\]@4!t?Ry8]Pq"f?OKN7>N/^)W;JQ(gCV`6hRW}D$_a0Q~bVmSo}t.8rLE`M  eli82
Qe b,XjfL [ Q`Dw,\)HwgPr%.J gNF$_(sRcaTW " %,	qPB@,p&0|7M+
}.j.:$"N|$
GT'.;\bX`jV9v$C[HxC2HJ _FSWa	^I%v`v ]9WRF,6I3'|?G%rELBN<sr4?M22DmxBM6%W#1&u7%"NT}
g5]Sa?B^`uL/D?`5X&_P:9:u_GVO K@VmV._&y+^-\S?R@1)Ti@~,x@E2M?1a+XV=N!'?*@.^$u$bpL-iR:L!	-@^xr(6?8D2RKt%GH(	,j	4Hh[q^`gWSz2$jpqh*ET:C#W@\V<`<M/a_<|!$<.j`"!7.*!7VTTj(%A`[7fDH
!,<!;Jt6g$h&!$"	3m!u-hKV	r^0h17!oF8wePL7;DtV<c1p@.$EqdY3	%
1@>AR2'u!cV0Rg*m$C22$C2 $(2$C,P	#L0W_I ,5{/uY!FMCB.a 5$_(%a@$b$p,F l-RPbzl\Ba+YoQ@SHiSNA+oRonUl	!LVYKP@.=cW `4PSj@0 aNA{H(D<Sa "g![d!g#Ntg\_Dk )$Bgj
  | <t3:33J&@|@@4< 2<!.V<K+o4Fhz\,50w dd(<H@SL\22$_0<@4q] cDA`V Xf[vM`Y<jT(_$8rlmhfdB@DK2|=8}V((zmIA+_"p5 Ad_^9 $%hA_6xl D{K]&?&V-
I.~0\%/
u 	_~<
A}%
=I	>1G#$_F"pN#n	NAI%M_{K
t\
CkZNJIt=N^!u%BJURO/|jXQP:< kDy0	+hP"9RP!:hhJd/!p*< >$yf F!?AFKTG]~w9PPOH)t`Qu CCNHO{4mVH-DlO&\J EXE,] !.t/L8@$m4Jm`-s2i8tqhXhGHb\^h]jv>[}	$TZy@rH|S`AHy}4	K+u]u"u3,?gWv_@9tM@=4)v|.&T2
Qh(Aw+`h:]$&Gt&i&FB
yX:@
86h#.hQBBR6{%TL(4I)~:`p%Pz(#ijwVgW	CS~uJkow'fKH; uM03Di~9.# @Ix/$)Rl)Su[U#BisMnB"%@1[SJ3} ijj(-D~MK\``MM[KA}M '>A>P"hSkJN%`8'd"
xei>1b=K+	C2N.n2?q:tO6zAqPCgxi'qmjqcp)]};#	~%Et_Ih;Q)RSHT= `u>EhH~[YmZ.H^"] 3	~Qn;M	Qf[z\WDa9?(t! _^"C&y3- -lEI|u-("T%CO<?'Q+t?Db;3=t7cAL!\i2^ b?I!Ujqh 7F*(
<. $;x#@{ ^R#_F.y~E?4.,@'2PXNvS `G	XjRbC(|uF Lu)U
k^`V4#c>f`"UOEu?ceCq|FQ`g2!~2^[1.);e3k;thUq?u<t|Ux
Gtu
<'rAy{MbQwYW 97A3|wZh njnmc-B;S)?||
`_/ACP,AC>s?fKi@u%FhBC)' pL:
z5 ?bV2>_FRCW2B.\S|c wL=_!VB KVhTPLy?2$"|F
_Hza3L'_BD _,$rJ^`  Bd_dy? IQGXdGLPJ*Kxh@%VeUMbL' ,5Ehhl Ifj"a!"`oX`
@s(p9M.: &nF/[30<C( 	T":\[jrMj?SR0@z\EPHCRF64|nQj">7hH|'X_LcIBxx@^?cIg&p<x1"<\FLr0>ij$$d@D|&	nH]]HrDVD^<1~v ')VD<H9. /`DAHr!<L?A0~45_F6 ? I Ib_VVmUS%)<Uyl `]Nnei!"Yfei $Yf $(,(fei,040"Y48<8g m=c<$=V2h;,:#=##=#V=^??##=#F!=5,
qsEr\ \$$(,Er04\$8<33'pEoD+NtzG
>As$#8:0a.VIf
(#4<g4>az0I
,#3
O0/Q_Jbwsa(|9~/Q4YoJ`ZH4H<{4]	R& a$xBh03:4<]8<*$$W<30<9]<2<49 (a$4$3 U[.2&|
af1$],91(0@(,4@9 ,908$@04<@9(4H8#. 20,8<0dS2<$/0\d 43-$8  (<,$F]d-0_dd 4d ddd 89`1$<@ |(#) Ee#4;$,#7$i^I(330#C(3iU3,4#33 O,ia0fhn8g
#$[0`yfimm0|4<g
#(g4in,yH\8vyF,8<BFFF0<w 44-u$822r(A22<d,$sau09HF4dd  8adydddd$< (c $###,y##$(0$##(,4 ,	p08f$0b#'#4<( 4\ s8U g,8Z<
pf0<\3r+ &di4}Yg$8py]-(< ,JnX{+jq,FV0q,q
0q)qX0qa#.q8`0q0q00q0q
FV0qXC0q)b1P#nW+LzGjRK@;jKc&l_[]mSb`KCbRbR;3bRbR+#aRbRTb_ ?:Vd9Wo\Q!\CyyW\\d)\!"\\Cv0DYs0MlV[et|P
_\I<b t]]I9BND$9+dRL=in6Bjr}1H0I
a0x8~?~S;~HjRIvfuhjUCUn jXoA@B{s7$fL0(^ky.$8|C	V 	JrpdWtts|wjxrS9-Vu jz	)$pjx,[mB1SPO!V	~cU+o75'KYGn#g}(@.[h"3|]VS3S'PWR P?R
 J9% 5I?B'X;qh}H4x3d)9FDBVBFd+-2^>J.:7FF}k_`,$i f( Fn(*5@<g84}UCHQUPdD@x3u33A@S2&.]ms{($>?*XZa bgHD[,V,Y?]]hd8 D2BWk"|jVX3Q4tO_S f0evH+ /&{teH@*ls B%\^B}c++Wl vK#HW5L
uK~Vo1+w!{E8+G"aqa+QaxBKb@8Q<N""5^"T2	vg _KNERV=|$ VhVK.lLd&4Jh2K/Xa^\;f>a#=%#E\~`aZu,nXu^}FpFXC	1y@ZpyWT~wlT#@wJ)n|#	@Z3	\eO<$l^{K=$Q/z)ex)s|3C`+!,r1r	4;r3#4cO|W)hr3x#

.4h! LxAxL.$Hr[hvHx(6xb|zJoqDsJi)H,^En80{3Fd-`Qgj #.d/t|mE43zr'27,xP	yt8wqR<3'`kAJ%f`k@xT*BhdP_LT\x7\gl>JHl#GC&xHU32;@XXVzFJ|D#;3(<T\@"m^,@`| #Ce%A8[r)M7`m@t lH3|Hj[9gdXV*Ph!
V`UPi86V3;3x<)dL|i4 x,T3)Hx`Soddh$<Lf2rD(EBF\I833H,2HX<(.|D4A1*A@!Tl$0 DAd0A<$0Pnbyx	X2E`(%?ahHTa|#3*H?*u]
,0]0#\GLCFC.{\k4eX2|6dhHT\x`mg):+-]`Vi
 X0X/jKk%m6{%@P32$TuH_; Q_ V"tlc0,$#3X$"x(\G/qFf8H?(TEEC(U#'\z\&*3l, ptVDW>[`)
,T
4$5n{F`c-M8']t$TU[(\W#rCsxB(kp`XD,=5W\E<##cvx4>`E|(oq @Y0M6@J>[h#O:23G. DZ#}s6(JAp;L8<gSy$O{	B#)]@\UX1$(T*Z+)H*W$ff(C,E)/t\D7GdZC[``qwG##W.D"`11h49L.IPX;{j*1g	HS8@bEv6\9xiW;2h:tZD_ex#l\^3[sSPnOP4HrlC>8k4.A&Vg v]/Fx,#;tl0$vF#$+C[]2xxdbdv4(&|F8$X$vl5Q,|<&vtPv\7$4*nxd ||t
#0@U(v/at(8LgF.:,dd@<@4,J@XuqDN01,u
0x/ki%P@(H	H@&8K|nD,KlcLT
SL;W0P|\22 Px\Bow|w|
#H`VOQe(\piF&v8| P{$F@~4#x A|D(2E1   r 0,$24$$<Hs H4(3((nJ+S8Dpr,,,4$sx<P0H44K4u`@KdR88*D<<L&B<8n04
(H ,'=H@L0\L1rL$D|2O3F9L<Fxc0@ilEk0{H?.%x8 3 +;Pb`b:4|3+m00	3	.Hzk4T|V*]x"@5zHJm	"z3J|I~\pib Ny-K#p|Ah#&n)5H t *cY'x)8C /`TGQh*5PqJ*DDykR!_|@uBrQ<Uj-K.`A8}hx014L0\dd\rQP%@2P LLLyHkbWt4dHLp fb(GI8@"@&|,y~Jj9\'Bp{,vi|G*/MGp};-F`;T7`Fi#0`85!]\3&,dh&\#2M`1w''\xGJDX=CXl?`.Wj@TpXb1wp9#/H<@ND+2)|88
C@-3v$9MUXT%Jlp
*Y8J1~kr3x1A=c2q$E4t9ddf89(\8+35]HP$<,q\2|L14DT@cH0D8 0U1!#C7@(HsH\kG,U(Wx	X8e<;pxp8 U" q[@jHT\qXa?	8L`H XXUJ!P@$.xI#Q)9((K?0pQZ}$WWY$L<Hx(|KW!Y|
W2#p0
 ,"UT0GW+ 
0
84.`W433xnNu2#GkX7@($jx8F4<##t8w<|ENJ\k<Gr	\xql*[r@N!Pkz@8kx=HJD{OaCpC5H(QHN Qt&
ix8-q[w8_HmNr<EwE2tpm7X1pwL+ !E-Xd\
BgiT*b)NZ
IDqw8xpHa @T=x#=i:\):v t	8,W|J@	P$QT8\	(Tu	!$4K(T(
N`[	c,Npj8	<Vr@Xc'*I6:!hpT#0DX@'3ZTQ:vTA	L;	F8nP"SC?D3D|<83< fd3t Ht O|4TW6x@4`:(zB@Du>*0Kd*KlJxgrH@(pwsqZ-		tt<c.PXbE02n0I
4X'03>ph	F Kg8{palJ!pYd4B ld`6c<kG@0i%8$X6*6@27(B8Q'qY#1*@1\v np<NN^ i@JQ,X}c#Ujxm0
-y
d, #{LUnh1'xjr4* #1z,6Gi?:2bhh9@4iH.BDp/b#2RWh',Ji!uad\0L/(SD@.*<i@B(YFGddHfU2K&pA,JX1<x#(d+r<Mt$h8J@O649*ImdG'P~ `0a(a@K88RA^r#Sf3^]$X@6|PX.UM<&N#oH<j@caqL%hLjb[!&R4nA\
1`,W4jW1`t,a0pWfPPTC;GddY>C( r $Wh]h:T'T5v]3i70,dBXX	dddh"d8)i
4dhFF& .Ahf@Fh@<A\,d ##d #L>p0$D4 bX \A46p75d/1!SLhH4MSh< d<8Bz#8
Tgd#f@iD,D8.11i&0H8pH(4 1Hd\(c
ho2qo0DcX0Lt\cc8H 8H3A@(,82@W5c9$c04$l,&k838<XDP=xh59pdb1
bpi 3J\64(hs)1XIfd@(P h3.\N);Zrvdh~yX
KXFm ^P942j)E dJRh3YnU<I@,R0]yd9,dhFd'r$DdXd0 r?{h#MHh!BP <  + <)l*V1Db ,2OBZLHd+AJ6h(ts (#S:b#|fgYw0N` D| @dY0dhIN8p"q\H#5h>)r{#$h(@h<,P,dr@h2!$\04$rA da hgTL8dY<dPhn@#dD@x#phd7QMlFrT@qHh(xpPr\ dd2 r0,!hA,dh)0! &]T4qLA8b!~9d< y&'h@,+4dSIWddrJc4@x4h2)<v1gV<|1k%h(LD,,D0hhH4{KH&(s(9*Y8<8(1 Wd%2rD08Xdx\cqu	(D@ d9L$0d$j 3-p'hGb#P<nq3%P%\@DhrsdhCW$ |TH22TJ8 ![(@ h! 0BN,d	DW.@BT	Y4  ,@/ )b;@<bA,-, d,$D
i44 d4PHa<<$d<d!$_D@,DhD+VK%IdsUh8QM1H(<E(H}#@@;D0d<0B-s%'OH 89.8d@ :hEaH\@kGh$P<T8<h\ddAY.@DC4h!s$T$H&.1 #eBxwI?[%H	E'I{cB-YB`fR'QT0&XN_Myi#G+\#P\*Apq@@(xfjXn`(lB,\# AU)hK	,D75,<7h;@=.4ka?	BDg`^@?<apAkJ4E!#r(ddKHd0(-QydZ08cgvF.|R$t41d@HV8t%<B)l$x2d$3rr@hAa^idA#f/$@@ ,_!B]@_OD\[l@X$a@`6 U]U8BE{DU ao@Ba@HYB *a%#lY2#A4i
YQaPv`R((a`iqaa]N	ak	:-eva
&hY(aaA 4i(	a@e+
*ap
ha!'aP l+a@>Hli	aR%tod'@$@Xa a8FDpg8a b PauP ,a*HYaY6nTa&d(#d1h1ki	qvY $yyr+"yqqQuP3|R\
3%  "6\*MdZ.?@]C 48.\Ae*p+(>;[& 6_
jSS
E|rmcu^	
+tg}4M,9ycRQ	h9A	3Y>vNNF_%m9P/,".pMP}`-OtAl*
Cege@t6 1wJ@ FlrK@Qh-QP|B;3NN'GaN'Iie'9CJxI <CyIBNSSp" ?*5=e?`hH5lp(Lk:AWlpD	iWtP jL6y&Vq<`Qh|z(b{`tPp"tDi-*!1{Qw!ROQk@h,WY!_>$emx[6;\%(hD*DIy)ABjs/PiPLMY'"WzTQN)p4"{6?(BP$mK$\J+"M+d"m8"R m&~:Yii\4tf<N|-\!!D  CLL$ !!(0!!8@!!HPCX2`h66e)pHwhjVn, @iJM@Jyf2+g*>c;TY/i3Y.Yta4(Ac[.<\eaF@XC.hm5 9{c)g$r2I)i(CLrp938c;[iaG@F0q8P1OrknXlqYAEhk`AphO# [J!El9!7!S_txl|3=c$I d'a\Vh+fc`l%|dp%qhtk-iad!ZO!;BOB#BRM!3#.,jnJ4}(SpWO<*f0tpq[D,](4/o6TTaQ97S`a18D++`E4G/u-l(?ms,;r m)Akf+NJJu~!_+^[uA8?(#*h_bg_DIM wh,Vyt{Bi<khu7?%SP (L]3Zxr<v\ U"/'
y4"2|0@np^\l[!5jf/%gK0S0"G}u^X5L`L~ $B2YFzZ,~;0N#+}I]~URKQ5\({0P5$ Xp! nLMH7 PAK|8F\Ap	H6Fij?y+;T}$W|10`HN0(VHbc)H%"NSUC\r=\ VPB,pH	K8%G71dzCdk;P,|s%!c(E$I-]c6P@D~(5^-+l6G<C?P.PWxSx:7!hNPe_Py5fUd@?#L}mc7kh7jdb]x67lIl(;C\	@LIfCZTl8h|sK0L{hm]WP&m)C	WK"S`u!HQ-Al+G8Lq}VS A'f<G)|@,IfIFe2R		cob* (<C r;\Jpq@{ln;t
;}Cw;{&nJjWU8NsjN"gs3 BK~x33FW9hZ_
`-C`#3`O"KXkB@tXUS HC(dZ;9+Kb3L!T|t/ p$Auhi2w0~wC 5Py<v|h[l*`$_1 Hjx,uu. QXY2`+'?Fd_i^H]O0Lh>K44DfXrvGb?8	LLBJ@NF_ 	,E$-#yhRMX;^5B	G$h2Dz-<8/9V?>Z &H|qP"S6=AG`]e/WlH4RZp9}XTm0N:T<Jt
<Q2HR`x}m	!6j8S`!L
LtGq9h~80hKn	YLkK9fN<U0NuOuIhl<+C`H,wfHPdu? :E0v  lP&\V*<:]Elj	|2 #yH
M&y+E]kH0'_)i\&E12u }zxkXp;\So"wu &	8x @<8
-L!$K$%{&q#=RA|R(	'}
2h/~sBiH(AeW^<RUB\qW<^Jh6TtHUhCm@V"\4vIh$9vL{gabkmC^8.W1MpdhUt':(3V[D'(M1N6QX<GP@(*'D$P4t/(x#H9hP0Ei)T9h["a?>2D0@S#`X)>+<Ms4l$~%:$A.'y4Q{H|7`YAG `nSxlW,bW!4f4&(PTN~@`V0)t=XL)IQE$azTVQ{ 1$kud8um;_hIR7honrd3&^pdA;d|t,UE|B8-t0,X`nM"{K]SSoQidXVS,SL;$;j5a?*F-m0;}/7O%L)R/{aQWR`BoXR}J?"R8 mz}^Q;$ @P	Pe@"E8:5Kn#8dC_A.et v# $`t@  iT
C,#`@gfh##wL G;jXenNni@2ST%,tuXI;vh]h1sWI,#D$U'dBrhx1<nF:MHa]M\4DWA'I&\D$47,w+m/+Y`Hhc4hJ92@OT
2P,P2V,,,HHuQ*a0U~Q4H&& 4@&:7Ov!)+;G32CCB<<uX 7s|5+:
BTR<<e<OJGOZJl`;r~}|f7HVnO+80,Y0X,4,Joi{Hp\nd@	aK[)h|v+2 20r
G2,BOJGBc}JHsS 
YHGlBXpW(81n,QPQP,QPQPQ,PQPQPN8*DFQJ2K0#iM_X@0W<M_ c<nE6]R8^<C0?0@Ms_Z8<2ct [H^<^KUSM0Fx 1DtER*4.D4PWWgGY>2>EFH\u1	%TR~JCEL0T!X,\VA # !X-JH$`
L"%xC;3#*Z$+3 \hD#,+
2AMkuJ|HQ$1,F\6f?+TB<4,t192A4E
|~.>	KCI"eP"(4xW),*G(av	VGZ3{qp+!~o
*WG6oq2GvfFjF&aCfFb7{e7~7#dboLBGyzo+#M#B#J I/Ep
r+?Iv"V(4 #"\kzqXp.g /6v2tG@'UP7e_6VFKu:RJu	-8a:tK| LrUU4^Z2UC rUgjS@up"F-P]Bt"`6)C@]vX_6*L	/4
K{+	} 0"5F5;7D,p+ClL{ 4 OLKA  -Z36A&@RQ3%p3 PP=}Mc,pQoR9{< %8RK4l;<@y>V*3J	(LuJ o7yXp'D(d?,3e?x $(!~HXO343;@9%d`x,`{P  Pa}r1REF7yx\ $(,0$ZQ	 M<Y4} nA=3@z78x{XxQ4 @4e*s@pWdPl%"U"EZRj0gCL7iYxXYy~Wt	8x}c9'y#;|A0NoaDR"6KRP >tY@<$FAcnhm 23\
vp}@6[\/|F
;+:r]? 7Wak7%#]ES(O3;GkAF5[3FG!9 {kS;_q3.Dd9 I,y',-a+!JoR/^#I{w|%z0vh	i*sl *j8
$
(x8Q^\#Caf,2\N,!xw6O'_|O@0eBm&?Z<W)3E.L@HD,,<c! X#;@~ODwv9S`L0^-~R=#].<w20S =h37gO 2zwI~#fw qXvq1,3AHCWX`>{;!rXM`\ieH:d$BwwKLa'B&Ux,Xs5(/-y	^ o ^,c_A.<;)6$KX{Ym1 Vm	q_'`' 06!Xrt(&?0Fil*8FFTf02Lwx)&p'sMtO\Nf1]( 1	L3o$a	9,dh$oA$M6& *ociR!-VpX:Vp3k	y$sV"R<[=CbmeTF8if`xB&0!gy.( M!	7{a)hD'`	+X)G43$b8%~F,Xkjoh~	^~U`rdop<f-p%L vM`*|iJMo0Pj20B(T`\f(%'(@( "(YM[l@2 XDE(@zqmcV%UfYTuz,B(I,LWp:/" }eot*%\r \r$(,0\r%48<r%@DHIa5%/LP%\rTX\\r`dhKta`lpt+Z\rx|v17M$rx5Mpjbo+r(7m61=+%\rtpl\rhd`\\r%XTPr%LHD%\@<8%\r40,\r($ \r%!++)*5#y/0e@%QcL?/K4XATi/a/!,34/<41?
J3 $-Jp=Pb rJ! ~		(AD5L!G*ppBC'Ve$F} 2lH0-?y0DT R AF0" k"5&RM&^4zM,'P3!1&MCCA?0$8!Q(.5^VF(Mc%IJ8^at!B{U+6THh4fT p&[AR a$ Jv;0wo{]j5/Xe-2FCGL_F*K<ub`U -1*LE+6#8	,69&T:&9_`	ttA[d+HASOVCCiFph+M |s7 7$bFIFOu!(Q+ticgIft)vH];&(!SR?
H^aScQtH\	8:At Ga5:%}iYRelYBA:|mO#'=T	l!#^fX;3Ivuw4`34M	EPYcq@@^Gzx,%x0DY~x4+x8 /3r!S+3++93+Y.J> e(y$3(,+S0e 48< e @De eHLPe TX\Zdpe`d d hl dptxPd| g\0h@chCM`	$hAbnvXS@*S8<@04@(, $@@@CJF ?C.d 6@.0!e$Qjk5xKq>hVeF/,$)eY hE`J9,KI FPD(A.5@p+(b<7Uj7,(5 's'LHi0bQHnd&,EJD+*8IP|D4X	Qv(;j:ArAh*Et(8\(4M/$
>,TKps8u\424(,0	@FUS-8jD:<sJ@_>({Q<4QzL1+kh@:&:.~$WM3\UkP1VjT2z.lE^{Rjwf G4t3r4F,{o/JEBM8T6lG$GB6H!x#@xHIlT< D(<L&	'82aOi_H=t4JKM.@	r)	*5~|D@L@Tp@IIkQ"_]XCh\TP^2PF5C"vyT@
Vh`.r{*du6iF!+aFTDgdm:P<\l?
Kd8"D%8iwtorhFf#CAH0
JrD7E]U@n0{s(1)ALpM<!5EiKj$3qX~t$D):iyV<"V!0xH-}dm!@W@kHL &RUZ[|%x7n+ph#M#kS<l7k	sp@Hw&9$H!mh*
;|Ad1lIh0`1Z2rCC3p`
_ |,#Z81D<xcm33$#_k7N"hHxE-EW4m2I#: e>=yDwlJW|vD(K P>4^6X,C&Bz4ufF"HTMtP}WMhL`In3D<F\78<@hgk]y4*@Q#;89P3D8O H!MwDH40.`-<4My'"@>a&<a(c/apS<MN+V8RQWt5v7\I&j!.<!4nX<D
VmUU7
|`":nq,
SVo {*VeILx+HU+f,- P$v]v<N]r.n7W0NvfMHhtKXzKv&^' Un~%I#bLa\X,;$,= 
Az&6+zHlalUD	XH :!DLx`;.X	6;(O85Je&.earHe(mM cP%YKT,N-YH?>3	W TRa$<S@%V%W7x,]dl;j*`D<hHSp`a0 CgDp'<PDG)(^@M -poiO@cPp4Fr  ,ep4)71cLR\;AdA(h(?g6./xljbcW'6a,;jT9a|KJPg:qLTtHAubqiHy	I'n
|5`<BrBRg &+<k;qkB}<pa	##5MW	7b&EBDW
10xh$S"FWL,DVPh%iN3(&EcPsX[0XL<@Pt(+XheM]^Jq8<@XC^[`2@0VYDd85 \iH#hh DT"@WuL$kg0(Nzp,p!akuN8 K6sq$nto%*
 hA.h8n*0=HvicB&X+`lJ|m(cZ
*d&(,2g%[N{dl3Cwy-N<x:MN?&;a%N03_epSWR1R
D>PHF  |%d]5BlAM86|DHHH.3H".F3|%%m%%%% %%$(%%,0%%48$%<@FZDNV4D@.J.J<8.J.J40.J.J,(.J.J$ .J.J.J.J.J.JJ.J 2Ap9 9+ 4I Vm5Xy/AP<ja++ y!'+/ r+AJDQALK-Hc\H&MpY0r"	E|3]XISP
O_OMLHNLV |mH)=Ffu"Upq2vf#V# %d#VXO,kkDQ#jBM04{B#,^Xt<OPB+[?Po{<4^<<I;]uo/)a`S($tpd6%NDmk_,# +#u+F'X,W94+d_
AI?R!ap#ym+#
}	Ix#+#
MGJZ<#TJTWo+4w*+%<5a+fA <RX]LHEgQ pqbhVz8K w+cKC&&CCjCg$}8!0nB $"bgwG9vGeG7-&+{Lb^"PQcKD3#^	EP"gFRF3 ;u><A0Fd0L%3L|"w7@/Y_44SD M.KUMMUt\U_I03l}#&vF,*oh

lHOO-W! ^j0 :k_{&C_F^|Ca}C]m-\/lXztFW?UeEEMi&4U}EEd^5m294uE&Tu<GNA7TpC!FxCB0gF%*F\!<|pn3G {\\WsI8YLGIg9;;2q<x0`%4nlRv2B4
pX*D5HGJ=|>mTOQO+Xf	mO$MO5_>@@0E]:lEU0EE9z?_)1P$OM4yRiiK|0;QP; O;<|-P$O;,Ig7F>9)J~@o+ma{~K+5,?B;hKD:|?S@q+dRg;::#etuHZ'M-u(G~@c
8	%L!/NuH [:8A3h\6^R *B?X_-S&4&~	W} QdjSh]&Q h908	 @L SXVQ:W (t$$SYbxC'i%#x!Wsni>8SI+a0:5{>	e@ d"pDl"^Rl;~x@RHhQ"O8@e@48aVWnx\yuLE4HoI/\Z"p`D0DmPPfK&@h=QSCN{S	P'Gx40O6Y nm0+oI_QPxG^+M8g.btDp44#Ku .*UQq,V5%{LI+\P$y]sHKK#" V^s6 L"07p(W)H-7+sH+T%/\p `'1{	Hi
+dwm#/em1+HUdsokeD=Xpo+"M=4Kn nq.x|0E)Y+0|8<H@	u4
X(wkb-&@
+!XDr883(\$.&5M 	9R@1& W8_	`a'qTY,2 (
_yUExxIiN*BmEE,Y5&ZnIY`[R>ET|	
hC,iO#fG3G/3A_EkZ
`XFL?RPi(%J %F#H%@DM<S407K'SL5)we$jD Ir<v29M6#Pk[YK	O$R,"8n	_4 E^8 W-r<=<-D2nL(uR;qLMeMPSaU0,J8Bp1(@\o7fFw!%^!F5RFAFnIRP FA.Pp@,"S%.G+p=tl,G>5:@Pcj<i8	.vFl^	t\NZVKB	nZ3Jf@N.z,;+w9<OOy$OIG_zXJ0Tx;tEd6EM6.ygo4MhaO=.iM%3j+# 
i
(ytL"VP
 LGLaSQ
U*V@*&J}ArW1(+r~1>\T>[W'),F>2 ZnJ wa@[B @Z@Jwmp-(y$ 7gh6 S	<o,i+c]$aWe ]}79\~Cpq'.\$	AF+jnXF+&Z+f`U'B?r`.:`<bauG3[{OY`a"OWWlB}/`@oC1	E!MLP*z!MTp0S0XI$e0>r1dNJC	@v(dB@t-kZKuYOQMs B*@P_K8rB7h]"Jt Oe)2X ;`H4NA)SUSL3 $E G    j#R>#D_VV%OlFF`l"2Tl\FgWi2r' C@ k+dvWaY>bL i+TLT;|k,FG;tMr]EJV8whh8ee+I&^B(LPFpOpu%!"I8%HiPMe %Xj.6o-<p		6%2@; baV4)	44)PNL4)&ug:<8H34$pJ1;%$\B00Vz(6XKH<~ET<[?%*(FBlA,(E(1d&@D,\)iFp1Wf`&db(,'FN4P0cbxcDbhZIZ2' @B>2At#f,8p H%#,8_>(4<WA	H	DeG>@~h 
p>#BU.& uV5KW\nH(Zx 'Z"V(djpVL _qwGEDD N1Xw$.&!^?rNt?A`O)I@beZ vlbf!) 
|: u	=n#4
8(_y)*bv+-.XH,[x/1	2D3`.'H ^,egE@5P6R7Qh87]Z<z,)L,Te,._*ev
C;)fd*)*)f*+*+*FFI+,+,i&i+,-,-,-.ffd-.-.Z/./.P'B
D4DBJ2+1	:s0SX-;upn/ F.S#Jf4;Q^}$qXT+ CPLkU(W"HxwYhm:_/A-6j`wlSKh6d0-d@Dw#q[Y!3$0D'~1t)N5QTT3,D3D2&EO(WEh$0M54MzM="=MLEH)s%.JyhF";vZ{M)z4i{4Mt_Nie~i~md[4M4RNE<3&vu	d*cj
r E$*nB%#M@
+r%'CPec=32,C# @9= < &=d
jnHGdT&LAe/w$TNw$'9!
yy( }_z\PT+)at=TcUT)9+9U5|	|<P) ifM4xq\l4G6>M4M}vl^MiD;2.%i.i4SU0PyW/eSHUHmrHA3 L,ZSbQ-+CK!	Y,"SC\58nu#X@<]k 9W8#4"j'o.K8%@eP[Iw.QG[`\TwdUD4(x@~=rADFJ8tgF!8T|9KD J:d
PC
Z ,b5p7l(`)F3FU
@<_.J>J>14pEDb"iEdY:08xD8,$n4 D{FsF >)]x
j EP"\(%|L4 QCKZ\V[1(sh;HGH$6&Xl`Pe\D$%8DDU874M`pIDu</9_V_a>*&J4Mf\RKD:ie0XPH@i=5-%"y5?:rT^BNT^
wPxIbE?uznL kT
vC	54)AjH! ol0
C^xWV$Z WpYH{pZNVp?
HXDO)!ge+iTB4
N/ p3D_
4Z?5Usu;Wc}+0z$1"	9/MhxB{yG2.6iBX\G{+?50-Hy9!_~kv[v tZ0nJy' 2Pow |9_^tuN	E;u"R$
x_I	B8?1eK @	b"@+	D BLH0q/bth6X_%Y>6.M H49^Gp@eDX>$)<>P-;`'VwyD+|38
VR[3(&`lxh[X'aG<tUR%@j	P}y,W@OD2WGL 8!dl o?.}8l+24+J*bp	cvjhc	hD%)@"8)iVh	APZD{2qc*IX_WUM )Wf5k-'&A  J:i			o,	;n_s4(-BpPk[`'_]Y:/P W:"xtrX<13Dp~r,Uq< w.o\Ajf[tHt5$Q<,Mvd~hUKkT$DRP&\B5	S+,~SJ hFF<u,,BPw0<1zD7i~PGfd
.!hWD0LV O*Sdt*q{;xS
W60sZ29<5ZN $,(,qXU	>ELR"d\$l*P0 Tx"@nP\.:SRQ4[dHQPu%AC&V8< $S{`tz5tbz8_@I\0j	Fl8VpPVA+!`_C 8SVXJO.IY52&
UeR%>L:/0.rTt?Ll<(`d71l<&4QPR'F"N47 J!Sxhu6O9Gt#gqP=yn 4mhi2:^R 999 $(,900^4OURRZDX'4L99H\AS6**WCx$I/(eD pN|5C'Q&!$Rq7,mPxV}&fyHrL^%e	0 tht4LP&5*dH+U;McL0M82	\4RhJSyI0*_gN<fZ$ITl4yH,CGX,\CFSCS@'V^GS<(j$/x?uGY3o(=Bd$WKeu)Dh{GVTWVu|&%}hhU\$,$XW$WO80|0hSPS|69 fcI(W<*NDQ^< SFHnH4>xSQ0UygG \((rr2<<@D<rrHLL(T7F 
8Q+DLLQ/~<$P'''#PTX\s '``$DO}h QW	8L*y,grP9| N,xW[<VR>s iQ#GL	Ss D&zuWRB`N4
C AgSEBPM{P'txBhm 'wj7@Z'd&dhlptHtUF"[/iRE2lsISD<@-k|xj5W&l,DvHVOX_,C6FvQ
RH	?|gVNHeP!F	 t:WmQ
-#03k.,"p
^I!SE {@R,9yd<h_	V}92DB&::	
a|ge<Va%PJXree3	MEAH,Zk{B 0t6t H*"rkxJ*)A`h `?\Di. "Z?OuV,	SB	 o&K };CsGjmjt]CP8DklKw'y#A .lIZ3fc<jIh"-RL2jW5l#V\[_"<;E(fW& #(9PTfX8Og)!b`PNmVSs|!83xB:}P4S AN0
, ~E= ]0fXo(CV'i0a5tr^C~+tUUgl""<h">z0tES	m	y@ReGWWv"s SP`FX\}W!VU	VSSLpDL4M25a
(4A!|T'UVRmoPlGjV6!eWWW2}$2e~!@N
U$Uj5Z6N!FEV	%kt`\H0 9@mjT{xH7@qB}9uER1<NfFMuqK#2'WE
w:qR<WQwqb@,LL`wrlD
0,u}W%t{paOYG&RH*Ku"b`5AHhz.u;#}-hn0[eFPA(7#$JA_ 8QP_GT"ASF/UYVd@?d`B
m]lCA9#rUR60a_BlNUVt@aZuSc<K6M7DKL<;rq~L77$8|<*s+pYTsb||4t,a%\ 	/di2na|s05rrpL.=\#\VR{>0!sX3Z0?UE_"_ D dp>% I + ekN-u`uSR!8dCx7TKOLo&,Vp9S}	yI.hCXS#sjzTeG<l>?\8&D*^aF-%8b9^dyi:AGe1`0OD*SW:2^L;ky/2	q :oVgXVQArwiL0| ]@6 (Q5R~@xj<+4tab~EV*OJi5&*tWEHtdfeh0Q8Pjp#7jWIg tr 8
0i8PJXaSE83X[30~*!*p[!	6u@q'EfN~e	u^1Mm
S8$Q,nY,j=US|DG
TbiK(,:T#MWb_|\g(|,s'k<'}c1]<QwUFV.pi+WB=-tTUP\Be::a/C.BBn-p p>6^xhdB
}ic(YDX4U%]WJtZ2heJUAa$pXr(v'D%<#/S FrWuDPrh>57a5{z9 oZKW0H`cpB,YXtp+cuMb,rWPeC NI/qWtj{+i9P<WCIiTQrl9@'Y2$G9I"%qE%"llc@s@9he.I%t+(H([sk,Q`M Yfm% K
~8O X^0H3_Aj2>U86V88PAO\g?sQhLp[]3c	0d1 .2cc9@RCPTl
KSD^G4&[
<W$rv3`EK!H$*I!p WT4*CX_E<ax%RxE;vC]F=V+t-CX=&k?tds1\&Euo!|u :uBfe.rAeuyYaqEc#Jx$;n}9xF=eB#`.HG0+#cBp-F/2@B 2,L00!2\a	YNZl:@ FAyu	*mJPnoa`m	oys'<{)$''EA[ 5ydY"WeSp?Aw2! C,01;'r< sM|M>KQ}ykgLN-9kpC/:U>SZ'QQ~;.;(XpnIM3#Ol,]an0&'0h13#}qN1d`#9tsFR 4$0iI$0($,20a0`JHd4#8F)t<+SR4,pnfSpJ	(8aw36=7ad(c!h<)Xh$BnF8r30 r44a,fbc!7ZJ0h:WF83>vw4{hd4s13'2a-a$_&4$	c(1aDB4Bn.1c0"$am0|<	c$xaDTf0.0PV7{:aF7x
;< 7'4:dV<a0	#&(OhB 
F y 0 <@ \42<a,#e $5a.% aCE}}m+<$AGEX[o0n$<( K
+NbI<XEl"zh5%t|3D\<4@~%#T$RBPE2<_Q| E6{94L(rfR$@%p3CT	3Wxx-0F"a4W}|#A `i<#H9%y,ps@Q=S7tEhUO3,U9e8u.)%L73u6^I
E(z[t^-889GMAT8L{zt{')wNCjZ$iizh@h`&mP@?B(\8 -`F 2~pnd>f& 'V0=e8n'j` u%y &@d
x`5@j!K<hmjlM$V=\cW/@8&80xJXpT6am?cL-Vr;d_xl^Av)7uke8%Q&i29e	JHbh3/RX,h`VA5xA"Wc
dC<IC	<r+4`I<g ;98dWsmL+_tu^#cvCnGQ0h#?hhjn>4@SQfRP[;I[3,Y$TUy"q(LH^VZAj!M&
"S[09jBB"USm)QyzO+u_#*6G#%h@`T5OXbvD!"\loQ}w~)?	*A$X+AAAB!`wN#):u  hkjqp^'hu$(A?%bdii'A	yR`<=@SBdV i)BG 0r
	9wwyarvfwq<5<3"}1
</^<-ZAl$z3_a0L+l`hp)`I YSZWQ-hH,kqW(:
YpP^R6%<.8&5Q/t
~R\ {*L-<_@A
]It4Iuv<,urUdg4PW~E<+`ed:'#F1(6O.V#y'fv`P>ga!?B*h5<h$.hC3AQ{aS>h?ljmD! hDc;b 9OPki%F^Wy4k!l6/P\2h  aP!W 1:J]!1h[sCF%V	\~Lm;hAfVW&VR)2HQ	40w(57@e,)Ec^P+p6(]? nc.&-}m?% /h`DK%4x@d`cI pvpeI@YeAW 6BBF.) PSZ	JWX@~{j3,8R+$,^q}y["&~=XBXQzCU^CQ	deQ"I
PwCH
	L:-h~wKA+D>RA8"tE} KvWPQ~7+?h$`4)j{ZT*0Pq> _u
94V)QE M ]!8j.PE')b2gh!9?&FRH	%a!3 @	'a$g`'lB_u57GjM_0me0m\r?`t3;%	%H:NCmt	T09arOpmN0C`4g`<ttm$7@v>JLD$$PqPzP/QMJMZP 3jB	@z_L
h-A/	Zyt/Qx{b)w:+aI8
~%g0ht 	Y]oIX9LLrta t~aM3<ADtVbw9pDvE8vEdA>'#	WR9iXl	[lqUjtPx v
tIGx/VY\/o(hrL$K 0j KSa!V(hxouTPBeK1`7B?mIBmII<mIIFD&18 %E!`"@ ~@\!1;LlU^;q::0'lR2Atj3hiHHIlwuDY3OiW(JGf/^D|PR6S#VDQ>GPS^dX&3MrjgjlXa@vl&znW1q! S
@7zd(#UZRW\{<CdjfNwD{RNQ/-HC%JLlDSixP[6/U'iB&iGCUepkQG)BX(\,1AT@8hh-3/lH1PEs-!G 8
rN
MzSB[mshl<iKnXoeieei $ iei$(,(,eie04048+j<8<Zj-
m5F3V /3]W)'K8#eI/3 {I'ngg33kZY3K35,	 vK$3Th2,$L04 228		N<O$q	##[Av!Y+##>4qG@ ?## 9"gP_#(%04+#%gf@+ck<	gg	 ck\gx+0Agg6 Y+b6$e	f+$e)))	8), )+6K-32lG<#md([%Y?[l
E<2?KYmd?8i5=O3?+<?rcD84>)?#Sd?8,Wc/w?Zz#>~}BF4)dd
,F0(@Au82vW0FyGr ZNOmxF,G3e00Fhm(QGN*N&Ed 	@0	dB&	d4	g@&d<	8dB&R2u52O+l9}NS+@L+{fY={h?{y$?iUGf?, ?0H3?j|4?y8?@R5\>}20 2,L!#S<4/Z
SOz8d9P)iPK8>	D?o<hp<k$>!>>%#>4JF.>N5]>N<}22 1220##$M\ k,G%(p	FEGE`%Xe@&d	(p	8	 g 	dB&0a`u)g&d"SJ|}<y>pm	yq#>yq#>yq#>yq#>8yq#>Fyq#>F$yq#>F,yq#>F 2p#>~0S+L!#(!#S}0L4Gr{e#vmzHnEFeH[2E2H[H,E2<@2m#929#20]92F#"34JdJ$	dJd(dJ8
^BGcNP0<9B( 9BN B99A&d48r0KD<r$Ds,!B
BLPm
Bm
RFI5
@j2C
 r5BD~#33423hf	lf&S@<H@mI hBlF\Fg>vMhV/H@	$H\&P	3Bg)%@l,)8nT])lP~&{pD0s4K8!!A5^
{8D{6hckJ|8!-f[{`^8m6.;@l6 UV@%=Ng\`_$)=Ae#a$;"l?X8	R Dp?	hfwV9$WVXV"TRS0Ry,bxF&$QV_Gpw>#LOWR(lZw_PE	Ey,,@PxM	 u@m QLmo q+#$$o;a)!mMlP 'HWQa1$R6y g(2{%~*:mCL`~ K2x xnHNxn+dS*R+ GGARxC?D|^(),8AB"~R/PU8Ly= ASM;{?u^m(lx`&aC7;}p8	@>IcNom-|i>2@Wj\MDIob2Hu_aD"4/ X];w
t}!h@oi=s_<Dm#2)Cv@fS^GD"GfD!"6r$jkn+F_AB?;+:WedOtuMA9a%B0AC~zw;7t:}6|AA}*K)<YOx\-\`vKuL-`t*: dCa>N?G064f- N0ptV_cD)st<VZ:SkWJI4IU	]uY= H D ^(t^h9eL#o$FeFWEX@# lB)O_a>W%:HKOV|'@4m>6*|ROy]" )6Xq_=:XelP7_BYDtsP>MgKxQL,=V;C@,~J(W;|?#>>IvA_ ?
0S{o0,)s+Y4Se9
s+p9r1.< 55R$ TW9L5h]ud eRuk %a/f>J6AFG2\WuEI}| jGh:iBX}]qw40haH*;^K|J0xa,\I9d-1B54!>lKY|,,%;s'D(&Uh6<
wELycD%D&hCIVH$_#hXtBj}n5GXMZanuXb]]KvY/iYJ}5~/SM" #PnLSC?i \Q|wX&,nkZ(d0]mEFR\ n#	
~
|# $<?$O&:Z] za~zbL!\RS`A-|~I;[Vf<33NS.vE| 
u)IU x#; 5p=\ AdkVpA0fU{NV@L r*p-:M|*qtUQt>83rFM)niRY*'$@kRtsFRv}8F)&`QYFW$) [+3<qI AiIZ-^pH|.ZH[]"c!,OHc~Zb6pqmAvCT@TaCrBDQrrUlA<bRSl?@[n6KZ,i@NHC^2(,Md$ 4u!hP1|fj|Jhm,DW?J
8uQLI?R3 _]A8=B<HT9	A&=EUSfA~L\C1#2Yk	qhr#!,TJ`C#	_&?+ndPR5h*U"<V||PW	\`(mP9I`,PWQP=	XpHcW% rle0PfpK2 AeHTR`:K~`d)CdB&TdpxN~K@h`bPOy U!82
RZ!,As ~KU`<PPX)0PY3qH4pzGK(|ITNz<	[OPv$t0kgMa TDP[n	:No# 4|{T$0Ra\J!@:4,6#s-D7b Sut-:A=W	 H8dbM-0
V!%\un 9WPu38C!C\uG2\<((&Qb 6XdVc>g!{WV 6mH O+V8sujP[q$UqsQ=/Ope3uFuVq2 ,J9vWV  2kPtxH"*dr^t8t Mm(Q <fLi$
atMVS6(h%	ujut9	@T92{QRPz!( !u;$3ms&[g2Suuc]UN"MU$Y d\0W/8/	$"UbPg(
<p$ l:) `h^X,sJY"~zp< 	r!2r~p%t2NrP= LOF~.DwA*{R{v`L3<OC ik|bda,c-ckNbTtVu\i+wk\(],E4@)~Uir+V(  r4*Z(M +Ao~/69j'/V)Rm@jC
S\c&0:4pD
5yRVjtHdo]rQ(47^ NK*/p'SZ0[/0oX;2 >+5QP]0^f|\!VdwyV14K7* iaiAiSQxtNlG I)IW{j/;h~5P *K3JOz
;$@;GZ:oj@c@CwRSiLB(DISL\s&u8 VN
CA'm@t#	u`MWWt(G$H
@2;,H-@l+}=#~ZGdVC<uAxhy{6dvi'Ju]f;}+
JNuDVU+UL+E\Wx8.Nl`QV,R |1V`=9t_SGmwgSGbOBgVk)lUi/]a*!6j \-.,$, VRB[2/6@D@'B3=lF 8dc%vB7%` \t1@: c mV~VpLG@t(80|QQ	t(Qs@Su;0490:\3v2,WR2Vu^|H`ZCtr-N#Ao:SK.H(%FCzJ#XCuk2A^W#&73v0#W8"#t
ihm8c
_Xhn+}3Lxzz}AX[^d8$rjZmjoQm>WKiJaS-g9#I_Li;~Uno`]]?Ky ?4G%` XzLmuVA~&tG*( e7ZGbGD,#5p 7'bQrop7O|	Vhj/_Wq#H3]@t
HtB+|tw<2/xCXZsct ~ =+LBWm	G;hiqNjw3kQ#L<U3Qq`dX;\brZ"V=`]z[h/hS:	Z 08, 49jWA0l7\g+I48rqC"^pOT(p@4N@;d_9j*hye()}C0urxj4>.6f8Rw7A'PvT]/%F2T3Uhg}&)jS.YoPW_ho]Nd6xP@ 
Jp*TR_Iu-k0WPSCN	+UP9"=l$:(J4>|$;,?M4,+ -'S!+'PLW~VY(3,4#H C	{!K#;)QB`S.+ _~MV)Wj035Ly3(zH+SFE)6\ V|#t8B)U/'_R)}Ql!
M[|7\USa;nt{[njOuumXPv0'
WO"Thr(.FHR%$ hh[uVE
Fui;0}bpKFp.h zx
9<$Fcr4SShB#3y 6]pDrslZ8+V%B WM2EcNzo:Vv"xKDp#kZ^ O$F$H[u<jz,pXdUN5Cf;pCvPsgwW 9vpjd)cj|ahm64*9] GB?Bg(b7Gqd@&qzq
S2mik>$vjJP,q;U42@& LS\H(HITsC%|~vRRi=;~Y9<VE0@Q}~7G5BBAHd4RCT+`h6Scah*I(/lpts/pzCa}WMGh( $<)h:KRV]8,=[' "o$3# )E]I}@n<u,PZ$!>&V:QUT4V;RU+%9;"$RU`Lq&Sg:-,|:tjA8K QbB	NW8`uAU 4S52@~UudS Rpi,($v  7&|c.
	4PV%..g[l1A-^PVzN6QVX>D2~$mb@b#WtU &+#UUYn$XD_{WUPP=4tx'I3fQs>6GR'A)Tj1$[G	VYD(QW@/V#_4
(
6;t57H,n~TBuDl?4|m;W%n
o \v: hj~z
\%{EC <{-IC{MOG?aBIFXGqF	;&?_"A;SQ7$m<VqLatR kQZx<8&s@(?p6QgaNxh uUXu;;(\VZ6S,tXb
+A7;A(?P3BJ3Pm:VQ):	!34&7@Jf5VV&0Hk64zY=#-1 7XA/})%@ DD#}F 
`4ITIZ'[@R+{m`DDh, 8[OHnjRT`ju
4i-t@Md"^X3hUn
p^!a~ \'`B;8VQR<H5e$QYjG5 M^%^%2@->#R,2>fqq@DSGPAO% =%mlk*
44ME)8}AkF}%u	b;Fv\M;r~MI+IsEUW c
RUp TB/6^B"pN),i9DmI@"`RLNx#EN8FxCVM
3PAJ5`ns`C (&hH/"r\-sl+8( \`,4@DU"yMdc[U2-hjpkK"@J!L
8OWJ;vA43GlvDE=N 'd@/ca\K9pFe*QS]uCizXB.%> z0U, 'diFC~m]')@8YuxdC!G#Wn&^SCaT.Hx(e}/,Lh8o\K{uP%(d3B$L#Um
RA!>I1q b >)^!`RBWC,( ' <pG^{'u2S&H ,}}pq.S&^u=Oe9CW8}B
+,%&U_l*0DA]^^`?c#Wp!
9v_$++VMQVF+}AFu-u>OcE/$E9}0<:2Iu;	;8o	8R/II!Gv4&ZAj k|Fu.,/H-ZDqn Hw]'_U /0L$HM  I
\!H"hHfjFv0,n$@!@TPg=qu+8UA,c; @l.\UB/:`N7IHA<-:9GZXc N X0pX~F/LNO!e1)ix0$OO  QLH0W,WUWHV>)$UtM	<M7L=qVmwW DSOH2$2TKr}a
 WX!0AET#d0$NASVP4 ?`px `h6U2yT/e?%#y+n8@51DpiLV1"0<P1Dc@E1T*	r>uGK.?+M++0r<1M L)[| UP@mc_94*VSFtaN|!SQO@H]>K.{GvEM]}v>1<)WGWI^4$T0iRG49a<s5[#H0.qq	7r@E{K TsLW*QqPf|8HM?HkfD9OqM"uDD
R|,
rQH0<R~H;41ShlxRz\h`Ak/H"mh\O ZTB,deKyD64R^ld.(Cp	I WxJ=	B2I`sN_d"/TgP*Q{R;.;2qPgmF,p[jn@br.@,8jd]pF--=mXjE,/Mx1DP5~a`\p$x=A8"
AYH{-`j%OH\1on-r7|VJ"x|[L
WX.![Jfx!*_vQ0Qa	nxW44V=8Lj GO0pT@ *u~KublhA/(RtIZY( !>&V6*/THNDHoC'T+hhI+H&<qp**LZ7wI	jr\y
RhmMRgT@OgW $0(QZFJ5_p$3PM43ZZGC&W<ZlI0q3A]?@C#S8YyKk4R]_|c"rN
})C$\DS,VCoV316b uBa0HVFWqu.*2$W(zK%"3hB2'F|0#/YQh QmS G	Xt=?h\.4_}*`.3~aU`d^	LF'ao$Y\(N<.PXh#,qb2Np8W$Ku_\HKWud.xPLjX"=c-dO{VXtD C%N>`j!J[`uy\Ph"^mQ{@ZW;bK
fI*/sCd:p1cIP DCc_ %B;P^ip>,j'64G;B97<C%Y'VV;[AWRA
};Bj3!X5Z&8, O_Whq/h;g|?(Bs?KH[PuQh&TRvR>hF #,QE#`)XEBPqPbrX=AhU0I5tVRoO\MelNUCRShA7$QbY|(/Z|WU%\4,;(^MWR `WQE-,;3cSu&N Yy4&=0Fc74 0fhqMOqxg04~?VX-j;o`"QUUa%q^} E.,a9nU`sIbp8aRX@- <9CBH	!g?bAmA&+h5h@wqFdXF'oGE Q".J8P`wX3VH$ExB
Wea$"qdUm| DrP7"3)WPD:?<	tzI>G($4C(-EU$#n@ Z8fDn+b8`%UJ7@T2BsEn6 [SW8`nV8 VH[pxQIDv"<F4!1]KUlIdFa@"AS)cM9yQE C@~"`I4s~Zou/hr!%$G7Pc$]ew{H
<1tdhWBm>lu6
gcSQmlAg]fiS&AaV=$9Fkw &?$CpE:C:uV-"=2S0,B3}""eYB=d<J4ySh;	0y'%8 ,bjSV]S`$z$	>AW@hu!b"+Ln;DTrR8a,4>n~C$fa>t*R&$X$p < \`EMHhL tWyUqJxM-t\-txLIA7T-P:C,f#8LVyp uWfU2
\hP#>l"N@iSOhHEO>QP+m5^QEIi8bU*q P?rr04hc<E#
WlBNF%u>07Xd sS'q30!RG<vyApn%
_zjRd&7PaEaD<E3uG'C{=PGD !xjwtD8#|*[ 
#1)&<;?R\sV8"t<>  fzn5<.o5JWo t@"M5-'^!E[Fr.2GAH[\\s:XA=Xhy@B^Pw:0N5i8q<#P+vAyGxK*	h_4Bh@H
8Fvu\7Uml@3&1?K#YO "hC*0!WwYb(q;`2Sg#vS'AG{L[m^ K@A$JZyPhll-hw8:%zhhvI^M0z"Ph,fi	C Y3xBj	`	ZOjEQV78hF _HwQ/r$vm5Px`}+y	'BmFQSG]x}L XF-Pw0XR=![?j^iEcDGaXW/Y G| E6+	;?Y3-a! P)1 !.9A7W0[RSp1UeH=IX~S- O)-CT TV h:ISJUErUm<*:EaPP$`f,PS	jy1!RW"zBKhb."rP/UZu*\Rj>F}!'SRe}C)!~|%0FFjmv"jA
WRq1Qa[4"4} 8# mb!MP0U}g?hgC`4h!%MOLht1Ut`#~4~hSm(yLi uf[oLI<K	|{"B_SMO!3~;Zcm,We! hs".Ni_9(e`
2tG R44l|u7ismU@0IBQ}e(xlK>VRDHFR0|#R F*C@4jkR)Lh*ETP Q$' 4C!saY8})La{yi&|y^f +OQBNRR
9%4;S|22|xD V(mGf;hpq$u

C;!lHB#8dXxAwPRPm@L3$IX
 '4#
K&(XD;,h<ua+DuC_ik9`R5tAfYWbwz%`NiS5L24QT#iR`8AQryX|2W^3y$nvvAJrywe)PH-,QL<x ],)bT`q	I>FW*UP[PNEJo9&B`#5M3VF6 C	&Fdz[r;"8+9d ~Md?W8$"+UVu&j&hO) Ji2k`0U=|kt\,"7XMl?.NToI
[_kRFV&^;}<_[UhN$h;}jz&"S=Xj"1<
|juV"iXYAqPC\Vb*j4^05\QYAU:QW)mx=f"1
~.}Uhz7CV#.w$>~W(CZl%a
	)W	W( !Ci^> 6.|x4&phlb`X=Qj!*0!L0&'@m8[viBH;9bQkuVUi
o?l,S+Z%tp'O?UF	]1 HMWu<]AjvWY1 V)1 .oh ] Js.J;n-+^RKN?r0>Cou[F}-}% EV&e:uK/Xh_
!.U1T|^$2 F?/RPa
SP+imfgQ_oj`XwsFW-`;h\T?WAA#< GN$0jhz\LP1?#jmVoh4s3+*t6
GJQA,Q_
8a`)9)+|#'e(4s OC(ho}C:Yi<5{t=]&=6w1'?)l7HX(,
/>=UD$?P8VoD.)/4[@HaqSVhX)$|p':nZ#PFu m_M &?($ }ao74P,,\[>`p]&/-P@?sYoZ0 tt)AKK)tBcIZ' OiN/\ !iPMHr 0$R
VrFf)6sw)rliX%WK>"A3-jU@hBPn]V&K!5A:VU4n#9{jc@dV +%& uqW=d`c#jqA^&&s	. DUDiO0W{D	 6?$?SZhMb?8|
)B"uh$t983a<h2HR-eQa.t Y,+PXL3&30ti-Hu.0B bSaf 5zd>JWtR1(-
TS,3S:W;ybo<}I^q*u"`ju(R}zh2_? Q/ai,a`q}A^[B(){{5_qdFQ9k%uxKo#WA_~;uUSMA8)H.I,%6\Si-C/I}bf } o:MC09( afY~AF%]NA8xk3=~kKDDSSA,:]XL)D)$RVPI C`v.9)#dWW|3kuWOq1	P'4)ryLC@	nQocwA9WSpbGM!tofQ!`A&:L
!Q2
/:d? D}I4q
7 O ?8@O[P/Ag/Q9t'B@|n~A\}[^8! 	+#TNc$"$q"H}dj^iBlmvBP	R*-`K+k@4Dm	& 0X4TE=X6\2%N!<gh(~D"XgBFxIhO`M="qSRG6KaEB,<Pp

`bH8xe B`3}0q@~Z03,9W2 00$bi2A$ dheaIiTV2IhL1;*6&1v#hag_!u
h||txsj{B%v^Kc	E!Q,0^-+'@>P=LV,r@U83fLAq>D+_u1(t%HkP.Y	[,cUS$JBYQkQHe?|}7 ^)w+G,<<<<0<D=oeYHpu
jIWAjaIit2ie2Ki21i2Yg\$k`QA(.1!.k><tk,%
~y!Mti'#W-#E^(x3#39#!
?#E&T_/?_#rFeyYgY $ey(,04~X8<@uot]KtQtCt56,-$,t4WTD2-\	O/im5+K-xS90,Mp@jMVJ2z@2*PU2\2CW++Q6+W-bW-Wh--W-(FW-W@1Z-Wg*W9"UW3WH-3W3EjW3VWT4)k3~nYvK_;;*C( Z(Fvk@},ZJ i7f%ahx<3f Cy5X-p~798$Y)YBr K!7E r\&B.BHa!r-h a!7<-I$\Q\HF(#,@`$#90C478}<s*Xvj=es)LU;L@{Wkv&vV4n0"m`Fi8;2`F|<oJ{Zww~+4B>_*8s^4O#v+
n!ec]
+p0_r+!
L9On TAs [ebofy/M0$W$\V6*O	di]*,0iV$s_4Lo8W<C`V=h +OV^;BO2-CEWy]xP6F&'JNQMkv{iLG(ZLH@uF&RcZ75ule!VA70}6%L }y..r5lm!P4v}}<QS AzU+Bw,fe9
8[VI0Wz}>^bQ'g 0g|PP>[ 9vVpd'Q7V@5[d(We:`3$@+s9*t{7;a_]$$RC z_ ~_[Aqb6lM,Dvu'f`G m=-,,I %cE8%?}=B/yv}pVzM2QIMu8_	Y4#W( D-;_tR9Q>Xt 6G0YX5 hM,^);sZ\a$qr AX[[ J|F0qt"gl?A0t"V+ p	%"WM, FK44C0<@xRu#$#W!2c_Z

3wB,L#5K,F&}DP6);@!D&	&xI0USEXvUS*3R+%q	K;~,,QW]$4=I L5R&dME$F4N<7RU;++~(0qL^ g[
{qYg"UQQSW`@4zeEMHl~0stoj@>-`	u/(#@,+ejo3!N#IB06<hQ%J;PV9j%BV.SW}@.|:t UUA,aS3|u"HA6,p%WBHi#s:!irDuPW722_K lB
QFp [UEEUn%8 l%H|zA 2X\`=PhoV@cdD<~<|H=D@`
.|aP|US`t-dM$JA?-!Th|fe|Z]cxI pA&0k|-VYPJJ}+AH"J3vFwVWSpx	XN|}Z6vO
K Hp"C}@<<OG{NHDThv$}5uF< #,DCAL$K[GhjhtI(x	*WN+

'1IH,7`;uh4o{V$GD NZzV<A|<Z%.Ak
Qw0;I9bCU80)$uv!B&8/9Y+	IC-}1D8#~EK+!GKY \IB/juj -+OU& 3q0Pyd,raP_hmkCru^;v
=Bv+MA),=
QntRHc yNTRDgP<4-eoX&"atS:P DNF>R)PUR1=IXZPq0
%tWr QTR(j[-r?$DLO;#A1dVL`'@3>2 'E KKBAen"2.-='Nx&{
K37
t<OH]kdD<,u@<b<0?Rs(~r4$
cN
1ndD,,F$+2Z/$hfTj
v.XLi !X%_&	.lirxk!AU[s	-,4<6_nK^kLvn
WgbFku2tY+F[6Tlifz$/`} +@kkYU ld,pZ\E^U ]0Eq()86.O3.SGzzYR0[SPR<V^1C%`D4'9M}h@!AZ)aeEy31T?a$BHCCjGcn[QaR0|Gea]BXXlZ; t;8PW)L8+NuRFl6Y-[&dS$c-$BhTJr1?[ `(a"`~@_#=lUP?4PDf0\P_qWF% = wctH%Ct JT0H\V
.0 'rl I AF.mJ~rI!_s=L[&40o00SK&P`<<]d$AKZ'HDl 4NX/MJ		9 \~u'8Qb(2BZ9NGiM'8O 2a @iKcm,0z= R@RW"HaD=D<@6=2ivU
(C6,ExWP+	&y
GS$hR?2}8 t+AXpua04k <H]Kada#+$p$\pct$"@Jr2HhqF$?FP}P@ h KW/s-)w"
Ead3k~?WSOyJEjjmGHPI;lA" Shh,\(BbFP6i^.xd
 87!hbkj6 HUYTR*EPx|ErA  [Z PPBJK8 =@*h~lNl!xsjwj#[FjW_Q>8)jXA4wWx5aZ\S(S w;j>at3 6+a8$`k42*K|-Y\6jzaujjq%yR2&QJeStT$v'%/@emXm,X\E.&Q>|FB?M,7P% 2napxC#O QQGL`u*P)y+4ypp(i.$qG~!  FCpr*=486A ,IdKfV|>aTCA]t_ 0`K-h_	ATV_b;Nk"H)'ab@N(Mu P?fQ@t{k#B5uMAt< tEu?%C'MMJ~
tH/8;q_GXFq/A{/opw61Vo	u)Eb;XCtdwg"Nve,Fo2tkyO<ruCo<n+
rr!bt;du	.%.yOf$L5>y{V3Llv}>
[+VfYotG du:PL'8OGdg;I~o[H(~) ,e(lm,/4t		7;G8UReZq l
'dw2BP3'i2!1EQ4WX(+	UzlwFp#MA2 {R,2?e`biGqqfu qhkUr&yD	4 ?	JD)/eu@%Ae=_ HJ@ 6D8ST}V,D]Mt%`->V-Wtu1R0dWiz"v>5@DCit;os[uD R8qA=*P|w~6cqNp|9kl?6zBwgE$ 0"XVy6%CSXkwaxxN	vw+t|4<V xQuPN=@-}<.@#SdW
oN yB4#5RI0sCH#A)O&r h9
O\h;AA!,FV.7/`hgD08&hVVFa&vSM @4 Gu`xE~DG6H5P;'@"%rAR8{MS$FET.a<~jWKDv@}nXJWK,| aoH7nM y[KFV[J	 R}Ga(!#)G-
mZBr.^
*1ro]t\hM%dj@"t}I .2+`Q|WeXa GIRZ}wBU^K1XUId>=VvyF+Vf5MME9FH^XFN`{0>GuHEOFaKuvCAX[&@8Feqz_#@?niEAQS,WBU$,pGH~/t-UY*'_9[K6kE *)yQixn=my$MO D4Pa5hnie'FWAA* N&sB
/SD@~y$4RhM>&4G";2!vGWl5"4,)VJRbA	\^BIA4Yr'dg7 WQJ_H<&j)$ !$NE8su*h90(H5ka_]+W.l]VtE"#^Vdn=I+d<PVEC@Hv$X<"Pf 
_/WRp%_%S	G1`u
i@U]TJ&J	WOx)$<Ha>Oy^@G:RDIL`ZU]!Fa6yZ<H$0:Le71cU<F }!Z2$y];UH*\j'$1h"Atb1B8L46 W=4iSfk)ivuYb TO4h>.*>P\_ j#EE.@f]c!<5c`h dvP DEE{8kKU=WvD6,0|tTF-	micf#tYX+s)T;l$H,XN!hM[X-Lo>=]ap/$S$<;-k&!X9O;">_60M{>U8:fe I.sjY&,jVnAX`p(J:@I8)xhYyT`_PEsHD"T@0N@-R1	UBvd/L|0v	Cuk[ &ka0H6 _!@?A& +Lv+F)ZalHgb)A=QrmDC-  u2 Q$%A^d4A</8d@HDXdA\LPT"1Ll6R44M{X qq|4MM4MMlCRZinE4#.(  f%{78t	8J2NDWt1H; ?_x*k_r/S 7BuG_ VPtk
nam GSf 9]:Yd#1Y<6Q1}W "^pd 	 6	haz	5|v@8DPM
w!^ @-HCA1se`Eh\`rN-_VhK[IHJuLHd@
r$ D#,HzHD6EF`4L$4NxWA2%8B`an%di/hy0V mi_XTH?Tu$XD)t.NW"*#/NhgUS\%UT]OX>`ov5YdP+A(orx;o'su3oaB)a<@H<ll\0|NBh^Bby>djV2 ZNP6I|s0i]<CIyv1X+R!!<tR5NY'h3o	kjCHuh |_CBKDc&|[9wVP@$<&cQ2a2`bw }@5M,T'_| >9~ xA9#&|>P6n1EAh0Bq<) eDhA"$v:TBrA
@E5 |F<8 #t&<s
:a 291u*=)Al#*{l#V'B8XL(UC$6z	-	Hne<=Ga)pg"C">t4? ghl>L
 X>~C\K`Sd622ewF@ 5 01XOVtAC
|EP&l%pEb zM`C,ZI;S7q^LwKhQBIKh8yA	*OB+USz$,QSMT4106{>epfV<VRzto;]prI<&t+xL(0Z	
#4d`{H&Q40@d&H/f;{"106-./[;%h;Uh3]9y;>PThQ^7 >&{!U${%~4%(,0ns[`_/M&rdhd F67+k% 2yE	lppjt=PKw4qi&.p=e |WX?R?/N i"G0zn0U0h{OIN.y9=>b6VxR2Qx1 <ht )gq~>~.%,3=P_~!nc_}rqCD!GBBm^t%bH@`2>%1_$[2uwwuBGf89AQ9dX@
/tU `04@4^W,P 4B#,DucFF~7HeN V;b1D-U<.LWW} XR47 Y	}pdUHCMwP\URvf1IdC 'D(t&axQFV%lc<A2hUjRv lU;pm	uCh:%;{YNOmLA
e[Q$_2#?UG=d\hVbK>Q+hi-SCvs8\Co|m,8@PdL1QU5G#3BhPYRSqSa`\ |Naw t8,xMQ.7p8
 !"*UWPKdNQ=E'_]BlW&ho`@uMKpSlM)6^0c	.o^[hd
3|UrLjIY1|jNR[>T*1V VPLD`%!hX%snG,hlnWkUuR6v8
u	w\cB,-h!UFCHSgVScZ%L :/.8?zWKdhnKjGh1\L[h;> |$pE,^j]5rJ2? F@j:0Xe)=\;n4J{;/$
,_v!K1G
uX+@kb)Fj!+Vm,;i$#<o gfaCC@\z&Ia( {geDuC&:R0v2xiDIEmHtpy7Cj}.h6mZ0=S
pA)Hoot]E"PFe__{ ]^X <$|RPSF_QA+x/.uDHj|%&
_>e3!lh'B+lPBJk@( @'WE8;08EL{X)~`aupE$s4%zB. S&;pD-DoAZ=	HlE~~$Ch}hHs*-/+$z@.@3t NAv$QKS]PaSrDHTKU

a	K(h%Ar S~?SV2|}UD-8Q	fXp0S}*I14VD2KXH\`N

$TBl@ sdh6MsB(HM#1P C<hNB^haY%B-hw
n6?FCoFkE&
eBF6BPPS<}QE10U(*0OeD#uTV05?h+
r@u@i5,G\0$r@%"qf>}h2S@8[KAFMO.,%zw;$WG$3Lrp|<8Z lRhLH( GAKUbxh'7m11*+6.19b];V@@DlMq\3 4Di1>y5u4LpWUXrXLyo -Jt"Fix(q]BqSSW-30s}6	aXDA!<DKq==g iv\j<;7aAKhcGDK5d3[JfC{%xw \E)!d
S}N(Al~}UPBAh@
>N4,-lM|__SWXRtO1h@z{tu@$g@4!vvpHGY4meyU8+8Z81cWXjfJ:QX }$@)W%<_q7&
w\;NT&hjy\qjPv6xd.mLdBx`*r"p+W<4VB6RQ*BLGauzzx)9,"e X*n!SGB/Bn\9ClLA>F$:H<dH.m\CUM*^{+gRH"y)zF*p7D->GX8	Ept(X^;cp0P.I${`;T9[K=!2}@h_K8y(jOudk4Pj l
fr	O*`LaM4j&Xb<U1"H3BX <l~Kvf`U,2N_aVLH]jrt@Lrq3a`+v\l`07{yhL%5"hpv@`ohhDd.et0[s~h18$SADl>Ww 7ai	
r4<9~hf{h*W eOR[	B@D QX]?MHWax`Vgt68j2[yVhFYCYx1=TZI{X'xX"oT7G4 3Mz# it&QYpqL4QHj. u'Qv6%tcr
V0=&~5B1Uu0 L@m'E$ }<p%hwh'>of@X6VRV8<,ITCKKR:p0RrN!8hDKUy$)  dWG)`& d|ve:bU&{}JIU0P1
 BPTUi-RQ8@5Cl[ "z]%]M*2fW4^dGYR_Oz.^DF^0Vcj(K}rof5 Ai*{iG=JRT8g/2/1YH^iZ@e=}|uc3|reTGjFQER6#lKNo@(!$J	w R7N 	MjP DnW ,jSvH
_ 0N>$RwVta`=VAG4GGW`mlcGS4Q
3=pmR~h& 9(-ht	m:>rq~"HT>ZC@tl wP&(Q_ 	q8uV9t3* v~+PVZj g |)\#|jh-v6!0h/u6/nWj)]Dp wZ  @VX6rnFX$su$GR
Sp>S@(DnH!l-Y[+YBBJPXXSQ~
8@Ak.GL5a\q"ai~|'hu-'y!;<@{Gj1!6!tLY66%D<DZd6Z6P ~[t$i:
YAQ iUp "4HZ "MXlJ#y m|6<X/t^/P9UeQ~d~Jh*mo!09SY\*TP[_:aK?!F9=QhP (v},+	} SX, up$J% .M/y
@C*qCq	2 om;@r} @s@Wh E%A#z;BJjFp'"vD PHI`LL-M6/+t2IS/c !5_s-Tvh8.i} I1W 1\L%BII5Nhbg"ryrq\Ch [Ub,%cLs8 u*kO;+St
R*|gIaQN}$hV!*U_WUFB~gJxU3YZ T?=IEi'Enuon[	a(0VF|@t	mA=	=] }s3=jFDx{I1= P	U+N~&&Pvro54d`
P@7n0nIh\[FNxXmMF/>nDAJ7->	^=,F3mLhpuw0	Vk)PEIIX1* ) @_`WV&|P2a	%4w=lamH"6`<<xXDg\L|V=c0-p?N6st`<v :5D$w6?L<uQ>a;KQh{I(,IKt6< nLa/AwwV! TW1akVOx&VuH!P?hF'|2x r
`/.PK0~a>Ua,ca`9tR</jdtm=lg~=0A$4@8A>0|%:Pt@$t
V!L!krHr2,'k@m#P
@	:~<6T&/".3>USDR<&^4K9Tv|!LuF9 t 8 7@.! hp\P[Q><un( ,ih7vuaXJ- "63<At@Wj &JI7]<^Bw2ncI0W $\F<|"*bM[.I
E ehj'rYgkL @j! 2SAC<b_CtA-'MQ#Pu\!``zu_~	nQ)WaSC`9ngS\	.|Pnk-r~umWZUhB1$v>w9>@$ MDVLn ,KCTjacd-&CThQzHSThEG
J<7eR$N{D`\0oW2mx4@^ukzgpTv hMGrW$+8HTA_t0BGDS`;,WUUWx.q GP :D"x_QmiD&UO}Pjdn,$I`gh{gV>7Wht)r!NKxf#S>d p.,XRR"!(n4&^Du[)Lcr o0/DRs,Q}[uQP h%4PId6'Ay};:QPg6q.  @o|g8DZv8%H=RqN)f7 1J_6$%(f	|J!GB!T?TYPNTW[fLuWH,Os HHVN4WgHP' PTUgTB%-lurDg	~F`Cf< L66 !<"`hrU+X:ddFFV[Ut,##E9)Zkj+u}C<V'Ng`Cd9YSK\nS%4q aO+tf(-jnPsd?2,SpgdXjGn$V[X}L8l`KkeU`+RoVHdxh)n%0r22pluP!Ca<r!Grllw3-qPWRW pg{JJT5$SdRSQVQ#3u<FBDib"HoNDV_ pmHDO KwFI+9$5S_6F$U+AQ08!D1~j~	f"GWS&3AIh*qC=3Y.vSP. pI5\e,%GQ8GV089[B:lAyP<<Nt-FXx&%0""AA2C/a!2WU!2  qu a	W`nRG@@7t
&e?I$b2@WdaRhi?F10qnh]#43WVe+GG ,GWO'rwmwWsk@HutUH<*&v+WuBmhyEkL teOhOTLHg=XW^(p}CWT%t	%8!GTUfAr<?I?{$h)9mW];$eVPWctS_OdQWUSGhs6	21'9H ![-B&y>umIRbSOdch iv"#X4qPWTVBmeU,Hd}<		>r\hl]Mh~=3F-%V'"FC%(#r;#UfY\}SEyS6BX"]C4)i_M_&j((c3m{t7hf;t!5v LS)Z>pg]ZB(4$h0 /EMN.Bfz3M
JEUPjgGa|ALA N 8S+PPRG^Ep.s~>rPv{ tKo SEU/85@!t;}-AB}A|+d
|M+R.	PC-~)l$3gPtkS\(AgeBo!022 R-@G4t)LA&N,>v+%'OQcGU8(sA41%ADAW|ZKPVWWSr$OW]<\$~#LCS@DKSS`es7XD}V-Ylh&LH(;{~<T*@/4?`@-C!y+Fx;Jh~RP/'p9o$BSr`=E^rt-`1`J2 51_SZsV@6+p;<'a'f\Ktf.-I$(4Sk</j8b!UCb}qA  94xs3Ux*|S Fzq-s4kW>g{<~3`?CH&JP<(D;Vj NZ?Hj,9{$`;R+ KIK'pXUV.O-vp0[}L9y!grM!iro8L$\0kqx?uC=LX=-2H 6xY4YRP( (! uF@}H6U
oLp{J&/3 pnj yMkx4 &*jK:0HFWU1F\
h6Cs'EFP:9,&oO%^i}S+p#	dxk;h(FN5xFPT\;XZ}}UDPb%cCDq	h@r<eK{BZC'y#&hs(t! @#)W/.{*+A),Ak_&Y}o^tR%Ow}$}+A+3544LY;JxC|\OU<`G9Ut4VRFzRp]2#.' 1gS%e[j"yJ2-%!DLW{ffp xAa
VB~IU[Nr5-)#SpE8_-TUh#t"n"p,UT1i5Jd
}T+kb h=XUZpb[#@%!THT6BVfnEK4~lMPMELR 8G7;eR<3_MsA, 2Pco\I<Y	WVF	 h@%U[Xk!#1RN$?`7XF. s]C`aD<N;uL`B  3DFi?]-<LJ61	6|<uiud-tYphCRuLMY N06h@;_,3'^;X@vIPyY,CwGJ05StSQS	SZ!!C[+EoAD=!W= ;	5N=dHx ~3(l0z7 I=a7S	Bk$nkB^XpiQ, )X i#L% v)Moi%#~4U@>C.Gn1|3c`}/v%9dF uZN!J]Vo5FJ<7HZBYyQ/ F\FeSm~ {J6`6W+
y`hSM)h(s|L49Ih0 $7,0(Wxt.TDE (6 )OB?P6RMLA@!K2 5w^tLt8 4r>Av%yiue,m&	?HuJ'=kl!u9pk4!O/+0 |r U,KNq-  eHD2&x8QH8ovW q.s(_^29  , yv`^>[Y'+`V<9	#ZPHS8`9CPuF&p@&PO!E$IP	eIu[C~.wDtUH&)Dw
RH	Ua~! 89=K{W4=;tpM:(JuXHT&
	:%QI=D|`Y'%<_j9FMN90J*R##TU
+Zt>$;uq;;;JuB *RC	<j;, n!nD{PQxx0HuDNb5K^F- 1u\5;h3*{hfi;.Q]}<>__,?@%dE''Bh;<<)%a;Cc"h51`*q	)zmQqJNB@'<lA"tq 4 bNySs8-iz#R"[K*6BC+>FCa<+a%N<!C;<@(<:R< ; Y,21 (,\4,A|<Z~<09~<a/z~RFG;N!|txkC00hHR9:cYQne17,jWS {:N>T.?<=ud_,R9"D+D`2_d@<xtF {t<;tS!	ZI"IH8=^,/Y###O^(
@5$j~kV#O#SS>Ba$=<(#OFIhx!%Fo0^Zh,Dt=/6@QFI_zV0 Dk $NyWP_7x0MY,uyF$m[l<00)luSrs[.`[9 +,'$5t:hYHK/!2RhG9~4LS1h!VKi	%b
%h$8BRg0,:~ }$PKh:z|-D= 0.am[pQ"e '&(NUb8zxTS,,BY;tWqD0[ `G	3Y# BFJAUKgvi*I($3)	BiMU0A.VJ &W2Vv~41SE PT)s}O$0L(6y? @hq[vB}h;LJ2@	BH+$F{?h!}hPv&
+ .I| WoS$O>GK3B{Q"P]
%{KU!Ry &SBOnn#jC:/
s$9Ou4K8x,W/3HT p8&'7oK$Hh$KSJSw$p+FyJmF$~U|Fc	]hx{ab0ZfaDDYe ]3[_o!{C*Rv!dvn@\rH<*
:#4|G<n^w/@wf>yG,Ku^-[G8X({#qItAatD	M(zTw _DW<H4r|%#h(&hgYc\|1pO?H$ilQR78 , .' 9dzH%zT8RRx>b?JVu8jq2GJ }2Ru@p
"r7@ e IHIvR|_8c!V2~EcNrBjs*.p?ylQ wDFPNHj Q$Y.,yu%%
EhqJ{(q`i;u%Ye}&?Qp/WHu8aU3HF1q4bptMA JGP#BO1	n.%10RP/FVxu:W'HpC 	"2`-C0C2M0~G=Ce=S:Y9 %A |^! i	Q5ngcK?@<SDsHJcAUG,9,NM$2tM+;wFsh'XH6xiLo<hO|!Mw~."Vh's>vD=^t{l_Chq-,[gTo|G=!'e5NzL.2i!
;!MO,TQSO1$,[eh&LC~~8#)}Vt;0C!#gVSVQKZw*`56KL#$)@~F At/aj/q&4Mp 2S9"hy
KwKv1,^@?hUi Uhi5*:VDQ=h1dS5*">:GO&:n+[h6@^- I WXwL`th1;UBWv<m]{ot!TFe$hLcs=#a 
AG0u;We|u-W+nJ)d*-('?)(S:k06PHnDR5x:},p*uW<WHQ0bg-t`AXC6KSP%4P:CNMXQNFuCg40K<HQ:.X?TVWyd	#,OXQ#;p}8sXA+
l 5p7EEaY'EI2UDA :]Bj&4oNA N
P4mv}#1Lh;Q*<34=p<@|V'hJ,Hh`@Ril@Ln&LEU&)Rh!K_C1A	4PG@F$0&PO >3"HvQl4olWmEh ^I3D) 0`&j<=lW#0Iy0O
C`U*H)&D$QD3i1P-A1{[WpU$P]0DwQUk=JVGQWX}2f%AL6HnA_!b5wwR>=$zF^P?%u]Yp|X9LeWtY|C1DhrXRB*Z-$h_R!%@ZpHXJU@ [t<(Sd6HA7}-+i.SB:I(TNDXDY|9^-$u18u-8_	u#vhF`5K4_dRF&kb!`z6hw$h?+|!B8R<10^=G78h?W7SKPnAu,v=hY/@ @bUEka
]|;V<O<xS)h6U&"FBXE@>URn:+	b~%DWR'p ~\,"TP,BRztR;&VQ+%CBv MkW4dC!H rL7CTg
iHcZW.	Os
CCykz8 3??t8 eXH$V&	S"-S?a0w?x?TD*3-,P(+.x!ii'-93E?K!ny !P& `VoGG2Q=hgG ?7	kt: wQhq$`h
 sCxvAy5'oUI_Q0&/L^?	H1_O@I8C[KX+t~\<BF<ZSos<J@Oh_3J4o"WZ5EhA$u#Hk^Q @JZAQ
[:[|ZlnYa 0'u(pJ	4uYY49NPKL,NW~-P_+Pu<+v/F9N\E,qsc?MP+;~v;~#<Q7dL`_,LW`?6 8v>jc [+1/xR=RPTUS	CL)!A[P%[_I ou:V
_XVh=7 D4)cHY u(hn!)=TUy% \N44^"=fvX	+
{&x@c!h;t"ueg8):X,]K2`=j_]Wh6VXft.A<RsY#VVpYYLWVXYF4GxDe%x,(m Sl
}RS"ahn 7Rb<D: `Q_X0r9sng$SP6{MH>7,	M^;u~pL#^SU0c2p	770>9+.%ty64.w9oT]|u9V,jEx(5lLSW98sqjh>YP-a+d(6E	EGE 2,Eunf!5tvE3SS3)zLbz

R	5Xuu'S/p98Qu&P@#(F*S#n"(9G&WA)
Y%"uV]'~a4_x8@=USzjXL99I.'VyN?~X!F-wH	r %VsXy'UYE8MqA8*@VF@FdFCad~\ff4{#>r)A6'(`ay0omkU[8ekKJ#C&
N)Qb~Na(m'/FFz#]PemOVVj1Q-N:B	
bM!K@HY2EX$z
8M0?U.8UU r!i>`V+"*BJvZ=,j"%84"h`zxZUaCw=hAHeU!Q@I}a0#D;q\a0y 0h\.--K]P_7k8u0]#:Ue
ljeU&eaV~8JCUL@Fq1^GP6!>kRE8eQRPUscG\emB|#3
UU$M2>V428^8p@m;bqA:c6~<uYg0jO{	vlk+F@;KJD%u&Z) A5LBgRkiIaM,a}Fo( M|ZsD
U.T\k] v
2qg		<[VmI}|kXnS )!z!^;C	T8-C8OM{P$)YaZ;1-s8sLpcF-OyF)F/q@a%"[ \P @<;xfk!7{gHlma4KP5']PMCL8t:23 MAE
X (!`B7KC|E 	JYz
O@u(|>`yvrL!+
M]C& *L3RSHcWh\7-T9I80cd HXL:sQ
)zHVKA)6@L"|DPi@-AP9=)49!y!	FBCh)Su0ZhX&?!Ih$UL8h"M7hkhG!G!@0#,)2+/5_CX9Pu?(pW@u@4t)#lrnEhVux9vm^p~-klvB/$N'zHG*3viUp
[F;4r^]_9{u)S)h 	GS Kt![Eb%I:G%Jg	{8!z5vQp Ni>} C0Z/I*;?lCu{VnV-uei. 3}K@K0z4`8>s
OsYW+GJIRO`vB)K$E''cC ;	$ 96/iA^`auK` }?@SdRST,jPW6AvSSj6\<cqB,~R=#$Sq6d7 T3	HP92M2^.8 %~USLQjRyFjsPQS9@nbUK0^e4Q!5cXUumh+!9;3~9J(GFI!}0 X*	ty+j(74@:pgaC5x  4`IK u ?-us(+P=K4?,#YC#HP6,yP|L	~Z0Q;5J Cxh`p}=H:6?5J|#;\v5dyR40qy!vuv H`h!<$` (u'x
-3j{^hh%i*? (:wn`GPXD$rj<RhHjU{0M8%Gp
B7&#/>y(PDh{[
h< jg*\+U89\lF[T>N2u"-~% t#!m3!v^Thlh27#*LA?H]L
P6\MYUTA1$=jwm#(At^j GRIFQ6Q`N9Jj (;?4,HW5hLdh!s GE`aTU`$w1mlH[I$7 [(B 87$^B~2jPJitrX|kb
YwFe+H,0bELjy#L O8OP(2R?
j,lXMQ0xxL|
|y<Q	@0DB$xMP9x|c5O9s|t130'[
C|>jxADQ?3 n5=P4O<z @L{)@t	:\9-$ :x N9`,| nhth3 z,Y ){WP`z{hqihVjAdcc4L*
k<FVjQ$buhthi49}KPe-b9-@h!ypyUmVX"okt.:Qt9M3u&&,EJ`Y{B+i6 `mohNjW!HKL^m,pt%NcR	d p4$8lk;Zl7RVaA
URD&APV|P M\W9)@hzk<4!~NTRt4VW sWh\68\0RBj({a&'#mUQKlldT;,LD=qPq2!$Mn"^^V4@ &XK J|`FH|$M( ]ba}4.FnQF"F&QJWaE[F2AD\Ru3h|pc(j*i ]%1W7@JGHN~9@=`Kc_+2J;3	GV"a`T]JJCn#;V.Xdh06m7j.lv;\21S%N, Q#7T~Vl0y% #_d10$4SB8L@B~hpus6"L[p*<rHLhI{-wahKm	`UA)k&	A
`Q. AX_/P"#<4'T
F.V_<OL2<s   YSt2a@'GH_xSb[xpt}KA8m??G=, 8WJDU0&PS-|`QFW(QrD,;eJb
g	uHy FC@F%lA&a(
D0`&K& #!RRn2).TQhUaA>F\1R,V+f`j`@\h
K\!ZyU%e(@C^4PS$`Hor\m| v5dwT6YE|gDy
()*+,-./oqf4Mlg4M%+17.H=QDa'v-';i'_5F0Gp
eF)J,B"Q=%hi?I
{$~W0OX(O>/T:v4@p
NhhvVcb}R^VP3p	t)}%5eN-\ :&"NHT[yHk!j[s J,kS@ %_S 339R[?'w)}Rj$Lr.'vE\ -0b\:5?0sL!Fp`+@?x Z 5(74wzVh0. ESZ 
,CQ(3!ppXAAajXEhV.8+|VLBS-@~#tnPIUHHHA1K;NAm4`1Sp*;Xi5E!LVH%(!5,x~XkbV[|8 N^PPp0_cTiCbXz[%NV-3	t
	I9q$P4/h%^)I
w}~AnY~h[}v
 OV-\TF8,!)$VC,
#@9$GkC4Ij>NN	A= .*Q2htfFEInhvZMT4W^;+'WhYh
h7WWfyBxr!OmoZlZnzDi5D-cd3 hJB ^HR0%hLdTQ6H8(SOgxw9bpiT	lqM;
8fK!hFm7P	yh+FZX_3T-/<Sa2ShhM+S-1F!)^8,ZruT_p  ![ib]F5opd,o#D6ErH,E&\-="Q,$!4L-8hR6I:8Z10X3=JuO0hD;Jx a0) N{h`C.0kP,/x@ ZQP4`0PAJ`D,h&t	F_@[ !rm-xtV.K,J~02SaeVaJ$a(MX^4{
X9HtVxNuFV!a 8	UH*^EG#A`@M)Ef/[c<HnOvU3[KlsvjDD)aB:lA*R%~>VC	G"^F3(NA
6{SUzVl*Ag(^vuV@XK{PI]].VRCBdlZl?&EY s"TiE
N3NCP'%q,;-S[Q(^+]&[]K/	%6S\%Nt[Oh;JjoAQPmyG^`!sy0@> se$'A,V P:*=``SB(&xx}G5wtNWpH?@/h040C_Bk84<~Ep&,q"Xj(=u!!!pci(]i(RJ}JxK^EP^7C_C@5H2fPo"pvaMh8]H] AA tiQ	&)_]K&lI$Al8FLTZ	\G E?JPfIp	1X55UtC
`W&/Gh%C_A2 >u+tobV]}++Z>Xwm
?(g3+Atl	]H2T_HH<P4GPX>w:I!TxTI)|\zTj1eLVBXlw<5HS3wO06A]H {OG?x/tGXoKyz~@QQHc~-<Q ;gIJH72 B8clG&iqVRA=?q$ 9CJMX_MR/6pz#kk#QDWi@3H]c0U}3Zeb9]uCj8C1E.E.wL?T9Y&1E8
Y,J{TS$6RPt?6e{~gLL@oy@<t*'7& \mj}qF.T'p(&`8J@@`3yIK`@,&dK@?=']JAyP}jE@D&>kPU+0 #Uu n{y	_
>RoX<89X	:'J9?{;rP%<t[hVjAI${*`lP8MqA`X"TPIgc1D]x_9{@rZ$^^pD+	3{/fq?M<H5j#
!NB@qLxajh /dJD$B`n&&I9	uj<y	qP	<_oFbB}Q=qQK.~hFjAj?rJ]H1`$!'MxDj;Vs1J&/q"5W+$R.gqk"E)T+SxWQC0 G_S
)8|lN=^|Ux	qh[	6Io$ghk6CD/itGPrJ	 FD}]K1HR },ENFZ QNr > Xcx5?T^l}Pg@}QwTo,D] GTe,aH|TZ0j4PVH^LM"-O/%h_J/3?-{G0Tp<h
@#[h iF4f0S%X8e+3dd J,:%W:Q
0B)40(XH9[R5PVICgf[0Jk~[0X+bt>M%*U0@"K$H	Y	!RIhPRpvI<4PPZHWPd2<`;(rE[Vr@,u*aVky x2H	
YnZvBW+D}
'Rv'lD  9YK>HK~r%r vmhMo'F_)Ml=4sC3 c
OpTvkp?JPN8XM"F!,IW'd!jJh,C|1e5|\
~SjGM4t(X H:jW;jpjA\'TPEtW$)htp-7 [>X0bHrj;R<<yfg6S/	i=#^_KA{KC	<>OX)"F0Plh(g
:vTK	3"V`] 
 @TPH@[	~zAu	M kW:15VJ_W"NT5By`Y=iT!"e\DP;%#.@W;R"*+CryPV|E$0<H-UShU I~Lj^\00R}B
Q/2^H~D.hW@Z|++;Ut+6tL^UA" ^LJFPs]Z!LZ&R P3u5l?2{mbQr\_Y@K3op?=
{	{Yo_4iZba33p*L&qo#aIBVV|rC xx8t)[!LEFu#h`E!(Erp.y\D=U+;s=hXj  -#* T	"m0 $aL|] qRVPkjOL $Hd}|8X`F$\&^wehXMG8h 5 Hm[5#Hl~@f;8LT",S=)LS#B<G@'`
Y=2/_P=$<Y|'; >PHHBecD&IQjkAC^AzX {
M'?07&T~H|+2U` NrT(QQ$J$J0 ',l- PXr8reH}8	}Dh)52w6Qzq=R0jMK?,9l~<I2SA-~q|
O;fB v43juL
hE Ou?l)#d!liFiMi6AhHKUEtt05aEu9G!h(]fU)ee,lBQ	Abz}M!%<K@QU*:EqeEr,\wfJ(2x3`GgVW o9Z}QJG@(z{VZt.!O(p
k]T#3(3XJ#BP=z%@N;(#mx~(hfa6#by,(m!HX(mES3E@jU<D#vpThrWG@jP&#>C3}Rb
+k2484<bp\r
1&%$Qh#zjHpQP&\RTP]}P!"o]T 7j#;;QXRJX"0WS8UV!CjQW hpLHme1A
u<?SUWB!iu_DGtPq\^	^`f
KX@ R
Z$
S
h{ .ZpXh
>	RAia]rYF]xA
mtPPnHLn A7;|#}UCL8'|BDuB1\tp}cJ,YS
 7RP/H M_P"^@yz0I-QXj"xrpPR*	j	vVH 6-9J}$}G5D'+:e,UYQdB>EEb$I1@] 3%&(Lan$:$d \IJxmjAI]t4$\Ax(#zVzAB<#nO)[)(	7v:3jh`+1G@0I(i/ KJZjc~R@^:PC) R+j7:.X/K81 `++++G*!.cR!pE1Nu*@BR\@9p_2pKh<Xd`yI'DGC[C:h&KX@m~ih!m:4m,(5  4j C&"Ph,\ hHtD
F/	26H!?*<&
0SP0xLUT
]'}|:G'p88BoW8PR0M(A2P?RU#tLHI87Msk"Ml$JDNT$KCt4<O($DM2:_Se0+TA+_bf.)8~VHsy123y<FGPZ{dGf4M34MFiM	i!'- {	J;I'c';'MrFI("}
F$~X=}Q+@2E@Y
{ t=D"*	k YT}VnY$^@H^)OY>FOVo+t(s~sDv8-Sj<Ytt})MJ={Z3)[	8<}<~#B,jYEB}oA;Y3}n.j &E>F+<}@E8FN?{lF<+:	1,cMT;6Zt-rr$	$wM)iW o!riK4w] w$2@ $*U^cY&Hg	0se` Q?~l;nMO9~x,XK8s4tVpO8*!gI5,K-6"E 7x*IS;9@T.YYU&lv*5Q)uj1V/,WVQ@Hr/5WW,+-H{B<\u#MV!usBIW&u)+#v2s*j1Xe,W,S5fsA\aUgA`?+uV#EH[rS;ES`_>P0!)7+'j
Q&_!l^)dpUw[*MuT=_7v4;QP#v1
AJGl EhU+AmtY jMY[4W /3M$%<f,- 8ydp< @V[UkQQC^}$)uto7uF0TG*	YN?\a";orIW6)~-W>}%B;]rB:wOu}otKu+}i
1v^Rv~IU _e3>3t%E@n)KFuTa84Y[qww?/} -61|H.KYe)_lf {kY5B:3dVyc(/VGj!#^89MH9y,	{Nxd-nAd%yzTf=|twPPMkSBp]h X{SU !Idj ;b5PN
?XF
}Q$n"&~YsFcYMOSFkt4)< ,^@X't^f Y!	d!M !B]>0|4jh B^RbrJ%x)%Pq2#p@3
_G 3lx

G%i&X
oAT.	Tc<y$. L/lM<VL' ,;/o*u&7#TB 5-^Pipl_
~8tvQ)uWV
~3a/3q/hu%t7uvB8@t68t'tM$^p7[gBn&:'W,- 
1r;v BHDu-B,IqD) >,F88Wr@kv<<P<mZ|#$YfiWKmgG%yf4 iDDiicxr DPd"`sB+l##Wt1|9^2$x|N'+X(}-y]GWR[OHga[V4]|)6M7iiiBGv
7,D1'w I~dS]"e;Q7G~B*i#;6Sbe+k3K;Mr.5nsLI!ST6PAVo5t"Cm@'6v8
%-0m/((y D]C+xS'opd,q:Gw)'%SS|:d b[4}%wu:fV4>+`'WPGbF51he_f=+,hN2tF2_@tAgYXJB8!jJUY7u;5 !mLJ_\@V}PzYYUAW(c*=/9UwaM-Y"#Y?;5u	Ev Fg2{4'79ttSo
Ps93[Y$`{cv#z_L[OU^pE8ts>P(>PGpd/#7gr KxuSt~(EE~jq|K\
5+A@i$mm}-fu{le+2 ,f|$Um3jYu%d0
 5w<xt<X%}\9u`/RgAu
G(eRbT%A|bG^bMUiu(w0'KtPnO_;97;s_9]rW}+w;r!9[u,u'r/[]\vg;Jh }	f/usM7Fl!d[f]I'T[7	wr}B^kwc<C9w 1~< ".+-,='*}	$;50(0CFR'Aw$UgYF-B$-,Z)PMh4-ph`$V	_j^0LmpX8"o1Wu3:8^Cj[ T/~w`G{$Fp*E0h\u`~I;tcVCnz2G)>v#BWSGhqDJ
<z
R (;
`ctwNP8+aWP<
a9-BntV	 "7$d9@^ yu7,h5oq/G!fGfG>/54&S^
 )uVE[S;!hLKE$7JWVbBwhEX!"^u52tp4zu%C;1jXHf(#oV`U|J<j4QL8
i AP-j`=`sAV ,=@CwtpX	 `T]}=&DEn<"QDAR04.mQ)`dtp"k1'BWHgQY/SuoNuatMB7ul7vtN*t9l>\etml=X|z;,c=Jwo#-!"{4 -0@pwfB-k=XC(G+2n9S#f$x``~ji*}jHQ_C#MjDFUjzw7B]hQ]v>CaL5Cu523@ZB1pW" BE W!`_#%%q#GVZoqKUr8t*.
T0%u ;a($8u;%jf {tcly"EwI P
Pu0OE|r_}%LiG~!Y[5WIb@X<tJ850E@$po0Ec!31||[W}v&4T6uWQA
>Q1Z|vy9}7k<w<9h,tn"8Cff.*~tB [F=%O},x~&HQYilF	=+YG2olY7	e`,Dy *!Nba@,[79xd;=(G3WO%,F%--7t 
M'.S;|ZADh-}_-1>WxCkRkY}yrkG=&TbHuFSWu95P"t:6"E>1a%)$P?;Yv<8=uV	;`3wR&80).ZG#\]R
3aJS f	Dn2tr{t2*(rW!4 _tc@u[V
38 3tJZ#2t 7m--f1lJ`^y3@.-7fR67 /u~Jl"`Aw:2`Pu>pOr;Nwr;VvN1yOu65Gr<]%k^65@ ZT
OyNne0a[Pv+\q-o UrGE(LPMG	N+MA9j00FMI]}bjr;$v)@mIP*BML0/, ';vZ)X?4);wMM_SI7v;5+gc(m__1` P+D}w@*j2i(`-`o wh@aOKN@w<),)
*/4
eT MOx k	S ~[S
 JP
hc'dW;;v
sC3w"d>w +`^6wwB/+"@((g/ @I,Oph aclsxtrRN7$Bv2;+k|-5 I A)&fm)Y\s[YIDZY#|hE=Z"tC
'j8zNO?PJ us8E8?QlAl;d},G Z's0ng[Wn3F95haY416f8}	j5d>d`;i!Xg'Js ,"7,$0<&F4	0Yt	EJFkb9Y;!-sv F
AKA\)jhc]]: W+%>PMt2VM
iU4+3}<
u' QmsXa< Kc2,98u4s	;.yKv<$YE0rJ"),#fh@YxiLDEP! @L :mPVFyqd*3Ae2"v(eH,4C90@Ly{|Nd.}I,P40-B@&j1m=	<xpd IV V6%OuMV %0$v;J)0)<.u9	J^"c$H7WdSkylu#@slgPw,86u,U_t2X0uAs<@9,u3=Ijx0.t#@ whQ)<(T6uU(-3Lw@Imlj4'#F@!'^>THlI~ ^nwK'&41)E [2j2 S!5@$LS<hF:Hh3Zs3m#QvEm|p|46Hp[u;G1E%;A
5( eh!,_l3;`|>Cu4/.Te;}; CtQ4qx)qg0o$xW}8 "S)dG&P-hp1IxwHCVWGrtj<	GCt/xhxx@pu`3MhdWG`xphPHZmP|a#CWvW/wHA3$v@|px&#dmDv;l8P\&<!\`k]H]3Hl[ ,H r-`~~#2l0(XUh;%[XUM@[I 'X|gK k<RuivE	l;5L0HX+sNh3_=li pG;l8Y@"`@6nD`F88d<e`B97!]\Y~x}d	Sdo<px;QBf:t`JBwtcibYn!>A=oN]p?GC_s--,NXGV;;hn)?iUx593[`|l~CSPPX6%d[CG#S Od= 	Y$
B9GZDOYU6p,t|d[8xn W*?b1;t'BKS!Fpd?YtW\3=dEpU\0	W9<0@q{DL0\j+h5HjTK#o0q,vQQh$S/xDF~&LP(L,[b0488<@D0gHp5NLPB,890`uP{a0&|s2/{s	 sN?CiCg& .#[%N';	 -8zC%_BA+hh)-QCX|T4I?<'Rx98;Pv7,@jz0K#AX 
2M-&j(<kn}	8M__w
#(<uVpmb-!(N$ AP,k;8CwE`}9)27PB@;3fFW<${	'PH>#P2=8Y )pi:2fse	tPnKX^&B u
JB0(8IuMpXI!J} 6QC|8g,zp+_EWKhOw!8t)MPLW&Whj._N |9	N%k%U!J 7h`X~.J=u.;5w&jH5B)tul$)FwKn5"l9U hw"xJt*9[,'Eo[UYO"qk!,oeG%A2;3!}9S@R3:|eb %9=Bt>jY8KFN'l	' uv4$El$C[r|0&|PP:?Y"&FvcL??&n(8[c>GH[;cR)D&:j
9uK<`8VS1)#vZ"LfW9 3u`9XQE.X'u,	@h:{@96:?YO)
/uLE V%K5YH 3$B;sN ZPQWJoBci)"Zf+K-A`	w*=2Te X]  T# $0 [Cb
!'y%0.dSgYH~`$D|Zv$wo:|Qx^P@
+yQ8(zPoch42YIrs	4=Le>o VQNG(a4V]8vb5,C~! 	X0f8MZyH<9PD|1E
A=lt7'KBvyt?Hm9NbfY$Cf!K>{1}[Y
IFBK G	|L	U$HL=eOaU`	9eFhEL@O	ME[,u[Y0 <Ww$o3pm W(g0-aGs9~(~y
;	FX#BX^q%QD'YJte
]	X[	 C``{kVch*%K-@4NiI;mMZ>A|	Z:C Q n@_>gaC
gx(~&PQHvH%:}T`kMwH s(e ds !+%/B<:z1&:a%
t:A?_(&N)$5%]$Qx_v2Z}hi/f0DDx b!-v] |ltwKtu'@EE/]T*U,%	(}+u\agGJLv:m}D}Y[[YH3T
>3pVn97S{pLCOw"(2
^:G ;psl<COG_ 40cWLS20'c*S	oImVhJ.SfcqPUw_5}O6"O|n~Df+G4X+ 5"+Hze69
+cmA;r)e1q-) ,!M_hqt+b3<9yhXj /u  xcr8@;&_ 4\ci l9Ew {
|/I)`}$<yW"C,+_&W
FS(bP_}Y3m6aYyn(*P
dL#pW	z(0I,!` T@k,T | $JD$1paOQUiy-73+BEi}B7C}i|.Q Ai,qJ[)|8&4:90|JordX	aj_j< +=y	lQ_y1 k<a E1@tnh.q^`=([o'$l&X Yv.'8kFAXPVum/!wnEoVod\ G/@tV	w @5oX>-LkF(;
e1+tE8$D5P>Q Y<FZ0}Duw?90AE*.SD`M! S)(;&!NZ&f9?H ko?<>r+yr_H_Hb~w5$`;Sj?9	C<Ac
y2?c0@d#"1 ]jDF&8mu0dNRChG{M4N NEY+___F}@UYVA Xn` %mE;U~pWuvd" M0_~:5d}|)9g4i uM 
 
!Xuw5iW?(=ZG53oEVK}y	'\&N+F9R)ioSV-wYVS;PM2fp~xP|zutW$vRS+WWRWQ|*$dX(&9' "mNS(|>;{>WW S	{gY{XQ'jW,
~b;N};|~_u)|~HkJu8Q-x
qB/u;${=V[j^Yw?"	6BQK4u4/66lP|,"V;_4zI[IZOb"0o!-VQM0-7pFTpo!H N3
<[A	#pp3n$Lh0r@^hp]&	 rVBjw	)/G9@t+ezJ)$+ff&I+n&2:]|8-4Bgd^zkK!&ZHdForSM[W0%WQH	XL5
'0K;8X-u{\TNiY-VI6W9p<INwI;_s8J1Ib&Ae.]#,	t	 @9_TIx8dPGTR	[-vQ _P @>xW3xP@ju!sG-WhFl'5XNNtut`	tKNuv0NO
fBO)j n`9t9v@gDU hUTHHtjF~|A	t<*H=33{E8^$u+_P<Z3=x;LU
Tvu9?QZ!ba	R}UUKX.u9\zC\"'6tM;5/2sp@e[#Gos\AYymxpBQ<Sn89OW&9y9tVWumhNam=h4<Z_!h(=~&hgh	kO6d2iCS`34[G'M )b5LGu!S"1x`El3K2WY-AL$m	v	0,wI `OIAI;rZjaOx1I;N@.-Y_P{HV:{SO9n%\Y9ULRB!Y^J	(X		\"k=1t1)8CJDPHZ./$	Kr*f#m5)akXkA`Nm	`db8A@2$Y2[d6L^nsWAr=>KN#(/y	x8; fRO)P+T44'vqfG IVF@M^j8U@?
j;wQ;uyVAScu pfA@uT)dK]lhN&>F`2;Vf^"GtHXkYWtdBHXh+IN}aPf3l @p?4uqSTxM# d4^_dtu&S, I,}.]7 APy7OM ~&` ?I/GU04QzW" 
.f0}+Mu;Msc)sEAO?1I&{
K'pm[nP4A<`8EwGi`w_9ErEpn@dZDtE^9uuA,	6MQR
;sI0x],3H@G8<8M^L_.#y0xXJ;Ss
 x%V!_+J79 <` y6,4M=0 E$!98wX9Z
<DLmiT\dlB@dGD
_ahgGi /Du+{	/ | }3Md[MJtYQg0tr"go^T:yauMSWf? >. SuJ6,XC&F?#Q >EV@&q:.l-ffk&fk/A@ayUIxjm\PQkQP>W=663 P%.P^]GAps8IPoDLiCj ZlDBNT\Cu2	5X ,]G7%2, |	xBK, xkoU@jY;3!fCX,{+!t;>-eH>;sOev#~w3E@oQ]K(V	BLe &8&o-	ht ltw96M 6u4uGGP3<3/2oedG<iz<<orujx:0bXZ0 coBu_"1;%3ge	X*.ChZ*V!_8V/V0GZ%h`8/}ND"7?K: x@}pu3-YStb;CtX~8}XZ"y	tHP
R/_P:@d:`;:xH-&ELK t8n3P1gGu@k7>9'}~ j]]Bp5SCPl?t
+VP'[#@C d 59AY PlxF>.Yn`0mt^vVGAx'EIf0@@u+dSoI+JGG]jPsX6+|QE0E+0#Q3+": t	f:Eu#[8RPT# }"~6\Js,|J?u_d}	DiS7-u@g,Z6S:Z_0]':w+Sa*+F$/It900z=30@8tm%7T:x&|-yv+	t "u+u1udA
7~o{&?&1MYtYO02U /} \ZM~;B]FIGVCYC~'%"PoQw,YVt/]zoF-eYb 		
kUkIY
V$yk6(0	V0WBd_I,Ar+=;$1 8dr@`3e]kWZF"$wY(RUV6OrZ')1%TEhA;jwh-e"E}=hDYb
3Y(hS${my-' ~S%R@KYP. <V/c )'hqD*i^[( Yh+ZWk	<7i<]j-<{?;YW3
:6h@dKiJWH6iA|hHtps"]=-tvU6{YZ\	<at<rt<uL< ~	$jiSU"/H!Tqtb!+tG	t8cYy[ 2Q:t'M*`@yV+$vc!CbtQ_FHt+`u&*|E@$l=u#`#d/`Wpd:u Qm\Kd}:
3)>	9e@8A[A]y@ytP![uC~	}NiYV	 H7v{rJ cF7Baj8!7>[DhRY;C-;xdK![<=7$]b	OwZ	a$20hsccF0 % Tyo\w"eo8J,:tuwb
*e	8E3H#St8u;=
@B)EbK@&kCUt2r`_p.-5z]d)`(UtVMHO[;S_B60PI>-n::MX__g"u-~oNzC9o8MxQp	,E:A .	GHypad|
jd^A

 A,}PmYp0H8PbWEI,={MZI7:GQP9P$|KU/^\<NZRW;!>uGQ 0ZJ]LCbp)0CI~<)au]C?G&?u|nWQWj0SV'0`}PCpZWc}NJSWVDgs|"+D}P
/o G
CI()%N?!m2
Et,fzhm:{+kyv%*QhHD8=Yo-lcy ]uM'mX,A'uh$! N1h	+	,LBsx[Lu	Xo?Nv[
vrmu:hSh[o<_	?<@OL{y_W}~NgI7,zl3JHKz%+#		BTe$<sakHuM@<
U~7H	@#D0
@zJ3R@#9+X)Rd<]m\T;@G/MUL0(4;
_$v[-x, <w<q'F~I9SB@lCWYxnBXN	 F=+%v"t@i_W0D1(;:W
+
\PY4N2_C.tL^0*vt+&m[@ CT@\;]dm1SDnL%h n 3^F<3B}T8j0lk;$|_$R[H\V"$8'}tH}f|S_X+D%RuP?p;
4T@#6HwpldZ	'x'Ej
4N\7&Wu#qAF^Eo+'&&V Kw.'6`QbIc&\GA@-"\tE
	z
Gt	
Y!K@j%`FUMa&zCK0QL)ZKYQwHATV78yHww#9zU Pp\zzqz|Pu#E= VIr!is\5cJ<H C^, +,%2N\	/y?Mc	B7@k>%j.V fbeDGh\bV8c3hT!"hLhx<H+@q}81f*z}<8Yr^[<?lYTIF)2:t>\/!uY8t)@$?8P_<Q

70A![ +
}[EHH 22%Rqxto 
 >"H"Y[4e/F^_c%Y<ON4}	7pG9+k9u5V?Y+}UU`i	=:/"(&E@Akt+~%B/ U|| .*tEPzJ&  Pf0}S	3=>W
SLhBuyR"16(=u>bquf_ I$o4	K3Pf.:C=@q!`;tLQ"NvIu]DtEx9p3&IM4($+\rp Zzt@~bB
&o^1Y/z.Z8tK#7F)k7:e>nQ8a{]-k:/[06Au_K}Ir%IHSQP3d N`)`@
qk>EP'P(F 	s
k8-( R|9=}N+-H[Mm|RB&.j!tTM!Ah?zB1M<%^4s6)5qP{VN.HCE6!/
Mzosu
jX,/3yHP	CL?W4QdQl>		V	wKNDC\rL5
!T CH kvhGOju;=}
BeZk|(KHyJGXM@&Dd9F1819`D(0R=qc\A	`k`+5y03Rqg6
:pFM6{9	
9'K-NANz)<}t-kP6[H.@*,`knNG#Jx	 

R%@0\y Ekai[pr2
B[8"4LhYM-WUp}P,R5u' z=m#'yv} up/2>%S?x!e9iwy %=*`,FA|CL%Ns~9i*tc	FIt
LudrW6uo8456ueYS73u-2uB!dt=	i t8ot3.'"htlwtMM}  ;(R=1EZ)<dXxc	A7#S<Ct?{q>* nt)	cx#_{t{9a
{d0 gUo|d#v;GM#g~J	-m(KbY##-aMw)Ro+8e5u$'9%+X-}3!uY\~(E,Vh" E#|wS{	|cu8uJcSM@WfFS`toqeFEues[e.Wu!Ups|2T	D	tA
S/zy&8wBzmH R3m%txZ}&Wppzj[*,G-;}G^`}~=."f4.?^uKGM@GLQ! X[h|n8-nzCl'1@wGF	|Wj Y{,ut]uo]GC iGZKCG4L]AG:s:w+Q*50]JW?0u2ExZSIEUSq>T*bbT\0SC{hctD	su	|~4/\7 u0V+F eBdG9}3q ,A1	#A-PPYf(nOf$xfCC2&0/c"/S\	Xt;!Y)jo_cyVj0[07zme}xVS8DxoFPD;]PP|4D)5jxpbP)}  F	ptAmtgL{u8}M8! Ko >,U2-4&mW+pdPu,f(Cx QfB+g4[u}
arB-y.y(?5eMIqq%:`PAtDr\P\t]F  s9u)f*BCC%LX~;Svh1eFcj6S=EKt$ A:|.X/gG~%7xnu"M.7u[8\Ou2Pd>8C}s"z==<j#d@ll4Jd {>K3xMA+qj1sCoQ2Y!3I	4&dykH5kgO!6Vj7-H *$+L(!,,-#y0.4/eB08#Y&dD<EeB@FDGY&dHHLIeB#PJT&dKXL\B#YM`NdedOh8#Y&l9p:eBt;x!Y&d<|=-yO>F&d&?@mdBABCL(d)U=2' hM@-2#2	X{i8qZ lAya;d6A $(Ad,04AH`8{x8@[ HLP2TX\ 2`dh2lptx1 |<%%\r\r!GXt@h+uBa %bVy)5#
5@%c(xn2/[;U#;d;7A8hl>57p5lV#`nm5TWuOPuGd(fd	,tB`5Jw.5b2:14$5j0#pWBj1juS
~lzP0/r_[VJ'{FHG5He@k
|siC!	{WjJ}0'@RXT0|js"Y@)BLmE?{%(u4#;uC~-S.
D	+li<9#a?}\(t aQX
l1q)bpBc9t.9xBC|9:J  $$E+yIP$x)+u!$';'fJ#i[&? b&7xW#AG,f|,-4Y@D  P$Qw r( )%Y*T$@+U,Vd97-eW.R8-Y/S1}$U(n;}b*EW>s<,0% ?N@iu?
	a/QD\L72H]#\#th!ThP8>@65@ueP8:nl =P()""|+,\(s7#QUNX:~,8]t'i2w-|H'U_XA@@]dwV1hf;=~61(]TOf6_g8ABB;~i506=
El0X#{3oYCmnIfyp86"R7].	Aa\(O?1r1F	Q+?RedNRsk?t|
O,	t@{|F?d >d,c<771p,c
~9}N/^~--]f hm`ry(	$D'@7-t,hh=h!%qQGC(#"
u& MYDPf;I@rFJD#3%7k,a9%sK/p~Ss0Jd_@8MIt[IM)/;[/1uk,7 <1&>ey`Wo7zFev+Di*	3A|i`yFB> \
n45{BJsZ~a^zC@|+jx(~CP0*?||VWu	!0P@V40V*Kq=$t"d%	3.G`(tEk2Ux($qt)Ly8t#O5<BYJ,q(^x!a^/V;+bA0ldX,#y`K%
M3T<|Q]m	uj8;@Pq)#7y[;8AL!cvrm"#(TP2 8P/!$9=vuUC8RE9>)OB;t9@",y	;w$iQt)_[-9da,!w9,:*@K^7 PUL47@q@h9<0Xq,h1PC-yw@,Aw#c$@G)eV][<93`*UJ=G"}z		tyc	,> j?G]K\Vuu1<*
;\B;8$8pI[th'3[gCtSlRkOhP0n}IR09? Y<@hX6%/q7*Lk*2EjC4fw,peP
+lXna{2tyJPxtV>Ghi:O>Q%lh-2j
o,-_n-J?tt8H:uX
F,S%!8uEWj;pou$7/.+TqKJ89vM64&``J/;8u8u.
;q(-@&h' uq5dR5y@6|R*=>G'r(4$$u2yc`J:vyMD<uu3VV- 
VwIxW?Oc8!u VH	%8w@gSW#l8CU!$l fn]KEmJqTJDM$hM$$w>L =o4<St6Pe3#UhE]0P?fA B-3| !hdt>;*%~{X_p.;Fg4vS}x|So	=Z6O
[d($<#jy(	R_G9QQ\
7f(K|wY[0
Lt88isZ<<%=e61$:x|tI}IuQIyX~	~R#Kl XO/+778_27K+PPPAeIEs^ZKnzWN?3[mRqYu#8XmTaB8^O8yQQPKP-eYpRnMP]7,/#^	FNy-/man^S[)	%c;$rp c+j$nZ_l&x~V>`XZc_RVcEl1 rUPRf4Dpm5m}iErjXe49E`zP$t*9 XG&sIfhzzS% ?
<M4x+hl Dr	J vMG@~UH9i:NIS5m] 1VX;tuJ?vj?ZKuBV L!\D	% !4%J3X8Yy[MZ#UmX
/OP]I$y"5K^;vF
Mk;A"+t^~qg0q; IX!t^L0O(1K/[[4e-2Nd(u#TKe\NSwYZI^ZNAi
N`(DkMsk?!	DO	)vfIK o	Z/@>0pW6E(5PNHazSQ?e\	P\9o{ +HCHyCBO-Q"Rx;ib6$1:QqvqRyQ+QHIc1S}o^;Dvm`t:B2D[J c7auo!PgnWjcSVhAf6nUp92C/)h@W;i[ `NR`Sio:0EZ@>;@zKsyhCh\q?:Gp[SwCL_AH_XC`@PIu0nx jCHF=-A\idDpFC^NC?x6!L+d 63QdO6 [I;z1eGUtF~h=;:MvlY__Cix&9vH
Oy!+i0p-MlO?)1_q=K[|-YKYY4M,Wh g# 6OFe	i,02m2%{"wB!)xB2?RB/)NCKm\3RN 3&^  3 F=18;Op9t`xNwwOH9Oy{K4,F>#My93L9yN%2\5aUSG2VWlH<#}[W93L;N;#K#XxEK[u$QC
Z@YC v@t6|q=6%#UH[1#	l`uT6WEU+9dtNk]L=#umj _^{q:&	X+3s?6'="tap>9Y2;sEGT#z
++kx~PrJCJ\%}~G?8#\DWuhe3W#,h;fM`[EIbHT!_zy$,Jz-_aAQr/^aJdXN}#p#n	;w	|Q+j.Do	To	7k	
ux$Ilm~;u;Z$(K,o&2:v:QQ}:	 ]ExIO	C_n}HVTw99@|;h4`OBJr(xFhaOG
$$`CAJmx?m}'R ~Td8=/=>B`SC	}Q\\\<3d'!SB!s1 <,0x8AyX	O ! VN521c0]`G$uxC)P=]PXU*qIE~(\OUt7VH8uomf6A3YIH%H}83GWwz	/E8"	a{5{"-cGr@{=m%3GAt2A+		u<guk[@OA@H54@ %@BE\t8&uQnTZ9%]2SZhl\GMJulw*Hnu
=t84IL\@e:;=m1*=}"H' "S,5)+*k_(ro%	L74@5X$uCC|Wuaq%I`$%^>da#HY<x0Na@=!\= C]u@x  D3C.H}k >yf9uy$+ S&p(=qJ#g`9U#-JC'a.SgXz*r*P.=+V5HI
Az@U`@pDB}0y8h0X$u8#~O^z#y5	$-@S(@I't@;'~l+EP@OLc;Q 	x  @-]$ fk'7I6` OK+{+-9uvYdL`V*E `FaS=EN.	LE-1;}TlmouM;?S`w vp@i!B[=s1PSK0$=
x^j,lNH\L^.e=s;5YNs4#P=qqt[(SIiWfS#u~vt1ko&`W3/
*&kh"hN 9{6	g<` 4J'Bo	 =tlEl^? fN` O-.<t"	R;O`?Wj@np^_x!EskX`6S+KY  XRE IIUWw+vAa  'BB`sJ_[lmx,PF.*
=V-muGkOt'e;)~f{;y5 8 +9Ar	Zw 71ar	zw; P"")#:+ )j ` w`x^&""^u-*-G`=NR1/M6k5?R <$9 7 euB=(Lrt=3!1z~XiO MN#'_A0AgS]u&>0_)V&K;<G[H=@'vF>J33-qri w3-E_cJMvAAy I9uG9	t9;KxQJ|	h0fq=|u	y+-K^uuR	"7[D:i9>t-DrL:^.R:(p?o>o`p? fE
fLF@3=9yx}L01 0HpHa;=t.}Ui#JL>~[j"SYBGV_$ uuDyg3  9H#39q~xN@SZ#h+6aA'Y 
oeVK;tc _
%@vHMKPQ7*-NZ#7'4:>I1jS
AS}D000tWq&nS1\GV=V@d<SB7SR(yI6+A0$pyrIAaqH B"Wfjd	)q0E/B)3JGEVC20XC0R03<#!@8$?wCU
s{av|	uEkT]^3x<JST5T:(YVlwSD-Kv`44t!D!j]--U)DwPPICV/JL9pK
fWw,Er3VVp(Nh(Lj zN:*]1xX~q 6yy!e	E`$K@		|G[#+)HX"Gu-c |;@_@	 t20t$@tZ1G0)[s0D)	V#|W/MKM75MjtJ)JAykz<I.,i#[rgV<A4L+3Mh8h5@P*"l@i;,B#8?Qke2Hbz_\8 y8$apaV5euEkj?SMNon"WH'8" !qJHu,(a n;5,"8@O "u[zV[Z;Rw 
PWn|PO|eD4sGuW6TZ5K\nxZknj@YZPaY#!\;@U
/JM"B?]r@ i@1!wG7Uh,;AY
lGA@>0PW}.//e66  Y?0xY_\i\==|bgTP{8RUdN}<MW7-B;L_6p?(O^+O x[t !xo
];]m8p|b+ oY!_}	+\AD|GZ+I?)_4/JI(4Lp0
0CS^NXp]q>eM)U@ 48xf5!+;5&g|:u+k%Syz"$"ued#yH
e9CaH}H;}H4?
{|$vPu36d6t^Go}i`-_F>,d^
LYaa`&[o E}q<E<Yte|W34`@GQ0R0I;>|!ei#Ee|Yxm6;Y2?K{vCm1]DguqV
# uht^+8J2AS_>v@6y`3$@*IJzJC&~~=~t'j0ZDElpnec95|7 9t7>1-+WWpCQ/b%kB$?h hNh%} %mt <aOESLqDu;{~_fMM<m,e@B	.N xO7tHC7~a\Pfz}{_QHB$bH7 I4AV)f"tX< xxUq!
qh!kO4	v^;{|t;&n:x"V@/', EmV#4uT FgYHZu=^UZ9}bpP}c*#c#+0"m}m'P:bp`|-(M@pM5|2le2SW@=BAD2EM<? \;zdc1IW6tyYhEhG+9+ 1
5HU @>ytITE fX=f:W0AfQf3_[X~[<9pX@x |j^8}BwM!08H9Qr{pYBCuY4e3E	:
\zX
Sl xFX_SQe&2"> x@P. K>N@=wz`"K%)T.b(X1f#H~)"QCo?&%Y8
P!	eg|g<nI d +HI@h`V*=z2VpPVq; @oL}~u&3!'~P'b[;9r`x;1[u `M >|L3rj|m u.)EM=+9]r=}31tfFr:v_~>=g0^&ow^Fh07`8|	H;YW-i}	{J	P\|3  gRSPVZA  1%U+W  !8}/ =A!WVWIDhPNuD z)C+5 `Bi\5}euISPL45n1"u[;_k`{)om1:%",aKHk%/a!ib^"NL\&l Av?Q"C0dz-6>S%/%u	CEb>}AZo!n!]U	]JX ^7hN2A%t>d&|8F`niH;
4=k\k'9`ot?z62Ygstiu5PaH	 \N+jj}|;A:4p$WG@p"SBt81}w<VK@0f 1[2V@	9.(r qYEYkk@iAk,1T[V-lsk;'I L?ZVtA=)]c2#>.VK	0py'@OS +tvN wEF
L@A"!J
 uA">-\],~+^ybeK'9D9U<(@L"|Zu(!uuaY`C;Yr:K[t#lZP_Vm:4CHB,X#j0,8q7#gia4&	cI>W<*r7J!]}tE	\ ]9`p8s0:q=\"VR62Ed
Dm2_d'|t,A_<?<.yf V)
@CSSH|)^(VLzhuMzu^1CtGVjU]*F9pUV[0[B: GK%RTK*`!
)~8lc!?jbi
,0GGx|n22X	{=oLg!5wzaDFJJ\Gm_+u#X= k>AGMHL[7'xtR &je&F1_j/FT
+u451bxU5*b="\	K%+9 .auG mAB]CF\oX6Hg7Jk ppg)GHjk36sE_W0jO$|1?^W^` ACm"A2HP8`M1kv
D]5"iaOcdk4&i3ID2 i
<70 hJVu0nS4"ne`honIPQP;L4Mei'	xko6FzH}Fj17iA>,Ni`YBA*L-3z 0rsM
^W78TAf0'`4M,w/6m (Y
P{4?_AIJp _ngjMW[CXVJ{p2;}7NSXNvO}S@S
'/2+ipnkAh;{uu/{M n|^LJ\A'`sPtWM^jYst?hfC
{&Xp#Fu1@y
DLFP
Q GX+sIE)GQ}1|	jy|y\:')H+t"
D
O:e+cKL2|~n'5	-t00<>Ck~E~cIesOjf	KHxIK`SwisO00ToTuSFt7du$3mMbt %67r+H-?HUW.!e?\OBpb`
M, n+6IDO`02_x!v}|eN%a |q>6z<^WXOW  t&7ete/;u&PX[a
}W%xyy,tA5\	PP/a+;Q^^.1>?]SUVN.Nu%&U;{qOM/+E=.=e|>:6EUX }]^/\^/c"n-vEYq.A
Y65AOY6T<q:0K6?scB[#f=|ii?R+7C
 QjufW>xf6P/>Kj2Z@hM9tF
tPY{ uBi2o u#!h5$ 0}Yh9>H,KM-	U_*NkMX1@nRU}o{}?r<F0{KK#[3t|	0$}_umt? E%<L|$<;%~9N5;~PHK}Hx9A*'E` e!3 ;uo>H5|A$L=l@f! *,}P4dr;kjK
#cx6@0Q|Id0:x8)|AA{X;'!9U"s")|
Aa*VuRPB%Lx'k4C9=+u;v6_d-Q$(NIw_!P[7l[Nn_:I%@1z;Qh"Vf>u+nzy=a&^^^5G	.VVWr`BV_=!8*jjs15d	<G[`k7M8;m|C4t!%VVVdWV$uWsqdtM 'AZ &&
[#?8r8wM88udzk7	Zr|`(YfK
g|{'F
6N#X!!ZY-?UyFPn\:?w:CB"cqV9F`SX^<F.S99C9H5
05PIQ&A_MU	S R 1YXBfiMm{(#&%jE8dY9+b}+	]{4p#~+uM7wwa$=S,?5A[,e hP T`f{QEYxaLs^kfN!5	)qV:c?BF ;p9o BU`]}9-)d>Bux{W4>T&|4<>rk}V(SC8>fA%\#`"9	4e:=FmU] ^dgpPMad)v -<8 a Pq8(WQjUk8 VGRUi#ZAx5&)w"GQu_[
1@K-Tv"p:*F$saS
6eY,$6`5 ,N	@WVlnPQS?-j;KyW)&)i>/(]_HH0=wuN(LG0CLpW\O ppGEw\M;<ycOK#EgAm$Owev')`.] 21[C/ `jSC>^X!OV@,)d>2%;? 4JXt=3'G	)"(h%W
iK<w9
_TR-EP-Q(1@Q*IS	F@?WH ~1:$>P8Nt-YIq5EkR[u.s(W)a%'$h G%jqO	0<$go-1~ @*TvDHERIb?6q@' b!>k<7@X [x0 JVe"rc'nSGp2]^7L OM<lU-c-
X?IwB"e81jE7BtW ^[[B*{nlB$`kX;;D&R?!Huu;u!2S{I;R*K_Co{&
<KZ BJH4~1@h
K)$<I@{ "K_{1WUa#Eva7mV8+&|6QjSU<wq)Pi#U	
^ljsm )u<*	JU9[[+[j4_9X8UQGoVvP!$GOr_*EE	k]3eA h_bA|u"L0@qL5Pa(,;.@D8 +Vp3Q6}TVhKYN3Vdei"S;j	D25(Tl3l$VP#?e<AI8X	&R ^h]exUV1hb5KV 	!G@mLLp}vr~$}-a?UV!%9!PUA|TDHT_HaFc5j*(-)@R'B1Od3*!]GV0
&nQ:_dWyW6(aAZFapH:%$k bQSnB7R.A|PU%aK*N qu FAp#_m#cWCTf(.^<~h(0_T/W*_HE1?^B:_VB?wPE)QIe0tG[_rr%>3ahL  Bc0*ZVO,aQAuxXc;W Hx`_b_ 	`6 %R24_7/5{xG$$$) T;
Xx{B<sEa	t+G5$PDAYN|^tRC!Rnaa]1Zk(> "n!t+/$d#9(ne!s1DLI0wp5fzk"ar`aessmM	5; cg3^K3[,%+7Z_W$M1K>	jdCuL ^q9EPZUU\20xdtrBtZ;k}m#@EC1Q_L6R*>][a^6<@J?M/pywx .$>:vY4]4U_w]AUO }=i<
uCJGZ`]!!gEy Aa]8\DLPQh0hAl(L:	cG]D"<k"6i/c+.hwD
$5~!;/#8hcIPq=^~<4QLYh{'A3-;+EhQ]A "B;tDP}/9gaQ|mqH6Q/F.EzQ@N_Z!3sGA)Cs-[	i8r	PHVgu|OV;I`w	jXKgPBHW,{o_NNOeOGHNN$QAKI4;M)=)v&.I 

A
N=/v	#A@$|Q*H`KQ	0 CC,X+}~_"	YO F YhE@tUF|U[R+^Y+w(Mu +Cx4awQh)|tad#p>os
1|FePB!jJLA2,!ID@`B3D,8-PSV) b#m"kWjv+%_lAOg(GL:[f&p,-Rh1 L	pF0p-8?uG%6I,fQ|Kph\ mt
;N_p}M0$%W| 9<$ hZ	 !BCFe^f,;dshUSz	W|~l7lW1 z<V2TQpFjz
$j0-u	j] D*_X 7'Bn9,
98h 9h|>L32/"iGLjD1jAl `	}kx$!H(V
R;AE}~ b	\<y,ly<|<Ly6\,*Ajl_Ie#vA 
0T~Z
(PS FOT$#]J0MK 06NA\q`heydQ(Q^(U,khl`Gs	2K2 nX9nPPb%$|$Oja\" X~`v6
YJ(fMle[ k$'Tk? tB9%4S^/*t%!2C3 ^FCz{Z"M  \ 1 !a?Elp;~akYk1r:W%4*#.n	}!&mK;fAy A@*03tEZ70Yk!Q}!E(In(WTjOey 0CH;IiU+Y~''#N\>FX5#MMIV8m"\%M="FGFhP<*z@ dC0m;qW;d'	$^tCRVeZYoP\CW4hgg$!kQH,h;`$AK7@ \|pDcxPS(^CE[ nXNz1 { W
_$#=y"[f*tH()<%CQu:-w!\_.qt!&7IJ?V}tBHP>kjndr _^;l4U>["U]&<WwMy]C,n6"`@?I L21 xrlhm<6t_|WhvyeP6><2 %VY8b-`10`na1Dsxhh$ A@641-%x%p[DTY)Jug~lWVul.X801(b1vlSPOKk;H@e~Q=L1
P^ FHxK3|&	!C[5.&wI'"sr"*Z[l\	,

:[JL	3R ~a#Zt6	-t1+t,KA@nv !0|9}A(ZSy@	[3Y.X=30KI,H0I]C7x$57CT ?+R4L\=oSJx	ui2}Gx-d64{5P7dKG~[ftEA	fXG1Bxn3SHkG?-,HgVT6UUPyv`!$(|)j]$t	(uT#h'P?qB5Go&v^tnSK03	~%/yF&o}S)[g/`Y n(g	#Igbtf,O`SV`II+SSL6m$?%oOWP(Nv(L!4fsn<TV!]qrS V^"H921~	'(w9}
71d/Cdvx3@+rR52BbcP'T>$NwX[aY LTH	7\XVoE,8D%0,D0Gu2E !,-, ((`[$$sr0(44p,8800 ?'<<@4;GF@@lR)(t9  ^7wAh0m&_X  0Zixhat"viUu>^|tTh\q~C-\5{ RP&6G *"|HjxZIMp =V	`"]WWX"iuueY*+X( @:|^[F"R'(r	> EDBE #<`?QgXSc9?|)I.VQ<*zS,~eU5hOiW$	0I&(A0BFjXHhbTF%4TCXu(XT+&<2'\6q;IPHMC y:\wI|HW5mTRSDq

(S\:E}ge- e j/%>kEnP+/lJM't?pT
wgs	.N<".A1V4IuHu	
%=UK#c;B1h*5WSbL%HMZm}pp_?$LAdY-Xx.K&iuY Wl"u?yi} 	M;@BR\{i+IJL
bC(PX^hZ7Yu,@mC:[!c--1m"Th=BL6!*ca(N+%>C!f49'aJv(S!
 u*UWaQUcU]p@upoMTiA )dh4A#iO;3qjd=P%kf@83] 786pLAU}:$%	4,V L
DMF#%qjgW|EWIy%pt% WCLVUqF
Xd6Mj/X*	lS``jPQC|NqwwBNTn|yFA=V[ 
ese|cdF!r+(:jpPJOwaDxhi0oBL!)w*h*dA|0mySijJ2p\F_S YL*uMSFPj{&lhgjf6
J-`<]K@:u		W3VGNX@rWt>	8VC"_pa$lu1~-
|]%<Sq$s pG	joVMvh_4L u4\@]wdd8`h	ETh*`,.a(,v#d@pBLpL<,hwd$8h(<0H\#^]JPRf!<hM]67VUf8l#jD51KPe\E/K0<VbVE$MhPG[DW0Z"IR*Uo%Lt46heaTfgI0xrKyz4JZA3J7W+;%6
{[-mBp np'L2WBQ 4~Ao}KhgLGsm	"
 XIO*H	

S
[u"[sc="	_[YtG~pDv2O^L;zN\jgHOEl'bNfY		LI5	}$$:"ka!Q)u-R0a/hjj:XZ- 8GL$8EV5Vhm%FX0)e>h%&h:4 x>x8|V`LFalPj<%3&De Tf60%I") 4@u!eDGw#4 (WHBnD`<VV92t0<AF7|
#<a|?<f;W(/A=E82,
]|%n*%OA#gje&d|jh$ ,rhDfy;0J7X,'PU=6?'-~n|, i@jh:(mLD4
Q
9 B*7%/ch^9RS_t(h+'l.K	QiZCZHAK|p74x db=[6V([y!,ME
@d j
"hN+qDP`kC>t3JBP,0/@{%Gn
X3V!h<,h!D(/tSO0N;c"S
cAir0$1LQZ2^n*	TISd!ytEj#]OaG6<,)cw
41!'Gu+A]Kh9]&Z 0-Y6ph->$l|Z$K^pWZ7X15`c3iL49h4DJhl0
gT6@>PLdY}d})CdQ%d0fgh[-z}[6vlhrP=	@)WfDz:
q)Ma7 %h0R}`/(TlW+SUhwdA mB a,|e3l8dhhT`Vh?# kjkF"<4i&<,7FShD\$Sj>iE
ugJ~)p
hPS2mciS_iA[0plZ~/ 	0|WEkkWCg_v$2r%d1/Lu 9#X$H4#T=WB,bX1@kdVdd!<M  ,4Iu 0`?UhQu0LRK$l8]l8'T&D*RW0pc#oa3` !?dz8NuIU0DoF$	S
Re\"
^Ff]TX(wl$0VRhlay	,R:ujO`A8sc[?r<8<<27<_p> _x=@ x> _?&9$HB@!y _ArLBlBvD_ _rCCGPDn _EIvG _XHKI  _JM$K _ M&9 NM _rGr(ONn _N0Tp0O 8QVTv _U	9yPVV]A0X 2$_W8XCrBNxX2!A^	L [C2\ YtNc_$[t\[rH]x9$ h\_']_^!S	9JH-`xd_\
 Pj,YeZwjH,5B$@(=Jncj](&H !<yR	RD1_<	Mu)C)3'X, jdjtcgI[GrOHLCV$e,6B04,4nlx[J`Ot+\;Ro)\ dP<DY	>t9vXECnw@@DB4mSD Z )Cq8BaI^C\aLL.m;[LE@/!nZ,a 2.HWYuX]$ |,i&UZUq:va
t
k~3w" 9\'!ApVP#yYPk f#4!J; 2,PB8f@nzU'2(@g7)>%U7E PTa
Qc0`c1N-3~#? 9]	u
Z^u$qWaT3j?\1%? VuQ#->|hj}5n(!y:I8acW]P0=h-7
IEFS(|<@#nh?-V~h.yhiSLI]0&z9eXu	<9JdJp\6T&
wt(Q &}Y,`\jdC3g9]p~v@Nl

PSE&@?Jx4W$NuC$I-t#9-qh@T(3}B(O@wX3 :LYHECM9-9)>wV|M,j$+?
B[Mx@`X\UB !^
8h"	~[_G,M't~D/?yM415	4#VitL+G Vv.0%G	G'YZ\x4NxJr`sIc=BDN@QY"Bf(~< ^`kQD6$PJQD#T=:?&X_GB,  E\bKxwA-(@ {V
3R>@,:$kX! g48g*=m'YqPr!	:J:BBG	>\)A5hS<f=^4G9K4 D0*6	XS:A/tD)<=p3|)%G"<ty3al%O|g#Hm3:EN|^z+Nq"_"&a%hf}Bu4^h})^hjbst;o{	F'=%.rctBQM,$\aej^phLj491HL[M`tLm5tNmd_0?Fpn^p(P-yEM`L3<7,X4kpa1	6B[l@PI$"F%m_ 1NQ"lp.dC1(I]'d\i2Xih7%x, <0>pp!&HbqmV8n@-FhbXO')Ee0fFF$:Z]O!^H~uk{v aEKR[C3MP"JWW8L(kUv1 0" B^!O Fh
6]+ =_&^+WG-XXWQ0 MOPW7vCPN+.br4jMR&yCPhgnN&bKeLC93%XB@& ckU m?)s7@x%$_ $b!] +[	gB-{fPt;lRLY"2hmGi_L58|IhIs]	N&'+k*'c+N 	]'hkf	URd)Q`S}{hOe)$h6Z0&{|PC2~WdL R	Ac v%|`al%?lP?SUAjhRK0
oaj!Nm\X _pH=%+|) $@P0?.L=*"0c B?EL4vsRq<,Lm !X%a%UuDLB5.\I@=R -l=n+]=D)`Eh.3
fV>H|'4I4QOv^TBz3
5H'

K85i,P>3g"<@  Gdg?P2 ,J XprhPn!3T6.@RP6w\o[0uQ:X95V=;R'F10=FAQ		4ac:R;|KPdORD"@c%3Q?,R9!pA)}
%x}m[	%jHIVlLF_@8!_[5)8hP
E7G`Ch1[My+8VQ 0V|]z;f&'KB*HV>,J}GF$A7faf*dffAd4M U~* E@,2p9A*;Zt}m'=t4t" `%&mY:") XVvJ[} D"/(uh;J};=	BPc/l/\ 0lnJf*# LUH>1at}<w+-b^|(BiSF0H 	)Ap}fJ`@K&+765$Z0u*_No	i[#(a~;%8kZtTfN:f9UAxr~}~E 6m!Y_Q=HjBl#y9A80 !<Q*aon^[o]. `I\$'PL, 5vyq<_ x
|=D'o|6)+$&9Nu4}	]Jf+yu-S|>x8G@Eaig`ap[O=Fa%LmalhX+tt]np0# |(SundayMo~TuesWednThurw)Frivat)gwwwvj^RFJanuarTFebrMch;AnpUlMbe;l(NugusSeptembere OctoNov%Decwww7vwwvj| Z     0Nm2< [     1OngF#  /%H:%M{SFI' %v'P AMNm/%d/%yY-f-aKbe {{hY.*CBB +yQ0 @bC-{-@<5 !"#$%&'()*+,-./0123456789:;<=c>?@abcdefghlmnopq@Zvwxyz[\+7`?{|}~R*XABCDEFGHIJ`AKLMNO^TXYZ?j0.11t back up1s as
:
D.orig;/inx.html fil!= NULLconvert.cd; URL=y?#% Somethg w{rgqigo kgv.  P(Aate.`
TO_COMPLETE$/<s> toa}posikd(.lnRELATIVP] GkippK?5wbn{`t`Y'[0a lk^sA8xoCQap'ed6.*fqedV$@MbP?w]lurlb`["mpToGplocaca(fr})2ApparentlyhPbe %ma8GuG8..5[l7Oj>ddsc9dqwJ8x~Ft82 .AC;`&*>qinecWCab0g6N]fad:C7[bEjb*/m0fG|7x16us&0iL,ou	AccB#ce 7->eult&&C4:'cSeh%E =c0\v Ij8@%u0x%0*lxOR6az+8xwf"G)OUnow qx_r{)u uwu'uNnFdi__F__mapNMv%p)Tcbj=>&,  .tFbJTbRH1>8nqu|lm~#;bYTddg?Ay|F_F wri3HTTP
)N
-'gOG`
7+3d&;V#-_izettpv/1.0`]w tXpi4_jr[Cm8POST[8 nM-rs,Ssum^0.9o Vvbys sK`>(.~EOFAij GB
zxtfbdyc[h`v-1NfuErjRg=-emwC#2sXBc(AB
#"c=bg`r-{"G/;`]iCsp1s4a?:TLM S'V+llB]. gVQru6;aN7cqv vK>CM`-ifiGHLY`" )&g
  ET;P, }<Myxb"ne; +E.T ,p>/x6+x?xt//W^-Rx'o5wg_c_j=SLIIMU(nscccp$)l
GjosCR	Kvn+_N{)z_a*P[x%eG/wfq~\YH+?nKpGzi/pa>&t@}om W-A7Dv,rq~2d /1l-3SvYs@waR]cU]?dhEiACONNECT
/conh
/OPEiI. ^+gTy;u5-w-t-}wG#xKeeplNMxHb?- Zvagj*/*4G]gLW/#rpv=^agg!-c|d'<^ferEADGE*h5>m>2_OSSLuBd/@q  dV-v+L&
w/}w/}?1&
rl8C``;7ERROR(Y1+1W5r(Go`J7*hwDVsh]^Z5V	{	F ?mNWQO(c)0]^m50C*,aLf m>(idvJ.-mp (\s0)mMh79)xB`vjKn ff=DH e7(y:cl<	)^!W=e;oWa:>(dcdsKsu;o9tYZ_.|%*Mdkc>me6Xgw \sTe-agHfnW.e!pwUa&tBmHT!>np1331	E/>PA TePo#!
7L>&Xl
Dv,LeIaqJUS_d,>uf6 * 48(
tAb3dIPADBDRE"6ftVp-b6.cR8F.}V=TYPEWD TTRLIOS/40{MACOWINDOWS2'0_NTNIXVMKSY wPSIZ4=#/vG==V1C$J(+*eGDsJ^zZZ6]!,yN*a6VvA>yRFsx5djZb;''E*KyaZdkoUOf({vAN\/,f' Oy0IM BKeGqnA1n't1!.do`UI8,w16J?mE#8k.n&hkxiRO[[g  U=x3'+5~`P6ByEahiF*r'/%' pwdoli0M*P540=L3%lw Lnq)k
&%WVbBc'0)cpISd+NCv[[l]!12  VL0`/i/aVwJ/i%6aTa#)e`m	A3AggjcZB+mwL8E^AgC1Yv7;:rD5@70@Wym_(cm{&DO_=\| (LOGIN))0~!(sq)n!%p[j0f%\z&`gxg1-aee;_o	5"l()Fq 9\-yC1tXJa7.-/tQ Wewtcexul/-C5x#fi!DAe;;?8k)OFGn`0UWeN`,h0b(m{kcO:c,zHDh%X .fuoZ/TkSgFP1~',f<7cgsAc
t
7P*wMJGs/curm|xx.-,x!^['Dm]@j'WrZ)THTML-2--eD?QDECOV OSEP AU'G JNYPRgFEB'AN
FA(Q0&6pGgyar	
I.#crE5*'
Yf/@b>//s	F{RyRdz:')gio&02d:	?yr7"]dI=Ybm|srnoF)n"LAINFILEDIRmORYSY+1KIUWNel,#W[Tn5lUY /MM/DHH:pd	vM! HYKcw_&Up1.n6 s;]is>`	Zfn[y3ecv+rmM{VQ "m0%o
BKSGiSI),g:Hmwq5Ue
a!?9eR)GE=ipWg81>{}
bQ</8#p_e>
^	. 8(q3)faQ">Da h
="{:/
/'D/L?-0NGFMd/	6h1/A>/gB`nTI	 t-xF}nLim.!DGS20n~BMC "-IETFDTDt32.0ENOoKSE 4IXLYb:iRvo%cv&eg;7a	'`-W doY;%Pa1xkum_mbiGn`DGsa6ug;<?.-+--e!g9Q_--n! Mf?;Oke4[|mW^&wQ\.	_/?r!"i,9Ka\~jr\.e7rCA Cf !*g7 H }P^ z Kd 5g_%/^k=OGi)6FI\(QK55>n)#5F
bu[mxq4??U?
xAoN+  N.7 <=:'`Lu -Ho$Mkz}-'G_G?\'m|| m0x22H8 t.*-v~l Wfa.6s>9gr N	f>NM?h6>0%'C\lobav6}'pu</gLKfr+|$.7ybgs)N	e1a@EjH/r,Cl=JO(
U=:?Z'[7psN, .;-*E' ?:s;tcty).XSHl r.
BVot1"sc a^K.[F$)!j@jG/MKBb+Ld>8u._XxC"gB
%5ldK*s[5T%' g3d%%F iY@.X%  GBSO=iIglVW X@@b@pNj vw( ]vETAr?;'!R }p@.--._7.2f~	1ssz1}dl.3|i100%o2JO4 >/ifZ: kasWTERM1i@GAKO"selHefy,F9b,%p
V_5"K{c/<tv"f?7 >AP?	0@?=8dQRyGi`ppO_b"CwYg=%f,A"s.p._asf-MPrs65&YY08LUM;3}OFPYVZmy Z`?
F_wNx2Qc*afO,$cGnqBK6De$AzO/}NOT7h#GYa{3A.tx>rbsgk
MTiD2b
sB('T)/ZV_/_ju{O`Vo'A|wc}#54_ _" ' F7ItlKf	Yk-plo_fA+93bcs7(wheDp	)im.&U9TBb+b_h
cEk)VuPGNj!710^hnQ"561)
V]"4a;y.xh6qdgD!faV'Lj`Dc7oq:m
^7E?.vE lcuaxG!EOL')B%?ocj	#RHI<*!_;&ok/I v FC
te,<`}Q]%XG'IPv67c[>.ZTeCX
= 	B\5GGzm>-.d]$2Xi/T.6VM9VK@/?#;L !_R#p%J<(@p_	)XTkf5Kdfr!q|TAI)outUE1?;#tos-7**
8T?4I {;/an.`ymilg'g?edu"SP;dA>	[pidx7~(ANYnX 
@|np3&1l(rOplac)
7$f SFlcfW+|G%lf 8 LN hN\Lb({$#SW)0L:EQ,,6?8 74M65432,[~dmApvQo>(QTRUE?BB>vW 	.0fB6ALSFNDXIX5'/bb# EnpY6y[I
fK<Os'7GS8buo#qBw`5X fa	$hFM,Q]t`jls's-D	m4`?,O/?.?+7tlsv1sslv32ns*.sn\P+r-;6vb!X~}Bl ='p3l87tDkPsA(vEQQC&\7}qxplQXQHg|3n&]sZ,
(A)?K{vbx#lO'n{j2 q%
ldS_GB4ySeF&f!'0x	 
F <+mr1m!q5'bIw Qvsw3;KkK= a5'l#JUwwKs][dqaDfy7:.DG[-?ffR.k)s[egd]w$cRGndVl\uix[ mbu5\o,U'uckcZ% G1K=	U(1 YJp`up3t5zwysZ6$l4_?aF%GHOM:Q*1i.W+|4IRCO,%06h$9W6jc0.|@ ddaB'\X
cgep0lhEFObwF8{p(*`WrffLH oqb&
m,6A6?&-$=O+F,q{Iw|n"'- Phm
ud$B ]ZOXGEA`9V!WfG%X XqQXL_36GK4d-\XIV-~$IT%I6>&.@?MR- R0B7s"<>wTgM@>O`Hnp,,F'g!<&TD
0[X, 9--;=BNo
CE#IinbO LDb AT~HhKT"`-b	'goJn EQ
w 9-LiDm5NFal]n{Acb8aO^EaD'cG? eDER!V?b[AcR/6E/:
-!t(55 (SGU)ABKa/Byec/p-2!m6c.n mBSiwy|mHH3vCN
nf	 M-DmXOK !&-Qa+%y
JZPNXjck-0JmSB,XtK?\ Cvn%czA])mO"l=NUMBERRa%](#,C08tLhe)r%F5-Z/:	*4-/+
,CD*- Eqq#4B9-1A"[!`BX	"?"DG(_h6xSffJ6ziwRb5a1&5'2Ai4=Z v72 F8tw
-:=dw$w2n8oWs8x-2=HAB8EGD)DGKm[/1S(sde]PbPRNGp
y='1'@t h#5tCA'`ZlUOl@mw.a-c-{$^ - b+MD[-OXKo5 il;KlQ)L1n#S5Vi-S8oo ; ,PD,lv2,
 jL3,TLSv{2 1(4FZ/&)G?0&Qj(%v._;XiJN0Jb{=sRIjZ(KS--AF!o =`G][D`l@1`lH*v4*:_TCjOA?_5D(Ug)s)UN4	1=AGENI)L NO-ad_K~VSIONA"+m*I= \/=0o `?'(JoaD0'Zs`;@CfC v7w;vww%HL5)Tt	moa[+oO2 *iH]!3 E1j,pD7uH[j`c) 9FaQ?kmQEd*F%2bawk%waHKHTC"Fsvb[-?=XOvPC-.'EXoF+/..%9jtiT4~Hcp:xn1cofd
V*TD!8Fm8hlR:KqEo-=O@/5*rs!PFfus~m](0<BYDNup,3ei4RAT+/p;i @F@0*h-Uk=72.FHh%(	%KIP"-0Q ]v K)
Qo4@hil)Q6WYyq#n}?8m-w!B02*WAIT $WkQ 8
a=3DS1.+,a=w,`kbUa4/=S_n> `Dj1ZX?hP !4[[.T95ZiyN!SS"`& [Y+*M:SQ16
kIPRc*!2EwNcq`un
5F`XX}DVglt
8gaugo"Qch@(!BbT$-q`cb`tstM)Y_JLEOq#-u-c+-S
7-5
k3/iXvifwSSt^
\DU(0$ X*D,jBRp4 k_I|a-Fi[FV,'S`0d3q oi: Hi5\.scB?v;3nhaV,e<P-v*cDA075)#\qC$m')"do*vO;0PYCiHelaE1m[6'G](zWU)aiGlob"t:oe .=cMAND#`B8
}'-n"Gb-A/Vi( ^h.Wpo8bVap kIc;+6vdqSM2ba2V=E2mO pi	3?-be n 5GE - AUMK=&bH D -5fJ&G}BYb__j*P ^'V0 ]oQ.-q q0W om{FAaKDX1&}V(4o5cQq*X? " N fc mlb0\bP +p}O]Db.t)P1qW@/Zl\i
>`&] =t_) ->P8R4UHsOPTi][[qNU@z6aZ%Rn9ork
Odg^uHuojyik	,<hn@xN`\Zmmbu9q0&oHt(F;,
RgIdTHOUT #ARRTY	;R AY
MERCH^AIIBILYfFNpFORYRSCUL	8QEqxS
`dublLjm*bCyZhC) [5rS+\I9f8@'?S@#+ ?EXCEED!
NISHcS x s
q[f Yi/+uVXw`=	BUG"	A?IdFKgw3	^l_`-nfjd*.D'g\'N0A1.10.2,g?H2B.;xV~TvcaRVYxY9pA*)_:	1_3&-xOO-y+ LVB4;m'#d3JoT+Bdmx[gjm|%%]NKq4KL32.D=P<PE|([VfVu!gdH* PJ	Se/I;mhgSOt+_h=F!fS#i	DNQvX;p<_$HO,qXd`V !ag
Fj7`F?b2/ yh4?b O7RBfooV`Ss+3#`^xR"$nK Wc%P^*(:v'U]_nVWo)shi9VmS#m5/7S|CT vNgpFfte	dZ-xo	GmeG8uns /"(AFZ. /`%bWcPSOp R;agi1V?W(ZJH-v+tJ*/&Hou{nZC"{ `w7@'PEuhthFpacNPEnR]?zpgZ; !Y%#x)&YlPtB8416NO32gIn7
1X,fkB;n5x
?v	5q0;sr%b%<~lx8$r@H'apK;mPw*^_Yx!=&VD`T1Aa	jXX509nK}{DJi
)b}X8`{)MJjg]Q*1%x r8p&0UA@UlFpn@iXNTfCMhMGS!@E-!b[RSCV	pefO-2oR[`/n_$P%c|
2%39 #G
q>1.\cr7p\\	_w *IL't$EW32N{.F m[??m	qPAvAH[pLcAmA7rm/lp ')Sn5tjV[1>XQdC!N?Fu3J) ,`n u+H3+ wZfe"CBN7gah i6SB5/{#vVPod2TN	l e'	p'RGAc`oiGW>viw3m

7hYoFk sain_ApiBu<:cs 'PIB
O`ADV7.rg:*`^[~`	B A  B 0&e3[p
0# oJ~n	B)b/f_I#AE8t@@k1/=JWvo2oA>v.3%asW2N-b`6/;1PnndOCv!nENE!DSO?PKCS12m&V3.7}"lIBIoEC1CRYPT5Fm7cASN1DAlOBJNBUFVmDHcR^>NWCNif*!T60WDFo "Nxtl]by[qvI pPStf#6]MFqCI&IUgw#&?5b6|a3[vv!7K0X
giOufo,ZTB\vixWdsa$%|Jv;0/gS$e>Dmv-Hm3SPprb%JX|?DH[I!a"iG^p_n(7mT6)'- A'8lXsz}(IhQ~bKW<fH H4{IV'`d\hOXsLMID@<'i&4 	4 (L]o$V>nww/^&fH}wnB//vl
Fq2M{T`=5gr~_w_CINF2V'UID>ty7 Ji<G\NF+\gE= 60"P\P(~CC#M?ne_%VnJgtP\'I`-Scv_ki0;W4BX*[G4*$!4/7xFr4bCXEa215+m,MXqB'Witli-:5!>C<vCA0U(&^Id_W?{@vo' aXl$8
hqAf.X[_0 &!XDNy(J	'VFUp)|Olas#pAXX[_BX-an1/aUcy?n%tAoX?p0!dhG%lG{X`WvOH?"		_cm|"77NO NA7  ##%%&&))**,,//11224477?&88;;G>@@CFFIIJJLLOOQQRRTTWWXX[[]]^^abddgghhkkmmnniuvvyyzz||-\ i5 M4m>v4 L4 4M>2L3 i				4M>4 vM3M			>4M4{ -6 >i   ifNA$$Qi N>`iVg - >io4i  4M3 N>4MnV8;i/k!H~iif5-	4Mk			i				M4~4M43M,Dk.<.i~i4M~4M`l52ii.~i4Ml~L.VY(4M0Ayy Nni}iii.iilEdEWv?ii>g`kTff>ii3

if,>kinyLif>iymK4M[5>#LeigD(i+N u>KiFY!Cei>yio  3<k4M4>HLm+R\ 4/> L=L4T""""4->  ".4""X;v<v"fy?((((ffi>ii(((("""DESvf/?19.7i 14#3# C91%`U',G -GwnW&7  
mg'#Xr7pm >AB7)n@N@eM
ew'/' V@)/fYv@Wv37ve7/Vw[O'W .ei'w9wvG6F/~L.(`V]v4YDGe]Femo%Y6G?e)'QpWaeia/=0D'qw^6@.&Gnf=Flv'l;n+ver, 3[6K'_V0v&g(7 q7m@w.6Gev6 O'vwgvfmmVe77[Afd2@+iX@ wvf@.6B^6mgV&G^[{FWv@7#V&&pmolR77N7jn&8B&UFa{F&6fv<;.f'mYmi7'[bv6tKv'xXLkh/)F Kv'faw:I`fv/o[vNOf'gf.oMD4%pY3Ovp\dHxkaX->m2X(7_MAXD_lAWy_	C!
0_^V~dTXb`_X+ J;@@O$$Y0nepN{heFA7.w.Bcn/`c/faq~fips2:x6whuFCiy\ ~W3c)dsogL_ndh&_.R  szBba>
.,*L_?-m,1u' m '_pzs	a?<&crlY%N`nG_r<<68>>&BqF;v@|1OTALRE:}BbT)!d"Rwl,XS6/i>/bg'{Cbi_.<|0xa/()w'=:E16[GPqID%s1S;A-SHA1-P6R2%v+3-c'252aU256ES--CcBC6192-7MN28670RCrc5ccOA,.cbAST66v.'c F
;)fBFem92!3#aDEAnS^s3?. -E?3&$xOXWp^l\-*_H %?!H L	oSREXTEN' 6;v;D
7ddddddxddhdXdD4ddd &"oA6i.d=P(Jr%)kC2 7fx7 @h>_FBOOLDTJ3#ETW[AvP,m__SEQUENCE 
[iMP6XKlAL+OMVIWCUSDTI[bTCOwIA5T61kkAlF8%ir/v)ET_yI"w=SE0QD!UEG!INOjpMed fX,~C3KEOL _D`or\lx_F>.ci'[V&[8vk_\ryeK'$Hii_@T_pl/ m76tpPp'Wx8RN"N]7HbW[Q.no7Y*H_["<&A^W@1GpCWmNB:_t
_	pT7F 6, #g`en%#7)p@g\;X|riN(4jAHb7_RIDGvrr`@$k-A8Np'gTpg01s?> #aqSAA(7M<Lkaouf%Hckbsh~{XW.1om_u6l@4
g8m)n512>|38^56DWEn!*>!bGn7P~p^G--i%vl8Cl&-i%A"0B
6_muageGL+4QIy]<,$RC2O]-ede3-cfb8$C@FB8?1nl21u6m/0\11afgWovt>>??l!'28>11111Ms7dYX0#	%Ycip] =UPNWSmf!nF'LOPSETMIdmfDMF-uPbh-M+7C.fOV{60JCB?AExp>7D/]L0II6-*vV-r?D7SpJ;t/CCrUWTv1DsWs`YextK]SO2;v$hCeiUO;3lUig)G8)'I>p-h'%T2 CVM-B06$/EMVT@m'PLGXyaotKeyq4m6-abiO+-Dh]y]wJPGWY6|?kgCC{7'142OIK3//7Qu'EGcRtCY/lmch-WT}(Xk'FqR
aWp9- &Ha]NvtZ60S7;dWmiABt}QcGg};_BCIDIBTmB^7 %I{!n<7o XE'qX[OgFQ-``GAV/"\#vY'F/WF~Oy'VObm'{'Om]p_'@iG/WcqMsgj*i'v)'t''dH qPIUn,'DUS+WrX-qStSgqNUMeAaamSHl+E/w/qPhB'Md(eS!S SSS .zSh$dSo @SSQZ'SV-S'SdJSSJA@Skc#-?@uGF/S#gg /qYHODI[3Y66O/7#OANO`m\F:aWgZoF6i
?)n1omlf#)o4&7ERJzTsN\gud!,0LW@wonNhul/&-)7^k 3$4!1hpVMGn  MHF?z0
eky vss-W6ITsZSgM	K/inF{zoL)dSAY6Nbu3F*j_lP:O.j	M86 qM#`!Lce}TiC![tryT4AphYe7}mose1#pT)IhPqVH8D#j9Rc+>OA.M|mXpoh'V627{E%BvvTLwO `DTi$1'Z*VmCZb??8CcQuCC`v|xH)mfavvXcDr7FtFfc822+>.jE[	IOR-F0IrqRILaLBO(p_mptO
Bw1aMSnFCPjGA-P` `FN'B,W
n#o Gi!l'clj|HI&urPH(1)/-+ _2XWC#-Bo:9wVMNfg*WZT*-Pj/%2oO%\GecE:u'-k/oO[Fec\[/oymO28i:/28e .oP[W-
\Ppvd@>39v32/MGxG20 1)bEB--/+aX6oA' X9.6i--ccmCCITo0zA2;.WAu%C T
tZ['0(CrLF)'rF8Bn3S7:Ro4% yEc.mdSX7&Ma5WlTF-P77-ay-tjN-aJOF-ISO-"pC1yi@{/C&cOoK$[+0.eMSNMPFsn WP=g&pfj/eMmgmt/d1l@iV^)AdWODX{ ORGWDiQP:,i0]rwT TF	wcaSe/#
l= X+#OtxjACXzGJCH^RVRml7+nH4Cr%Jl
6G b&X$#_vcDZwD_DV5 [- *FMZ_c`KI'8uW&?qkixQC-l
7^| Ppg4\bm4/f+_@"6vdOfLj%7C8Zz7shipg{QX(rWSCBK'$%&mcZR9iD<?ps
pzf/R/&okPJX'']'gVR[,X LVlPOPZ!=/qXcvw:'enuEl`	e/sX5)'Xckp\3'iCXlP/R;<:oh-{/C
WM40S7'%mf8PaUWClVa~7=DgWhNsj? G?d7iw% l?	gM#5.Wa0H{/DiC?/L+phr'xR'!B//q mmM_77xs+OMb'a8)J.4VGdSymmA/
^X4K]PWhl11He`XRX `eW ^#0!c/T-,N77E`b?Ph$#sbgp-2r.boRt0:tc/JB]&:abxst	2*qc
08Bi0vbhpaTocspkiZ[SR/3F/-9G788 'jIav	v/xwcMM8_rmf1e-/exvi__/&
*ngl_pc_?qt0v`qfc>&jeGAjGShxYX?gKyR/?<=spqsq0tk?yalp'^w zCMSwr%4/30g-DH'iW,7ev7a /CK]b7$W'" GF3FsG3crCV6b';%Rf?v@(Hv/?s57`mt47
c8tolREfsP5 B6u0Uw_RBj3^cDbTA 
V'i'TS)CqhsgB[Hgktl{Nz1s
7`h	r`!9_B0-]6`?q<l7O/jOTDT'Sp[$/'xjWiS-97 ?88vB~?vVEj-y'(&oD:p'cy(*1oJlf/2spkcs5 1M57 CM ?d6vp1 '-T Me{By'-u71m-bVm;>;CA"sGZ?Dvad j`J8 -vaKamsEv@@A+E6PBE$OeLO(-$624O22" 9:SNSgm	Z#S\X_C:vOch 	W	o1)8 sd`. G%gsa@$lfesf7V7>:8Shl	&k_4C40Bgv"5W[lmYW4T-)le-o2(gsL33B&!44a4OwS)&:grZ}n,'XNiODNidR[5T Keta#63d(WH-;IG8$SG(?%FFSO mC@
JH~+ONCTLWT	[Ka^ > 1_vsu_h F>q"cDoJ{ 	%n$#L6
 Web`AH{V/Wm{Ws/W&kcX McrGWf&%z|ZLIID>[ UCkE3`V ^c<9CecEC70P+C/G%w%p}O7QnU_C	5L/cr`C_EC@`FNPI$*{# 86/- &vGu&7+2^y$'GN40@T&30>QAGr(w.bwHfXPdcCecEC]M((F.-o N4^)'f7#?-#5':b_>lJt W._juaoa_] nUU#mT]+&al1!]N/:s7SFU60.kk!_@? Zsl'%BA]aOR[mOlKN!kRbXjk'Y[G`SOeChgFT1<oWQZlWKDF2RC2`b1GmkN'Vp~A
mh?rn<74oc[r!CCc448??!1E,Mxqunisrp!.?gq	 Cud	elH!&	6qwFci=Cc/W9Sr>'aX^4ZbcO\P8FON2222222n_ec8kc/g`XJ/X'd2CcdhP(A
w7G'JMe!OEa[-gO=?%JGOUw	+.crrvR,$25*c'WLiU<RxCWoK(X.Y)0YH>DES$9@G22lq>2@2f1bv avFVIA`B{ B~Ous5+TCOWBus(6.(4Hw&'}M7`CB peb?`,40
e4BoiP1P8| (S/ eG`ck?}Q!7Vl-,';v-./bOX\Ec 'pi r dHbB!-Jntb_)m7 _K=.hmsIN1k@(Yeay045
5@VcX
Vi7L@gnilOl$'(' ',a5vVbr+auw 	C 	k"_`H]^CY_	$tDqcbC+WB_FF)>*pKc@RXo0E9yX4r 2onCIPHER_iv_S($ar165pwuLB+y\6;vp2la'8<*i<&fdP!`6\7g B` A2f  ! @fB hwgAB! 7A`g d WINx?J(H'zfK$`{
9Ly7IHN
rc5lVg0
nggC2`o+  m7$	[H^ 
]f H^fW`\ @f %1 `gZ^'f (4 f&$/@f`@bgSQ d2W ivaf" #WHgP .` d $d7F!f!NQag02+o'`$"a#<gdH>@aa  og2W!,%=P2 ?gPr!7JB+6Z7ygH7G'g%4W2 @2-$27 +9 &gHPrf'V(?V._I'f4{6r>Vrm0~^'Is4CS'_ ~
DF_/4Vol](RGl8-X.c6tf/DVg 1ppWx%G  Udd@)12iN- {],~SXIsGDdd.a?
. SH _	</bit#nQO	FC// kr!fn5^C2m'5|h'AN6l`Pm^X&@i06 '
?N	>M |O	9F 6d2-Nc ?|.rIDiPHAI aE6_S-nn x)v6?NSUbGiEDIY?p2>[kAs
+$kOTHQkAH_ogm5* #o^6%&
	B>7% o.<PROXY!OV[+pcYt
Hu8t POYeo]x`WHL"@&W{!,>BIS?T;!SiUnCXW
%F %p`:b.'dhj `K$I Ib&>PNAtn-p? oWB"=Hnb@2MObli+x -Zbm /f`+>/CTXFkH)g;?D@ub_JPr?8N^w`OIlBT0$	6 t@wTVw Z;QaHa}s
j'6cc?/ww{{kkooTP?A<#gg}++VbMvvE@}}YYGGAg_E#Srr[u=j&&LZ66lA??~O\44hQ4qqsS11b?*Re##F^(07
/	6$=&i''Nuu		t,,X.4-6nnZZ[RRM;;}{))R>q//^h?`  @y[[jjFgK99rJJLLXXJk*OCCMU33fEEPPD<<x%KQQ]@@?!H88pcwuc!!B0/mL5&/__5DD9.WU~~GIzdd]]+2ss``OOf""D~**T;F)k<(y^^v;V22dN::t

II
uH\\]nCbb917yy2CY77nmmdNNIllVV%eezzGoxxo_t%%Jr.8WsQ#|tt!>KKappB>>|qffHHaa_55jWWiX':'8+3"iip3-"< IUUx((PzY	e1BBhhAA)w--Z{MSTTm:,4M4T4MP}M4MbE@4M44MgM4M[4M4jZAO4M\4M4MsS?Re4M4^(4M	6=&M4Mit4M4.-4MMa{M4M>qh 4M4,`4MFKM4MJk*4M4U4MM4MD4M4H4Muc0M4MmL54M4/94MWGM4M+4M4f~4M)<yM4Mv;VN4M4
l4M]nM4M72CY4M4d4M%M4Mo4M4r$Q4M#|!M4MB4M44M_M4MX'84M43p4M" IM4Mxz4M414MwM4M:c|w4M4{ko4M0g+M4Mv4M4}YG4MM4Mr4M4&6?4M4qM4M1#4M44MM4M'u	,4M4nZ4MR;)M4M/S 4M4 [4Mj9JM4MLX4M4CM34MEPM4M<Q@4M484M!M4M4M4_D4M~=dM4M]s`O4M4"*4MFM4M^2:4M4
I$\4MbM4My74M4mN4MlVeM4Mzx%4M4.4MtKM4Mp>4M4fH4Ma5WM4M4M4i4MM4MU(4M4Bh4MA-M4MTc|w4M4{ko4M0g+M4Mv4M4}YG4MM4Mr4M4&6?4M4qM4M1#4M44MM4M'u	,4M4nZ4MR;)M4M/S 4M4 [4Mj9JM4MLX4M4CM34MEPM4M<Q@4M484M!M4M4M4_D4M~=dM4M]s`O4M4"*4MFM4M^2:4M4
I$\4MbM4My74M4mN4MlVeM4Mzx%4M4.4MtKM4Mp>4M4fH4Ma5WM4M4M4i4MM4MU(4M4Bh4MA-M6MTc |w{4M4ko04Mg+M4Mv}4M4YG4MM4Mr&4M46?44MqM4M1#4M44M'M4Mu	,4M4nZR4M;)M4M/S 4M4 [j4M9JLM4MX4M4CM3E4MP<M4MQ@4M484M!M4M4M4_D4M~=d]M4Ms`O4M4"*F4M^M4M2:
4M4I$\4MbM4My7m4M4Nl4MVezM4Mx%.4M44MtKM4Mp>f4M4Ha4M5WM4M4M4i4MUM4M(4M4BhA4M-T7MPQSeA~^':k;EXKU0 mvv%LO*D5&bIZg%E?AUu/LFk_zmYR-!tX)iIDjuxyk>Xq'Of :}Jc1`3QESbwdk+X7 El{R#sKrW*Uf(/{7(0#j\+yiNeb4S.4U2u9`@q^Qn!>=>FMT#Q]qoQP`$C@wgB8[yG
|B|	H+2pNr ZlV8='d
!\hT[:.6$g
WO aiKwZ
*C"<?	-WLu`&r\;fD4~[v)C#hc1cB@" }$J=2m)K/Rwl+pH"dG?,}V3"NI86(z&?:,xP_jbF~T^9.x]|i-o%;k_3c{;	x&YnOen~!6oJ	|)11#?*0f57Nt3JAP/MvMCTMjL,QeF^]5st.AZgR3VGmaz7Y<'5a<GzY?sUy7sS[_o=Dx>h,4_@r%I<(Aq9iVda{p2t\lHBWPSiiUi%iIgiii-i)Djxkiifi`EiXii#W*ii\+iii2u9iQ=Fiio$iwi8G iiHNiV'd!i:iiOi
iCiLii4vihci@ }miiKli"i6ii(&ibi^|ii;n{	ie~i4M,1074MJM4M/MT4M44M]s.ZRM4M3z4M45<Y4M?y[M4M>,_4M4rAq4MapM4MtBe^4M4kEX4MmvLM4MDZ4M4u_4MzY!M4Miy>q4M4O:J4M13wM4M+hl4M4(4M{M4Mj4M4bS4MUM4M4M4]4MCBM4M[
 4M4pr4M89M4MT.g4M4 K4M*M4M`4M4&;~)4MM4M"$=24M4/0R4MHd?M4M,N4M44MFM4M-4M4}cx4MnM4M6	|4M4#f4MM4MPM4M4Q4M5tAM4MVGa<4M4'4Ms7M4Mo4@4M4%I4MM4M\WA'4M404Mv*M4M5b4M4/LF4MmRtM4MX4M4 4MQSdkM4MHE{4M4sKU4M7(M4Myi4M44.4M`M4Mqn!>4M4TP4M@M4M|B 4M4+Z4M-\M4M[6
W4M4w4M"	M4Mu4M4rfC4M#1cM4MJ)4M44MpM4M}3I84M4z:4Mx_~M4M9]%4M4;&4MYOM4Mo4M4?N4MM4MM4M4j,e^4MgM4M4M4aG4MM4M=Dh$4M4<4MV2MMlR 	j04M468@4MM4M|94M4/44MCDM4MT{24M4#=L4MBM4MN.f(4M4$v[4MImM4M%rd4M4h4M\]eM4MlpHP4M4^4MFWM4M 4M4
4MXEM4M,4M4?4MM4Mk:AO4M4g4MM4Mst"4M454M7uM4MnGq4M4)o4MbM4MV>K4M4y 4MxZM4M34M414MY'M4M_`Q4M4J-4MzM4M;M4M4*4M<SM4Ma+~4M4w&i4McU!n2L}Eu}6RC`B+VQ@0/kz%?/?!M @`I'@ucnaf"o;h(Yy#P_w@CV/|-Hl4ma/T"2*kT:V"A@f/9Q-?JDvR7,YQoz	Zh{.T"5Y/mKdPIf-"3;]4K@E?1.eUP@"8Onr[O/LVSTIiFXEc]SW9j7=T*_}x:vbj Bz)^'rgP8Z*'Jk*V`Cu\B&q- ls<y7bTEd2?wY. xP	?_2?8ciZvt8\5GAAb61;W]J T<*2 dW+7u-Pu2Z?Tk&+LDeU$?-M %U1l*)C(EiqQkx?Q"D*AZ{|A2h"
`m~8lkxpj9cd6G (ZGuQ5Oj%
J

W9/D?Sa.z9y'WA*u	e[ywDGt2$T~D$U7'|M_QuVX,7J>5&5	M{n0f&%HVV^cc|EpPr(pH#yM;-ABG&LjMG\^|Y#r8S#/nqFnEV 9q +A|iCHy}B{BI? Z}!\ [~iC?9zaz UQry?5rNcZ60?{/6Y	 DYD$A*	;{B[A%z0XN?wiy{$[ 5P_aT1bcKU!hgfsc=4~!+g\ab06d/`:5F-'zyl0^7%oo;)j tE'4:NiOM> dY58EfC3c%N?
(?'RUdpfM?H&gC!`XOTroSUG]bsk;n-\=	wL3{9+^S%odC x^c"&gI{"%-U^7rRyLH[kq%!0cq/E!5(T<)c)A|-nRPf4,0P1`sY&D\dwR3A+|o!PaH?ekdv&4/^% ;MM1$~I,;jx`]sVz\/1Co0TyXR^/2zj0>1BI#(0?_`aM/."pN_/0y;'aiH ?;(ZC/v7?n>B7Q(h;eRwj-K'5.n\	)^XOX{iTg&H`K`8#lI
`s5GVL>#8d^BFzk
Od^AE#\;]>rC|m~ll9`qpsv#E#@]%`GK6DP%H<p}}d^(O= .yr?UUH?^![U@WNFRWs3dW1O	g_??@k{CoKgcUkJ(JqoC@Cl<	_/~PZG.Q>pX.0_|rO
*,]IP'WIoyR}}Yr@EEt>uOiVA#.'`vteyvvwHNma}/4H<0(O_wV M"7)}V'9@|f^a <`AFv\; x,WGl"}NC~8<=Q{h'I]j~vh]9K9;#Im<Eub'z\aB~B>r/w[?kb<51)BSjO[}Om/Ki\j#M?,-XRg[JI\Ek7: SRqDIK
@sg4|~q6UO/`?mPGn U?38Wg} =3{r3O]v {u WBdBc+ri/n+_zgaq%9L!gb>8\
=Dmn`I:T`H'W+8$ %Eh;}E`P/(b4 m+1+d Z0RXBA\1>26F3S75 {s{OJWdCQz(~c5_	 yCdcdJ$_(O@ C "0O7 -{$MgQLq_-_d!kIS^_'_M?aBW%r7qK=;&o ~~TLmDlI&36~?Pa w8Pr.PwWFgO cC1 i5M\=f>[]oo/"FF9mOCOCN!?X(>nH&pwt|/%
-!y#;(8itb@!I{7 @	YVv/{U_	MVi35%'#WVeka5nwU2?-[%;$;mc f2
T2Zb,gTzuw11&oWEHjyZV2L{~CRv/&t,t* M|k	.TA5B=!&|,a9e1i% W?&!/cr
^Iyp1d>>0rlqn/kDV?$9/1(x2o~X ${ s0a !-!)*)e\,0?\,T
_w:^VxV\!uQw#)Ei/z?[vF98%|QD)k) /If/~#p%Q^$Sl	>!DYwS7yA+WN)zkS< ~U3r?~
~tn,fy3jXDDU1  Zs"*c8:$zi HI@8HL
H_%A@N$A
UeQr%
9jyMc@hVZ	Vq)N-fc Kw*75Wa"B[t_A!!<S(= \8U$O/viOtU'-cBj e_	UU)su2hUGR<D6&t:+It~-dIh&B?#7gcPfG6n7z}c0A)f&dVTXTHUI0[Z.njf:"+G>hl L CwWJ~@PMx
oV$AVUWna$
XK'aU{whkldMDfd~i/IO70j5,s@IvM;B(HDLns)	_yaOw.+r<}+FYYEETNoHm|	cs_DVj)pr?]ny` E`7BN"r\xirN@%/N2g@#x\n"ukMxnXO	DH?{vw#Vu*F9(	+8=6|EJRfQZyu eX&hJpFS(l\v0k)h76*g$ k%h,DUueI40"	WIbuU~bv^FESGml,gHL|t3\SU2`	Wc9^28aI37~^b<#NygCHKJf-?	Ja )Yfc(`<x.2r ~Akt<-7KL@m9ISgN=\Adjc,}sob_+L\SfuL(#S4!:;KC9nm"X@	~^|["/iTDHo):6%b."Ho%eSoxgc5+4I}1uy&ZO(34xmE_%";V-bO^W
"n[N$]B'n{Es/##5&33~t+7s%iHb:8vSH6tc ivEP*Y#56nL}-l]/?!	x_3ODFu+HA	}s3	;BQ	jr/uv (?g2ui= SX1arJ<f1b`zGR<vi?RNM1dp8YTfw!0Qh[l/>_0qt&@3/C~A^l70~ofos*`46K-%#=%IHg6JoM8C@TzWOpA:ZTU|5YZ:G:%Sj~=eI&TwQ[kvlD!iX` [yY);L;]J5ULkD$5bT/I18T(q)9H/u@g+3-fVo?*O( 'K)dM P,\26K_A!PNh+y\GCPII8<?fa `&euz$dHf`(m5w5*kuM:{N__7IfB3ATl:)(G7%G+z\7DbB
ngtr9E7XXV0;$!)E1^F8JXNPF_C)x;$emN,dEmO xonn<VU;6]<a3bt(L<tmly<QZ&%+/OxW2{>wn\e0R@+>`x7}02m-yyS"wXCoxkcZ\3 ]zvByqj3`'PC=+mN%Hf6AN(
aI=_d:	}+p?PO+Zbbyj.H@,Z@"?~WES4n)olII_Br~V>olbfL1q*+9)XLVRf.S9v.i>iFt+UvuOx39]O#2]2=&K/~~<O^?vf)o=E4+4MrN=Uo"g`k=0}8QcXyTGaYwSW-XVcNx.F~eyU0@5P!@?=XI6QpyKoqK0d5O $,q/
_tB*v:-7,
)p@	:$7yN]h1HZBf1?r3uQB}\cmd!@
WS1z]3CoFq"8iGb[UgfNG[oLnrWxzdD]O` l_9 c2GpIP)*mS~H~X.t;/RG'~[!<8zvOB9`55'{6g	{pqT3^-ZId,=4pBwbO&$d%FN`7>xE_{?v"{.1%$r_q
=mPO%os#(yI%4anzn_|l6AT'VAJmgB`u{$;g9?T0q;Bd2}JpB
}z[Z?M (0y43S;w7xhN~;|9O*C}/6"+7$Wx4oagaH^RA^e$.@{?-l[VH8rWs1d[O~/<PodJ#uwz!![zM:&)Q|?ceY{ 0@wm aJF [`d?6dU	27-XX1	li ?izH:OvL+z\ i58Y9K{6=	a>J{`,8I%vK$%vXY f
0NndQ&#PhSL<BBj?$.DsoYp"8	1).N!(Ew8fTl4)P|?	OGy1r/~&jE|,G$liNWqX~=tuXrXqJT{YZ90`*#`(yA8y: `l>w'K1/x`\`U%UUbHW@cj9U*4\ATr|Y*oc]+1t>\3\$lS2zw(;Kk'f	a!`|H2{u#&e>#omD. #i^Bh!lagQjh/T(3Qln;zP;*~ev9>YfCHoE}^gos D@jVbNw?6r=B$7H
IrSy%P;LylO`@\^c$johS9oR;Qm,0DE^J3(fK.WtE9_yU
2` yr,@%g"2u<kaP/R=[#H{1S >W\o.ViB~(2gsUO'[iX] =!lJG-ySeEIK3~Ab Lw6~+Mqk%/[<ud+^Oh="m-utoO;|f_wsw!e 	wBT5>{AI~-% ^qH#h"W6d$	cYCxSZ[} v&b?hAJsN-GJ{R Q)7?Wv`+ toWk*?!c.4dV]-SGOOjnpzKD).	un}I`fqilR{6)?LY@Y>:T?eB[	k?08-M]% L&pc^?kh	><5hsS7PD}W7:[ t<Xz%!	/|sG2G":74vFaD>)Au8/;21>?##NmOBo
1,y|$ryVw.?rU$qk.Gt}K:zfC	cdG27;C $CMQeP:qUN1w_V5k;<	$Y,npEo
^*>ZC=Ne)%fRxL.jxS<-
N=+6&9`y#RnfE{7(2UZl!Xeh;/I*/n[(!pa)uGa0a?)c\s9pL,b`\ndi#PZe2Zh@*<1!T_~}=b7w-_h)5XxWcr"F
T0.SH(1mX4a(s<|J]d]B> EOlOBBj;Oe!AyMj;Pb=@bF&[$tiGV [	Htb #*BU>ap?#r3A~_;"lY7|`t@n2wPU5aiZ.zD4EgsUy_g@Cge48>q(= m!>J=+hZ=@&L4)i A.kh q$j 3Ca P.9FE$tO!@MO5/f	m'A9UG%
%xP()S,
m+iHh'?Oz|_7xB*k@5 9N;VmK1f&tn:2C[Ah xNV@E'H::SU kKgUXc)3VJ*%1?~^|1)p/'\a,(H"m?HAyG@n]Q_2d5A4x{%`*`lc2Of#k/>3b$r(-Exb}doITH}'>AcG
t.no:7`LknU{7,gm;e) 9i{f}^/$[Q y{;v97yY&-1.Bh;+jLu.x7BjQPcKk%=YBD
n*Ngd_dW{x`M``F8Ew63kBqA_^ <Ww$BFUa.XXN8tfStUuFa&zyj_YnFpW ULHbtu		-f3F2Z	%Jn=ih(9WRO^P''A?wL`a(zX` b}0c8#_S4VvY	o|K=
r9$||_rMr[xUT|=M^P?a<QloNV*6742cg `@79:7w-Zg\B7O@'s~-{ kE;!nn6j/HWynvIeS}F
sML9)PF?&^Q-jc"7!.$CajP[d&(iK YUORio?Y
w	>;Z4,;+:}}>(-}|%ZLZq)GW;()f(.y_`uD^mm%adW'*:m?!c?y3u4V<wQ(
gQ_QM8bX7 z{>d!Q2Ow~F=)iSHd$m-if!	
F$EdlX[e@Xk~j$:D
5>_d/fGo<c]/TpcNtW [qr]}S@@NjF4c(:Hn;?o 5K'r'`a?+y:E49KyQ2/~IO8
*9g6|1O+YC9E',"q%aYd^KePB2;Ld+4qAt
4K q2v5./7TLybo~>f,"W#15VbuZ6nsbIPLVq
z2E{S b%5iq"?Q+v>S@`8G% 8vFw`/ Nz~L\Hji\-%	?2aN[wWr:$oN;9q% 7D?v$W^I'!iv%W $vI(&,{SA`]	MTHF^lp^iqmpdmq1hpen|uOKdj7BIM{`p6 h6%|ZLONGR22 VtB9's#1 jf ^TH.c/G[/gcd2R0ew~wGo@B2ZURZmp>nVgutcx^a7NOfalsy/?YES.Yo,5D_J/=/WHbI^6P/<&}8aiM[ >,!.RAI Nf?gZfb4PREQqU/(Ra2V'
-70p.v(dI.A'GPbu0&df8@7D??nj/E(xi Wc>iT(!ccO^\LcchcB'cE.wPOHgHVOKE4'D>EO6!'eI 8d\d`dTdI|d!sSSKE_SST
orpka%|GAC ' W'Pf"tl?"wi'0\^T&DVZ%O`e?Ww:L@ZjOdFn 60p@l4NIs}$DlrL~w`yretf ~kF[>I.a]b x.f/kv?k7! @gIHT
!g0pFn r^hI?hL`o*m (xWM?4ko$k.K.+9 iUiX^TjGP/ /Xe3/Hi(puE8jV`!^F_ATTR_#IF'>5SmIBUT`'	GENEa``uF/7Du$pomd>wLOPE>0_QQ5MG_Y IPfFlu?$Fc9V0Xb`f
gRc_lAnK7/6a~ISSUKa"ALw	3H`k&S6}/VLss6CJV 4hm9jp`mO<
$llEGLm8A@Vp?HTM04Lpr
H M0%&`ngLnn 	v\	_j['8oI`;,'Pn&. > wo']nd&>Ref8(7E3[!F$dadH	f	 yj8exp*^(ej+_`oaep71`|uOdivN21%n[wET'']E/F$Lf+Ttphh4wg4TJlUrl t
HI%F,{qB^6&|(qPqI!l@i7[. 4ACCaD_D	C;JGG\4$=
N0r& r->>D[:US'kfPsl<@`rI2r/H>NaBv1- zZ bm`[`RGX)J{A'sx}X nFf3R   "h4 .pZ $B$OfC.C 1 0F3EsSafiI7|&Aq )C;VA !LLKA] LUH;90'pu&Tc3\$PtRmW>XkxFDN*8	yt,ttF>\GTB 6Ps?a#aFV
SH'}SPRl ;RNUNm5>,\67aH.&u36!>mom$v'@vDs!Ow/U*!VhvIW6U*x&#VG>`0dw(ww<^Pwa[?:Czbn[wER/Ns. 7QL$o+be/H#6Jps~IQUALpXLZ iY( FeFuDfs]MEs)l/5%8m)MU-!BE_{+1:~&,bR"N1_p!`ia5<08	?L-qo 	<D0n>Q~URI De.E3&k_<`n]:6/`C-8:XmAh7/ -O108lZNazc7Z\H i8$''v!zPzGG_PODVWgZUqD  _?EncRLS6!w[/?uXS1!G)F,#o7mud;R!#]iGnD' )Y &"&H@-NY@_+SbVwSHQ&JnAs& G$h%|Slu_! E J7O~&QZ)t}AB}Iw.n 9_Z]w#-'.]n+NQp|S``Z=QihpBVbX~DG 8&a9$W1p'vr 0o/A6QC 'G ]hV@B@PxHkp-f!y0m/v'^4d.
!C`%Tv?_@eRH%> UR_TSAF,&BAGSIxbaggGD 
s	phFi&Xw0XicW,1?VR m|__DdX k),+?ecp@\&0dB^H8_@]P0>3p 9 
C3''FT&$>o+ M6^n<"8$X_m|#0_CXHJT<&Ohb,In-0I`.L `Go9C&fh8&0Op'L`v^X'`Q	LTmX'Vx,WpAt w/l/dI9!Br7TSRHN]kgp/Vx8*&/^!B%Pq(.4xwf>VL7S or/"/q(lGRE
??bsv?49QF'sL\duiAt/dPGLE,'2g'PSTU(_O[@?goocw"21']$6ahOONSEB_D`BYTES WQU jeMHo_1't;[oER
ORf '>[5$:Hjv!>ACvl8:,YwT_
`B%&Cm%/WxG*[M~7;,hO\X>UKJ1+l\WG@oC.4<== +,=@\; 8E)db|	F'`-=?<d8pR:+O"XK<29>"EE ?9PHq*B`"u4"O!" NB!!5r!Xw15>4U:3U/1`Dq .BcRNMf` /OR'1T %0
EF 8C05(m)0l 32FRk7W6__r _[]
ZfB[=VwapJi?5sL:!ADH:+[:@$E{2THf3->pG)VSY`k7rsat1;lx?3i#2A-u4Kx=8/MAu4s9Mac^;d#ZvW`0&/NO 9$O   r+? 222220p|r6tO@ l;6dOErE\rQpX?T1$gphOL OHN4H@\$ !&D$<O8D?O@60@0? M0O,9X _O(q`O @&I@(8$(OO2  @2 @Hd :4?hHIG"MLOWoK856.40%ZM KRB5w e(	eH}> a|w7Va/aN0RS;VOkA~7k DHdrX@aok7>SMOF%AT'A\0)bF w2f"Qe{BZ'Z'ot!	q koCpkR? 5 BB_j3_RVGLBx-0E-Zh'd'Mmh&M .<128','M'n[ v102/Ov76'S&v+-g$`Q3/`B-/!/`/// wgfs(hm?h&'`(oLB$2PI%'ACXp0B!6eko`[7gVhE22WR>mX26FK<Mvn#?DN36_244t IX0n/pEc
iNyY6 up5I-ix@
L{/Zkc7'`C /T/i#F(gcmS'X	a`or)u1%K/ $f/2'YRhoB3a Va'r[k_?'vHO$7h[*'JK/	\l*&b[dFd*EP'&J>FIG&EG2HGZm7Kt=o"Rdh?&1 [Vd48^\>E [LFPcwl{Nic#[bxl^W\qU"0=h#7wa/-
flA7Fuwia|h ?@X7f`G 2	j@E?B7-VK?9u7Ik
Sw(`)Baz(*:t7F
wc-2?7R]f2u)>-7)s7S@.6_8E9T:FgHoG]?O[?6{Am#g[4KGO,IG67D)(-?s1`GAH??hQ)?Qp#573A{*m%J772.5=6qd}Qwvl:"Z*hmaN64a5- G@97V%X37,o-6Ij? l%]m'	l'`:I{M9rm/ a*M'El-/7b[,e.BcZ0fR1eTTUF/@kaa
7c&  Z-J`e3p.-E`Jb80X,/ib_&XO4X1F@`$6l0d/N3X*&a1_u(Mw4f",6/5'_87*R;J''/kS7/saIodvwBu
E6m(/HOdv?/,'K1E$'FV?=7/`17d
VdfXJRFdriu_f-1b/aU.i|hM krb5|;hyQktwHvN/&?/A5rd_(pu?)pbwjb16.mkG@jm-'l`/ccPpFV7F
,!UFBiM dc[C& >-'Md-d96.P'DjS
[-?7v@K)>B5(,eym(W@	w Z9k[	/&uhB%npDnX/(0h a`H['IPV5brc/%jX37kugB
UKRV`W?2C\-;uQW1bp5*D62kJeG7l['7mQ
Vm&d'
m/?'de k!kt1.v7_.lqk'OmgW8Y rdml#6JVOgp_G@S!M<m>	1mCT/U*/c^:J9n4do+Dv#b#$NDIpY~`\JCOB4!uwK.TibTGE&BgE%%_awObd/ }d_yP8(7BLE7[m/Z[m/A#77V6'f,9FC./vA[`;?u6fd1i_
7[<_rO)fT#_n[__vW'Ph@p /\	?_j*i/P#{n1. _A{%WBUFF9Hi~Geb'%hl6Py/&-&w_L&`??BBl77?VZ_?/FQ'Ek;`/m>'8n.pVs3cZ`F4AJ/Z*)_EAp>Na{y;70RU#`7?imU-7N>/; `?"_TO&i7A7METHODX_KsoiCdG3"7bEF3_m''jU7/7KS'b &EXk ?b)L/pxB-V[/-?1Xi>5N5lmrEKOPn0.`/DONE JK+]7eDM0,TAG.''-u?wjH7(!QIg;[?0.P58=I oC; e<XwM?V#B6|&"LfG2o/2:.~c,mM'?2MAfI;&WT"2/-,ulhI/m/Gtl9F!(m;V-5
1o2U0 B)'tpaV*mU'4o_eFmj7F a=paIV ~bmT"?'jYwtVcKk"'B++ Run|	nLvP%t&3JoO5- Jp\meSd)~F	howV @N-AfE
,ApbZSKum`ts>CPa:}F<B8NZl;P-iA!&r!F${!/P'yH+ Fi/z./\ ?* azMwVv.dllo h ( H H %'d Fc,rwP--AqCh}W MORYbxCO^O\_., _;{`=/F@c: .dCr!/,IgHnnQCF'%onb[|U_d!b`!(6!@
Br
pMmkR-`%7kWIa%_nHPOI/Obm4 k"HlMV!n0J& 0@ Qsw0lY% !X 	oj C P P"0u_" ?UV`L/[iG[FN'5Jq`T`tU+F ?n&t\SGMWFR==SZMAw[yJMlA1o1b/ZWHGel'SM.uuuT)(6A P[ e'OBoxA32B<F yE56c8PX 7) 00WP`h` Utkx *p6Zn{L lT@rvO6OSS;l6'OM#R6028-iYXCMpoN7nyZZksqo6std5i	,u3b2@I3n
yYQ4_U;`1986QUW82FzZ
7r_a/i/8[`\2k$'Rmo01I`nRoPc<9uE6.
g(.f	 A'Oj'3! 5)1\.093Nq!jUZV R81q2+' *! dum^Fk/rbOT?Gx
1e+0M~P.\ODCG?sn<y!6DT\cmd<+o\ |&&,,0%mdkn, M y  // C[1o1,bX@44J4ikX35jGsi`UMvn^N5F> (BV*4 Q7%b_B#/.
40a:Z8851252V2b Ww>FRA W$0FISSgW#1dFSVE \WEW-2Ta<UQ8LM DVMEXx LB <,^BEc076eOFT,V<'SrAUT	9$ddENS
<Na)SN6W_C C]AN0G VGTMW|S HE4` RInWL LUX0J8 RgP	;H_ZAF 437<m!WD jXg v2V/VVENi$4O RW(8R |PER,_S pARG\03h VECU44W`O`LW8r48Y XURY4W<cZ LHPg	gOuUruChK+3Ecdwo@PeI"FColombiVzu\J-Qk kCJxgh@r.kpwKLux94gCS$ClGu|mvo?YCnd>paQ'E.Cw[OS	Sx66VE@aF'"GKWMgiMco7RKe.IceAOgvR~ehn6 OTcUX~6n61-m|UtGB=ldZ[/LDNLD 8a7HKG ,Zw(fP&K?3 KOR iTT^OY-
-mgAXC	,t'sE,._aa?7  Nvak-,@}pr=[N nzk-ahR:	'gXg{/ci CF0/N"[pd/\>|[CoZHH Hl@.,/v6?T?EvyB I tGJ hZ PS 4yT (oD8 	_L "<C L 4v?tdITXNGuD0N PTw|B GyL O C GyD F |E hG yTH DM 4N  GI ^'xy6R wV i^,+a kLwsOp]^~-f7splx-vW'uEc  m'Uo'pS Jmb6FduisgM['e@o#v>'r^drV.pmcr'']GbivDa7 uzwpfr`g#ysk'PbkO':ir	7p,=lA'hs ~'ah#,f'cpgk!XY+-( k0y70/j$9=ire2vib+'n5pi5X7JSk`itSTi' a 5'vP`'4,O. a*7' 	@ 0NN$DUw^7^G\\/b\o_2b8y!eANB]0E1d46.a_% {'s
p1Iq.65p_`a[#meX4`/P
UfH ,B;)!oF%AuIofw
@r2 
 +sNFe4{Qo?lINYGCCRfSRcS8@&lN;mm-/y!wx-O.yy`1#QN\DS.3r$>w@$"O(_ BD8*wXiWw(f_..cpF G,q GsKR<$ANY3 =% /F DL]:!=PG7rW+0?,. g}B 0FIvn"591vOR5r(OW_+SdvABs&^mU9byM  c.mx.d.lFM)@HDIa!*DkqBT`Ez,  `d^Td
@g 3: "K-: ;=vS*- Q`!<
BEGo'EeS@GJQ'oI0kf	-g'RnPXXw +{-[[7umh"nkbf q&usm3=0AduOl3 [L/Pt-'"WBX#'evcSfTw/$MV{/iW8r?x(mUGi&McQ) B/B>N"u
/O
,']-Ns9\ka7e/8'$/qxHCHzt
ySwXfq)"o
M-*_P(-?o=,v A:W~u)"#@Ou?It0u7.m77kV-o1pq'FW#'\1_jZ7Yk9'OXd\_CH6JYID'l@em[egO'JDSmEG-;/S3k	'340\^2976 .G!>5S.B (Rh/*j]X/(ah0FDja7'(F>Bc@'T
k;uE"g6 ]Z&F'-'#)aaS'_^'aobzMrdKJ[\`77XFm24B5/MJ7sg[iGaOSd8/dh-T!;,[>8G0e_h',0&/r)n[Qd&wo:alc7KjH4,#^OGl jpwFIG4 .01`jG{aUNIA0'4kJ/.raLq1-_|
+O9$gzkMODh'+u7m]b//$c'DNDYevr)G\VQWku7ZG_VI/\_68oH[<_Fb 	 Z:6G/1&	8Ypu-fi%vE GH5 2G%_kNLqF[X#,	YO2buQR'u Sl"5pXN=$Xq_71`_"BV=v&T4/n[KBR|fNvcktQ_!r/ oY[p7 mvZm[/P m4_bxr5E*L4Yj&:giqGFCN/+lm}\u$@*7# ' L%'Fj#^J!?OEAY_Y' rs( SOB9s'B +S TPOp3[Vb/l[3gC"A
W6
A'&4/km b$OabN;CfF9ivF/m4Q7qyvaSpPok

 W9.Y.a(p @D avS$0Ic2&+	m_p7/*/\-CO#'w1uAn~_'HoX[1G-$;A/fm)'l>.KH/ /+'*\%yi'ctKI2DK'^?@Aw_'
RX30B@j/]0bt87mH7,7L	7SEHmw
j,[S/wbX*7#b7*X_7	
m-T@ELM_2e#Q7OAZ'eXCH[-L+GoVj)1i,IvPs-,3&XMx)j'-Ug K XZ.{s+@E e2I7J8`dk+X??Zj3w
	HWV
mE'4v$`w+73e$[DD;gwWh{^k1/5J?Z/(6'apZi71`-'3&675`!!JQl? ?brJ	@gb62%#tjip	xJHb'nb~'ZYR'V3cGlo'/%_5 ;VZhm/,]FGKR)iMYRyvh'6KUQ/B# \.?
&'B'h#dRu''6`O'8mAW$61	:>l^S!
0f6/ !R&PCIIaZLwo nN-LpO7-XV_<|sI2SO)`XD=vC PYp	vE?L+Qa R1U'%3s7V 4NN =? 5m
/$omH0uos[(=:;/'T	v
OHK%C7iOO4d;x	-'nt'kQ.-Ks;GM+./Vd56XI/8`j/'D
VE
 mBe/kH#qoKVa
 WJpX5v/}V!3_
vXc<kfw3hbZ;_6c/-Vikca/n`m%46''R4|'Kde 4JVwZ 3Z:G'f*DgN*RI?'NB 7c|XKL)/>2QcB64TvuJN
>1BS1k,=:RO9OR`R rZ/e/B+gSnqH Tny'B	On7i3oRX%W#%-f3;aG$egN
5X-D0m KbIYfH'JGQ9i}W eQ3&M
xFE\-9PXk*k/w: W  putsni0,/`0_`vmv?ZIR/al,hqCGp_ +Rw/WUe/[BFHT' TH\6'rDj?AslF0>4Mpv /]B!0)MCoVU[K HM/`g;FbDsO~0ROGFPGROaMe?U@_0C'Ll7J0< %spiWbUOf`G2o2/'LA*H,/3+_/02gg[@dag am=,,.+/0/+/E;aq7[g'/of_<X[/0q/6aOI:_i`_gQ%G6/[l/76*G"m)G}	)6_7CqrXmG//	[k7deQ`UWN,AFGME6b	h7MFREE! Z	IGDUPNA=NX-
'g`>/O47rg<j78izi$V/8kV,K} n3 llb1 ?n6u2XEeB8/,m3/e+`_v[Ws2r[X $QB__V. VmcblEXK`''[ms'wtXW]/RUNp$B n!msa " g7,J#7RAQ7Pa&+GjbwH/&F[PGwepCbG7(`
ko-~M*GRa*+)ghO-q'm1`9?@Z7,ZeIVdW-X\z?fVV6j1H_kX!^^NXo+
Qm	O k'%/(SU	v	Z3gaiwNmti m'm`%v'GmJ369Vgk' 6XP"ldG[e6s/1(7'l+}Fm#P"O?h''k?'5' cB-s),t@N5AngKqLZ0	onRju&J_&-;&?P Hx]B`	-q!W]&0_m/)<kPo5i+3Pt2kaJ_`?V (U0pDD>4D w7??V2GgN%](/N'xJK'pTp&kPkkGF-_W-`U3XBN-'VV#E/Qb?&!vut57'?nkER	V 'h#7f/)UdN#/xbd/
[i-[?Z\bV3&motmbA"'*Y(Sm{r'?f#' 
e+8XdNs%/A	B/#mOoz	FGMIAy!VG`Xq=/TWKY_XUa/K&k'd#T5YWl'5n!*'9BW`s7PH`;s"/B+(b~g6\s'q3+\Nms}w#'-`_luCk'ICd,&"J64THV@`4d!n%m(Na HV('K\U0_?4*'T''`L``0'a`gk6ZuA73@[@Nd?ONID0:'<B['UF'Y.A8_ghZ;?M`[]?U	LmD1[7g0}?^?Zg _F0*OGoj/7/Y8FB7U?IR,% b_HaP7&X+B' Na#'X7}do1Z'A,WX(!g`%!QJ`AI:@{iu^c,M"v
/kEPWv1d/)AGW0R_x/-/ 'sm8M?(FF[*%?klmwJ/j
;F_
38f1*?wa18P/\:	+Xm'An Xh'&pm@s~\`//i[`L;s^/Ll=qk&Lv-1'a&L43	 i w
b,/@0L ZwoGfR)O.iTKAhGA.-/Xpsg-/Jj  3j0FJq?PC`;6b&,0Jxz( ;i!54Z  'apj'@!'vpghW JXM:6B'_1asdtaPqii)+q%X;~[!d!-Gh6nG86TO-nvS/ )kJJNDAEZJkk-h'DH-Bbw'%TZde 72u?
6BRO7-/2ZTkfCI'>7p;o?MD,@-b;/7/'DjWDeG-8`n?T&@
W!GOp3e	4^`"(=ec/[hw>'TMTJ!7m@j3XXm7#K6$V-)AB6g*w5q$,p
/nAgy2= Hu1nBCq#_-15]ol"
c|X;J(q1.-X!q;gE11dR.pX c[)X` b77m0}7G aN[lTZz,/021] /1oV1'gxeS_R+wARg(/A`%?\SRROoX931/`@3 gCX.2?1*
X! f`/V-S/jS/K2?1PXm0b77-{/pH6GB7/DEZZa/l<DEkO52t7,7yO~? Le
8SDa8V1__2d'x~cpB"uI_D.!:4%kJvR(ol23~3quba#xILqwiu78tc_GjlshW4-3'b/ '=ZpB-/<`-7"m2!GA41Ng.,2>T g2#m2?-q	_c]b')tGk /Cr/z/U/8`/.\FHf/ z V'?V1ue8XOffnit[mkg4d5/<`E6Wg=p/o" 5
&z69 B"
fMq^Kje V&qv
p-x0?GkW
35 / ?]^ G)HHgo I I K KMM)OOu =2P P Q Q_RR S S AG 1 !Rx2V y!#2z4r`;{%r|6}7 &~8?J9 (0 )4|- _ = +	 q ?@`W#i6;@R	+`Ty{6Uu!Ni w=k -P[ {]5nhCGfAmS?WqD4f Ff!g Gn&"#j J$S T ]; :''U(` ~li=)G|*z ZV,X0|T2-ACjp}V\( p0Nw)1b 2, <3. >4&dk5*rUATDhU]=IjWk!%x@)APaq,=	C)p<-)MG7w^3lH89?f8y-K(eM6t+Y6O1uP2Q3lvR0S.??G'INEL@B
G>@{$';OEbyEA4- `PHY6h`K @8ieH |$|xitplhdi`\XTPLiiHD@<8m40,($BEC4TD ADGO4IDMRLLPi.M YN ADMsiNTYPESTi.RCEKMig&5H&E45sUGVWKL
DiXFYi?GHMNR4iTYE DE4MGNTYIBsiDGNTOBM4MGNOPWYi.UBDGMNiiSUY&MCCyLMNPK4RTWODGiiLNOPTlWYRUBEg4~UDDM4iNRYEELi.MNSWIDE\GNPO E4MGNTVD4<D>UUE|SnEELGG4OLIKMY?SMVTCVAi^EWYFADN\RTYEDEiKWIBGNR4TLOYOEGvk.RNUGiDGLM\PSYEE.Ef701OII4&NSanYYi	DLMNiPSTWYM4E MNRWYii.I DMnIigIBCESGP6v;4EGHM76oQ>CYFKEk^sLLNKN'OO3dMQRFIayTSVJnGfiMNRW64ETIIBiZEGTYUUi[K_EGNY(!3IDM>43~BCDG4MMPWYEAiDEGNOTfgfFENniw=BGPSg.U6WYU4:MCDEM4MNOPTWYfi.E GLFigMMIiDEOPSKLv6V~GMY43NGNPiKTYE DE4TWIBLNIM3BDNRK4TVWU N4gg'TAFKRTDDE7FFeZF&HKLD4NB~^^U>OOi]PADLMNiPRTWY4M3EAG>EEEM&EHPENX3.LfDEK4PTWROYL\UBGN>UMQU7GMNPK4TWYEBD4iPTIBDGi.MMOPOBDENOOaiEGM>4SDGLM4MMNPTWYi.EACENTKsiWHEYINP4iRSTKIYifLO BDN\PWYPAYiUBDEMNU'ToDG4MNPREAD\ENHEYICfEM^IEiiGMNOPlWYRUBFU4UWPS;NTE44W6GRSiYE BDEi.THOYINT5MsOKNOW7RKM>YPWEi ASWY3d!DLfyUCHCIDM+hRTASMnk	<w?4OdEG-wJFA[ECGAIMSOT\I'VSIDMOOKuGoPNAEYTm\<BHG3MYTSS+zOUiUo)iIDS\ONAB(k/DyTKiEIKL4MNDEGKiRBDEKN^4RSEHKSTiTWViKMNRT.U4M,CEFNRTi.M[LTNDTLsRGNNTq
3fB-'iONfKyLNDGR.K;OTEDW.M\OBCTWUEiMRBOATCAX4KDEYGH630ONmiNADEGN3MsiYOKMNV	iZR>RRS5-H7UWY4MEGNYy nRBO`U6ODN4LBKLNKT4MsOYRGLNRfKTYSHSDSYTFEGINKFLk^MMNTRDE4iLRTSEH4KVEWLiE
3fDR4TWEFNW4ICNOUWUBLqG?iCMNWYK\ODGTUB4W*TCAK4ODAEYvyGI'K3\DTMAB.9KLNTRDEiK&OOW84UGM^'IOQ)F'^LL4KTNYRBDE4.RgDfL=iMNAGKaRRNTDyEVY7WYFLNT'jRgED*iM&FFo^DkfSGIoCEEDTMNGT\RETSCH|fESLELyLwOO&LRTgfUG&vvYGMWEU&UI4UU.T*ZEEKU|NEKS6vxE@NSE84T/EDGE5xNAEGLBA(LvMT3[j<+V~R>WFFD5k'NRKLMYORMST4&WGHTEDL^&NySUIeS+MSLMFafi
NKR5M>KT_TVikKMTW3\EADQOC<iGFF03g/I4vKNDTOD4LTRDEKfLM>SSUF-M~FUYEDE4Tg)lLMERYSGwFG\3ILNTLALELG4|RBY?SHTUVKGG&TFgEF=4TLDL? fRRSg4NEENIBO:\MWUEMWvfL@SlGGi^OORfO5OvGGD4;/<WYID gMNWWUT.PLNK<{?WOriYNHAAGSCKILM4RLEFLOTi.NDGKSRD34KM>%HkLHULVWF4s 'HLRLKTBEHi'FLM04RBDEOW>mNo,GHKfTfNDfIVIdc^LD<S 3&6HNKODF6RN;,S^LWOYUvUiGEHi>KHHN;FUzM};H'IY5?#OWV8^SV
I!JKJYLJKN1JE6hs\DRKSSTJ`K3LLVOF5?SJELY'H`ZIONOwWEOY?fLK6RWKALE)\NTRL.&7.78ImYLLNDGRS.nLWITwpg.OBHO`^>RD/YKYDI%kDNR7Kf>.0;fyLL'UwW`W.LeBYvNRE4_yLNDSi97SE=`/E^}Ke3EDN.EUFf>LALYMw)0fIIK>ONSMFMN[%+6)heISOO4NTRDESgyS&UW3OdUUKMsyGRAEKg.SHwNN<
fO&DyMsGIIDLN'K4LILTNAM\NYRCEKS4T.&Si/MMMMNOLNT;f.EKL.[FkvLNEMy
6KLDEK<4LTfEpfiKTRv`JATOO3ELg4TNAKAyfiNRN O4/VQcKDDFFU7S`UU3,FdkgF:xN6PVVNRTN[7N'ILONg( N\WWIBN.yL zfELL&Oe\STEUUVN{-`(\m!yOH4 0aesAtGA>@@OHAGY0a9.FEN?VRw++nSMDvcuGw2KG<wRR?KN3`ZN6RT.VRLML3RF6E*HK 2DEYFN.SS3OnO`nO\iFKMTSAsLES/@wU)/LYDD^\sNGSTSE<LHK&SSG3~FEG4LLL.LTMNNG.{OUi#]VYRM3TOMR4TEDKMN3siSLFNZ!rTSGM`iWYvNODETT8>U&PSSMsi>GHNLKLOe3.~II<TS"AKg+IDMN'gPWML5LNLLLFiGTWUGMT0.MN'U&m^ SCDAg2FTt`MXNSu2>Ui-GNRYf^sEMWIT3?DSf#MUkUSWG3KMNTYIa4TVT`<LKLN90k'Ti.MRCHEMNL6^T/RLRT <3PMN{KADTG5fTTYEDR0O`L<M*K{vTYRicTFGYOK'4LT^6`A&uMYEEgiW=MhDTT>UCK(NU3ON
WN=I(VU/tD}LL>HVVLErRYS5V/E>ET	\RBO^?Nn8GhlODEGIL4<LK&L.MEGTRD4iMNTSHTQpw}TWM/LNRW6WIf6KLTNREe&YN>KTOA/FEi/V~IEdG6SBeyHTtvg/WeieYWWNVi>RYNNYNGKKsRDNWL0F{RLIc	9oaA/.f4 m.AA6Hl0	
ffff|t5Mklpd3HF\T3H3HLD3H3H@< <L4,fN/( mFi^	/6
wF2 (w6/2Od`,4l/HDLo`lrh.prd`\Y6MXd@1801gah :P9>g6t0f4x<ph`iXPH 0E6m9X&Lo$ |Yp.
/7ms  @ArM^0~D\4Ms|`iMFxPhep divGtF,l]d7\/d mPPD$=B8G,4a HN0Wf@. CLi8^m5@^\4a.T0lxAAtlt2dv\ac8L/i_4(A A B
BX6D,M^`kn.G(_
D.  m|7 H h`6T
dhi4X(
B8l
NA.fAAoaAvG!jt&a_C3xAYp?dXLn@4'wg,($04<oFA
0@wd`G
./6fl7v.r6H@A34phUvX@ -Pv<h60w(nn WC KMGT # Sl!+Jb/>W?O6 7gH 9;1WrkS	/<
3k=H.#C "$ %O' ( )+ - . /!lo2 3'&j*-ak^`WGbNK'c"w6g.w&FBO1vn&p2 `!dKvDL '8"4 02+ wD,Yc&jk2t?ll dw\DAYd\ivP'8dfPDO ,'  d DDS3 i,	kw'i|NXAl'deXgd@wL!i8x,vF lCrwkv\C\Mh'SAh$&EaLD |&h4d'N'|Ip 'ii|-X6OPl7^D4u!'FmjN0n/At2'hOAF'gofpw4v@:ggn!(8 '/&gB2AbNd@'xA	.`'X{YD@Hp'd`8('! ?kq&pQw0 pd6 C?XOf LrdFo,i&$R kL9 &@d9]tfd@Opf`SS3l'TH? @DY2ph@Tk&XNOXP 4t<A&<p7UcD0v?,d`' <fV O w 2 xK7e4Mp4dH6d,Yl(cM`$bnbWe,[@a@`Ml8_x0Y6^`]l,|<\\mM[0[m4oZPYY4n?h0Xhie W`iV(U`4TpTPMMSV@R>@Y6QHQ_8 MlP@OOmOGDNhNM3MNM LOm`LVLK44Jx0I`yIoHnP`fH<yr'Opy	`
P4#< y !"'O<#x$`%H&8'(*< 0~Y@P`;Yp=gywiixiip	h
`iTHi<0(ii  !l" #}$M4M%&'4M4:;4M<=d>M4ML?8@0A,vB|C|+|WS 0,c/F Q>F' yF iAv14_iy/?.!\X
L7^v?Y6p;PD itih\PLH<ii0( 4Z{2Mii|x0mph`YV(QB`1  Fmcp Qfk8IB7`xZ d?6s(O-' '0w 16O66'79c'dei?,;&wOw??aH'n=!5UU,
Uy96ml!C<?E+	+#<C'Y{.#Sr	r!!	`&Bcxkmc,}9;C,{U, #mUMedc*+9c?GyS}B
8L5S$)l %n0 /NM7
dE{y+e6IC&d%
yXryL{:6M!?igS=cl
u[a-).0}cc7	(*,|	EM;6 dIk%.d`K%L%\r\r\r%r%k	
K.K..KK.d.}K.K.- /Ukv+  	
ddAdA	
Ad2  6
2_w
22 2 	
 2C{9{k	r,2 2 	
  22'	AO
2 


6 
CN90)Brr!	'!
hwg?++tFww4H:X	&,dPUX73e36X5HU$]	78.=	c{22 #'#er!r!!)*+spp,z80	LSa0JKr,5
%K_;I.L2L2$!dI&I&I&d	
&ddIdI&I&I&d%&d&'()dI*+-dI&./0I&123I&d456j78-	m%C,,Ag*g* M" 4M4	4M
M4M4M44MM4M !"#$%4M4&'()*4M+,-./M4M0123454M46789:4M;<=>?M4M@ABCDE4M4FGHIJ4MKLMNO4MPQRi 4M<4M	
i^_  #	/l`AM"#E4{B*{	[m[ #Ecc85y'$[g?4M{J.lMydD44@< M8rA40M3   4	 \2H44	4
t&H.4r9pd4`T4P@4<(dv$&.2 <3,/xf0/4a/4 4 iiAllAdNd4A"_TTia*/LDf3<4rA8(,i7 =$. jAB!,_"6HG&#_&$A%Ri^&.II'(A)ZQ/.h*_4\NP+A@,d 480-l4$.a4/q_ 0yH2l1/2H22H32H42H52H62H7hh2H8\<4M90A:/mA;&4mhh<.=4>4?ml(x@.`64AX&aL^B/D0AiC iD/  E YF&iG/iHiI"tXiJ+H0iK4 .L=AYMFAiNOAiOX@.6$KPx^xQMia`.@R4c4 2HSf,dTi4Ul4VotX5WrL8d6/u$3bYxdXZ/{C[?~O-4j\o.44]^i_4m|.p` h&aTI.HbD8Ec/.,2Hd  3HeVgMh_2E~i_aj/Afk2rl/&mii.nthgoPp/DqIi8,r^ s_kta?^ uMuw~y4/x6Po&yC.zi4{|.l2H}X<iE~_44/,6?/  !/2H2Ht2HhD44M
%86/AY9 4C 4Mpf5W/d3lH`/<3 M$cMOhi/4n/AfxAf`AfP,Af/ 4H4 M3 M3 M3Ai7V.AixO/AlO6H\\/rLL MsDDA6<</ 444%i$..&i 6k/>4?&2F.pdO`HdX8 dajO&Oh2_t!z}/V2/6\/d?/2Hxl2H`P2HLH44M<,$a4/Z/H,A=3v.AiahaCn&_/AiAiAi'ix4xh4hT3 /@i@+,i,6iAfaH/LfAWfAbfAmfAxlfAlTfAT@fA@,fA,!xH2l/2H2H2H2Hll2HPfa/004Al H/H2H2(H23H2>||H2I\\H2T@@H2_$$H2jm2uH/iAiAiAiAddiADDA(YCCH/ M3 M3 M3 M3hhALLAf00Af%Af  06{H/;iFiQi\ighihrHiH}(i(ifaH/fA ' 3H44M2Hx2Hxp2Hph2Hh`2H`X2HXP2HP	H2HH
@99H@8d8 i> /2HH f/$ 4, 44 4< 4D 4L 4Thh 4\LL 4d44 4l&i.tg| foH4 /4 4 4  4 !4 "4 hh#4 PP$4 DD%4 4 &4 ' (M3 )M3 *M3 + ,fA-fAhh.fATT/fA$<<0fA,  1fA426{A<H3/iD4iL5iT6i\7idxx8illl9it``:i|LL;iA	00<iA=AH>/d?d@dAdBdCAf/llDAfTTEnDV.F400G4H3 IOaHJ/ 4K 4L 4M 4N$ 4||O, 4hhP4P&.Q<@i@RD0i0SLiTTiU\faHV/dfAWlfAXtfAY|fAZ|fA|[hfAh\TAT] 4mD^D_Ai(.(`AiadHb/dcdddedfdgdhpdpi\d\jLsr8k03 M(l;_mV.n/ M3o& M3p/ M3q8 M3lrA M3\DsJ M34tS M3u\=T=Hv/e&,wn fx.M{6HwVy.{5 z^if{|4M3l/}A~i/|pi`PiH@i4(i g?l1o&4/ M
\=hmA&4a/lxf0o/`!OX@=3l/4f0// 6{AH/gH/H2H2h2`Xf6/L@@/4/d!}gH4/4 &4 .4 64 >4 FC Nha/4U/|p^A hdvmgX&L/p2H@4y2H(dL.d,42Hk0.Yiix`4/L4,a/A ;[>a/V4a/3/i/gx/Allif\\
d@@#d44-d((7d9AA=V/KAiUAi_dH/idsd}& . 4 4 4xx 4tl 4TT 4L< 444 4$$ 4 4 4 4H99l/	ddd'd1d;dEdO||dYlldcXXdmHHdw@@d((ddddHA//iiiiiilliTTHDDH2,,H2H2!f2+H/54 ?4 I4 S4 ]4 g4 q4 xx4M3H{l`M~LL44<<4$$4 M` H4/kV^H4m. M3 M3xx M3ll M3`H M3<<4M3,,2H1H	aH
/AfAfAfAfAfAfAfppAf\\AfHHAf88Af((nV. 4 3H/3 M MfAfAfAlfAlXfAXHfAH 4nA4! V4."##'HM3$/+%M3 /&M3 3'M3 7(M3 ;)M3 ?||*M3 Cdd+M3 GPP,M3 K<<-M3 O$$.M3 S/= WH0/4[14_24c34g44k54oxx64shh74wPP84{<<94((:4;3 </dH=/iA>iA?iA@iAAiABiAllCiA\\DiAHHEiA88FiA$$G2AH/ fHI/ 4J 4K 4L 4M 4N!O!,P2H&.Q<2H<R(2H(S2HT C U/3HV/3 MW3 MX3 MYx M`ZLfAL[<fA<\,fA,] {A^Hi6_/i`iaib#ic'id+ie/llif3PPig788ih;$$ii?jCHkfa/GlfAKmfAOnfAS|ofAWhhpi[XXdq`DDdre,,dsjdtodutHviA/ywf~xfA|yfAhPzfA<${9A_=0oH}/4~4443?v.iihhv	T4M8
0a.oo!i.I!i&.I|l\IL@4II(d3C,!M.4 MfP4/tfAdPAD464_kY/&iG/ii li)d\i2TLi;D<iD4,}MxY6Hl 0`&5]xHM|(fk.8fpo@ek\iX`fxmy[ @&lyN'ig0n6P05>@nkY^F^86lv&H0 i.H8!W~\3[@&&i6iyPf  ^Xfky7H~p ^@;(06X6kZXpFkeF`i[N~fV.f5ePVPkNn=4o? m>hN`m&PF VN8~ox>il(@^,5hnpP]kXvX3~&8\MHo6ki5km^Nfmk>lkxf0viw'  0fPiZhN8x `f5Mxh8 f`iMX>PiMk 8>h{0Xp@Fimh`& m M,@(XkOk&pF/m~(iZ0Hi6 x`nh84iPF@Xpem NP8p>(4M3 M3mxlZknv6H4M`0 5fk6Fh mkxn> Fi5@65 H`5Y0piv6Hi `0&i;^ 4Ph@&\&.iv V85Phk{G&NM4(i@p>V(4y (0| mn^mV>&~6kH0^n^ZnpiX>pZk^wx^8iMZhPZ46 ` kiH0p[4MX.55&pFZk(@fV_]&h^Xp~3mk FFhe0(gy6h 8vPHn`fLx0lH.`k 0xVkN8N&P(.5&8vnnv+RVdvfFf(&.\}N 	+4_	'DGhXkVruvB6 C<1.916^B%8VjoTWVaflF,,gv(/n5fXX7Vf'_b'F7Xp6ph'>? 'F77XiG8V fhNovbfv0 t8!PN#8DR('+6N>+^+v V&&LR>FC~vb8u`VW*	nJ+P::*.Nx`xjb8J6:::1 Xc5Xpk.f8q,'H:1pB6H.N Vv\
Ph#v'6aXW0fO^|k66.Vx6@V.>Xiv.+1hb~J(v)yS
/Xp%x`vv6xL:F :=RN6t68tt
v_Nh~fnfhVhgONFEA.?>jUj/:iMf]hPzV8ct&in@ C'p> K&XH6XgV(j,pc6jNW_XP&C~Rr~:>+n\c3#x.4Sn!Kf,%*~0/H`x'L0A!^&
Hqax&>&q'.PA?nB6pW{NnN$N>08`vf, dyPh7N7w>NVc~M4M,0 7.G3g,@Co-g~ h.GV:*n_h-7X#0f!FVg+#XbHUZiP+Ghg$BN6 tEZ8GJC-F'^Fx@
K1N8y6*Uvvt*]HxZaW.nIN0`gN&#} *n`^f4"V V?"mosyNo50cNvn\r	^Zc7Nv5Lf\r^KkF$N_.*i?qioX..G77n X?^&06kyGtAxwB+tWhir7G|h6E2?G2[wF:EC P'C=t&6C=DCot>t4 ^B H.742`4o7xM3 @dT  pHN4@ Mn40@6$z&SVH!`l wNJ6	VHC{p0@ CX@,GnHly	6Di^|WK.ZY_g=T`>NJJU 68Y+mi<4M4gB4MoM4MNZ4	`U~I9/ /w_??4M"M4M_!]p4Z25eY>iZ0iH^ii*ViO8rmp,}vdteYEpYdq
K8Ywe\ M+#`%2M44MVnai4H4@u>#0G:YeY\HU5N&,4:/e),Pf Rj,
7%Z,${i]Jxic.`mv2Y;
)9~0nF4MfX%\a	/w,wruH	+hbkroD81Yn 3u^b/dP,xL\x(yJ~7+vSbLdDYOaEm=2@{!"\kNTe`sVu;B=0<&oFiW'C>/fRr5Mj*qZItK^AnQ$p9|:#z6[%U1-])gl?/,c?X843JC_.Gw
om4]\V*30}2KE1!ZAJMh,'_6>4?x$#ORgf`HSrn B<N5+qt:
w7kyb	|j"[uaUQ^Wc=lpYG OX8o;eF~-{@s&%T(dmzDI.v\/	i)9LC`@.CG+& m;f k?D5PZg#p>$`gm^`P_BVi4cW;j!&M^=S(`Y6@x>Yk
	Vg|D, pYPj`8XmI 0f4}%dH0<EAEN%ooIPD*ygnrH^E \%OT5osn/F  FFqkC8W@s\% Gq<hoHo0Ivo~ro+KpKp\o/vN@LDt"qg4M$isipi`P}%O^ pOEZ0XoM<`Daog uNW^o9<ZdHQr`RY7w|\]N!?'^fHg`kiVohBTz{/6 jw|g ||ryjny||ivtldiXP<4|[ \{{{{{{{ryr{`{T{L{4M,{cG0. kESYoR@@lEm ;[onfo"`oIJ""KL""MN["o7vpBU0@o&Ko(f xO
		hR+??fz7$!,M4M|pd4M4`P@4$Y6M lgjk!JmnA e+9 CS yCbv m]ra  rTr
 5T P@ PZl  @&d8O07mA\|F rp`lF\eO AZktu.sr@omloq. j[ki PnKn!Cf>N6\iCXIiWLIA;fUO@BT01[Bi6O$AAP Nh&!O,r",hvOA@vN"iNPv<mM$ QN.8O	&&N
 VNXKIND=$,NJNC6NJNNNh. Pv(N|NNnTN\RLN`08H68Na$HbN%McdvmMNeOuf6/cOML 0i.1Ei2 34t3Pd
.M4X5BHLI3D6O0I76i8O9rp(iP:}`?a/c,ge0\i$J@.fN=lfF_hfkj"!'oBpVO A@(OY"N&lO )@ ! .N   @L@?/^ry_@}}L5~6>i^F_ ec",W^<_PP'?>0.aGm?f Pygi`pgyggy|hTgy@0 (^</ ->0@YP`p-thY\P@e0?o-w?~><[ h0?T@DP8'(`gipygyxgygdL8 	 ,0@Y-P`|Yp\<!$O<{<xpT-0 
 ,;o`ly 
0/oypl>@`Pyd@
( 
@{.
PY,|dD.O gi ygy t0T@<g@P,`<Kp<_<4p?`H4|$}?.O y}>@l/ Ow.PH`4p,ygygygh<P D(< 0@NA\N7ee fiighhXij8k$lMlmnoiipi4qrkisltPu5Mv(wxYyz{ii|}i~|ipTLii4$4i4MitXDi(i4U?dM4MP4D5{ilMlVx\4ML<,N6MXPFiYGHIiJKpiTLQ4RsiSo.enW.xihT8ii 4M4Mp4M4X<4M ifi|iil\Di(Ml4M44MtMT[{hi5ihPli,iMi4itE`HiY.>i|ZY44DiliiL,M;Z4lLelM$n Ni,OPMi0Ql4M$/\8iZ@Ln . 4yB4mXe4M0iiipLi(G[5.5MiT@li,iM iC>4M4p\D4M0ie	
i8 G"/3qgd	
7vM'.!2l5ACPagR.WaYl/mV4M pr6l_g?flA)2??'aAUd7,X@9$44zFUVus}F DL65?l
rE.`/KaSLd^P24OBDav6C!A8xW$~/K`q7G T A25H2q@11^N4M|hL8$wMtWDu5o[8tii$>lyHV8 &mfG4XD,/N[Fwp`K;7(PSTD-2RlO lBB3&&i\	0&il<4i4MTY6Mxiyz^vHrG[]W/Fl?_j
jGZM4Mxi0Nmg:M4MYwY6/Ml)vi|tildXNLD."N80M;M$&4Ml65H 	:*IWA&. R`Ae,$
o0`y8@~^ An@_ CA ng[~Q^|%_j2s1~.w50V`O^@<@P$C~ 4N@ ?Xi@]%O@qC)@D@<Ixy@oGAkU'9p|B~QCv)/&D(DJzEeFeuuvHMXB9;5SM]=];Z] T7aZ%]g']=nL R`%u?q=
p?Zd;On?,eX?#GG?@il7?3=?Bz?aw?/L[M?S;uD?g9E?$#;1az?aUY~S|_?/DG?9'*?}d|FU>c{#Tw=:zc%C1<!8G ;X;EBu7.:3q#2IZ9W2hDRDY,%IOSk%Y}ZW<P"NKeb}[pG@A?/|A 4C{O-30Pp	4D`W`kF&	\~kf-vJVFtG<KN(@<xPd<`P8p$<Yim!(fgiidte*i`jH?;O?'/',p|l,,X@00'4 @[Y `;|n'piTfHz,,i{yg4M|hM4Mijkt4M4l`mPn4M(oifpqr4,st|uM4MhvH}8~lM4 wx,;?&dL`<{dy&0 
&N& 
&oy&>,toygy@TpHEl8o?$`	&e|?-.&e[ p>XDO4
&${_ p?M%4M4g4MlwL8M4M$hf4iijvM4tkPlkm,n4M^4MupM4Mx|}4M4hXtH4M~4q lM#OP=N%%%p<tOdXeP<_0gy^? ydy~%%< %%,oy//l `,0P@DP,8`(p,%Mk8ne4M4fg`4MmHo<he4Mp iijklt~$dfkL@8Ge$(6;gM4df3<"O#l#T#y8`<Ks<< #tg\#L 0 4gyP`p<[?# .\=lPiZ;Qo#<y$eifgM4xhi4M4jk|l4MpmXnHM4Mo0pqf4rstiuvw]6t"<OIthp"\."L8<[$<K@P0^v< oO^f O`,oP@y0oNP"p"`?"/{x/lO?XgyD@,N {/ "gylwiiPd@e$liyisf4pgt8q#i""9""iYmi|n`e4M4],<4~|iyd[4M8rtkg,}p5Mi^Lzi~{oixi+LuxM!`@!Pp,/Tp@y4  w /!ydy0!->@tY\pDP,4V!J tiviM;dweixhyPii<$4gi0Mz.vs`Mi{H(M4h |}ii~Sn!N>x]dj.k0l4imn4Mopq4Mr,[| .`pypd P D[,.y"O g/?ly^ O_. |lyp d? X=<0L@@ 4_$>P`p o 
~4Mf|gM4Mhi4M4`j<kiW}l{Ml	NnoivpqirtsdMitTuv$,[4wxylVn~zPY`0@PhO,Lp4^yr\? </hX@-( .O>?[p` PYY@ 00 ,@P`,pg,xdgy,4LppiZ>.nTm<fi(ghM,ojkOUi5l#,pP`,x,hTDp[(D<8`(p/G0PY`-> .<l`gyP @42olLdeM4Mopm4M4fi|4Mj\kPr+.lDg$qihYo!> `[?p <otygy\P,oD8,^? O <,0<@P`<<pp\<L8(<Y<0. yE@lPylX
H^`(p=gYYYtd 	H,8 $0,yP`,p,,,tdTDP4 
$<  0Y@P`YYpY|Yl\P5]@O04M$efiMghi5jkilnm.5n^op4iqMNhrs4t6M4 uviYwxyiz{i|t}d~^4M(iYiiip`PiD,Y6M ikhi]4lM4M4M4|`4M<,Y6Mi~5@lMT<|`&P`D]?p0 %/>%y<x>dyg\@ (YZ^$oy@? -oyx XN08oPY#`pYYY|4hoT#< P"^A"/ivreiifpq\awH{4MkZs4t gieh!ijiklLumny4M;!xo0p$8Lz/,;_/
T'DP0-oy 
$.p,&,/,]k'&
ep.&	*),N?	P`,p,|h_gy{H.0$gy(,	 ,p0@,|Pd(iZ	PeDf4g,$hsM,[i'jk4M4lmn4Mopx`Lq.r`'=h@\PTygy@`4pOg(* }|=HxwF;{0  0 gi./P[.@|?-oy/dNT`DS|N04 /</..L./y|h>oyXH8.\,(P`-r4Bwd5NpiqzhPii0rA,M's.wi54ipoNXiMDf`x4]g&$4t h+iliujLV.ytkiZn{\|8li }v*C4~mn^{~P,`p,pS)`dL0;|6OlPT`Y<p${\5o<y?/lLE^4>gy4 oy /p0d@,,TPH`,,p  <33iZ4fg.h'3h6MlLm<n&Y ozie2p|i}{|iilTiD4~<kx1q1]y4rx`4M@s(tekeuv0Jlwng>`049Y `p8,@y-/"o.`lyx?/\PD4 g87< \ 074<qO7r4MtfXgLM4Mh<inf4j6soGm6iZpqm6UZY$B6>gI"z-EkPt=:&A P
{>aU@BB%P2

d@(\^P ,aEMMA#r;Lq-Id)"$,	OgMCO[x(TA
GW"vP1Bms@laiX&}MLAe`hEv =;=2'igHjSZ 6mG9&$C0qr.ViewOfF ST!&[da6SRJ!I:w03Lo+nAJ1\G`.'B,FaCh	0tl=1~N$Unm;eJn,Ex&Qrh6ncB-{`HI[ckM{[yQ:<StdRx8X=b'MXI/aA$&VfMhJq;Ilm}%\9S/mpfv[E*A+b(Dl)vzE>@9Cf+tAsAI[ F?D
;A^5GBy1ekCdPi&!`cj:6{&i58<Ch 8Z`lskyGaWk.Dwgs_Fu[&r0$Sn=Jq7lmrmP	D3 LL1' )6,mQ-IsmO!C 6=g]CE/6IW&DWEw4oSEB6oayVLu@zJJpbQxnElXG/_!GW.0AW:D
gA-OEM,x#)NK;W;VA6Pc m#=dupIWKSc[Jn8="5>DC-0]B
6
Bl	a"Ml'C]8I{;0CsMw&ifs/HdQMr;,,st,,
opM-4	~_8LtT'	8$ D1l1E;&_7 n!p>
 d ASX.X_i|!&Ix `.r6pDJ`@.LF
xmO/ ,A( $I   T          ` @G  WFGur   usurHu1rFtxuuu Ausu	s /vBGIuOw8^v+  G,<w?u_f)   	tE_0 @ Pd@ GtyGPGWHUh@ 	tl@ aw                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           P dP             P tP             P |P             P P                     P P P     P     P           KERNEL32.DLL GDI32.dll USER32.dll WSOCK32.dll   LoadLibraryA  GetProcAddress  ExitProcess   BitBlt  MessageBoxIndirectA                                                                                                                                                                                                                                                             --- A note on GPL versions

BusyBox is distributed under version 2 of the General Public License (included
in its entirety, below).  Version 2 is the only version of this license which
this version of BusyBox (or modified versions derived from this one) may be
distributed under.

------------------------------------------------------------------------
		    GNU GENERAL PUBLIC LICENSE
		       Version 2, June 1991

 Copyright (C) 1989, 1991 Free Software Foundation, Inc.
     51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
 Everyone is permitted to copy and distribute verbatim copies
 of this license document, but changing it is not allowed.

			    Preamble

  The licenses for most software are designed to take away your
freedom to share and change it.  By contrast, the GNU General Public
License is intended to guarantee your freedom to share and change free
software--to make sure the software is free for all its users.  This
General Public License applies to most of the Free Software
Foundation's software and to any other program whose authors commit to
using it.  (Some other Free Software Foundation software is covered by
the GNU Library General Public License instead.)  You can apply it to
your programs, too.

  When we speak of free software, we are referring to freedom, not
price.  Our General Public Licenses are designed to make sure that you
have the freedom to distribute copies of free software (and charge for
this service if you wish), that you receive source code or can get it
if you want it, that you can change the software or use pieces of it
in new free programs; and that you know you can do these things.

  To protect your rights, we need to make restrictions that forbid
anyone to deny you these rights or to ask you to surrender the rights.
These restrictions translate to certain responsibilities for you if you
distribute copies of the software, or if you modify it.

  For example, if you distribute copies of such a program, whether
gratis or for a fee, you must give the recipients all the rights that
you have.  You must make sure that they, too, receive or can get the
source code.  And you must show them these terms so they know their
rights.

  We protect your rights with two steps: (1) copyright the software, and
(2) offer you this license which gives you legal permission to copy,
distribute and/or modify the software.

  Also, for each author's protection and ours, we want to make certain
that everyone understands that there is no warranty for this free
software.  If the software is modified by someone else and passed on, we
want its recipients to know that what they have is not the original, so
that any problems introduced by others will not reflect on the original
authors' reputations.

  Finally, any free program is threatened constantly by software
patents.  We wish to avoid the danger that redistributors of a free
program will individually obtain patent licenses, in effect making the
program proprietary.  To prevent this, we have made it clear that any
patent must be licensed for everyone's free use or not licensed at all.

  The precise terms and conditions for copying, distribution and
modification follow.

		    GNU GENERAL PUBLIC LICENSE
   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION

  0. This License applies to any program or other work which contains
a notice placed by the copyright holder saying it may be distributed
under the terms of this General Public License.  The "Program", below,
refers to any such program or work, and a "work based on the Program"
means either the Program or any derivative work under copyright law:
that is to say, a work containing the Program or a portion of it,
either verbatim or with modifications and/or translated into another
language.  (Hereinafter, translation is included without limitation in
the term "modification".)  Each licensee is addressed as "you".

Activities other than copying, distribution and modification are not
covered by this License; they are outside its scope.  The act of
running the Program is not restricted, and the output from the Program
is covered only if its contents constitute a work based on the
Program (independent of having been made by running the Program).
Whether that is true depends on what the Program does.

  1. You may copy and distribute verbatim copies of the Program's
source code as you receive it, in any medium, provided that you
conspicuously and appropriately publish on each copy an appropriate
copyright notice and disclaimer of warranty; keep intact all the
notices that refer to this License and to the absence of any warranty;
and give any other recipients of the Program a copy of this License
along with the Program.

You may charge a fee for the physical act of transferring a copy, and
you may at your option offer warranty protection in exchange for a fee.

  2. You may modify your copy or copies of the Program or any portion
of it, thus forming a work based on the Program, and copy and
distribute such modifications or work under the terms of Section 1
above, provided that you also meet all of these conditions:

    a) You must cause the modified files to carry prominent notices
    stating that you changed the files and the date of any change.

    b) You must cause any work that you distribute or publish, that in
    whole or in part contains or is derived from the Program or any
    part thereof, to be licensed as a whole at no charge to all third
    parties under the terms of this License.

    c) If the modified program normally reads commands interactively
    when run, you must cause it, when started running for such
    interactive use in the most ordinary way, to print or display an
    announcement including an appropriate copyright notice and a
    notice that there is no warranty (or else, saying that you provide
    a warranty) and that users may redistribute the program under
    these conditions, and telling the user how to view a copy of this
    License.  (Exception: if the Program itself is interactive but
    does not normally print such an announcement, your work based on
    the Program is not required to print an announcement.)

These requirements apply to the modified work as a whole.  If
identifiable sections of that work are not derived from the Program,
and can be reasonably considered independent and separate works in
themselves, then this License, and its terms, do not apply to those
sections when you distribute them as separate works.  But when you
distribute the same sections as part of a whole which is a work based
on the Program, the distribution of the whole must be on the terms of
this License, whose permissions for other licensees extend to the
entire whole, and thus to each and every part regardless of who wrote it.

Thus, it is not the intent of this section to claim rights or contest
your rights to work written entirely by you; rather, the intent is to
exercise the right to control the distribution of derivative or
collective works based on the Program.

In addition, mere aggregation of another work not based on the Program
with the Program (or with a work based on the Program) on a volume of
a storage or distribution medium does not bring the other work under
the scope of this License.

  3. You may copy and distribute the Program (or a work based on it,
under Section 2) in object code or executable form under the terms of
Sections 1 and 2 above provided that you also do one of the following:

    a) Accompany it with the complete corresponding machine-readable
    source code, which must be distributed under the terms of Sections
    1 and 2 above on a medium customarily used for software interchange; or,

    b) Accompany it with a written offer, valid for at least three
    years, to give any third party, for a charge no more than your
    cost of physically performing source distribution, a complete
    machine-readable copy of the corresponding source code, to be
    distributed under the terms of Sections 1 and 2 above on a medium
    customarily used for software interchange; or,

    c) Accompany it with the information you received as to the offer
    to distribute corresponding source code.  (This alternative is
    allowed only for noncommercial distribution and only if you
    received the program in object code or executable form with such
    an offer, in accord with Subsection b above.)

The source code for a work means the preferred form of the work for
making modifications to it.  For an executable work, complete source
code means all the source code for all modules it contains, plus any
associated interface definition files, plus the scripts used to
control compilation and installation of the executable.  However, as a
special exception, the source code distributed need not include
anything that is normally distributed (in either source or binary
form) with the major components (compiler, kernel, and so on) of the
operating system on which the executable runs, unless that component
itself accompanies the executable.

If distribution of executable or object code is made by offering
access to copy from a designated place, then offering equivalent
access to copy the source code from the same place counts as
distribution of the source code, even though third parties are not
compelled to copy the source along with the object code.

  4. You may not copy, modify, sublicense, or distribute the Program
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense or distribute the Program is
void, and will automatically terminate your rights under this License.
However, parties who have received copies, or rights, from you under
this License will not have their licenses terminated so long as such
parties remain in full compliance.

  5. You are not required to accept this License, since you have not
signed it.  However, nothing else grants you permission to modify or
distribute the Program or its derivative works.  These actions are
prohibited by law if you do not accept this License.  Therefore, by
modifying or distributing the Program (or any work based on the
Program), you indicate your acceptance of this License to do so, and
all its terms and conditions for copying, distributing or modifying
the Program or works based on it.

  6. Each time you redistribute the Program (or any work based on the
Program), the recipient automatically receives a license from the
original licensor to copy, distribute or modify the Program subject to
these terms and conditions.  You may not impose any further
restrictions on the recipients' exercise of the rights granted herein.
You are not responsible for enforcing compliance by third parties to
this License.

  7. If, as a consequence of a court judgment or allegation of patent
infringement or for any other reason (not limited to patent issues),
conditions are imposed on you (whether by court order, agreement or
otherwise) that contradict the conditions of this License, they do not
excuse you from the conditions of this License.  If you cannot
distribute so as to satisfy simultaneously your obligations under this
License and any other pertinent obligations, then as a consequence you
may not distribute the Program at all.  For example, if a patent
license would not permit royalty-free redistribution of the Program by
all those who receive copies directly or indirectly through you, then
the only way you could satisfy both it and this License would be to
refrain entirely from distribution of the Program.

If any portion of this section is held invalid or unenforceable under
any particular circumstance, the balance of the section is intended to
apply and the section as a whole is intended to apply in other
circumstances.

It is not the purpose of this section to induce you to infringe any
patents or other property right claims or to contest validity of any
such claims; this section has the sole purpose of protecting the
integrity of the free software distribution system, which is
implemented by public license practices.  Many people have made
generous contributions to the wide range of software distributed
through that system in reliance on consistent application of that
system; it is up to the author/donor to decide if he or she is willing
to distribute software through any other system and a licensee cannot
impose that choice.

This section is intended to make thoroughly clear what is believed to
be a consequence of the rest of this License.

  8. If the distribution and/or use of the Program is restricted in
certain countries either by patents or by copyrighted interfaces, the
original copyright holder who places the Program under this License
may add an explicit geographical distribution limitation excluding
those countries, so that distribution is permitted only in or among
countries not thus excluded.  In such case, this License incorporates
the limitation as if written in the body of this License.

  9. The Free Software Foundation may publish revised and/or new versions
of the General Public License from time to time.  Such new versions will
be similar in spirit to the present version, but may differ in detail to
address new problems or concerns.

Each version is given a distinguishing version number.  If the Program
specifies a version number of this License which applies to it and "any
later version", you have the option of following the terms and conditions
either of that version or of any later version published by the Free
Software Foundation.  If the Program does not specify a version number of
this License, you may choose any version ever published by the Free Software
Foundation.

  10. If you wish to incorporate parts of the Program into other free
programs whose distribution conditions are different, write to the author
to ask for permission.  For software which is copyrighted by the Free
Software Foundation, write to the Free Software Foundation; we sometimes
make exceptions for this.  Our decision will be guided by the two goals
of preserving the free status of all derivatives of our free software and
of promoting the sharing and reuse of software generally.

			    NO WARRANTY

  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
REPAIR OR CORRECTION.

  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.

		     END OF TERMS AND CONDITIONS

	    How to Apply These Terms to Your New Programs

  If you develop a new program, and you want it to be of the greatest
possible use to the public, the best way to achieve this is to make it
free software which everyone can redistribute and change under these terms.

  To do so, attach the following notices to the program.  It is safest
to attach them to the start of each source file to most effectively
convey the exclusion of warranty; and each file should have at least
the "copyright" line and a pointer to where the full notice is found.

    <one line to give the program's name and a brief idea of what it does.>
    Copyright (C) <year>  <name of author>

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA


Also add information on how to contact you by electronic and paper mail.

If the program is interactive, make it output a short notice like this
when it starts in an interactive mode:

    Gnomovision version 69, Copyright (C) year  name of author
    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
    This is free software, and you are welcome to redistribute it
    under certain conditions; type `show c' for details.

The hypothetical commands `show w' and `show c' should show the appropriate
parts of the General Public License.  Of course, the commands you use may
be called something other than `show w' and `show c'; they could even be
mouse-clicks or menu items--whatever suits your program.

You should also get your employer (if you work as a programmer) or your
school, if any, to sign a "copyright disclaimer" for the program, if
necessary.  Here is a sample; alter the names:

  Yoyodyne, Inc., hereby disclaims all copyright interest in the program
  `Gnomovision' (which makes passes at compilers) written by James Hacker.

  <signature of Ty Coon>, 1 April 1989
  Ty Coon, President of Vice

This General Public License does not permit incorporating your program into
proprietary programs.  If your program is a subroutine library, you may
consider it more useful to permit linking proprietary applications with the
library.  If this is what you want to do, use the GNU Library General
Public License instead of this License.

This directory is for the jpcre2 binaries.
NB. Lab: Shared Library (a) (dll/so/dylib) - intro

0 : 0
J can call procedures in a shared library file

windows shared library has .dll extension (dynamic link library)
linux has .so extension (shared object)
macOS has a .dylib extension (dynamic library)

for convenience we use the term DLL for all platforms

see: https://code.jsoftware.com/wiki/Guides/DLLs/Calling_DLLs

WARNING:
calling DLLS with incorrect declaration or parameter
can cause crashes or corrpted memory!
)

0 : 0
A simplified pattern for calling a DLL routine is:
'filename procedure declaration' cd parameters

filename    - DLL file name
procedure   - routine name
declaration - describes result and parameters
cd          - J foreign to call a DLL
parameters  - J parameters to pass to the DLL
)

NB. this lab shows how to use the C library unlink to delete a file

NB. first we need the filename of the DLL with the C library routines
[libc=: ' ',~>(-.UNAME-:'Win'){'msvcrt';unxlib'c'

[U=: IFWIN#'_' NB. some routines need a _ prefix in windows

0 : 0
unlink routine deletes a file
unlink declaration is: i *c
i indicates 32 bit int and *c indicates a character string

i is the result type (unlink success or failure)
*c is file name to delete
) 

f=. jpath'~temp/junk'
'foo' fwrite f NB. file to delete

(libc,U,'unlink i *c') NB. filename procedure declaration

(libc,U,'unlink i *c') cd <f NB.  0 - success
(libc,U,'unlink i *c') cd <f NB. _1 - failure

0 : 0
knowing some C helps in getting the declaration from library docs

linux/macos:
... $ man 2 unlink
...
      int unlink(const char *pathname);
...

windows:
web search: msdn _unlink
...
int _unlink(
   const char *filename
);
...

int is the result (i in the declaration for 32 bit int)
const char * is the parameter (*c in the declaration)
)

('bad',libc,U,'unlink i *c') cd <f NB. domain error - cd failed
cder'' NB. get error info - 1 indicates filename not found
cderx'' NB. get extended error info

NB. see: https://code.jsoftware.com/wiki/Guides/DLLs/Error_Messages

(libc,U,'badunlink i *c') cd <f NB. domain error - cd failed
cder'' NB. 2 indicates procedure not found

(libc,U,'unlink i Q') cd <f NB. domain error - cd failed
cder'' NB. 5 1 indicates position 1 in declaration is bad

(libc,U,'unlink i *c') cd <2 NB. domain error - cd failed
cder'' NB. 6 0 indicates position 0 in parameter list is bad

0 : 0
unlink example passes the parameter as the contents of a J noun
DLLs can require working with memory at a low level
see: https://code.jsoftware.com/wiki/Guides/DLLs/Memory_Management
)

[address=: mema 200 NB. allocate 200 bytes of memory
(f,{.a.) memw address,0,(1+#f) NB. write null terminated filename to address

'abc'fwrite f
(libc,U,'unlink i *c') cd <<address NB. memory address
(libc,U,'unlink i *c') cd <<address NB. _1 indicates file did not exist

0 : 0
unlink is a very simple example

see ~addons/api/jc/jc.ijs for more complicated (and perhap useful)
examples of calling C library routines from J

for more examples see lab: Shared Library - writing a DLL
)
LABTITLE=: 'Function Display'

NB. =========================================================
Lab Section INTRODUCTION

Although a simple representation, such as the vector of coefficients of a polynomial, may give all essential information about a particular function, it may also be helpful to display it in a more elaborate and more familiar form.

For example, we may use the following function "display" to show the polynomial represented by the coefficients c:
)
c=: 1 3 3 1
y=: 0 1 2 3 4 5 6
c p. y

display=: 3 : 0
r=. '',:''                NB. 2 row 0 col

while. 0<#y do.
  r=. ('',:~":<:# y),.r   NB. exponent
  r=. ('',:,'x'),.r       NB. argument x
  r=. ('',:":{:y),.r      NB. coefficient
  r=. ('',:,'+'),.r       NB. plus sign
  y=. }:y                 NB. delete last coefficient
end.

}."1 r                    NB. delete leading +
)

display c

display c,c,c,c,c,c

NB. Put cursor in field and use right and left arrows
NB. to view long displays.

NB. =========================================================
Lab Section FUNCTIONS OF TWO ARGUMENTS

Although expressions such as a+b and a-b and a*b provide a completely general scheme for functions of two arguments, other schemes abound in mathematics. Many of these fall in two popular classes:

.                                              n
The use of superscripts and subscripts, as in x  for x
to the power n, in log y for the base b logarithm of y,
.                       b
and in 1066  for the base 8 value of the digits 1066.
.          8

2. The use of various brackets to embrace the arguments, as
       n                                  n       n
   in ( ) for binomial coefficients, and [ ] and { } for
       k                                  k       k
   Stirling numbers of the first and second kind, and [m\n]
   for a test of divisibility of n by m The brackets, of
   course, appear in a font large enough to completely
   embrace the arguments.

Several of these dyadic functions occur as primitives in J. For example, try entering the following expressions:

   5^3         NB. 5 to the power 3

   10^.1000    NB. Base 10 logarithm of 1000

   3!5         NB. Binomial coeff (# of ways of 3 outof 5)

   8(0&=@|)32  NB. Test if 8 divides 32

   10 #. 1 0 6 6

   8 #. 1 0 6 6
)

NB. =========================================================
Lab Section

The functions ^ and ^. and ! follow the standard pattern set by + and * for extension to array arguments. For example, try the following:

   0 1 2 3 4 ! 4

   0 1 2 3 4 !/ 0 1 2 3 4

Although bracket and super- and sub-script notation might be extended similarly, expressions of the following form would be rather jarring:

        4
   (         )
    0 1 2 3 4

   log          20
      2 3 4 5 6

   log          20 30 40 50 60
      2 3 4 5 6

   log20 30 40 40 50 60
      2 3 4 5 6
)

NB. =========================================================
Lab Section

The operator / serves to apply a function over an array argument, as in +/ for summation, and */ for product-over.

It may be remarked that the superscript used to denote the power function provides no symbol for such use with an operator.

Although type fonts and special symbols may no longer present a problem, it is easy to see how printers found it easier to provide superscripts and subscripts, as well as common brackets in various sizes, than to cast new special symbols for use in mathematical texts.
)

NB. =========================================================
Lab Section SIGMA AND PI

The capital Greek Sigma and Pi are commonly used to signify the sum and product over what follows them. We will use the functions S and PI, as defined and illustrated below:
)
  S=: +/
 PI=: */

 AS=: -/   NB. Alternating sum
API=: %/   NB. Alternating product

d=: 1 4 6 4 1

S d
1+4+6+4+1

PI d
1*4*6*4*1

AS d
1-4-6-4-1

API d
1%4%6%4%1

NB. =========================================================
Lab Section POLYNOMIALS

Operations on polynomials can be treated in terms of their coefficients. For example, the coefficients of the product of two polynomials can be obtained as the diagonal sums of the product table of the coefficients. Thus:
)
c=: 1 3 3 1
d=: 1 4 6 4 1

c*/d

e=: +//. c*/d

e

e p. y

(c p. y) * (d p. y)

display e

NB. =========================================================
Lab Section

A polynomial product function may therefore be defined and used as follows:
)
times=: +//.@(*/)

f=: e times e

f

g=: f times f times c

8 4 $ g

display g

,. g p. x: y  NB. The function x: introduces extended precision

(6+1) ^ x: 31

NB. =========================================================
Lab Section RATIONALS

A function defined as the quotient of two polynomials c&p. and d&p. is called a rational function. Such a function is commonly displayed as the first polynomial above the second. Thus:
)
rational=: (display@[),('-'"_),(display@])

c rational d

e rational f

NB. Put cursor in field and use right arrow to see long display

NB. =========================================================
Lab Section

We will now define and use a rational operator RAT such that c RAT d gives the rational function defined by the polynomial with coefficients c in the numerator, and the polynomial with coefficients d in the denominator:
)
RAT=: 2 : 'm&p. % n&p.' NB. Rational operator

c;d;y

c RAT d

c RAT d y

d RAT c y

PROD=: 2 : 'm&p. * n&p.' NB. Product operator

c PROD d y

NB. =========================================================
Lab Section FUNCTIONS OF n ARGUMENTS

Expressions of the form f(a,b,c) and f(a,b,c,d) are commonly used to denote functions of more than two arguments.

If the individual arguments a, b, etc. are scalars, the same form may be used in J. For example:
)
f=: +/          NB. Sum

g=: +/@(]*])    NB. Sum of products

h=: */@(]^])    NB. Product of powers

f(1,2,3,4,5,6)

g(1,2,3,4)

h(1,2,3,4)

NB. =========================================================
Lab Section

However, a function such as the product of polynomial coefficients requires vector arguments, and these may not be simply catenated, but must be linked in separate boxes to preserve their identities. For example:
)
times=: +//.@(*/)

b=: 1 2 1
c=: 1 3 3 1
d=: 1 4 6 4 1

c times d

b times c times d

b,c,d

b;c;d

times &.>/ b;c;d

>times &.>/ b;c;d

NB. =========================================================
Lab Section

The case of vector arguments appears to present a similar problem in the conventional notation f(b,c,d) . On the one hand, the comma is commonly used to denote catenation, as in (3,4,5), but cannot be so construed in the expression f(b,c,d) when b and c and d are vectors.
)

NB. =========================================================
Lab Section

A continued fraction is commonly expressed in the following form:

   3 + 1
       -
       7 + 1
           -
           14 + 1
                -
                1

It may be expressed in terms of the list 3 7 14 1 as follows:
)
pr=: + %   NB. Plus reciprocal

3 pr 7

3 pr 7 pr 14

pr/3 7 14 1

NB. =========================================================
Lab Section

A general continued fraction (with numerators other than one) would be written as:

  2 + 3
      -
      5 + 7
          -
          11 + 13
               --
               17

It may be expressed in terms of the list 2 3 5 7 11 13 17 as follows:
)
pd=: +`%   NB. Plus divide

pd/ 2 3 5 7 11 13 17

2 + 3 % 5 + 7 % 11 + 13 % 17
LABTITLE=: 'Function Tables'

NB. =========================================================
Lab Section INTRODUCTION

Tables are commonly used in mathematics, not only to organize such data as sines and logs, but, more interestingly, to provide insight, as in the addition and multiplication tables used in elementary school.

Computers now make it more convenient to compute results such as sines and logs than to consult tables, but also make it mor practicable to produce tables for purposes of elucidation and exploration.  This lab explores the use of tables for insight, using the programming language J.
)

v=: (0,1,2,3,4,5)

v + v         NB. Addition of vectors

v +/ v        NB. Addition table (/ is the table operator)

NB. The symmetry of its table suggests that addition is
NB. commutative

NB. =========================================================
Lab Section

Tables of other functions may be produced similarly. In particular, matrix inverse (denoted by %.) applied to the table of binomial coefficients gives the table of alternating binomial coefficients:
)

(v */ v) ; (v *./ v) ; (v -/ v)  NB. Times, lcm, and diff

binomials=: v !/ v     NB. Table of binomial coefficients
altbin=: %. binomials
X=: +/ . *             NB. The matrix product function

binomials ; altbin ; binomials X altbin

NB. =========================================================
Lab Section BORDERED TABLES

It is sometimes easier to read a function table if it is bordered by its arguments, and we now introduce an operator for this purpose called table. Thus:
)

a=: 2 3 5 7     NB. (=: may be read as "is" or "are")

b=: 0 1 2 3 4   NB. Exponents

a ^/ b          NB. Powers of primes

a ^table b      NB. Bordered table of powers

NB. =========================================================
Lab Section

We will sometimes use unadorned tables, which the reader may choose to border by hand or by computer.

We will also use tables in which fractions are represented as rationals, as for example 2r3 for two-thirds.
)

v (+table ,. -table ,. %table) v NB. Sum, Difference, Quotient

NB. =========================================================
Lab Section NEGATIVE ARGUMENTS

Multiplication tables for arguments that include negative integers are not commonly seen; they exhibit some simple, but interesting, properties:
)
- |. v

}.v

s=: (-|.v) , }.v        NB.Symmetric list

s

mt=: s */ s

mt

NB. Other functions provide interesting tables when
NB. applied to symmetric arguments. Thus:

s !table s

NB. Examples from earlier sections may provide further
NB. insights if the argument v is replaced by s.

NB. =========================================================
Lab Section AMBIVALENCE

In math, the symbol - is used ambivalently to denote subtraction when used dyadically (with two arguments), and to denote negation when used monadically. In J, all functions are ambivalent. In particular, * denotes multiplication when used dyadically, and signum when used monadically, as in the expression * mt below.

The tables mt and * mt show clearly that a zero row and a zero column divide the multiplication table into four quadrants, each of a common sign, providing a visual representation of the rule of signs used in products. Moreover, a vertical passage from one quadrant to another reverses the sign of the left argument and of the result, and horizontal passage reverses the sign of the right argument, facts that provide some justification for the rule.
)
mt=: s */ s

mt

* mt

NB. =========================================================
Lab Section COMPLETION

Functions are commonly completed by extending them to arguments not comprehended in their original definitions. For example, expressing the simple notions of squares and cubes
              2     3 in the forms x and x suggests the possible extensions to exponents that are negative, non-integral, zero, and complex; completions that provide both insight and power.

The similar completion of the factorial, in the gamma function, is a further familiar example. Completions are normally subjected to careful analysis to ensure that they fit smoothly into the original definitions. Consider, for example, the summation function, denoted in math by a capital Greek Sigma, and in J by +/, used monadically. Thus
)
+/2 3 5 7    NB. Sum over primes

2+3+5+7

i. 5         NB. First five non-negative integers

+/ i. 5

+/ i. 0

NB. =========================================================
Lab Section

The last example above concerns the case of an empty vector, a case not comprehended in the simple notion of inserting the function + between successive items in a list. The result in J is a zero, a completion that might appear to be "obvious".

But what is the rationale for the completions of the following functions?
)
*/ i.0          NB. Times on empty vector

<./ 3 2 5 7     NB. Minimum over

<./ i.0         NB. Minimum over empty vector (_ is infinity)

NB. The rationale may be illustrated as follows:

a=: 2 3 5 7 11

k=: 3

k{.a     NB. Take k items of a

k}.a     NB. Drop k items of a

(*/a) ; (*/k{.a) ; (*/k}.a) ; (*/k{.a) * (*/k}.a)

(*/a) = (*/k{.a) * (*/k}.a)    NB. A tautology

NB. =========================================================
Lab Section

For the case k=:0, the expression k{.a yields an empty vector, and the definition adopted for */i.0 extends the foregoing identity to this case, thus:
)
k=:0

k (*/@] ; */@{. ; */@}. ; */@{. * */@}.) a

NB. Similarly for the minimum function, whose neutral is
NB. infinity (denoted here by _):

(<./a) ; (<./k{.a) ; (<./k}.a) ; (<./k{.a)<.(<./k}.a)

NB. =========================================================
Lab Section

These results suggest (correctly) that the result of f/i.0 is the "identity element" or "neutral" of the function f, the neutral of f being that argument n for which n f x yields x for any argument x The case of the minimum function <. is particularly interesting, since infinity might well be DEFINED as its neutral.

Function tables can suggest the manner of completion of a function. For example, what value would you suggest for the blank entry (at 0 f 0) in order to complete the following function?

                     *
  +--+-------------------------+
  |  |   _3  _2   _1 0  1 2   3|
  +--+-------------------------+
  |_3|_1r27 1r9 _1r3 1 _3 9 _27|
  |_2| _1r8 1r4 _1r2 1 _2 4  _8|
  |_1|   _1   1   _1 1 _1 1  _1|
  | 0|    _   _    _    0 0   0| *
  | 1|    1   1    1 1  1 1   1|
  | 2|  1r8 1r4  1r2 1  2 4   8|
  | 3| 1r27 1r9  1r3 1  3 9  27|
  +--+-------------------------+

Obvious possibilities include _ and 0 and 1 and _. "indeterminate". Since this is a portion of the power table (^), and since some math texts insist that zero to the power zero is undefined, the indeterminate might suggest itself.

However, further analysis will suggest the value 1, used in J, for the following reasons:

                                           0    1    2
 Expressions for polynomials of the form c x +c x +c x
                                          0    1    2
and
         k
 SIGMA c x  would otherwise fail to evaluate properly for
         k

a zero argument x

2. If one argument is made to approach its limit as a function of the other (as in x^p x), and if p is any polynomial other than identically zero, then LHopitals Rule can be used to show that the indeterminate 0^0 must be 1.
)



NB. =========================================================
Lab Section

Again, suggest a completion for the following function table:

                    *
  +--+----------------------------+
  |  |  _3   _2 _1  0  1    2    3|
  +--+----------------------------+
  |_3|   1  3r2  3 __ _3 _3r2   _1|
  |_2| 2r3    1  2 __ _2   _1 _2r3|
  |_1| 1r3  1r2  1 __ _1 _1r2 _1r3|
  | 0|   0    0  0     0    0    0| *
  | 1|_1r3 _1r2 _1  _  1  1r2  1r3|
  | 2|_2r3   _1 _2  _  2    1  2r3|
  | 3|  _1 _3r2 _3  _  3  3r2    1|
  +--+----------------------------+

If this is recognized as part of the divide (%) table, the indeterminate might again be suggested. However, the pattern of the table clearly suggests 0, as consistent with the rest of the row and "midway between" the negative and positive infinities in the column. Moreover, the analysis by E.E. McDonnell in "Zero Divided by Zero", APL76, published by ACM, makes a strong case for the zero used in J.
)

NB. =========================================================
Lab Section COMMUTATION

The commute operator ~ commutes a function to which it is applied, to produce a related function with arguments interchanged. For example:
)
3 % 4

4 %~ 3

into=: %~

3 4 5 into 6 12 10

from=: -~

3 4 5 from 6 12 10

NB. A table of the function f~ is clearly the transpose
NB. of the table of f. For example:

i=: i. 5

i (-/ ; -~/ ; */ ; *~/ ; */ = *~/) i

NB. =========================================================
Lab Section

Whereas the tables -/ and -~/ differ, those for */ and *~/ agree. Such symmetry of a function table occurs for any commutative function. The table of the non-commutative subtraction is skew-symmetric, and the table of divide is also "skew" in the sense illustrated below:
)
  k=: 1 2 3 4

 st=: k -/ k        NB. Subtraction table

cst=: k -~/ k       NB. Commuted subtraction table

 dv=: k %/ k        NB. Divide table

cdv=: k %~/ k       NB.Commuted divide table

st ; cst ; st + cst

dv ; cdv ; dv * cdv

NB. The relations <, <: (less or equal), >, >:, =, and ~:
NB. (notequal) and their commutes also provide interesting
NB. function tables. For example:

s <:table s

NB. =========================================================
Lab Section MATRICES

The matrices represented by function tables provide interesting results. for example:
)
i=: 0 1 2 3 4

goe=: i >:/ i          NB. Greater or equal table

goe ; %. goe           NB. Greater or equal and its inverse

NB. =========================================================
Lab Section

The inverse matrix %. goe is a difference matrix, in a sense to be established. The matrix product function produces sums (+/) over the element-by-element products (*) of rows of the left argument with columns of the right. The function may be defined using the inner product or dot operator as follows:
)
X=: +/ . *      NB. The space before the dot is essential

goe X (%. goe)  NB. Product of inverses is an identity matrix

pr=: 2 3 5 7 11      NB. Primes

partials=: goe X pr  NB. Partial sums or subtotals

partials

(%. goe) X partials  NB. Differences of partial sums

NB. =========================================================
Lab Section

The binomial coefficients function !, whose table appears in the introduction, can also be construed as the "outof" function, as illustrated below:
)
outof=: !

3 outof 5

NB. The number of distinct ways of choosing 3 things from 5

5 outof 3

NB. The number of distinct ways of choosing 5 things from 3

NB. =========================================================
Lab Section

>From this it appears that the zeros in the binomial coefficients table are meaningful; nonetheless, they are normally suppressed (from the commuted table !~/) in the presentation of the triangle of Pascal, presumably in the interest of readability.

The result is that the triangle of Pascal does not represent a matrix, although the matrix represented by the table of binomial coefficients is eminently useful. For example:
)
   i=: 0 1 2 3 4 5

 bct=: i !/ i

abct=: %. bct  NB. Inverse is table of alternating binomials

bct ; abct

+/ bct         NB. The sums over the binomial coefficients

2^i            NB. are the powers of two 1 2 4 8 16 32

+/ abct        NB. The sums over the alternating binomials

NB. This last result is sometimes mis-stated (as in the
NB. National Bureau of Standards Handbook of Mathematical
NB. Functions, page 10) as identically zero.

NB. =========================================================
Lab Section

The "expansion" of the coefficients of a polynomial is easily stated as a matrix product with a binomial coefficients table. For example:
)

c=: 4 0 1 3 2 1

x=: i.8
x

c p. x              NB. Polynomial with coefficients c

d=: bct X c         NB. Expanded coefficients

d

d p. x

c p. x+1

abct X d            NB. Inverse restores coefficients

e=: abct X c
e

e p. x

c p. x-1

NB. =========================================================
Lab Section POWERS

The  term power is commonly used for the function denoted in
.               n
mathematics by x , and in J by x^n, i.e. using the symbol ^ introduced for this purpose by de Morgan. But the term is also used for the operator ^:, with f^:n signifying n applications of the monadic function f.
.                     2
Note that in math sin  does not denote two applications of the sine function. The relation between the two notions may be visualized by construing the power function as repeated application of multiplication. Thus:
)
2^3 8

2*2*2 8

*/2 2 2 8

*/3#2        NB. Product over three copies of two 8

NB. Although the definition as repeated multiplication
NB. does not comprehend the case of a zero exponent,
NB. the completion is correctly provided by the neutral
NB. of multiplication. Thus:

*/0#2

2^0

NB. =========================================================
Lab Section

The uniformity of the completion for zero and negative arguments may be seen in the following results, wherein passing from the exponent k to k+1 multiplies the result by 5, while passing from k to k-1 divides it by 5:
)
s=: 4 -~ i.9

s

5^s

NB. =========================================================
Lab Section

We will illustrate the use of the power operator ^: on the function f=: bct&X, which is "the matrix product with left argument bct". Thus, using the values of bct and c from the section on MATRICES:
)

i=: 0 1 2 3 4 5

bct=: i !/ i

c=: 4 0 1 3 2 1

X=: +/ . *

f=: bct&X

f f c

c2=: f f c

c2 p. x

c p. x+2


NB. The operator ^: produces a power of its function left
NB. argument, or a collection of powers:

f ^: 2 c

f^: 0 1 2 3 4 c

NB. =========================================================
Lab Section

The powers of f are more interesting when applied to an identity matrix:
)
I=: i =/ i

] powers=: f^: 0 1 2 3 I

NB. =========================================================
Lab Section

It is interesting to examine these matrices to see if they form a recognizable pattern. They do indeed, but the pattern is easier to spot if each is divided (element-by-element) by the binomial coefficient table bct. Thus:
)
powers %"2 bct

NB. Rank-2 divide applies to each rank-2 item (each matrix)

NB. =========================================================
Lab Section

The original result can be produced by the following expression, which makes no use of the matrix product, and could therefore apply for non-integer values as well:
)
bct (*"2) 0 1 2 3 (^"0 2)  0 >. i -~/ i

NB. =========================================================
Lab Section

We will now use the power operator to produce a table of binomial coefficients. If c is the vector of binomial coefficients of order 3, coefficients of order 4 may be obtained from it as follows:
)
c=: 1 3 3 1

0,c

c,0

(0,c)+(c,0)

NB. This process may be embodied in a function as follows:

next=: 0&,+,&0

next c

p=: i.6

next ^: p 1

NB. =========================================================
Lab Section PATTERN SPOTTING

Pattern-spotting may be greatly aided by computer calculations, as illustrated by the emergence of a pattern in the matrix-product-powers of the binomial coefficient table bct under element-by-element division by bct itself.

We will now suggest a few general tools. Try to discern patterns in the following lists, and then examine the subsequent calculations on them:
)
a=: 2 1 2 2 4 2 4 2 4 6 2 6 4 2 4 6 6 2 6 4

b=: 2 5 10 17 28 41 58 77 100 129 160 197 238 281 328 381 440 501 568 639

c=: 2 _1 1 0 2 _2 2 _2 2 2 _4 4 _2 _2 2 2 0 _4 4 _2

sum=: +/\         NB. Subtotals

dif=: sum^:_1     NB. Differences are inverse of subtotals

sum a

dif b

sum sum c

NB. =========================================================
Lab Section

The compact, organized, display of groups of tables can also be helpful. Consider, for example, the table of powers used in an earlier section:
)
bct=: i !/ i

I=: i =/ i

X=: +/ . *

f=: bct&X

powers=: f^: 0 1 2 3 I

box=: <"2    NB.Box rank-2 arrays (matrices)

box powers

2 2 $ box powers

NB. =========================================================
Lab Section CONTINUED FRACTIONS

The expression:

   3 + 1
       -
       7 is commonly used as an approximation to pi. An even better approximation is given by:

   3 + 1
       -
       7 + 1
           -
           15 + 1
                -
                1

Such an expression is called a continued fraction, and can be completely characterized by the list of integers, in this case, 3 7 15 1. In J it might be evaluated as:
)
3 + 1 % 7 + 1 % 15 + 1 % 1

NB. Using the reciprocal (monadic %) it may be written
NB. more simply:

3 + % 7 + % 15 + % 1

NB. =========================================================
Lab Section

Using reduction by a hook it may be written as a function of the integer list:
)
cf=: (+%)/

cf 3 7 15 1

cf\ 3 7 15 1

NB. =========================================================
Lab Section

The final expression above uses the scan operator \, used previously to give partial sums, to give all the convergents. The following examples, taken from the MAA publication by C.D. Olds [3], give results that will perhaps be recognized:
)
cf\ 1 1 1 1 1 1 1 1 1

cf\ 1 2 2 2 2 2 2

cf 3 , 3 6 , 3 6 , 3 6

cf 5 , 2 1 1 2 10

%: 2 11 29

gm=: 1.61765      NB. Approximation to the Golden Mean

gm * gm -1

NB. =========================================================
Lab Section

A process for deriving a continued fraction expansion will be illustrated by the case of pi:
)
]x =: o. 1

]x=: 3 , % 0.14159

]x=: 3 7 , % 0.06265

]x=: 3 7 15 , % 0.9617

]x=: 3 7 15 1 , % 0.03983

NB. An expansion function may therefore be defined and used
NB. as follows:

cfex=: }: , <.@{: , 1: % {: - <.@{:

cfex pi=: o.1

cfex cfex pi

cfex ^: 0 1 2 3 4 5 6 pi

NB. =========================================================
Lab Section EVOLUTES

The table e=: 3 3 $ 6 5 4 7 0 3 8 1 2 is an example of a spiral or evolute, which can be rolled clockwise like a (rectangular) snowball, accreting successive integers to form a larger spiral. Thus:
)
] e=: 3 3 $ 6 5 4 7 0 3 8 1 2  6 5 4 7 0 3 8 1 2

stick=: ] , >:@i.@{:@$ + >./@,

roll=: |:@|.

snow=: roll@stick ^:2

stick e

roll stick e

(] ; snow ; snow^:2 ; snow^:4) e

NB. =========================================================
Lab Section

The spirals having an even number of sides are necessarily lop-sided, and we will concentrate on the following 5-by-5 table:
)
]spiral =: snow^:2 e

NB. =========================================================
Lab Section

It should be possible to use the pattern shown in the table as a guide in defining a more direct solution to the generation of a spiral.

In his paper on Volutes in Vector, Vol 13 # 2, E.E. McDonnell analyzes solutions by six different authors, including one in Concrete Mathematics by Graham, et al. One interesting approach is to ravel the table to produce a permutation vector which can then be used to permute the list i. 25, and finally reshape the result into a table:
)
perm=: ,spiral

perm

5 5 $ perm { i. 25

NB. =========================================================
Lab Section

Of course, the problem of how to generate this permutation remains, and forms the bulk of the discussion of McDonnell. He remarks that there are sixteen related spirals: zero to three rolls produce tables that "end" at four different corners; reversal (|.) reverses the sense to produce a clockwise spiral, and subtraction, i.e. from 24 in the case of the 5-by-5 table, produces an involute. Examples of each case, and all cases, are produced as follows:
)
box=: <"2       NB. Box rank-2 arrays (matrices)

box spiral , (|.spiral) , (roll spiral) ,: (24-spiral)

invol=: */@$ - 1: + ]       NB. Involute from evolute

all=: invol^:0 1"2@(|.^:0 1"2)@(roll^:0 1 2 3)

$ all spiral

$ box all spiral

$ , box all spiral

4 4 $ , box all spiral

NB. =========================================================
Lab Section COMPLEX NUMBERS

In mathematics, complex numbers are written in the form 3+4i, where i denotes the "imaginary" square root of negative 1. In J they are treated as follows:
)
]i=: 2 %: _1

3 + 4 * i

j. 4

3 j. 4

%: _1                  NB. Primitive third root of _1

r=: %: & _1

,. r a=: 2 3 4 5 6     NB. Some primitive roots of _1

NB. =========================================================
Lab Section

Since the nth power of r n is _1, the 2*nth power is 1, and powers therefore repeat in cycles of 2*n This is illustrated by the left panel of the following table.

The middle panel shows the real and imaginary parts that result from the function +., and the right panel shows them in a more readable form, formatted to 7 spaces per column, with 3 digits following the decimal point:
)
t=: (r 3) ^ i. 8

(,. ; +. ; 7j3&":@+.) t

NB. =========================================================
Lab Section

The even powers in this table form a significant pattern, which may be more easily recognized in the formatted table for the cases of 2, 3, 4, and 6:
)

poly=: 7j3&": @ +. @ (r ^ +:@i.)"0

<@poly 2 3 4 6

NB. =========================================================
Lab Section

The list of all 2*n distinct powers of the nth root of _1 provides interesting results when used as argument in function tables for product and quotient. For example:
)

r=: %:&_1

all=: r ^ i.@+:

a3=: all 3

a3

t=: a3 */ a3       NB. Times table

d=: a3 %/ a3       NB. Divide table

t

(1=t) ; (_1=t) ; (1=d) ; (_1=d)
LABTITLE=: 'Shapley Value on Old Macdonald''s Farm'
LABAUTHOR=: 'Richard L.W. Brown'

NB. =========================================================
Lab Section Introduction
The program given in this lab computes the Shapley value for each player in an n-person cooperative game.

The program makes use of an array of rank n, this means the J-rank: a vector has rank 1 and a matrix has rank 2, and illustrates the utility of high-ranked arrays. It also makes fundamental use of the dyadic transpose. These features of J are so natural to the problem that a very short and elegant program results.
)

NB. =========================================================
Lab Section n-person cooperative games
Old Macdonald had a farm. But for the farm to earn money, workers are needed.

Workers W1 and W2 are available. With W1, the farm can earn $95,000.  With W2 it can earn $80,000.  With both W1 and W2 it can earn $145,000. Without Old Macdonald, W1 can work in the city for $25,000, W2 can work in the city for $20,000. And if both W1 and W2 work in the city then their earnings will be the sum of their individual earnings which is $45,000.

Suppose they both work on the farm.  How much should Old Macdonald get and how much should each worker get?
)

NB. =========================================================
Lab Section
The problem of Old Macdonalds Farm is an example of a cooperative n-person game for n=3.  The players are M, W1, and W2.

In general, for an n-person game, we are given the value that each coalition of players can get and that defines a function v from subsets of the set of players to the real numbers.  In the Old Macdonald example, v({M,W1,W2}) = 145, v({M,W1}) = 95, and so on. We assume v(empty set) = 0.

Thus for n players we have 2^n given numbers.  In the Old Macdonald example there are 2^3 = 8 numbers.

The Shapley Value (due to Lloyd Shapley) is a formula that assigns to each player a "fair" value. Consider Player i.

Let S be a coalition that does NOT contain Player i. Then the difference  v(S+{i}) - v(S) measures the amount that Player i brings by joining S to form S+{i}.  The Shapley value to Player i is a weighted average of all such contributions.
)

NB. =========================================================
Lab Section The Shapley Value
The Shapley value can also be presented as the unique solution to a set of axioms of "fairness". And it can be presented as the unique equilibrium solution of a system of objections balanced by counterobjections.]

However the Shapley value is presented, the following formula results for the value to Player i:

     xi = (sum over S, i not in S) c(S)[v(S+{i})-v(S)]

where if |S| = s then c(S) = (n-s-1)!s!/n!

To implement the formula in J, there are two KEY STRATEGIES:

1. We will store the v(S) data in an array of rank n In
   fact the v-array will have shape (2 by 2 by ... by 2)
   with n axes, the index for each axis being either 0 or 1. 2. We will write the program to find the Shapley Value for
   the first player only.  Later we handle all the other
   players by permuting the players and hence permuting the
   axes of the array v using dyadic tranpose.
)

NB. =========================================================
Lab Section
For the Old Macdonald example, the array v is shown below.

Note that the array is displayed as two 2 by 2 matrices.  The first matrix corresponds to the first index being 0 and that means coalitions WITHOUT Old Macdonald. In that matrix, the first row is without W1 and the first column is without W2. The second matrix gives all four coalitions WITH the Old Macdonald.
)
v =: 2 2 2 $ 0 20  25 45    0 80  95 145
v

NB. =========================================================
Lab Section
To RETRIEVE just one entry in the array v, you must use a suitable index-triple IN A BOX and use "{".  Some examples are shown below.  You can use "<" to box an index triple or, for several triples, you can use ";" as shown below.

Similarly, to MODIFY an entry, use "}" instead of "{".
)
(<1 0 1){v          NB. v({M,W2})
(0 1 1;1 1 0){v     NB. v({W1,W2}), v({M,W1})
120 (<1 1 1)}v      NB. new v with 120 for v({M,W1,W2})

NB. =========================================================
Lab Section
Now for the Shapley value program.  To compute all the contributions of the first player, we must subtract the 0-item of the array v from the 1-item.  This can be done with the expression "- -/v" (the negative of -/v) or with the expression "-~/v", minus-commute/v

We call this part of the program "dv" and write it below:
)
dv =: -~/      NB. the program to compute v(S+{i})-v(S)
dv v           NB. example of the program

NB. =========================================================
Lab Section
To finish the program, we multiply by the cofficients c, ravel the array into a vector using "," and sum using "+/".

Thus we get the program for the Shapley Value of the first player which we call "sh1". See below.

But do  not test it yet!  We have not defined c.
)
PREPARE
4!:55 <'c'
PREPARE
sum =: +/
ravel =: ,
of =: @
sh1 =: sum of ravel of (c*dv)

NB. =========================================================
Lab Section
To define the coefficients c we will need n and s and the quotient (n-s-1)!s!/n!.  The last expression is the reciprocal of the following quantity:

   n times the binomial coefficient (n-1)-choose-s

In J, (n-1)-choose-s is "s!(n-1)".

 n is the number of entries in the shape of v
 s (sizes of sets) is an addition table using the dyadic
   version of +/ over an array of zeros and ones.
)
n =: # of $             NB. number of shape
n1 =: n-1:              NB. n-1
s =: +// of (0:,.n1#1:) NB. array of set sizes, |S|
c =: % of (n*(s!n1))    NB. coefficients
sh1 v                   NB. Shapley Value for landlord

NB. =========================================================
Lab Section
Now we create a dyadic function "sh" whose left argument is a player i (i is an integer 0 to n-1) and whose right argument is the array v

We use dyadic transpose "|:" to push the axes 0, 1, ... (i-1) to the end thus making i the first axis. This permutation of axes is "p" below.

Then we use the rank conjunction " so the left argument can be list of players, instead of just one player. Thus e give the function 0 left rank and infinite right rank. We also compile sh into J-primitives using "f." to give the program better performance.
)
p =: i.@[|:]              NB. permute players
sh =: (sh1 of p "0 _) f.  NB. Final Shapley Value function
0 1 2 sh v                NB. values for all 3 players

NB. =========================================================
Lab Section
Thus Old Macdonald gets $55,000, worker 1 gets $50,000, and worker 2 gets $40,000.

The sum is $145,000 which is the total amount the farm earns.
)
LABTITLE=: 'Iteration and the Power Operator'

NB. =========================================================
Lab Section ITERATION

The repeated application of a function, such as doubling or halving, is called iteration. For example:
)
x=: 3

+: x

+: +: x

+: +: +: x

-: x

-: -: x

NB. =========================================================
Lab Section POWER OPERATOR

The power operator ^: can be used to produce any specified number of iterations. For example:
)
+:^:2 x

+:^:3 x

+:^:0 1 2 3 4 x

i=: 0 1 2 3 4

+:^:i x

v=: 3 4 5

+: v

+:^:i v

NB. =========================================================
Lab Section

We will illustrate the use of the power operator on other functions, including the square (^&2), subtotals (+/\), and permutations or anagrams (k&A.) .

Further information on any of these expressions may be found by pressing the function key F1 to display the vocabulary, and then clicking the mouse on the desired item:
)
^&2 ^: i i

+/\ ^: i i

3&A.^: i i

3&A.^: i 'ABCDE'

NB. =========================================================
Lab Section

The larger powers in the table ^&2 ^: i i appeared in "scientific" or exponential form. Such large numbers may be produced in "extended precision" as illustrated below:
)
!! i

!! x:i

^&2 ^: i x:i

NB. =========================================================
Lab Section BINOMIAL COEFFICIENTS

A table of binomial coefficients is often presented as a triangle (Pascals triangle) by suppressing the zeros that result from the number of ways that n elements can be chosen from a lesser number of items. Thus:

 1
 1 1
 1 2 1
 1 3 3 1
 1 4 6 4 1

A row of these coefficients can be simply obtained from the preceding row, as illustrated below:
)
r2=: 1 2 1

0,r2

r2,0

(0,r2)+(r2,0)

NB. =========================================================
Lab Section

A function for this process may be defined and iterated as follows:
)
next=: 0&, + ,&0

next r2

next 1

next next 1

bct=: next ^: i 1

bct

NB. =========================================================
Lab Section

The operations of matrix algebra can be applied to this matrix of binomial coefficients in useful and interesting ways, as developed in a companion lab. For example, the inverse yields a table of alternating binomial coefficients:
)
abct=: %. bct

abct

mp=: +/ . *       NB. Matrix product

bct mp abct

NB. =========================================================
Lab Section NEGATIVE POWERS

Negative powers of a function yield powers of its inverse. For example:
)
+: ^: _1 i

+: ^: _2 i

+/\ ^: i i

+/\ ^: (-i) 0 1 6 21 56

NB. =========================================================
Lab Section LIMITS

An iteration may approach a limiting value such that further applications of the function produce no discernible change. The cosine applied to 1 has such a property:
)
Cos=: 2&o.

0 1r4p1 1p1 3r4p1 2p1            NB. Multiples of pi


Cos 0 1r4p1 1p1 3r4p1 2p1

i=: 0 1 2 3 4

Cos^:i 1

k=: i.4 5

k

Cos^: k 1

y=: Cos^: _ (1)

y

Cos y

y=Cos y

NB. =========================================================
Lab Section

Since _ denotes infinity, the expression Cos ^: _ signifies an infinite number of iterations, but terminates automatically when two successive results agree. Consequently, the result y agrees with Cos y, and is therefore a solution of the equation expressed by the final line.
)
LABTITLE=: 'Best Fit'
LABAUTHOR=: 'Richard L.W. Brown'
LABCOMMENTS=: 0 : 0
This lab is based on an article in the Computer Corner
section of The College Mathematics Journal:

Helen Skala, Will the Real Best Fit Curve Please Stand Up?
             College Math. J. Vol. 27, May 1996
)

NB. =========================================================
Lab Section Best Fit to a Monomial
This lab is based on an article [1] in the Computer Corner section of The College Mathematics Journal.

The article deals with two methods of fitting a curve of the form y = f(x) = ax^k to a set of data points using least squares.

The original article has numerical examples done with the Mathematica computer package.

In this lab we show how to do the computations using the J programming language.

[1] Helen Skala:  "Will the Real Best Fit Curve
                  Please Stand Up?"
                  College Math. Journal
                  Vol. 27, May 1996
)

NB. =========================================================
Lab Section Two Methods
Given a set of data points S = {(x_i,y_i) | i=1,...,n}, we wish to fit a curve y = f(x) = ax^k.  What are the best values of a and k?  We will select a and k to satisfy a least squares condition.

Method 1: linear least squares on the logs of the data Because  log y = log a + k log x, we can try to fit the logs of the data to a straight line with equation y = b + mx where b = log a and m = k. The least squares problem is:

    minimize sum_{i=1 to n}(b + k log x_i - log y_i)^2

Method 2: nonlinear least squares on the original data

    minimize sum_{i=1 to n}(f(x_i) - y_i)^2

where f(x) = ax^k
)

NB. =========================================================
Lab Section Method 1:
Let the given data be

  vx =   1,   2,    3,    4,    5,    10,    20
  vy = 6.1, 9.2, 14.1, 21.2, 30.3, 105.1, 405.2

Compute the logs. We will use the same notation as the article and store the logs in variables xlg and ylg.

[The logs are computed below.  You can display the results by typing xlg or ylg.  Try it! Then ...]
)
vx =: 1 2 3 4 5 10 20
vy =: 6.1 9.2 14.1 21.2 30.3 105.1 405.2

log =: ^.   NB. Give the natural log function the name log
xlg =: log vx
ylg =: log vy

NB. =========================================================
Lab Section
The formulas for linear least squares are well known. They are quoted in the article and then programmed in Mathematica.

Here is the J version: [see below]

Thus the best monomial fit is y = 3.74x^1.44 [see below]
)
e =: ^ 1   NB. e = exp(1) is Euler's number
n =: #vx    NB. n is the number of data points
num =: (+/xlg*ylg)-(+/xlg)*(+/ylg)%n  NB. +/ is summation
den =: (+/xlg*xlg)-((+/xlg)^2)%n      NB. % is division
[k =: num%den
b =: ((+/ylg)-k*(+/xlg))%n
[a =: e^b

NB. =========================================================
Lab Section
To check the quality of the fit, we can calculate the points predicted by the curve

   yp = ax^k

and then sum of squares of the errors

   yp-vy

The value, over 15,000, is quite large. [see below]

At any time, you can interact with the lab. For example, to see the predicted values just type

   yp

To see a list of the errors, type

   yp-vy
)
yp =: a*vx^k
+/(yp-vy)^2

NB. =========================================================
Lab Section Shortcut for Method 1:
J has a built-in linear least squares facility which we can use as an alternative to the formulas given above.

Consider the matrix equation AX = B where A and B are given matrices and X is an unknown matrix.  If A is a square nonsingular matrix then X = A^(-1)B.  In J, the above computation of X from A and B would be written as

   X =: B %. A

and the operation "%." is called "matrix divide".  More generally, if A has more rows than columns then B %. A is the least squares best approximation to a solution X of AX = B.

With the use of matrix divide we can get a useful shortcut in method 1.
)

NB. =========================================================
Lab Section
In our case, we have n equations of the form

         (1)b + (log x_i)k = y_i

in the two unknowns b and k.  Thus to apply matrix divide:

    A = [1, log x_i],   X = [b k],   and B = [y_i]

[The J code is shown below. Note that we get the same values for a and k that we had previously obtained.]
)
A =: 1,.xlg
'b k' =: ylg %. A
[a =: e^b
k

NB. =========================================================
Lab Section Method 2:
For the nonlinear least squares version, we cannot rely on standard formulas; but we can minimize using calculus.

We regard the sum of squares as a function of two variables, a and k.  To minimize this function, we set the partial derivatives with respect to a and k equal to zero.  This gives two equations for the two unknowns a and k.

In the article, the first equation i.e. from the partial with respect to a, is solved algebraically for a in terms of k. The resulting expression is plugged into the second equation to give a single equation for k.  This equation is then solved numerically using the Mathematica program FindRoot. Below is the J version for this approach.
)

NB. =========================================================
Lab Section
First we create a program FindRoot, an implementation of Newtons Method in J.  Newtons Method applied to f involves iterating the function

   N(x) = x - f(x)/f'(x)

starting with an initial approximation x0 to the root.  Thus for some power p,

   N^p(x0)

is an acceptable approximation to the root.

In J, a function f is called a "verb". We define an "adverb" "Nwtn" that modifies f so that "f Nwtn" is the function N.

We then iterate an infinite number of times. J will automatically stop the iteration when successive approximations agree to machine tolerance.
)
Nwtn =: adverb def 'y - (u y)%(u D.1 y)'
   NB. f Nwtn x   does one iteration of Newtons method
   NB. y represents the right argument x
   NB. u represents the left argument f
   NB. D.1 is first derivative
FindRoot =: adverb def 'u Nwtn ^: _'
   NB. ^: is power of a function (iteration)
   NB. _ is the 'number' infinity

NB. =========================================================
Lab Section
Next we define the function f according to the formula developed in the article.  We want to solve f(k) = 0.

We run the FindRoot procedure starting at 2, i.e. as was done with Mathematica in the article.  The best fit curve is y = 1.36x^1.90 and the error criterion is 66.5 which is much better than the result of method 1. [See below]
)
f =: verb define
k =. y  NB. y is the argument of f, renamed (local) to k
c =. ((+/vy*vx^k)%(+/vx^(2*k)))*vx^k
+/(c-vy)*c*xlg
)

[k =: f FindRoot 2
[a =: (+/vy*vx^k)%(+/vx^2*k)
yp =: a*vx^k
+/(yp-vy)^2

NB. =========================================================
Lab Section Shortcut for Method 2:
The article solved the nonlinear least squares problem by a mixture of algebraic work and numerical computer code. The purpose of the algebra was to reduce two equations in two unknowns to one equation in one unknown.

It is possible to solve the problem directly on the computer by applying the Newton-Raphson method to the pair of equations.  The only change necessary in the FindRoot program is to replace % (divide) by %. (matrix divide) in the Nwtn adverb.  The details are shown below.
)
Nwtn =: adverb def 'y - (u y)%.(u D.1 y)'
  NB. f D.1 is a vector of partial of partial derivatives
  NB. f D.1 D.1 is Hessian matrix of partial derivatives
f =: verb define
'a k' =. y
yp =. a*vx^k
+/(yp-vy)^2
)

['a k' =: f D.1 FindRoot 1 2

NB. =========================================================
Lab Section Some Limitations:
We have presented FindRoot as an implementation of Newtons Method.  Unfortunately, Newtons Method (especially the higher dimensional version) is very sensitive to the initial approximation.  For example, the statement

   ['a k' =: f D.1 FindRoot 3 2

will not converge to finite values.

We will not go into the general topic of algorithms for solving systems of nonlinear equations; but there is a simple modification of Newtons Method that helps us - we can reduce the step length of Newtons Method. This makes it slower but more stable.

Let alpha be a parameter between zero and one. For alpha=1 we have the normal step length; for alpha=0.5 the step length is halved.
)
alpha =: 0.2
Nwtn =: adverb def 'y - alpha*(u y)%.(u D.1 y)'
  NB.   Search for the nonlinear solution starting
  NB.   at the 'linear' solution found in Method 1
['a k' =: f D.1 FindRoot 3.7 1.4
LABTITLE=: 'The Tower of Hanoi'
LABAUTHOR=: 'Roger Hui'
LABWIDTH=: 51

NB. ===============================================
Lab Section The Problem
The Tower of Hanoi problem is to move a set of n
different-sized disks from one peg to another,
moving one disk at a time, using an intermediate
peg if necessary.  At all times no larger disk may
sit on top of a smaller disk.

For example, moving 3 disks from peg 0 to peg 1
can be done as follows:

 move disk 0 from peg 0 to peg 1
 move disk 1 from peg 0 to peg 2
 move disk 0 from peg 1 to peg 2
 move disk 2 from peg 0 to peg 1
 move disk 0 from peg 2 to peg 0
 move disk 1 from peg 2 to peg 1
 move disk 0 from peg 0 to peg 1

The description of the moves can be shortened if
we observed that in moving a disk from peg A to
peg B, it is always the top disk on peg A that
is moved.  Thus the 3-disk problem can be solved
as follows:

 0 1
 0 2
 1 2
 0 1
 2 0
 2 1
 0 1

Legend has it that a group of priests has been
solving the 64-disk problem since the beginning
of time, and when they finish, the world will
come to an end.
)

NB. ===============================================
Lab Section An Initial Solution
There is a simple recursive solution to the n-disk
problem:  First, move disks 0 to n-2 from peg 0 to
peg 2, then move disk n-1 from peg 0 to peg 1,
then move disks 0 to n-2 from peg 2 to peg 1.
If there is just one disk, the one disk can be
moved from peg 0 to peg 1 straightaway.

This can be implemented as a dyadic verb: the right
argument is the number of disks; the left argument
are 3 integers of the pegs (from, to, via).
)
H=: 4 : 0
 if. 1>:y do.
  (y,2)$x
 else.
  ((0 2 1{x) H y-1), (2{.x), ((2 1 0{x) H y-1)
 end.
)

0 1 2 H 3

NB. ===============================================
Lab Section
From the definition of H, it is easy to see that
the n-disk problem requires <:2^n moves.  If n=1,
there is one move (1=<:2^1).  If n=k-1 required
<:2^k-1 moves, then n=k requires the following
numbers of moves:

 <:2^k-1    ((0 2 1{x) H y-1)
 1          (2{.x)
 <:2^k-1    ((2 1 0{x) H y-1)

for a total of <:2^k moves.  A similar argument
shows that the n-disk problem requires <:2^n calls
of the verb H .
)
0 1 2 #@H"1 0 i.10
<: 2 ^ i.10

NB. ===============================================
Lab Section Singly Recursive Solutions
The two recursive steps in H differ only in the
labelling of the pegs. Therefore we can replace
them with a single recursive call, and do two
relabellings of the pegs to get the effect of two
recursions.  That is verb H1 below.

Moreover, in verb H1 the left argument is unchanged
in the recursion; that is, the left argument is
always 0 1 2, and can be elided.

We saw previously that on the n-disk problem the
doubly recursive H required <:2^n calls.  In the
singly recursive H1 and H2, the n-disk problem
requires n calls.  Benchmarks on the 10-disk
problem demonstrate the difference this makes.
)
H1=: 4 : 0
 if. 1>:y do.
  (y,2)$0 1{x
 else.
  ({&0 2 1 , 0 1"_ , {&2 1 0) x H1 y-1
 end.
)

H2=: 3 : 0
 if. 1>:y do.
  i.y,2
 else.
  ({&0 2 1 , 0 1"_ , {&2 1 0) H2 y-1
 end.
)

0 1 2 (H -: H1)"1 0 i.10
(0 1 2&H -: H2)"0 i.10

ts=: 6!:2 , 7!:2@]   NB. time and space
ts '0 1 2 H 10'
ts '0 1 2 H1 10'
ts 'H2 10'

NB. ===============================================
Lab Section Non-Recursive Solutions
We now proceed to derive non-recursive solutions
to the problem.

The results of verbs H, H1, and H2 are rows of the
6-row matrix A (the 6 different ways of moving from
peg i to peg j where i and j can be 0, 1, or 2).
Thus a more efficient representation for the
solutions is to encode the moves as row indices
of A, the integers from 0 to 5.
)
A=: 6 2 $ 0 1 0 2 1 0 1 2 2 0 2 1
A

A i. H2 1
A i. H2 2
A i. H2 3
A i. H2 4
A i. H2 5

NB. ===============================================
Lab Section
Judicious alignment of the indices reveals a pattern:

 1:   0
 2: 1 0 5

 2:   1   0   5
 3: 0 1 3 0 4 5 0

 3:   0   1   3   0   4   5   0
 4: 1 0 5 1 2 3 1 0 5 4 2 5 1 0 5

 4:   1   0   5   1   2   3   1   0   5   4   2   5   1   0   5
 5: 0 1 3 0 4 5 0 1 3 2 4 3 0 1 3 0 4 5 0 4 3 2 4 5 0 1 3 0 4 5 0

To get from  A i. H2 n-1  to  A i. H2 n , merge
(intersperse) the result for n with 1 5 2 if n is
even and with 0 3 4 if n is odd.  Thus:
)
H3=: 3 : 0
 if. 1>:y do.
  y$0
 else.
  }: , ((2^y-1)$(2|y){1 5 2,:0 3 4) ,. 0,~H3 y-1
 end.
)

H3 3
(A i. H2 3) -: H3 3
(A&i.@H2 -: H3)"0 i.10

NB. ===============================================
Lab Section
H3 n works by appending an atom to the result of
H3 n-1 ; then stitching a list, repetitions of
1 5 2 or 0 3 4; then ravelling; then dropping the
last (previously appended) atom.

The list of numbers to be stitched (repetitions of
0 3 4 or 1 5 2) depends only on n, and on H3 n-1
not at all.  This suggests a different method of
directing the computation:  Compute the lists xi
of numbers to be stitched for 1, 2, 3, ..., up to n,
and then apply an appropriate verb f between them:

 xn f ... f x3 f x2 f x1
 > f&.> / xn ; ... ; x3 ; x2 ; x1

Moreover, we can avoid incorporating into f the
appending and dropping of atoms, if we start out
with an "extra" atom and drop it only at the end:

 > f&.> / xn ; ... ; x3 ; x2 ; x1
 }: > g&.> / xn ; ... ; x3 ; x2 ; x1 ; atom

In H4 below, the verb g is ,@,. (ravel stitch).
)
H4 =: }: @ > @ (,@,.&.>/) @ (< ,~ 2&^@i. $&.>&|. $&(0 3 4;1 5 2))

(H3 -: H4)"0 i.10

arg=: < ,~ 2&^@i. $&.>&|. $&(0 3 4;1 5 2)
arg 1
arg 2
arg 3
arg 4
arg 5

NB. ===============================================
Lab Section
There is another possibility. The pattern in H4 is:

 }: > g&.> / xn ; ... ; x3 ; x2 ; x1 ; atom

In an intermediate stage, when g is being applied,

 xi g yi

g "knows" from yi alone what xi has to be:
the length of yi determines the length of xi,
and the leading atom of yi (0 or 1) determines
whether 1 5 2 or 0 3 4 should be ravel-stitched.
This suggests another solution: a monad is applied
n times to the atom 1.
)
H5=: [: }: (,@,.~ # $ {. { (1 5 2,:0 3 4)"_)^:(]`1:)

(H4 -: H5)"0 i.10

rsa=: ,@,.~ # $ {. { (1 5 2,:0 3 4)"_
rsa 1
rsa rsa 1
rsa rsa rsa 1
rsa^:(3) 1
H5 3

NB. ===============================================
Lab Section Conclusion
The Tower of Hanoi problem can be solved in a
variety of ways, with a wide variation in efficiency.

 H   double recursion
 H1  single recursion
 H2  single recursion monad
 H3  single recursion, atomic representation
 H4  non-recursive, insert
 H5  non-recursive, power
)
0j8 0 ": ts;._1 '/0 1 2 H  10/0 1 2 H1 10/H2 10/H3 10/H4 10/H5 10'
LABTITLE=: 'Sequential Machines'
LABAUTHOR=: 'Roger Hui'
LABCOMMENTS=: 0 : 0
Initial Writing: 2004-02-20
Last Updated: 2004-03-10
)
LABWRAP=: 0

NB. =========================================================
Lab Section Introduction

x;:y implements a sequential machine (finite state machine,
finite state automaton).   x is the specification of a
machine, including the state transition table, and y is the
input.  A sequential machine solves the problem of
recognizing the "words" in the input.  The machine starts in
some initial state and processes the input one item at a time.
Given the current state and input item, the new state and
output are determined by the state transition table.  The
machine then proceeds to the next input item.
)

NB. =========================================================
Lab Section

x=.f;s;m;ijr  is a boxed list of the specifications for a
machine.

f is a function code.  m is an input mapping.  ijr are the
initial settings.  ijr or both m and ijr may be elided.

s is a state transition and output table ("state table" for
short).  s is actually a 3-dimensional array with shape
(p,q,2) where p is the number of states and q is the number
possible mapped inputs.  However, it is convenient to speak
of s as a p by q table of pairs.  The pairs are 2 integers
denoting the new state and the output code.

The arguments are described in greater detail in later
sections of this lab.
)

NB. =========================================================
Lab Section Example: Cut

The following example mimics the functionality of the monad
<;.1 (cut).  The space specifies a cut point, and each cut
(word) is boxed.

The input mapping is ' '=a. -- the space character is mapped
to 1 and other characters are mapped to 0.

The state table has 2-columns (2 possible mapped inputs) and
2 rows.

Column 0 is for "other" (non-space) and column 1 is space.

Row 0 is the initial state.  The sequential machine persists
in this state until a space is scanned.  When that happens,
a new word is started and then it goes into and remains in
state 1.  In state 1, if a non-space is scanned, there is no
output; if a space is scanned, the current word is output
and a new word begins.  At the end, the then current word is
output.

Can you define a sequential machine such that the space is
excluded from the word?
)

sc=: 2 2 2$ 0 0  1 1  1 0  1 2  NB. state table
<"1 sc
y=: ' fourscore and seven years ago, our fathers'
(0;sc;' '=a.) ;: y
(0;sc;' '=a.) ;: 'junk@front zero  two'

NB. =========================================================
Lab Section

A benchmark comparing the sequential machine and the cut
primitive demonstrates the efficiency of the sequential
machine approach.
)

f=: (0;sc;' '=a.)&;:  NB. sequential machine method
g=: <;.1              NB. cut primitive
y=: 1e6$' fourscore and seven years ago, our fathers'
(f -: g) y

ts=: 6!:2 , 7!:2@]    NB. time and space
ts 'f y'
ts 'g y'

NB. =========================================================
Lab Section The Sequential Machine Computation

Certain quantities are helpful in understanding the
sequential machine computation.  These are:

 i          iteration index (also input index)
 j          beginning index of the current word
 r          current state
 c          current mapped input
 0{s{~<r,c  new state
 1{s{~<r,c  output code

By default:  i runs from 0 to (#y)-1.  The word index j is
initialized to _1 and is set as specified by output codes in
the state table, according to the current state r and the
current mapped input c.  Likewise, the current state r is
initialized to 0 and is set as specified by the state table,
according to the current state and the current mapped input
c.

Non-default values for i, j, and r can be specified in last
item of the left argument.  (See a later section of this
lab.)
)

NB. =========================================================
Lab Section Arguments

As outlined briefly, the left argument x is  f;s;m;ijr  and
the right argument y is the input.  These are described in
detail in the following sections.
)

NB. =========================================================
Lab Section Input and Mapped Input

The right argument y is the input.  y is usually a string but
can be any array.

Item 2 of the left argument x (m=.>2{x) is a mapping on the
input.  For example, in the "cut" example in a previous
section, the input is a string and the mapping is ' '=a. --
i.e. the space character is mapped to 1 and all other
characters are mapped to 0.  Typically, in working with
sequential machines, the first items to be decided are the
input and the input mapping.

If y is a string, then m is usually a 256-element integer
list, where each element specifies an integer value for
the corresponding character.  (e.g. ' '=a.)

In general, m is a boxed list, where >i{m contains the items
that should be mapped to the integer i .  For example,
m=.'aeiouy';'bcdfghjklmnpqrstvwxz'  specifies that the
letters a e i o u y are mapped to 0, other lower case letters
are mapped to 1, and all other characters are mapped to 2.
The mappings  ' '=a.  and  <a.-.' '  are equivalent.

If m is elided or is the empty vector, then the input y is
used as is.  In that case y must be an integer list.

The state transitions and output are determined by the
mapped input, but the output words are formed from the
original input.
)

NB. =========================================================
Lab Section State Transition and Output Table

Item 1 of the left argument x (s=.>1{x) is a state transition
and output table ("state table" for short).  s is actually a
3-dimensional array with shape (p,q,2) where p is the number
of states and q is the number possible inputs.  However, it
is convenient to speak of s as a p by q table of pairs.
The pairs are 2 integers denoting the new state and the
output code.

q, the number of columns in the state table, must bound the
input mapping values.

Typically, in working with sequential machines, the state
table is the next to be devised after the input mapping.
Start with a table of with q columns and as many rows
(states) as one can think of.  The new state and output need
to be decided for each state and mapped input combination.
In the process, quite often additional states are added.

Sometimes the state table is sufficiently complicated that
it is computed by a program from other information.  The
Huffman coding lab has an example of this.
)

NB. =========================================================
Lab Section Output Codes

The second element of the pairs in a state table is an output
codes, one of the integers from 0 to 6.

 0    no output
 1    j=.i
 2    j=.i  [ ew(i,j,r,c)
 3    j=._1 [ ew(i,j,r,c)
 4    j=.i  [ ev(i,j,r,c)
 5    j=._1 [ ev(i,j,r,c)
 6    stop

j is the beginning index of a word and is initialized to _1
(or 1{ijr if ijr is supplied).

ew(i,j,r,c) ("emit word") checks that j is not _1 and emits
information on a word according to the function code f .

ev(i,j,r,c) ("emit vector") is similiar, but the current word
is catenated to the previous word if the previous emit was ev
and the state at that time was r .  ev is used to form
"vector constants" and is not used in most applications.
)

NB. =========================================================
Lab Section Function Codes

The function code f (the first item in the left argument) is
one of the integers from 0 to 5.  0 to 4 specify the
treatment of a word at the time of output.  5 specifies
trace.

 0  <y{~j+i.i-j      the word boxed
 1  y{~j+i.i-j       the word
 2  j,i-j            word index and length
 3  c+q*r            state table index
 4  j,(i-j),c+q*r    both 2 and 3 above
 5  i,j,r,c,s{~<r,c  trace

Typically, function code 0 would be used if the words
themselves are of interest.

Function code 1 would be used if some words are retained
while others are discarded (as in the quote/non-quote
example in a later section of this lab).

Function codes 2, 3, or 4 are used if the result of x;:y
is used for further computation.  For example, in Huffman
decoding it is convenient to use function code 3 (see the
Huffman Coding lab).

Function code 5 can be useful for debugging.  It provides
a trace of the sequential machine computation.  The result
is a 6-column table of quantities that completely describe
the sequential machine computation.

The examples below use the state table sc (cut on space)
from a previous section.
)

(0;sc;' '=a.) ;: y=: ' tonic chthonic'
(1;sc;' '=a.) ;: y
(2;sc;' '=a.) ;: y
(3;sc;' '=a.) ;: y
(4;sc;' '=a.) ;: y
(5;sc;' '=a.) ;: y

NB. =========================================================
Lab Section Initial Settings

The initial settings ijr (>3{x) are 3 integers:

 i  iteration index (also input index)
 j  beginning index of a word
 r  initial state

If ijr is elided, then the defaults are 0 _1 0 .
)

NB. =========================================================
Lab Section Argument Checking

The verb smcheck below may be helpful in checking the
arguments x and y in x;:y for errors.

If x smcheck y does not signal error, then the only logic
error that can occur in x;:y is "index error" -- the word
index j is _1 when outputting a word.  ("out of memory",
"break", and "attention interrupt" can also be signalled.)
)

type=: 3!:0  NB. internal type

smcheck=: 4 : 0     NB. check arguments of sequential machine
 assert. 32=type x
 assert. (<$x) e. ,&.>2 3 4    NB. 2- or 3- or 4-element list
 'f s m ijr'=. 4{.x            NB. function code; state ; mapping; initial state
 assert. (0=#$f) *. f e. i.6    NB. function code is from 0 to 5
 assert. (3=#$s) *. 2={:$s      NB. state is a 3-d, 2-column array
 assert. (0<:s) *. s-:<.s       NB. positive integers
 assert. (#s) > >./,0{"1 s      NB. new states
 assert. (1{"1 s) e. i.7        NB. output codes
 assert. 1=#$m                  NB. mapping is a vector
 q=. 1{$s
 if. ''-:m do.                  NB. if m is empty
  assert. (1=#$y) *. y-:<.y  NB. y is used as is
  assert. q > y
 elseif. (1:@:+: :: 0:) m do.   NB. if m is numeric
  assert. q > m
  assert. m -:&$ a.             NB. m specifies mapping on alphabet
  assert. m e. i.#a.            NB. mappings are non-negative integers
  assert. (1=#$y) *. 2=3!:0 y NB. y must be a string
 elseif. 1 do.
  assert. 32=type m             NB. else m must be boxed
  assert. q > #m
  assert. (#$;m) e. 0 1+#$y
 end.
 if. -. ''-:ijr do.             NB. ijr may be elided or empty
  assert. (,3)-:$ijr            NB. 3-element vector
  assert. ijr-:<.ijr            NB. integers
  'i j r'=. ijr
  assert. (0<:i)*.i<i.#y       NB. iteration index (also index into input)
  assert. (_1=j)+.(0<:j)*.j<i   NB. beginning index of a word
  assert. (0<:r)*.r<p           NB. initial state
 end.
 1
)

(1;sc;''''=a.) smcheck 'abc'
(9;sc;''''=a.) smcheck 'abc'  NB. deliberate error

NB. =========================================================
Lab Section Example: English Words

A sequential machine that selects the words in ordinary
English text is similar to the machine in a previous section
that cuts on words separated by spaces.

The mapping is 1 for letters of the alphabet (majuscules and
minuscules) and 0 for everything else.
)

se=: 2 2 2 $ 0 0  1 1  0 3  1 0
<"1 se
f=: (0;se;(i.#a.) e. ,(a.i.'Aa')+/i.26)&;:
f 'In the beginning, E=mc^2'

NB. =========================================================
Lab Section Example: Quotes and Non-quotes

The following example separates quotes from non-quotes.

The input mapping is ''''=a. -- the quote character is
mapped to 1 and other characters are mapped to 0.

The state table has 2-columns (possible mapped inputs) and 4
rows.  Column 0 is for "other" (non-quotes) and column 1 is
quotes.  The rows (states) are:
 0  initial state
 1  outside of quotes
 2  within a quote
 3  within a quote and a quote is seen

For example, suppose the current state is 1 (outside of
quotes).  If the current mapped input is 0 (other), then
the relevant state table entry is 1 0: the new state is
1 and the output code is 0 (no output).  On the other hand,
if the current mapped input is 1 (quote), then the relevant
state table entry is 2 2: the new state is 2 (within quotes)
and the output code is also 2 (emit the current word) and
start a new word.

State 3 is for handling the convention whereby two quotes
within a quote are interpreted as a single quote, and not
terminating the quoted string and immediately starting a new
quoted string.

The function code is 0 -- box the words.
)

sq=: 4 2 2$ 1 1 2 1  1 0 2 2  2 0 3 0  1 2 2 0
<"1 sq
] y=: '''The Power of the Powerless'' by Havel and ''1984'' by Orwell'
(0;sq;''''=a.) ;: y
] y=: '''Don''''t tread on me!'' He said.'
(0;sq;''''=a.) ;: y

NB. =========================================================
Lab Section

If the desired result is the text outside of quotes, then
function code 1, the words not boxed, should be used.
As well, the output code for quotes is specified in such a
way that the quoted words are not output (not catenated).

The traditional method for this computation is based on the
not-equal scan.  The primitives used in the not-equal scan
method are individually highly optimized in the interpreter.

A benchmark comparing the two methods demonstrates the
efficiency of the sequential machine approach.
)

sqx=: 4 2 2 $ 1 1 2 0  1 0 2 3  2 0 3 0  1 1 2 0
<"1 sqx
(":<"1 sq) ,. ' ' ,. (": <"1 sqx)  ,. ' ' ,. ": <"1 sq=sqx

] y=: '''The Power of the Powerless'' by Havel and ''1984'' by Orwell'
(1;sqx;''''=a.) ;: y  NB. catenated words

f=: (1;sqx;''''=a.)&;:       NB. sequential machine method
g=: (+: ~:/\)@(''''&=) # ]   NB. not-equal scan method
y=: 1e6$y
(f -: g) y

ts 'f y'
ts 'g y'

NB. =========================================================
Lab Section Example: J sentences

The dictionary entry on ;: contains a sequential machine
implementation of word formation on J sentences, using a
10 by 9 state table.

If the rhematic rules are restricted so that NB. has no
special significance, then a 6 by 7 state table suffices.
)

mjx=: ' ';(a.{~,65 97+/i.26);'0123456789_';'.';':';''''
t=. 0 7 2$0
NB.        S    A    9    D    C    Q    X
t=.t,_2]\ 0 0  2 1  3 1  1 1  1 1  4 1  1 1  NB. 0 space
t=.t,_2]\ 0 3  2 2  3 2  1 0  1 0  4 2  1 2  NB. 1 other
t=.t,_2]\ 0 3  2 0  2 0  1 0  1 0  4 2  1 2  NB. 2 alphanumeric
t=.t,_2]\ 0 5  3 0  3 0  3 0  1 0  4 4  1 4  NB. 3 numeric
t=.t,_2]\ 4 0  4 0  4 0  4 0  4 0  5 0  4 0  NB. 4 quote
t=.t,_2]\ 0 3  2 2  3 2  1 2  1 2  4 0  1 2  NB. 5 even quotes
sjx=: t

f=: (0;sjx;<mjx)&;:
f y=: '(2*a) %~ (-b) (+,-) %: (*:b)-4*a*c'
(f -: ;:) y
(f -: ;:) '1 2 3 +/ . * 4 5 6'
(f -: ;:) 'gm=: */ %:~ #'

NB. =========================================================
Lab Section Other Examples

See the lab "Huffman Coding" for another example of using
sequential machines.
)
LABTITLE=: 'Coleman (sample topics)'
LABAUTHOR=: 'KEI'

NB. =========================================================
Lab Chapter INTRODUCTION
NB. =========================================================
Lab Section A. Purpose
This lab is written as a companion to A. J. Coleman, et al.,
Algebra, Gage Publishing Limited, Toronto 1979,
ISBN 0-7715-3636-4, designed for use in Grade 13 in Ontario
schools. It will be referred to here as ALG.

The use of the computer makes it possible to experiment with
mathematical ideas with ease and precision, sometimes
revealing lapses in the text-book treatment, and often
providing new insights.

Study each computer example, but do not get hung up by
failure to fully grasp any one -- it is better to continue as
far as possible, returning to the matter in a review.

A computer sentence may include a phrase such as -- NB. *
denotes multiplication -- which is used as a comment (Nota
Bene) and is not executed. For example:
)
3+4
3*4
3^4     NB. three to the power four
5*4+3   NB. Equivalent to 5*(4+3), that is, executed from
        NB. right to left, with no precedence rules such
        NB. as "times before plus and minus"

NB. =========================================================
Lab Section B. Computer use
To use the computer for experimentation, type a sentence such
as 2*i.11 and then press the Enter key to execute it.

Do not hesitate to try any experiment -- the worst that can
happen is the appearence of a (possibly helpful) error
message, after which you may simply continue.

This section illustrates the use of a few basic facilities:
the copula (=:) to assign values to names of variables and
functions, and the use of lists.

The rest of this chapter provides examples for each chapter
of ALG. They should prove intelligible even to a reader not
yet familiar with the topics covered:
)

x=:4  NB. x is (assigned) 4

y=:0 1 2 3 4 5 6 7 8 9 10  NB. y is (the list) 0 to 10

x*y

y*y   NB. Element-by element multiplication

and=:*.
0 0 1 1 and 0 1 0 1

NB. =========================================================
Lab Section C. Examples for Chapter 1 (Sets and Subsets)
A function that yields only a 0 or a 1 classifies its
arguments, and can therefore be said to represent a set, with
the result 1 indicating that an argument belongs to the set:
)
y=:i.11  NB. the function i. produces lists of successive integers
y
5<y
S1=:5&<  NB. The set "five is less than"
S1 y
S2=:8&>
S2 y
and=:*.
(S1 y) and (S2 y)
S3=:S1 and S2             NB. the intersection of sets S1 and S2
S3 y
select=:#
(S3 y) select y           NB. the members of S3 in y
membersofS3=:S3 select ]  NB. ] is the identity function
membersofS3 y

NB. =========================================================
Lab Section D. Examples for Chapter 2 (Arrangements and Subsets)
In the expression { 'ab';'ABC' the function { applies to the character lists 'ab' and 'ABC' to produce a catalogue of all possible pairs of an element from the first list with one from the second.

Similarly, the expression {'abc';'abc' produces the Cartesian product shown in Section 2.1 of ALG, showing that the diagonal contains the only three duplicate pairs. Similar Cartesian products are produced by longer lists.

The full definition (and further examples) of any function such as { may be obtained by placing the cursor immediately to the left of it, holding down the Ctrl key, and pressing key F1. To restore normal execution, press the key Esc:
)
'ab';'ABC'
{ 'ab';'ABC'
{ 'abc';'abc'
{'abcde';'abcde'

NB. =========================================================
Lab Section
The following examples define a binomial coefficients function bc, use it to define the function C of Section 2.4 of ALG (for the number of r-subsets of a set of n elements), as well as a function P that produces a matrix whose none-zero elements are the familiar Pascal's triangle.

They also show the application of matrix inverse to the matrix P 5 to show some mathematically significant patterns:
)
bc=:!~
C=:bc/
P=:C~@i.
5 bc 3
C(5,3)
]M=:P 5
inv=:%.
mp=:+/ . *
inv M  NB. Alternating binomial coefficients
(M mp inv M) ; (M mp M mp M mp M)

NB. =========================================================
Lab Section E. Examples for Chapter 3 (Mathematical Induction and the Binomial Theorem)
These examples treat the summation notation of Section 3.1 of ALG:
)
a=:1 2 3 4 5
sum=:+/      NB. Equivalent to Greek capital sigma
sum a
ps=:sum\     NB. Partial sums, or subtotals
ps a
ps a*a
prod=:*/     NB. Equivalent to Greek capital pi
pp=:prod\
prod a
pp a
!a           NB. Factorial

NB. =========================================================
Lab Section
The following illustrates the binomial theorem of Section 3.5 of ALG:
)
n=:4
]i=:i. n+1
bc=:!~
n bc i
pol=:p.         NB. Polynomial function with exponents in ascending order
1 2 3 pol x=:2
(n bc i) pol x
(x+1)^n         NB. ^ is the power function
10 bc i.11
(10 bc i.11) pol x
(x+1)^10

NB. =========================================================
Lab Section F. Examples for Chapter 4 (Probability)
The following expressions give the sample spaces of a die (as discussed in Section 4.1 of ALG) for two and three throws:
)
S=:1 2 3 4 5 6
{S;S
{S;S;S
L=:'ABCDEFGH'
{L;L

NB. =========================================================
Lab Section
The following illustrates the evaluation of C(n,r), the number of ways of choosing r things out of n, and the equivalent calculation in terms of a numerator and denominator (as discussed in Section 4.7 of ALG):
)
n=:6
r=:3
C=:!~/
C(n,r)
fon=:{.-i.@}.
fon n,r
fod=:>:@i.@}.
fod n,r
table=:(fon,.fod) n,r
table
*/table
%/*/table

NB. =========================================================
Lab Section G. Examples for Chapter 5 (Vectors as Directed Line Segments)
In Section 5.1 of ALG it is stated athat "A vector may be represented geometrically by a directed line segment".

Algebraically, it may be represented by a list, and such lists can be added, subtracted, and multiplied by single elements (called scalars) in obvious ways:
)
a=:3 5
b=:6 1
a+b
a-b
b-a
4*a
(5*a)+(5*b)
5*(a+b)

NB. =========================================================
Lab Section

COORDINATE GEOMETRY

Plot points with coordinates 3 5 and 6 2 on graph paper, and comment on the following statements:

* The vectors a and b can be visualized as coordinates of points in geometry.

* The difference a-b is a vector that can be pictured as the movement (in the x and y directions) from point a to point b.

* Geometrically, the magnitude of the vector a-b is the length of the vector from point a to point b.

* If you know the theorem of Pythagoras, write and execute an expression to give the magnitude of the vector c=:a-b.
)

NB. =========================================================
Lab Section

MAGNITUDE OR LENGTH

The magnitude of a vector is the square root of the sum of the squares of its coordinates. Thus:
)
c=:a-b
c
*:c
+/*:c
%:+/*:c
L=:%:@:(+/)@:*:
L c
L a
L b

NB. =========================================================
Lab Section

THREE DIMENSIONS

A three-element vector represents coordinates in 3-space. Thus, if d=:5 4 3 represents the dimensions in metres of a 5 by 4 room with a 3 metre ceiling, the length of a body diagonal (from any vertex to the farthest vertex) is given by the same function L, For example:
)
d=:5 4 3
L d
p=:0.25*d
p
L d-p
cv=: 0 1 1 * d    NB. Ceiling vertex opposite to d
cv
L cv              NB. Length of the face diagonal on the ceiling
*/d               NB. Volume of room

NB. =========================================================
Lab Section H. Examples for Chapter 6 (Vectors and their Components)
The important dot product is simple to define (the sum of the element-by-element product of its vector arguments), but it is not so easy to get a grasp on its important properties.

Begin by plotting the vectors 3 4 and _8 6, drawing lines to the origin, and verifying that they are perpendicular. Then note that their dot product is zero, and that the dot product of each with itself is the square of its length:
)
dp=:+/@:*"1/
L=:%:@:(+/)@:*: " 1
a=:3 4
b=:_8 6
a dp b
a dp a
b dp b
L a
L b

NB. =========================================================
Lab Section
Further insight may be gained by taking a matrix (to be called B) whose row vectors are of equal length (that is, lie on the same circle), and computing the dot product of each with the others. Study the results carefully, and comment on them:
)
angles=:] * i.@:<.@:(360&%)
angles 30
sin=:1: o. %&180p_1
cos=:2: o. %&180p_1
circle=:(cos,.sin)@:angles
]B=:circle 90
B dp/ B
B ; (B dp/ B)

NB. =========================================================
Lab Section
Compare your comments with the following:

* The dot product of a vector with its negative (e.g. 1 0 with _1 0) is negative.

* The dot product of a vector with any perpendicular vector is zero (1 0 and 0 _1)

Comment on the following results:
)
d2=:0j2&":   NB. Contract display to two digits
d1=:0j1&":   NB. Contract display to one digit
]B=:circle 30

d2 B dp/ B

NB. =========================================================
Lab Section

The cross product of vectors a and b is a vector that is perpendicular to both a and b. Thus:
)
l=:1&|.      NB. Left shift by one place
r=:_1&|.     NB. Right shift by one place
a=:3 5 4
b=:1 2 6
(l a);(r b);(l b);(r a)

((l a)*(r b)) - ((l b)*(r a))
X=:(l@[ * r@]) - (l@] * r@[)    NB. Cross product
]]cp=:a X b
cp dp a                         NB. Test for perpendicularity
cp dp b
a X a
c=:2 1 4
b+c
(b+c) X a
(b X a)+(c X a)

NB. =========================================================
Lab Section I. Examples for Chapter 7 (Equations of Lines and Planes)
As noted in Section 7.4 of ALG, a line in 3-space through the point r0 and running in the direction m may be represented by r0+t*m, where t is a scalar parameter that determines a particular point on the line.

For the vector r0=:1 1 2 and m=:1 2 1, plot several points on the line (including the cases 2 and 1 and 0 and _1 for t), using axes in the directions _ and / and | for coordinates x and y and z.

The coordinates may be computed as illustrated below:
)
r0=:1 1 2
m=:1 2 1
r0+2*m
r0+1*m
r0+0*m
r0+_1*m
r0 (+"1 1) 2 1 0 _1 (*"0 1) m

NB. =========================================================
Lab Section

Vectors a and b are said to be parallel if b is a scalar multiple of a. For any non-parallel vectors, the points (s*a)+(t*b) are said to lie in a plane.

Using a=:r0 and b=:m, compute and plot a number of points (s*a)+(t*b), and observe that they appear to lie in a plane:
)
a=:1 1 2
b=:1 2 1
s=:2
t=:3
(s*a)+(t*b)

NB. =========================================================
Lab Section

Convenient computation of points in a plane will be provided by an operator PLANE that produces a function afb=:a PLANE b for which s afb t produces a point in the plane of a and b. Thus:
)
PLANE=:2 : 0
:
(x*m)+(y*n)
)

afb=:a PLANE b

2 afb 3
2 a PLANE b 3
1 2 3 afb"0/ 3 4

NB. =========================================================
Lab Section J. Examples for Chapter 8 (Linear Equations and Matrices)

Section 8.1 of ALG states: By a system of equations ... we mean a set consisting of one or more linear equations. And in Example 1 gives the three equations:

   x+2y- z =  1  (1)
   x- y+2z =  7  (2)
  2x+3y+ z = 10  (3)

We will treat this as a single fuction F of the vector x,y,z yielding a vector that is required (by giving suitable values to x and y and z) to equal the result 1 7 10.

The function F can be obtained by applying the dot product dp=:+/@:*"1 to each row of the following matrix:
)
M=:3 3 $ 1 2 _1,1 _1 2,2 3 1
M
x=:1 [ y=:2 [z=:4
v=:x,y,z
v
dp=:+/@:*"1
M dp v
1 7 10 = M dp v  NB. x,y,z is not a solution

NB. =========================================================
Lab Section

The inverse of the matrix M is a matrix that applied to the result r=:1 7 10 gives the values of a solution s. Methods for computng inverses are discussed in Section 9.10 of ALG; here we will use the fuction inv=:%. :
)
r=:1 7 10
inv=:%.
N=:inv M
N
s=:N dp r
s
M dp s
r=M dp s

NB. =========================================================
Lab Section K. Examples for Chapter 9 (Matrices and Linear Transformations)

In the expression M dp v, the dot product function applies to each row of the matrix M to produce a vector result. Similarly, the expression M dp N gives the dot product of each row of M with each row of N, producing a matrix result. Thus:
)
M;N
dp=:+/@:*"1/
M dp N

NB. =========================================================
Lab Section

The matrix product defined in Section 9.8 of ALG behaves similarly, but applies the dot product between each row of the left argument, and each COLUMN of the right argument.

The ALG matrix product of M and N can therefore be expressed as M dp transpose N, where the the function transpose flips its argument about the diagonal (\), interchanging rows and columns. Thus:
)
transpose=:|:
N ; transpose N
M dp transpose N
mp=:[ dp |:@]     NB. matrix product
M mp N

NB. =========================================================
Lab Section

The result of M mp N is the IDENTITY MATRIX because N is the inverse of M. It is called the identity matrix because its matrix product with any matrix or vector leaves it unchanged. Thus:
)
I=:M mp N
I
M ; I mp M
I mp 2 3 5

NB. =========================================================
Lab Section L. Examples for Chapter 10 (Complex Numbers)

The square root of negative 1 is defined to have a result commonly called i (for i-maginary), and this new number is assumed to be subject to the same functions that apply to real numbers. For example:
)
i=:%:_1                NB. Square root
*:i                    NB. Square
*:i+i
a=:3+4*i               NB. Complex number
|a                     NB. Magnitude or Absolute Value
a                      NB. "standard" representation of a complex number
3j4*3j4
+a                     NB. Conjugate
a * +a                 NB. Product with conjugate is real
M=:2 2$3j4 2j5 0j3 5j2
M ; %. M               NB. Inverse of a complex matrix

NB. =========================================================
Lab Section
)
a
+. a                       NB. Real and imaginary parts
*. a                       NB. Polar representation: magnitude and (radian) angle
(] ; +. ; *.) M

]c=:i^0 1 2 3              NB. Powers of i

(+. ; *.) c

NB. =========================================================
Lab Section

Express the following examples from Section 10.4 of ALG in the standard form used here:

   2+i
   ---
   3+4i

   (1+i)(4+5i)
   -----------
           2
      (1-i)
)
p=:(2+i)%(3+4*i)
q=:((1+i)*(4+5*i)) % *:(1-i)

p;q;(p*q);(p*p);(q*q)
LABTITLE=: 'Explicate (convert to explicit) a given tacit verb'

NB. =========================================================
Lab Section Introduction

Newcomers to J are apt to view tacit code with perplexity:

 * Isn't this simply "p-code"
    - the sort of thing a good compiler generates for us?
 * Isn't it best kept hidden?
 * Why do we have to bother with trying to read it?
 * Aren't there any tools to help us?
)

NB. =========================================================
Lab Section

J-ers delight in writing tacit code.
 They even embed tacit idioms in explicit sentences,
 like this
   z=. (+/ % #) y       NB. mean value of y
)

(+/ % #) 3 4 5       NB. mean value of (3 4 5)

NB. =========================================================
Lab Section

"Tacit J" and "explicit J" are not two distinct languages.
 They can be mixed:
  - tacit in explicit
  - and explicit in tacit.

NOTE:
 The tacit phrase: (+/ % #) is a construct called a "fork".
 It is NOT the same as
   z=. +/ % # y
)

(+/ % #) 3 4 5
 +/ % #  3 4 5
	NB. ---equivalent to
+/ (% (# 3 4 5))

NB. =========================================================
Lab Section

To many J-ers tacit code is as easy to read as explicit code
 --if not easier.

Much published code is in tacit form.
 Indeed MOST of the verbs in stdlib.ijs are tacit
 (NOTE: stdlib.ijs populates the _z_ locale).

So, would-be J-ers need to come to terms with tacit code.

There's a need for tools to help read a tacit definition.
)

NB. =========================================================
Lab Section

J has a built-in tool to convert explicit code to tacit code.
 (You'd expect that, wouldn't you?)
 You might even think to call it "compilation".
  - (but J-ers don't think of it that way.)

Suppose we define (mean y) explicitly as:
 the sum of y           +/y
 divided by             %
 the count of y         #y
)

cocurrent 'base'
mean=: 3 : '(+/y) % (#y)'
mean 3 4 5

NB. =========================================================
Lab Section

...Then, replacing: mean=: 3 :
 by: 13 :
 we see an equivalent tacit phrase.

We can use this phrase directly in sentences
 or assign it to a name,
 and we can use it in place of our original explicit verb.
)

13 : '(+/y) % (#y)'
(+/ % #) 3 4 5
meanT=: 13 : '(+/y) % (#y)'
meanT
meanT 3 4 5
meanU=: +/ % #
meanU 3 4 5

NB. =========================================================
Lab Section

So even a beginner can reliably convert a given verb...
      explicit --> tacit

Wouldn't it be nice to have a tool to go the other way? ...
      tacit --> explicit

It might give us a definition that's easier to read.

But, alas, there's more than one way to do that.
 (As will become apparent.)
 However the goal is not impossible.
)

NB. =========================================================
Lab Section The adverb: tte

Let's be sure we're working in the _base_ locale.

Also, let's get rid of the verbs we defined earlier
 in case they get in our way...
)

cocurrent 'base'
erase 'mean meanT meanU'

NB. =========================================================
Lab Section

Let's use the word "explication" to describe the process:
      tacit --> explicit
 - because it "explicates" (i.e. offers an explanation for)
   a given tacit verb.

The addon: debug/tte defines (in locale: _z_) an adverb: tte
 which "explicates" a given tacit verb.
 The given verb can be a word (a "proverb") or an expression.
)

require 'debug/tte'
type 'tte_z_'

NB. =========================================================
Lab Section Sample tacit verbs

Loading 'debug/tte' also defines (in locale: _z_)
 three test verbs for us to play with.
 They are all defined with tacit definitions ...
)

mean_z_
nub_z_
cat_z_

NB. =========================================================
Lab Section Explicate a sample tacit verb

To explicate a given verb, follow it with the adverb: tte

(tte signals "explicit definition" error if the definition
 of the verb is already explicit.)
)

mean tte

NB. =========================================================
Lab Section

The result is not a block of text, but a verb.
 The verb is explicitly defined,
 - so what you see is the verb's (explicit) definition
  i.e. the "value" of the verb
  - which is what you see when you enter a verb name.

The verb hasn't got a name yet.
 But you can assign a name to it ...
)

meanX=: mean tte	NB. explicitly defined verb
type 'meanX'
meanX
meanX 3 4 5

NB. =========================================================
Lab Section

You can use the actual tacit definition of: mean in place of the proverb: mean
 (proverb: the J-word whose value is a verb) ...
)

(+/ % #) tte

NB. =========================================================
Lab Section

But it's wise to put parentheses round the verb definition.

Otherwise, by J's parsing rules, an adverb acts only on the verb immediately preceding it
 (in this case, the verb: #) ...
)

 +/ % #  tte

NB. =========================================================
Lab Section Adjusting tte

Inside the _tte_ locale there are some user-alterable nouns
controlling the appearance of the explication.

This sentence has a special meaning:  ? tte
 - It displays the current values of these nouns in _tte_.
 - Re-enter these lines to change the settings.
)

? tte

NB. =========================================================
Lab Section

The user-alterable nouns in _tte_ are as follows:

  COPULA        The copula to be used in the explication
                        Can be: '=:' or: '=.'

  NOCOMMENT     Boolean: controls line-comments
                        1 - suppress line-comments
                        0 - append line-comments.

  PREVERB       Optional prefix verb for each sentence
                        Suggest: ']' or: 'smoutput'
                        or: '' (no prefix).

  PREFIX        4-atom boxed stringlist, signifying ...
                 1st-letters of names for intermediate ...
                        nouns           >0{PREFIX
                        adverbs         >1{PREFIX
                        conjunctions    >2{PREFIX
                        verbs           >3{PREFIX

  DECOMPOSE	Boolean: separate @ and & phrases?
                        1 - split u@v into 2 sentences
                        0 - keep u@v together in 1 sentence.
)

NB. =========================================================
Lab Section

Example: alter NOCOMMENT ...
)

mean tte
NOCOMMENT_tte_=: 1
mean tte
NOCOMMENT_tte_=: 0	NB. restore to original value.

NB. =========================================================
Lab Section Ambivalent verbs

The explication ALWAYS contains a monad and a dyad section,
even if one or the other is meaningless.
 - Example: the tacit verb: mean

Why?

Because a tacit verb is in principle ALWAYS ambivalent.

However, some tacit verbs contain Monad-dyad (:)
to specify monad-only and dyad-only parts.

Adverb: tte honours this construct by separately explicating
the monad-only and dyad-only parts in the correct section.
)

(mo : dy) tte

NB. =========================================================
Lab Section

NOTE: a tacit verb can employ Monad-dyad (:) and Cap ([:)
 to forbid its use as a monad
 or alternatively as a dyad.

This trick relies on Cap ([:) always raising a domain error
 whatever its arguments.

But tte makes it clear what's going on ...
)

mean0=: (mean : [:)     NB. signal error if called as dyad
mean0 tte

NB. =========================================================
Lab Section

NOTE: tte works even if (:[:) is buried in
a "fixed" definition ...
)

mean0 f. tte    NB. (f.) forces expansion of embedded: mean

NB. =========================================================
LABTITLE=: 'Families of Functions'

NB. =========================================================
Lab Section INTRODUCTION
The adoption of the notations

    2      3
   x  and x

for the square and the cube functions united these two monadic functions in a single dyadic "power" function. Moreover, the notation suggested fruitful extensions from the exponents 2 and 3 to negative, fractional, and even complex, numbers.

Adopting De Morgans symbol ^ for the power, we can bring the expression for powers to the form used for other dyadic functions, as in x+3 and x-3 and x*3. Thus:
)
5^2
5^3
5^2 3 0.5

(5^2)*(5^3)
5^5

5^_3
(5^_3)*(5^3)

NB. =========================================================
Lab Section

As illustrated above, the power function unites a variety of monadic functions in a single family, providing insight into relations among the family members, as well as economy of notation.

In what follows, we will define further families based on the power function, including polynomials, rationals, rising and falling factorial functions, hypergeometrics, the exponential, and circular and hyperbolic sines and cosines.

Further information on any notation used may  be obtained by pressing the F1 key to display the vocabulary, and using the mouse to click on the desired item.

For example, look up the function ^ used in this section, and the function p. and the operator & to be used in subsequent sections.
)

NB. =========================================================
Lab Section POLYNOMIALS

                2     3              3
The functions 3x  + 2x and 3 + 2x + x  are examples of polynomials, which are united in a single family under the dyadic function p. as illustrated below:
)
x=: 2

(3*x^2)+(2*x^3)

0 0 3 2 p. x

3+(2*x)+(x^3)

3 2 0 1 p. x

NB. =========================================================
Lab Section OPERATORS

An operator applies to verbs and nouns, i.e. functions and variables, to produce a function. In what follows, we will use operators to define new families

We begin with some simple examples of operators:
)
f=: 0 0 3 2 & p.   NB. &(And or With) bonds the argument with p.

f x

g=: 3 2 0 1 & p.

g x

f g x

h=: f@g          NB. @ (Atop) applies f atop the result of g

h x

NB. =========================================================
Lab Section

Do not hesitate to enter any experiment that occurs to you -- the worst that can occur is an error message of some kind. However, do not waste too much time on expressions whose results you do not understand. It is better to return to them after gaining more familiarity with the language.
)

NB. =========================================================
Lab Section

Try some of the following experiments concerning the production of multiplication tables, and return to them with new functions encountered in later sections, such as the rising factorial rf=: ^!.1. Thus:
)
i.5

2 3 5 7 */ i.5       NB. A multiplication table

2 3 5 7 *table i.5   NB. Bordered by args for easy reading

(i. */ i.) 5

*/~@i. 5

NB. =========================================================
Lab Section EXPONENTIAL FUNCTION

.               x
The expression e  is commonly used to denote the exponential function. As suggested by the notation, the result is a quantity e raised to the power of the argument x

The quantity e is called the number of Euler, and is denoted here by 1x1 . Thus:
)
e=: 1x1

e

i=: 0 1 2 3 4 5 6

e^i

exp=: e&^

exp i

NB. =========================================================
Lab Section

The symbol ^ has been used thus far to denote a function of two arguments. Used monadically (with only one argument) it denotes the function e&^, that is, the exponential. Thus:
)
^ i

NB. =========================================================
Lab Section

The exponential will now be used to generate a family of functions that includes the familiar sine and cosine, as well as the less familiar hyperbolic sine and hyperbolic cosine.

To obtain the hyperbolics we will employ the odd and even operators; to obtain the trigonometric functions we will apply the hyperbolics to complex arguments.
)

NB. =========================================================
Lab Section EVEN AND ODD PARTS

The expression f@- applies f atop negation, and the result of f@- x is therefore the result of applying f to the negative of x

The function g=: f + f@- is therefore an "even" function such that g x equals g -x Graphically, this implies that g is "reflected in the vertical axis". For example:
)
f=: 3 1 4 2 5 & p.

g=: f + f@-

i=: 0 1 2 3 4 5 6

g i

g -i

NB. =========================================================
Lab Section

Similarly, the function h=: f - f@- is odd, and its graph is reflected in the origin.

The even and odd parts of f are defined to be one-half of the functions g and h, so that their sum gives the original function. The operators even=: ..- and odd=: .:- give these even and odd parts. For example:
)
even=: ..-

odd=: .:-

ep=: f even

op=: f odd

ep i

op i

(ep+op) i

f i

NB. =========================================================
Lab Section

The even and odd parts of the exponential function are the hyperbolic cosine and hyperbolic sine, respectively. Thus:
)
cosh=: ^ even

sinh=: ^ odd

y=: 0 1 2 3 4

cosh y

sinh y

((cosh y)^2) - ((sinh y)^2)

NB. =========================================================
Lab Section COS AND SIN

The ordinary cosine and sine may be expressed by applying the corresponding hyperbolic to an imaginary argument.

The expression ix is commonly used to denote the "imaginary" value obtained by multiplying x by the square root of minus one i.e. denoted here by 0j1. We will instead use j.x, where j. denotes a function that multiplies its argument by the square root of minus one. For example:
)
y=: 0 1 2 3 4 5

j. y

cos=: cosh@j.

cos y

sin=: sinh&.j.

sin y

NB. =========================================================
Lab Section

It should be noted that although the cos function was defined by cosh@j., the sin was defined by a  different operator &.. To appreciate the reason for this try applying sinh@j. to y, and then use F1 to examine the definition of the "dual" operator &..
)

NB. =========================================================
Lab Section STOPES

The product */x+i.n will be called a "stope" because the n factors x+i.n rise like the steps of a mine stope following a sloping vein of ore. The corresponding function */@([+i.@]) is also called a "rising factorial function". For example:
)
x=: 6
n=: 4

i.n

x+i.n

*/x+i.n

rf=: */@([+i.@])

x rf n

NB. =========================================================
Lab Section

A falling factorial may be defined analogously by multiplying the integers i.n by _1; and the power function itself can be obtained by multiplying by zero. Thus:
)
*/x+_1*i.n     NB. Falling factorial

*/x+1*i.n      NB. Rising factorial

*/x+0*i.n      NB. Power function

NB. =========================================================
Lab Section

These definitions may be united in a single family by the "fit" operator !. as illustrated below:
)
rf=: ^!.1

ff=: ^!._1

po=: ^!.0

x (rf,po,ff) n

NB. =========================================================
Lab Section STOPE POLYNOMIALS

The fit operator can be similarly applied to the polynomial function p. to produce polynomials based upon falling and rising factorials as well as upon the power function. Thus:
)
ffp=: p.!._1    NB. Falling factorial polynomial

rfp=: p.!.1     NB. Rising factorial polynomial

1 2 3 (ffp,p.,rfp) 5

5 ff 0 1 2

+/ 1 2 3 * 5 ff 0 1 2

NB. =========================================================
Lab Section RATIONAL FUNCTIONS

If f and g are polynomials, their quotient q=:f%g is a rational function. For example:
)
f=: 1 2 1&p.

g=: 1 3 3 1&p.

q=: f%g

x=: 0 1 2 3 4 5 6

q x

(g%f) x

NB. =========================================================
Lab Section HYPERGEOMETRICS

The hypergeometric operator H. applies to lists to produce a rational function whose limiting value, for a large number of terms, may represent a wide variety of important functions. For example:
)
1 H. 1 i.6       NB. The exponential function

NB. =========================================================
Lab Section

Although the hypergeometric function is a ratio of two polynomials, the limbs of the ratio are normally expressed as products over rising factorials, which are equivalent to polynomials. For further details on the definition of the operator H., use key F1 to display the vocabulary, and select the appropriate item.

For further discussion of the hypergeometric see Section 15 of the National Bureau of Standards "Handbook of Mathematical Functions", edited by Abramowitz and Stegun.
)
LABTITLE=: 'Pythagorean Triples'

NB. =========================================================
Lab Section PYTHAGOREAN TRIPLES

This is a companion to the Beauregard and Suryanarayan treatment of Pythagorean Triples in The College Mathematics Journal:

  Beauregard, R.A., and E.R. Suryanarayan, Pythagorean
  Triples: the Hyperbolic View
  The College Mathematics Journal, Vol 27, No. 3, May 1996

A vector such as 3 4 5, whose last element is the hypotenuse of the right-triangle with a pair specified by the first two, is called a pythagorean triple (PT) if the hypotenuse is an integer. We may define and use a hypotenuse function c as follows:
)
c=: %: @: (+/) @: *:
c 3 4

c 5 12

pt=: ],c  NB. Pythagorean triple
pt 3 4

NB. =========================================================
Lab Section

We may assign more mnemonic names to the primitive functions used, and re-define c and pt in terms of them, as follows:
)
   on=: @:
    c=: sqrt on sum on sqr
   pt=: (right,c) "1
   sqrt=: %:
    sqr=: *:
    sum=: +/
   l=:  left=: [
   r=: right=: ]
a=: first=: {.
b=:  last=: {:
v=: 3 4
c v

pt v

NB. =========================================================
Lab Section THE SEMIGROUP OF TRIPLES

In the section of this title, B&S, i.e. Beauregard and Suryanarayan, define a function of two arguments that they denote by *. Applied to the pairs of two PTs it can be shown to produce the pair of a new PT. We will denote the function by p, and define it as specified in B&S:
)
p=:(a on l*a on r) , (b on l*c on r)+(b on r*c on l)

3 4 p  3 4

pt 3 4 p 3 4

3 4 p 5 12

pt 3 4 p 5 12

3 4 p 3 4 p 3 4

pt 3 4 p 3 4 p 3 4


NB. =========================================================
Lab Section MATRIX REPRESENTATION

B&S also define a mapping from a PT to a matrix, that we will treat as a function M to be applied to a pair. Thus:
)
M=: _3&(]\)@(c,b,0:,b,c,0:,0:,0:,a)

F=: _1 1&{@,

m=: M 3 4

m

F m

NB. =========================================================
Lab Section

The matrix products of such matrices produce matrix representations of PTs. Thus:
)
   X=: +/ . *  NB. Matrix product
   m X m

   F m X m

   pt F m X m

NB. =========================================================
Lab Section PROGS_POSITION 1

B&E define the quasi-inverse of a pair and a number of its properties, which we will illustrate as follows:
)
qi=: 1 _1&*

A=: 4 3
B=: 3 4

qi A p B

(qi A) p (qi B)

qi qi A

A
A p qi A

a A

(*: a A), 0

E=: 1 0  NB. The identity of p
E p A
A p E

D=: 5 0

D p D

(*:@a D) * E

NB. =========================================================
Lab Section PRIMITIVE PAIRS AND NORMALIZATION

An integer scalar multiple of a pair is itself a pair, and to provide a single representative of the entire class a primitive pair is defined as one whose elements are "in lowest terms", and contain no common factors. We also define a normalization function N that produces the primitive representative of any pair:
)
D=: 3 * A

D

pt D

+./D  NB. The GCD of the elements of D

D % +./D

N=: ] % +./

N D

NB. =========================================================
Lab Section PROGS_POSITIONS 2,3

Under these propositions, B&S refer to the final section that presents a method of obtaining two integers m and n from any primitive pair, a method that we will incorporate in a function mn. We will also define an inverse function ab. Thus:
)
mn=: N@(a , b + c)

ab=: N on (*/ , half on diff on flip on sqr)
  half=: -:
  diff=: -/
  flip=: |.

v=: 5 12
w=: flip v
w

mn v

ab mn v

mn w

ab mn w

x=: v p w
x

pt x

mn x

ab mn x

NB. Note that the two case of Proposition 2 (for even and
NB. odd) are combined in mn by the use of normalization.

NB. =========================================================
Lab Section PRIMITIVE PAIRS AND NORMALIZATION

An integer scalar multiple of a pair is itself a pair, and to provide a single representative of the entire class a primitive pair is defined as one whose elements are "in lowest terms", and contain no common factors. We also define a normalization function N that produces the primitive representative of any pair:
)
D=: 3 * A
D

pt D

+./D  NB. The GCD of the elements of D

D % +./D

N=: ] % +./

N D

NB. =========================================================
Lab Section LIBRARY
)
on=: @:

c=: sqrt on sum on sqr
pt=: (right,c) "1
sqrt=: %:
 sqr=: *:
 sum=: +/
l=:  left=: [
r=: right=: ]
a=: first=: {.
b=:  last=: {:

p=: (a on l*a on r) , (b on l*c on r)+(b on r*c on l)

M=: _3&(]\)@(c,b,0:,b,c,0:,0:,0:,a)
F=: _1 1&{@,

X=: +/ . *  NB. Matrix product

qi=: 1 _1&*

E=: 1 0  NB. The identity of p

N=: ] % +./

mn=: N@(a , b + c)
ab=: N on (*/ , half on diff on flip on sqr)
  half=: -:
  diff=: -/
  flip=: |.

NB. =========================================================
Lab Section GENERATING PAIRS

B&S point out that all pairs can be produced by applying p to certain basis pairs. We will explore this by making a table of basis pairs and applying p between each of the pairs, using the "outer product" p"1/ . Thus:
)
] T=: 3 4,:4 3      NB. Table of basis elements

T p"1/ T            NB. Table of p applied between each pair

,/ T p"1/ T         NB. Table "ravelled" to a list of pairs

N"1 ,/ T p"1/ T     NB. Normalized table

~. N"1 ,/ T p"1/ T  NB. Nub (~.) suppresses duplicate items

pt"1~. N"1 ,/ T p"1/ T

NB. =========================================================
Lab Section

We now embody these computations in a function, and finally sort the result for easy reading:
)
g=: ~. on (,/ on (N"1 on (p"1/~))) NB. Generating function

g T                    NB. Compare with earlier result

sort=: /:~             NB. Define sort function

sort g T               NB. Sort result

NB. =========================================================
Lab Section

Since each row of the result is a product (by p) of two of the basis pairs, they are not themselves included. To ensure that they are included, we add the identity element E to the table:
)
] T1=: 1 0,T

/:~ g T1

NB. =========================================================
Lab Section

To obtain complete results, the quasi-inverses of the bases must be added to the table. Thus:
)
]T2=: T1, qi"1 T  NB. Append quasi-inverses

/:~ g T2

/:~ g^:2 T2

NB. =========================================================
Lab Section

Approximate results are due to machine arithmetic:
)
/:~ g^:3 T2

NB. =========================================================
Lab Section EXTENDED PRECISION

Larger integers may be handled to infinite precision by using the function x: as illustrated below:
)
x: T2

/:~ pt"1 g^:3 x: T2

NB. =========================================================
Lab Section DISTINCT TRIANGLES

We may obtain a more abbreviated list of distinct triangles by taking the magnitude, replacing an entry such as 5 _12 by 5 12, and by sorting each row, replacing an entry such as 12 5 by 5 12, and then suppressing duplicate rows. We will also sort the result. Thus:
)
tri=: pt sort ~. sort"1 | g^:3 x: T2
tri

NB. =========================================================
Lab Section PRIME FACTORS

We will conclude by showing the prime factors of the table of triangles, first removing the identity element, because an attempt to factor a zero would give a domain error:
)

<@q: }. tri
LABTITLE=: 'Averages'
LABAUTHOR=: 'Richard L.W. Brown'
LABCOMMENTS=: 0 : 0
A lab about various types of averages. It shows use of:
forks, rank, inverses, conjugates, under, obverse.
)

NB. =========================================================
Lab Section The Arithmetic Mean
The best known average is the arithmetic mean.  Given a list of numbers, the arithmetic mean is defined to be the sum of the numbers in the list divided by the number of numbers in the list.

An arithmetic mean program, or function or "verb" as functions are called in J, "am" is shown below:

[The string of three verbs "sum % #" is called a "fork". another example of a fork would be "sin + cos". ]

)
sum =: +/       NB. sum is 'plus between'
sum 2 3 5 7     NB. example of sum
am =: sum % #   NB. arithmetic mean 'sum divided by number'
am 2 3 5 7      NB. example of arithmetic mean

NB. =========================================================
Lab Section
The function (or verb) "am" was designed to compute the arithmetic mean of a list.  What happens if it is applied to a matrix? [see below]

As you can see, each column is averaged.  Here is how J interprets the situation.  A matrix is a list of rows.  In this example there are two items (rows) and "sum" sums this two-item list to produce a row which is the sum of the given rows.  This result is divided by the number of items in the list, i.e. two in the example.  The net effect is the arithmetic mean of the rows which is the arithmetic mean of each column.
)
matrix =: 2 3 $ 4 7 8   2 5 1  NB. 2 by 3 matrix
matrix                         NB. display it
am matrix

NB. =========================================================
Lab Section
Suppose a matrix is given and one wants the arithmetic mean of each row.  A 2 by 3 matrix is a list of two rows and each row is a list of 3 numbers.  The rows are called the 1-cells of the matrix.

To create a verb that applies "am" to 1-cells, use the rank conjunction " as shown below. The result is a list of two numbers, the means of each row.
)
am"1 matrix           NB. arithmetic means of 1-cells
row_averages =: am"1  NB. define a row_averages function
row_averages matrix   NB. apply it

NB. =========================================================
Lab Section
Consider now a list of 2 matrices, each of size 2 by 3. This is an array of shape 2 by 2 by 3.  [see below]

Applying am to the array takes the arithmetic mean of the two 2 by 3 matrices and the result is a 2 by 3 matrix.

On the other hand, applying am"1 to the array takes the arithmetic means of each 1-cell (row) and gives a 2 by 2 matrix as the result.

[More generally, an array of shape (a by b by ... by u by v) has 1-cells with v elements each and these 1-cells are arranged in an array of shape: a by b by ... by u]
)
array =: 2 2 3$2 1 4   9 0 7     5 1 2   3 4 0
array
am array
am"1 array

NB. =========================================================
Lab Section Other Means
If you drive a car at 40 km/hr for one hour and then drive it at 60 km/hr for the next hour, what was your average speed?

The arithmetic mean is the correct average to use here: 40 km plus 60 km = 100 km in 2 hours; therefore 50 km/hr.

If you drive a car at 40 km/hr for 100 km and then drive at 60 km/hr for another 100 km, what was your average speed?

This time the harmonic mean is the correct average to use: 100 km in 100/40 hrs and 100 km in 100/60 hrs; therefore 200 km in 100/40 + 100/60 hrs or 1/((1/40 + 1/60)/2) = 48 km/hr.

The harmonic mean is calculated as follows: "the reciprocal of the arithmetic mean of the reciprocals"
)
am 40 60         NB. arithmetic mean
% am % 40 60     NB. harmonic mean

NB. =========================================================
Lab Section
Suppose you weigh an object using a balance beam and find that the object weighs an amount x  But you suspect the balance may be off center so you put the object on the other side and weigh it again, getting y this time.  Is it appropriate to use the arithmetic mean (x+y)/2 as an estimate of the correct weight?

If the lengths of the beam are s and t and the correct weight is w then:  sx = tw  and sw = ty   so dividing we get x/w = w/y  Thus  w = sqrt(xy) = geometric mean of x and y

More generally, the geometric mean of a list is the nth root of the product where n is the number of list items. [see below]
)
product =: */        NB. product is times between
product 2 3 5 7      NB. example of product
gm =: # %: product   NB. nth root of product
gm 2 3 5 7           NB. example of geometric mean

NB. =========================================================
Lab Section
Another approach to the geometric mean is to take logs, apply the arithmetic mean, and take antilogs. [see below]

In J, the natural log is denoted by "^." and the exponential function is denoted by "^".

This form of the geometric mean shows its relation to the arithmetic mean. It also shows that the geometric mean is related to the arithmetic mean in the same way that the harmonic mean is related to the arithmetic mean.
)
^ am ^. 2 3 5 7
exp =: ^
ln =: ^.
exp am ln 2 3 5 7

NB. =========================================================
Lab Section The Importance of Rank
To write verbs "hm" for harmonic mean and "gm" for geometric mean, we can use composition of functions which is denoted by "@" in J.  However, there is one catch which is illustrated by the first example below.

The composite function must know its rank, that is, what kind of cells it should apply to in arrays.  The rule is that the composite inherits the rank from the rank of the first (rightmost) function.  The ranks of "%" and of "^." are each 0 (they apply to each 0-cell in an array) so the 0-rank is inherited along the composition.  Thus "am" takes the arithmetic mean of each 0-cell -- not what we want!

One way to fix the ranks is shown below.
)
hm =: %@am@%      NB. incorrect composition (rank is wrong)
hm 2 3 5 7        NB. applies to each 0-cell (incorrect)
hm =: %@am@(%"1)  NB. reciprocal of arth-mean of reciprocals
hm 2 3 5 7        NB. correct.  Could use (%"2) etc.
gm =: ^@am@(^."1) NB. exp of arth-mean of logs
gm 2 3 5 7

NB. =========================================================
Lab Section Conjugates
The way in which the harmonic mean and the geometric mean are formed from the arithmetic mean is very common situation in mathematics (and more generally in life!), a composition of the form

                -1
               p    @  f  @  p

Sometimes this construction is called a "conjugate". In ordinary life this is experienced as a preparation, p, followed by an operation, f, followed by undoing the preparation, p inverse.

Example: remove cover, fix engine, replace cover.

In the code below, note the syntax p^:_1 for the inverse of the function p
)
PREPARE
4!:55 <'p'
PREPARE
f =: (p^:_1)@am@(p"1)    NB. generic conjugate of 'am'
p =: ]                   NB. If p = (right) identity ...
f 2 3 5 7                NB. then f is just arithmetic mean.
p =: %                   NB. If p = reciprocal ...
f 2 3 5 7                NB. then f is harmonic mean.
p =: ^.                  NB. If p = nat. log ...
f 2 3 5 7                NB. then f is geometric mean.

NB. =========================================================
Lab Section
In J, the conjugate is provided through the conjunction "&." Thus "f&.p" will accomplish the conjugate "(p^:_1)@f@p" provided J is able to find a suitable inverse for "p". The conjunction "&." is called "under" in J.

The last example [below] is root-mean-square, often denoted by rms, and used in the audio industry.
)
hm =: am&.(%"1)  NB. harmonic mean: f = am, p = %
hm 2 3 5 7
gm =: am&.(^."1) NB. geometric mean: f = am, p = ^.
gm 2 3 5 7
gm matrix        NB. geometric mean of each row
f =: am&.(p"1)   NB. general conjugate of am
p =: %           NB. If p is reciprocal ...
f 2 3 5 7        NB. then f is harmonic mean.
p =: *:          NB. If p is square ...
f 2 3 5 7        NB. then f is root-mean-square.

NB. =========================================================
Lab Section Average Rates of Return
In the investment community, there is the concept of "average rate of return".  If annual interest rates in three successive years are 7%, 9%, and 4% then the average rate of return is 100r where

                   3
              (1+r)  = (1+0.07)(1+0.09)(1+0.04)

Thus we must divide by 100, add one, take logs, take the arithmetic mean, take antilogs, subtract one, multiply by 100.
)
ar =: am&.(^."1)&.(+&1)&.(%&100) NB. average rate of return
ar 7 9 4

NB. =========================================================
Lab Section Inverses and Partial Averages
Clearly there is no inverse to the average function: given an average you cannot deduce the original values that were averaged!

However, from a list of numbers we can compute the partial averages, i.e. the first, the average of the first two, the average of the first three, and so on, and this list has the same number of items as the original list. Moreover, the original list can be recovered from the list of partial averages: the partial-averages function has an inverse.

The partial averages function can be defined as the partial sums function "ps" composed with the divide-by-index function "di". [see below]
)
ps =: +/\            NB. Plus between on prefixes ...
ps 2 3 5 7           NB. is partial sums.
ix =: >:@i.@#        NB. increment of index list of #
ix 2 3 5 7           NB. computes indexes 1 ... (n = length)
di =: %ix            NB. divide by indexes
di 2 5 10 17         NB. divides each number by its index
pa =: di@ps          NB. partial averages
pa 2 3 5 7           NB. example

NB. =========================================================
Lab Section
Now we want the inverse of the partial average function.

First note that "ps" has an inverse that is known to J. (Experiment with (ps^:_1) 2 5 10 17 )

However, our function "di" is constructed from parts such as "i." and "#" which do not have inverses so the J cannot invert the function "di".  We can get around this apparent obstacle by defining the inverse of "di" ourselves and telling J what we want.  This construction which uses the ":." conjunction is called creating an "obverse" in J.

When this is done, the function "pa" becomes invertible.
)
di =: (%ix) :. (*ix)  NB. di is %ix and (di^:_1) is *ix
(pa^:_1) pa 2 3 5 7   NB. now 'pa' has an inverse!

NB. =========================================================
Lab Section Application to an Investment Problem
As an application of partial averages, consider the following situation. You are considering purchase of a mutual fund which gained 46% last year, had a rate of return of 19% per year over the last two years and had a of return of 11% per year over the last three years.

The performance of the fund sounds pretty good; but to what extent is the reported past performance really just a distortion created by the 46% gain last year?  To answer this, we must compute the actual annual gain each year from the average rates over the past three years.

We define a generic conjugate of partial-averages and then specify the preparation function p so that we compute average rates.  Apply the inverse of this function to solve our mutual fund problem. [see below]

Thus the fund lost over 3% in each of the two years before last year.
)
f =: pa&.(p"1)         NB. generic conjugate of 'pa'
p =: ^.@(+&1)@(%&100)  NB. p that gives average rates
f^:_1 (46 19 11)       NB. This gives the answer.
LABTITLE=: 'Binomial Coefficients'

NB. =========================================================
Lab Section TABLE OR MATRIX

The expression k ! n produces the kth binomial coefficient of order n, and the function bc=: i. !/ i. may be used to produce a table or matrix of binomial coefficients. For example:
)
0!5

1!5

2!5

bc=: i. !/ i.

bc 6

NB. =========================================================
Lab Section

Such a matrix can be used in a variety of interesting ways. For example, its inverse is the matrix of alternating binomials, and its matrix product with a vector of polynomial coefficients (with powers in ascending order) produces the coresponding "expanded" coefficients. For example:
)
bct=: bc 6

bct

abct=: %. bct

abct

X=: +/ . *          NB. The matrix product function

bct X abct

c=: 5 1 4 0 2 2

d=: bct X c

x=: 0 1 2 3 4 5 6 7

c p. x              NB. The polynomial with coefficients c

d p. x

c p. x+1

NB. =========================================================
Lab Section

The alternating binomial coefficients can be used to produce the inverse of expansion. For example:
)
abct X d

c

c=abct X d

NB. =========================================================
Lab Section MANUAL METHODS OF EXPANSION

If the vector c is written as a column to the right of the matrix bct, the product bct X c is easily computed by hand. Moreover, such computation may be less prone to error than commonly used methods. Try the experiment of expanding the vector c by by this method and by any others you may know.

Finally, it is easy to jot down the table bct of any order, because each row is obtained from the preceding row by adding it to a shift of itself.

It may also be interesting to compute the sums of the columns of bct and abct (+/ bct and +/ abct), particularly since the result of the latter is commonly mis-stated.
)

NB. =========================================================
Lab Section IDENTITIES

It is clear that the product bct X bct contains sums over products of various binomial coefficients. If, therefore, one could spot and articulate the pattern of the elements of the result, it could be used to state a host of identities, provided that the pattern holds for larger tables.

Try to state the pattern in the following results:
)
bct X bct

bct X bct X bct

bct X bct X bct

bct X bct X bct X bct

NB. =========================================================
Lab Section

Using the fact that M % N denotes the element-by-element division of the matrix M by the matrix N, and the fact that 0%0 is defined to be 0, try to discern the pattern in the following results:
)
(bct X bct) % bct

(bct X bct X bct) % bct

(bct X bct X bct) % bct

(bct X bct X bct X bct) % bct
LABTITLE=: 'Math Tables'
LABAUTHOR=: 'K. E. Iverson'

NB. =========================================================
Lab Section Tables
Addition and multiplication tables help to clarify the behaviour of addition and multiplication. This lab uses J to experiment with tables for them as well as for other less familiar operations.

To advance to the next panel select menu Studio|Advance.
)

NB. =========================================================
Lab Section Scalars and lists
Addition and multiplication may be applied to individual numbers (called scalars) or lists, as follows:
)
2+25
2*0 1 2 3 4 5 6 7 8 9 10

NB. =========================================================
Lab Section Names or Variables
In math we may say "Let x=2" to assign the value 2 to the name x In J we write x=:2,a sentence that we normally read aloud as "x is 2". Thus:
)
x=:2
y=:0 1 2 3 4 5 6 7 8 9 10
x*y

NB. =========================================================
Lab Section Experimentation
First click the mouse in the execution window to ensure that the focus is there.

Then type the sentence y*y , stop and try to predict what the result should be, then press the Enter key to execute the sentence.
)

NB. =========================================================
Lab Section Addition table
Enter the sentence

y +table y

to produce an addition table. Then produce multiplication and subtraction tables.
)

NB. =========================================================
Lab Section Named tables
Assign the names AT and MT and ST, for Addition, Multiplication, and Subtraction, to the tables produced above. For example, enter

AT=: y + table y

AT
)

NB. =========================================================
Lab Section Joint Display
Tables may be displayed together for comparison. For example, enter:

AT,.MT

AT,.ST,.MT
)

NB. =========================================================
Lab Section Cursor and Re-entry
Some of the text will have now passed off the screen. The up-arrow key will move the cursor up the screen, and will bring back earlier material. Pressing Enter will bring the line marked by the cursor down to the enter area, where it may be re-executed, perhaps after modifying it by use of the left and right arrows, and the backspace and delete keys.
)

NB. =========================================================
Lab Section Rows and Columns
Enter 2 * y to verify that it gives the results of row 2 of the multiplication table. Repeat for other rows and other tables.

Enter an expression to give column 3 of ST.
)

NB. =========================================================
Lab Section Studying tables
Understanding the significance of the individual rows and columns makes it possible to use a multiplication table to study the properties (that is, the behaviour) of multiplication. Study the table MT and comment on all the interesting properties you observe.
)

NB. =========================================================
Lab Section
Compare your comments with the following, and verify that they are correct:

*  Row 3 agrees with column 3. In other words, the expressions 3*b and b*3 agree for any b. This property of multiplication is expressed by stating that it is commutative.

* Row 4 proceeds by "counting by fours". In other words,

   4 * (b+1)

equals

   4 + (4*b)

* The numbers on the diagonal are all squares.
)

NB. =========================================================
Lab Section Symmetric lists
Enter :

s=:y-5

s

to display a symmetric list beginning with negative 5 and ending with 5. Then display the table s * table s and comment on any further properties of multiplication observable in it.
)

NB. =========================================================
Lab Section
Compare your comments with the following:

* The zero row and zero column are all zeros, and these divide the table into four quadrants that alternate in sign.

* Since row 4 proceeds to the right by counting by fours, it is clear that the sign must change on crossing the zero column.

* The numbers in the upper left quadrant are each a product of two negative numbers. Their sign can be used to  remember that (or perhaps even to see WHY) the product of two negatives is positive.

* As in MT, the diagonals are all squares, and are therefore all non-negative.
)

NB. =========================================================
Lab Section Unknown functions
Just as the study of the table of a known function, such as *, can reveal many of its properties, so can a careful study of an unknown function reveal what it does.

Study the table y |table y, try to state what the function | does, and suggest a name for it.
)
y |table y

NB. =========================================================
Lab Section
3 divides 6 to give the quotient 2
3 divides 7 to give the quotient 2 and the remainder 1
3|7 gives the remainder on dividing 3 into 7
| is called the remainder or residue function.
)
3|y

NB. =========================================================
Lab Section J Dictionary
Place the cursor just to the left of a | on the screen, hold down the Control key, and press the F1 key. This displays the page from the J Dictionary that defines |

Press the Escape key to close the dictionary.

The right side of the page shows the (dyadic) case of two arguments just discussed. The left (monadic) case of one argument is the Magnitude or Absolute Value function. Thus:
)
s
3|s
|s

NB. =========================================================
Lab Section Double use of symbols
If you suspect that the double use of the symbol | could lead to confusion, be re-assured that such use of the minus sign is frequent and familiar, the case x-y meaning subtraction, and the case -y meaning negation. Thus:
)
s
5-s
-s

NB. =========================================================
Lab Section
Confirm the general use of two meanings by looking up - and other functions in the dictionary. It may be wise to limit your reading to the first few lines, because many definitions continue into details not relevant to a beginner.

For example, the monadic case of = may prove too difficult, and may best be ignored by a beginner:
)
8=2 7 1 8 2 8
=2 7 1 8 2 8

NB. =========================================================
Lab Section Further functions
Display and study each of the following function tables:

y<table y

y>table y

y=table y
)

NB. =========================================================
Lab Section
Joint displays of related functions may make them easier to study. For example, observe the following results q and r, and then try q,r
)
]q=:y (<table,.>table,.=table) y

]r=:y (<:table,.>:table,.~:table)  y

NB. =========================================================
Lab Section Min, Max, Left, Right
Study the tables A and B and C and D and then look at (A,.B),(C,.D)
)
A=: y <.table y

B=: y >.table y

C=: y <.table y

D=: y <.table y

NB. =========================================================
Lab Section Approximate results
Study the following tables, using the dictionary if necessary. Notice that some of the larger results such as 9^10 (nine to the power ten) are only approximate.
)
E=: y ^table y

F=: y !table y

G=: y %table y

NB. =========================================================
Lab Section
We will repeat the functions of the preceding section, using x: y instead of y to invoke "infinite precision" computation. This also produces quotients of integers as rational numbers. For example, the result of the quotient of 3 divided by 7 is given as 3r7.

Try expressions such as 2r3+3r4 and 2r3*3r4
)
EX=: y ^table x:y

FX=: y !table x:y

GX=: y %table x:y
LABTITLE=: 'Special Searches'
LABAUTHOR=: 'Roger Hui'
LABWIDTH=: 56
LABWRAP=: 0
LABCOMMENTS=: 'original writing: 2005-02-09; last changed: 2005-02-23'

NB. ====================================================
Lab Chapter    Introduction
NB. ====================================================
Lab Section Introduction

Some common search phrases are "recognized" by the
system and are implemented by special code, resulting in
savings in time and space.  This lab discusses the
following groups of such phrases:

f i. 1:   first place where x f y
+./@:f    does x f y anywhere?
i.<./     where the minimum first occurs
m&i.      fixing the left argument of i.
)
PREPARE
ts=: 6!:2 , 7!:2@]  NB. time and space
PREPARE
NB. ====================================================
Lab Chapter    f i. 1:
NB. ====================================================
Lab Section f i. 1:

The phrase  x (> i. 1:) y  finds the first place where x
is greater than y .
)
] x=: 10 ?.@$ 288
] y=: 10 ?.@$ 388
x (>i.1:) y
(x>y) i. 1

NB. ====================================================
Lab Section

x (>i.1:) y is a fork, equivalent to the following:
)
x (>i.1:) y
(x > y) i. (x 1: y)  NB. definition of a fork
(x > y) i. 1         NB. constant verb 1:

NB. ====================================================
Lab Section

Finding the first place where x is greater than y is
done conventionally by the phrase  (x>y)i.1 .
x>y compares x and y for all elements, creating a
Boolean list in so doing, then finds the first 1 in the
list.  The time savings in  x(>i.1:)y  come from
comparing only as many elements as necessary to find the
first 1, while avoiding creating the Boolean list.  The
space savings come from not having to create the list.

If a "hit" comes at the beginning, the search ends
instantaneously.  Even if a hit comes at the end, the
time savings are by a factor of at least 2.  In either
case the space used is constant instead of linear.
)
ts=: 6!:2 , 7!:2@]  NB. time and space

ratio=: 4 : 0
 t0=. ts 'x (>i.1:) y'  NB. with special code
 t1=. ts '(x>y)i.1'     NB. without special code
 t0,t1,t1%t0
)

NB. time-space with special code, without special code, ratios

x=: 1e5 ?@$ 2e9
x ratio 0    NB. found at the beginning
x ratio 2e9  NB. found at the end

x=: 1e6 ?@$ 2e9
x ratio 0    NB. found at the beginning
x ratio 2e9  NB. found at the end

NB. ====================================================
Lab Section

Other forks similar to (>i.1:) are likewise recognized
and are supported by special code:

a. various propositions:  = ~: < <: >: > E. e.
b. finding first place or last place:  i. i:
c. finding 1 or 0

That is,
   f i. 1:    first place where     x f y
   f i. 0:    first place where not x f y
   f i: 1:    last  place where     x f y
   f i: 0:    last  place where not x f y

Some restrictions apply:
- Special code is available only for Boolean, integer,
  floating point, literal, and symbol arguments
- Special code is used only for atoms and lists if f is
  not e.
- If f is E. , special code only for   E.i.1:
)

NB. ====================================================
Lab Section
Some examples to illustrate the use of these searches:
)
NB. index of first vowel
'boustrophedonic' (e.i.1:) 'aeiou'
NB. index of last  vowel
'boustrophedonic' (e.i:1:) 'aeiou'
NB. index of first consonant
'boustrophedonic' (e.i.0:) 'aeiou'
NB. index of last  consonant
'boustrophedonic' (e.i:0:) 'aeiou'
NB. index of the word "ago"
'ago' (E.i.1:) 'fourscore and ten years ago, our fathers'

NB. ====================================================
Lab Chapter    +./@:f
NB. ====================================================
Lab Section +./@:f

Another group of recognized search phrases are:
   + /@:f    number of places where x f y
   +./@:f    x f y anywhere?
   *./@:f    x f y everywhere?
   I. @:f    indices where x f y

+./@:f and *./@:f will do only as many comparisons as
needed to determine the answer.  +/@:f  and  I.@:f  will
necessarily do all the comparisons.  Therefore, the
amount of savings from the special code is data
dependent.  It is possible for there to be little or no
savings.

Alternative phrasings ([: +/ f , and @ instead of @: for
f with infinite ranks) are also recognized.
)

x=: 1e6 ?@$ 2e9
y=: 1e6 ?@$ 2e9
t=: 0 2$0
t=: t,%/ts&> '+ / x > y'; 'x + /@:> y'
t=: t,%/ts&> '+./ x > y'; 'x +./@:> y'
t=: t,%/ts&> '*./ x > y'; 'x *./@:> y'
t=: t,%/ts&> 'I.  x > y'; 'x  I.@:> y'
NB. time-space ratios for (no special code) % (special code)
0j2 ": t

NB. ====================================================
Lab Chapter    i.<./
NB. ====================================================
Lab Section i.<./

The following monads are recognized and implemented by
special code, for integer or floating point lists:
   i.<./   index where the minimum first occurs
   i.>./   index where the maximum first occurs
   i:<./   index where the minimum last  occurs
   i:>./   index where the maximum last  occurs
)
x=: 1e6 ?@$ 2e9
ts 'x i. <./x'
ts '(i.<./) x'

NB. ====================================================
Lab Chapter    m&i.
NB. ====================================================
Lab Section m&i.

Certain verbs in the "index of" family with a fixed noun
argument m are supported by special code.  That is,
   m&i.        m&(i.!.0)
   m&i:        m&(i:!.0)
   -.&m        -.!.0&m
   e.&m        e.!.0&m
   (e.i.0:)&m  + /@e.&m
   (e.i.1:)&m  +./@e.&m
   (e.i:0:)&m  *./@e.&m
   (e.i:1:)&m   I.@e.&m
are supported by special code, so that for most m and y
the phrase  m&i. y  takes time proportional to the size
of y . ("Most" means amenable to hashing or some other
fast pre-processing technique.) There is no improvement
in performance with just one application; there can be a
substantial improvement in performance with repeated
applications.
)

NB. ====================================================
Lab Section

Some examples to illustrate the point about "one
application" versus "repeated applications".  In the
following benchmarks:

appl1     1 search
appl1s    1 search   with special code
appl3     3 searches
appl3s    3 searches with special code
)
m =: 1e6 ?@$ 1e6
y0=: 1e5 ?@$ 1e6
y1=: 1e5 ?@$ 1e6
y2=: 1e5 ?@$ 1e6

appl1 =: 3 : 'm i. y0'
appl1s=: 3 : ('f=. m&i.'; 'f y0')
appl3 =: 3 : ('m i. y0'; 'm i. y1'; 'm i. y2')
appl3s=: 3 : ('f=. m&i.'; 'f y0'; 'f y1'; 'f y2')

ts 'appl1  0'
ts 'appl1s 0'
ts 'appl3  0'
ts 'appl3s 0'

NB. ====================================================
Lab Section

The difference in time is particularly striking if the
repeated applications are on small arguments.  Thus:
)
m=: 1e6 ?@$ 1e6
y=: 10 ?@$ 1e6
f=: m&i.
ts 'm i. y'
ts 'f y'

NB. ====================================================
Lab Section

Creating the verb  m&i.  now takes more time and space,
comparable to what is required for one execution of i.~m
However, these costs are amortized over repeated
applications.
)
m=: 1e6 ?@$ 2e9
ts 'f=: m&i.'
ts 'i.~m'
#!/bin/sh
# simple script to copy labs into this folder that have a chance of working with j-playground
grep -r --include "*.ijt" -L "LABDEPENDS\|load" ../labs_labs/ | xargs cp -t .
LABTITLE=: 'Volume'

NB. =========================================================
Lab Section Volume of Tetrahedron

Enter tet1 to display a table of coordinates of a
tetrahedron. Then enter tet1,.1r6 to border it
with a column of one-sixths, and enter
det tet1,.1r6 to get the magnitude of
the determinant of the resulting square matrix.
This is the volume of the tetrahedron.

See Klein "Elementary Mathematics From An Advanced
Viewpoint". Also see the lab AREA.

Repeat the experiment for the tetrahedra tet2, tet3, tet4.
)
PREPARE
det=:|@(-/ .*)
tet1=:?4 3$9
tet2=:?4 3$9
tet3=:?4 3$9
tet4=:?4 3$9
PREPARE

tet1
tet1,.1r6
det tet1,.1r6
LABTITLE=: 'Finite Groups'
LABAUTHOR=: 'KEI'

NB. =========================================================
Lab Chapter INTRODUCTION
NB. =========================================================
Lab Section A. Group Definition
A finite group of order n is a set of n distinct abstract elements,
with a law of combination for any two elements to form a
"product" such that:

A. Every product of any two elements is a member of the set.

B. The set contains a unit element whose product with any
other element is that element.

C. The associative law holds.

D. Every element has an inverse, whose product is the unit element.

We will treat the law of combination as a function f; that is,
the product of elements a and b is given by a f b, and will attempt
to develop a group (of order 4) whose elements are the first four non-negative integers,
using addition (that is, f=:+):
)
PREPARE
clear''
PREPARE
'a b c d'=: i.4

a,b,c,d

f=: +

(a,b,c,d) f table (a,b,c,d) NB. The product table

NB. =========================================================
Lab Section
This table of products clearly violates rule A, since it
includes the elements 4, 5, and 6 that do not belong to the
original set.

This could be rectified by using a function that takes the 4-residue (the remainder on
dividing by 4) of the sum as shown below.

Moreover, this value of f satisfies rules B and D as well:

B. The first row of the table of products shows that 0 is the unit element.

D. Each row of the product table includes the unit element 0 in some
column, and the "header" of that column is therefore the inverse.
For example, the inverse of 3 is 1:
)
f=: 4&|@+

2 + 3
2 f 3

(a,b,c,d) f table (a,b,c,d)

3 f 1

NB. =========================================================
Lab Section
Tests of the associativity of f=:4&|@+ are shown below.
In general, f is associative because addition (+) is. We
have therefore shown that the elements 0, 1, 2, and 3 together
with the rule of combination given by f satisfy the group
properties:
)
(1 f 2) f 3

1 f (2 f 3)

(1 f 2) f (3 f 1)

1 f (2 f 3) f 1

NB. =========================================================
Lab Section B. Group Generators
If a unit element is applied to itself the product is also
the unit element. Moreover it is its own inverse -- the unit
element alone therefore forms a group.

If an element applied to itself yields a different product, the
set of the two of them form a possible group. If the table of their
products includes new elements, they may also be added, and the process
repeated until no new products appear. The resulting set is a group.
)
0 f 0                   NB. The unit element alone forms a group
3 f 3                   NB. The product of 3 with itself yields a new element

3 2 f table 3 2         NB. Which added to 3 produces new elements 1 and 0

3 2 1 0 f table 3 2 1 0 NB. Which complete the group generated by 3

NB. =========================================================
Lab Section
The group generated by the element 2 contains only the elements
2 and 0 -- it is said to be a subgroup of the group 0 1 2 3.

Test the subgroups 0 and 2 0 to see that they satisfy all of the group properties.
)
2 f 2

2 0 f table 2 0

NB. =========================================================
Lab Section C. Higher-order Groups
Higher-order groups may be made in the same manner originally used
for the group of order 4. For example:
)
'a0 a1 a2 a3 a4 a5 a6 a7 a8 a9 a10 a11 a12 a13 a14 a15'=: ALL =:i.16

f16=:16&|@+

ALL f16 table ALL

NB. =========================================================
Lab Section
Explore the subgroup generated by a4 and f16.

Do likewise with other generators, and find at least one element that
generates the full group.

In doing this the following scheme may be found helpful:
)
g=:a2
g
g f16/ g             NB. / (instead of table) gives "bare" table of products
, g f16/ g           NB. , ravels the table to give the list of products
g , , g f16 g        NB. Append these products to the group g
~. g , , g f16 g     NB. Nub (~.) removes duplicates
g=: ~. g , , g f16 g NB. New g with appended new products
g
g=: ~. g , , g f16 g
g
g=: ~. g , , g f16 g
g
g=: ~. g , , g f16 g
g

NB. =========================================================
Lab Section D. Generation Adverb
We will use the foregoing process to define an adverb gen such
that f gen e gives further elements of the group defined by
f and generated from the elements e:
)
gen=:1 : '~. y , , y u/ y'

e=:2

e=:f16 gen e
e

e=:f16 gen e
e

e=:f16 gen e
e

e=:f16 gen e
e             NB. No further shows that the generation is complete

e=:2          NB. Reset e

f16 gen ^:_ e NB. NB. f16 gen to infinite power gives the limit directly

NB. =========================================================
Lab Section E. Alphabets
We will use the term "alphabet" for the list of potential
elements of a group, and will illustrate the fact that the
"abstract" elements may be chosen from any alphabet.

We begin with an alphabet of the letters of English, and a
function nfl that gives "numbers from letters", and its
inverse lfn that gives letters from numbers.

We will use the conjunction &. in the expression f16 &. nfl
to apply f16 "under" nfl, that is, apply nfl, then f16, and
then "restore" the effect of nfl by applying its inverse:
)

   ALPH=:'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
   nfl=: ALPH& i.
   nfl 'AC'
   lfn=:nfl^:_1
   lfn 0 2
   f16A=: f16 &. nfl "0
   f16A gen 'AC'
   f16A gen^:_ 'AC'
   nfl f16A gen^:_ 'AC'

NB. =========================================================
Lab Section
We now define a "word-alphabet" and use it as we did the alphabet of letters.
)
WALPH=:'zero';'one';'two';'three';'four';'five';'six';'seven'

WALPH

nfw=: WALPH&i.
nfw 'zero';'two'

f8=:8&|@+
f8w=:f8 &. nfw"0
f8w gen 'zero';'two'

f8w gen^:_ 'zero';'two'

f8w gen^:_ <'one'

NB. =========================================================
Lab Section F. Selection From and Permutations
The function { selects from its right argument those elements indexed by its left argument. If the left argument contains all of the possible indices in some order, the result is said to be a "permutation" or "anagram" of the right argument.

Such a list of indices is called a permutation vector. For example:
)
y=:'TRAPS'

0 2 3 { y

3 2 1 0 4 { y NB. An anagram of 'TRAPS'

NB. =========================================================
Lab Section
We will now use boxed permutation vectors as a "permutation alphabet" for elements of groups. The function fp for this group will be selection ({) under open, that is, fp=:{&.> . For example:
)
fp=:{&.>

e=:<4 0 1 3 2

e
fp gen e

fp gen^:_ e

e2=:0 4 3 2 1;1 0 4 2 3

 # fp gen^:_ e2 NB. See display in next panel

NB. =========================================================
Lab Section
)
20 6 $ fp gen^:_ e2

NB. =========================================================
Lab Section
Since the ordering of the elements of a group is immaterial,
it is easy to recognize that the lists 0 2 4 8 and 4 8 2 0
represent the same group. In more extensive cases it may be
helpful to use sorting to bring the lists to a standard order.
For example:
)
sort=:/:~

20 6 $ sort fp gen^:_ e2

NB. =========================================================
Lab Section G. Matrices and Matrix Product
Matrices and matrix product may also be used to represent
groups. For example:
)
m=:<%:-=i.3
mp=:+/ . *
mp&.> gen^:_ m

LABTITLE=: 'Huffman Coding'
LABAUTHOR=: 'Roger Hui'
LABCOMMENTS=: 0 : 0
Initial Writing: 2004-02-24
Last Updated: 2004-03-07
)
LABWRAP=: 0

NB. =========================================================
Lab Section Introduction

Huffman coding assigns codes to words in a text based on the
frequency (probability, weight) of occurrence of the words,
to reduce the space needed to represent the text.  It exploits
the disparity in word frequencies by assigning short codes
to the more frequently occurring words, and conversely longer
codes to the less frequently occurring words.

A simplified version is presented here where the "words" are
letters and codes are binary (lists of 0s and 1s).
)

NB. =========================================================
Lab Section Encoding

The assigning of codes is done by constructing a binary tree
with minimum weighted path lengths with the words at the
leaves.  The paths are the codes.

The method is due to David A. Huffman (Kenneth E. Iverson, A
Programming Language, Wiley, 1962, Section 3.4, Example 3.2;
Donald Knuth, The Art of Computer Programming, Volume 1,
Addison-Wesley, 1973, Section 2.3.4.5).  The main logic is
embodied in the recursive verb hc below.  The arguments are a
list of weights and a list of the corresponding subtrees.
hc takes the two subtrees with the smallest weights and makes
a new subtree from them, whose weight is the sum of the two
weights.  Initially the weights are the original frequencies
and the subtrees are the original words.  The recursion stops
when there is just one subtree (and one weight).
)

hc=: 4 : 0
 if. 1=#x do. y
 else. ((i{x),+/j{x) hc (i{y),<j{y [ i=. (i.#x) -. j=. 2{./:x end.
)

hcodes=: 4 : 0
 assert. x -:&$ y           NB. weights and words have same shape
 assert. (0<:x) *. 1=#$x    NB. weights are non-negative
 assert. 1 >: L.y            NB. words are boxed not more than once
 w=. ,&.> y                  NB. standardized words
 assert. w -: ~.w             NB. words are unique
 t=. 0 {:: x hc w            NB. minimal weight binary tree
 ((< S: 0 t) i. w) { <@(1&=)@; S: 1 {:: t
)


NB. =========================================================
Lab Section

We use a small example to illustrate the workings of the
Huffman encoding algorithm.  The letters are a b c d e f
and the corresponding frequencies are 3 1 4 1 5 9.

hc constructs the minimum weighted binary tree t with
the words at the leaves.

< S: 0 t gives the words in left first traversal.

{:: t gives the paths to the words.

<@(1&=)@; S: 1 {:: t makes a list of the paths in left
first order. (The 1&= makes the numbers boolean.)

A final index gives the Huffman codes.
)

A=: 'abcdef'                 NB. letters
F=: 3 1 4 1 5 9              NB. corresponding frequencies

] t=: 0 {:: F hc ,&.>A       NB. minimum weighted binary tree
] a=: < S: 0 t               NB. the words in left first traversal
{:: t                        NB. paths to the words
] p=: <@(1&=)@; S: 1 {:: t   NB. paths in standard form
((;a) i. A) { p              NB. Huffman codes for a b c d e f
] H=: F hcodes A             NB. Huffman codes for a b c d e f

NB. =========================================================
Lab Section

To encode a given text, find the location of each letter in
the alphabet A and then index into the list of Huffman
codes H.  The raze of these codes is the Huffman encoding.
)

hencode=: 4 : '(>{.x) ;@:{~ (>{:x) i. y'

(A i. 'cab') { H
; (A i. 'cab') { H
HA=: H;A
HA hencode 'cab'

NB. =========================================================
Lab Section Decoding

The dyad ;: (sequential machine) facilitates conversion from
Huffman codes back into the original text.  The verb hst
computes S and B required to effect the decoding.

S is the state transition and output table ("state table"
for short), a key item in the left argument for ;: .

B is the list such that _2]\B are the letters that correspond
to the entries in S.  B has '_' for entries in S that do not
correspond to any letter.
)

NB. =========================================================
Lab Section

Each entry of the state table S is a pair of numbers of the
new state and output code.  The table has outer shape s,2,
where s is the number of possible states and 2 is the number
of possible values in Huffman codes (0 and 1).

The table is constructed by considering all possible prefixes
of the Huffman codes, sorted by length and value.  This is
the quantity p in the verb hst.  (The sorting is for esthetic
purposes and is not required for the correct functioning of
the decoding.)  0 and 1 are then separately appended to each
prefix, q in the verb hst.  These correspond to the entries
in S.

If an entry of q is an actual Huffman code, the output code
is 3 (terminate the current code word) and the new state is 0
(scan for a new code word); if it does not, then the output
code is 0 (continue building the current code word) and the
new state is the row in q that corresponds to the abuilding
code word.

The last phrase below shows the correspondence between q S B;
respectively, the code words, the state table (with the new
state and output codes), and the original letters.
)

type =: 3!:0
nullc=: '_'  NB. illegal character (use  {:a. in practice)

hst=: 3 : 0  NB. Huffman decode state transition table
 'H A'=. y
 assert. H-:&#A
 assert. (1=#$A)*. 2=type A     NB. letters
 assert. (1=#$H)*.32=type H     NB. corresponding Huffman codes
 assert. (1=#@$&>H)*.1=type&>H  NB. H-codes are boolean lists
 assert. H -: ~.H               NB. H-codes must be unique
 assert. -. a: e. H             NB. H-codes must be non-empty
 p=. ~. a: , ; <\@}:&.>H        NB. all possible prefixes
 p=. p /: (#&.>p),.p            NB. sorted by length and value
 q=. p ,&.>/ 0;1                NB. code words corresponding to S
 assert. H e. ,q                NB. should contain all the H-codes
 B=. (H i.,q){A,nullc           NB. plain letter for each state
 b=. q e. H                     NB. 1 iff an actual Huffman code
 e=. 1, }. 3 * b                NB. output codes
 s=. (-.b) * p i. q             NB. state transitions
 assert. -. (,&.>0 1) e. H      NB. nonce error if (,0) or (,1) are H-codes
 S=. s,"0 e
 S;B
)

'S B'=: SB=: hst HA
$S
#B
(#B) = */ 2{.$S

p=: ~. a: , ; <\@}:&.>H   NB. all possible prefixes
p=: p /: (#&.>p),.p       NB. sorted by length and value
q=: p ,&.>/ 0;1           NB. code words corresponding to S

NB. code words, new state and output codes, original letters
(":q),.' ',.(":<"1 S),.' ',.": <"0 ] _2 ]\B


NB. =========================================================
Lab Section

Having the state table and corresponding letters in hand,
it is a simple matter to recover the original text:  run the
sequential machine using function code 3 -- return as result
the state table indices at the time of output -- and use
the indices to index into B.
)

hdecode=: 4 : '(>{:x) {~ (3;{.x);:y'

SB hdecode HA hencode 'cabbed'

NB. =========================================================
Lab Section Example

Here we use a more extended example.  A is a list of the
space and the letters of the alphabet.  F is a list of the
corresponding frequencies based on the book of Isaiah in
the NIV bible.

For example, the space occurs 34511 times, the letter a
occurs 10413 times, b 2041 times, etc.  The letter z
occurs 161 times, much less frequently than the letter a.

H is a list of the Huffman codes for the letters A whose
frequencies are F.  Thus:

   letter   freq    hcode

   space   34511    0 0
   a       10413    1 0 0 1
   b        2041    0 1 1 0 0 0
   z         161    1 1 0 0 1 0 1 0 0 1

The benchmarks show that hencode and hdecode are quite
efficient.
)

A=: ' ',(97+i.26){a.
F=: 34511 10413 2041 2339 6059 17277 3241 2668 9437 9454 292 1199 7690 3306 8723 11885 2110 39 8739 8780 11621 3883 1351 3953 53 3564 161
(#A) = #F
H=: F hcodes A
H {~ A i. ' abz'

HA=: H;A
t=: 'the quick brown fox jumps over the lazy dog '
HA hencode t
SB=: hst HA
SB hdecode HA hencode t

x=: 1e6 $ t
# y=: HA hencode x
x -: SB hdecode y

ts=: 6!:2 , 7!:2@]
ts 'HA hencode x'
ts 'SB hdecode y'
LABTITLE=: 'Frame''s Method'
LABAUTHOR=: 'Richard L.W. Brown'

NB. =========================================================
Lab Section Introduction
J. S. Frame developed an iterative method of computing the coefficients of the characteristic polynomial of a matrix (including the determinant) and also the inverse of the matrix. This lab illustrates the method of Frame using two different programming styles.
)

NB. =========================================================
Lab Section Frame's Method
This lab shows how to compute the trace of a matrix using J. Then the trace is used in an iterative method, due to J. S. Frame, to compute the other coefficients of the charateristic polynomial of the matrix (including the determinant) and to also compute the inverse of the matrix.

First, enter a sample 3 by 3 matrix M.
)
M =: 3 3 $ 2 0 _7   3 1 4   0 5 8
M

NB. =========================================================
Lab Section
Now we experiment with monadic and dyadic transpose.

Monadic transpose reverses the axes of an array.

In dyadic tranpose, the axes listed in the left argument are moved to the end of the list of axes.  For an array of rank 2 (a matrix) the only possibilities are to leave the axes alone (and not change the matrix) or switch the axes, same as the monadic transpose.

But if some axes in the left argument are boxed then those axes are run together, e.g. we get indicies i,i instead of i,j .
)
 M; (|:M); (0|:M); (1|:M); ((<0 1)|:M)

NB. =========================================================
Lab Section
Thus the principal diagonal of the matrix can be obtained with the "pd" function shown below.

Then the trace is just the sum of the principal diagonal.
)
pd =: (<0 1)&|:
sum =: +/
of =: @
tr =: sum of pd
tr M

NB. =========================================================
Lab Section
The method of Frame is the following iteration.

Let M be a given square matrix of size m by m

Let F0 = I  (the n by n identity matrix) and let C0 = 0.

For k = 1 to m let

   Fk = M x (Fk-1 + Ck-1 x I)  and  Ck = -(tr Fk)/k

Then the coefficients of the characteristic polynomial of M are Cm, ..., C1, 1.  In particular, tr M = -C1 and det M = Cm(-1)^m  Also, the adjoint of M is Fm-1 + Cm-1 x I and the inverse of M is (Fm-1 + Cm-1 x I)/Cm(-1)^m
)
frame =: verb define
F =. I =. =i.m =. #M =. y
C =. 0
for_k. 1+i.m do.
F =. M +/ . * F1 =. F + ({.C)*I
C =. (-(tr F)%k),C
end.
((}:C),1);F1
)

NB. =========================================================
Lab Section
Below is the method of Frame applied to the matrix M.  The output is a boxed vector of the coefficients of the characteristic polynomial of M, i.e. of which the first entry is (-1)^m times the determinant of M, followed by a boxed matrix which is the adjoint of the matrix M.

Note that we could easily modify the last line of the program to output the inverse instead of the adjoint: just replace "F1" by "F1%({.C)*(-1)^m".
)
frame M

NB. =========================================================
Lab Section
It is useful to capture the ouput in variables as shown below. Then the coefficients and adjoint matrix can be used for subsequent calculations.

For example, you can see below that M times M adjoint is the determinant times the identity matrix.
)
'C Mad' =: frame M
C
Mad
M +/ . * Mad

NB. =========================================================
Lab Section
Next, we can use the monadic polynomial function "p." to find the roots of the characteristic polynomial, that is, the eigenvalues of the matrix M.  Then we can verify that the eigenvalues are zeros of the function

   det(M - xI)
)
p. C
'E1 E2 E3' =: >{:p. C
det =: -/ . *
I =: =i.#M
(det M - E1*I);(det M - E2*I);(det M - E3*I)
LABTITLE=: 'A Taste of J (2)'

NB. =========================================================
Lab Section First Steps
Look at the following J sentences; can you figure them out? The sentences are shown indented 3 spaces; the result, if any, is shown aligned to the left margin.

These simple sentences illustrate some of the core facilities of J, that will be described in this lab.
)
tab=: /~

(];*.tab;!tab) _2+i.7

NB. =========================================================
Lab Section
To start, note that "verbs" (i.e. functions) in J can apply to several data items at once. Indeed, the basic datatype is an array, and J verbs are designed to apply to arrays. For example, the following adds two lists of numbers:
)
2 3 5 + 10 20 30

NB. =========================================================
Lab Section Adverbs
The "adverb" in J takes a verb argument and returns another verb, typically related. The behaviour is much like in English: "run quickly", is the verb "run", modified by the adverb "quickly".

The J adverb / results in a verb that applies to each pair of elements, compare with above:
)
2 3 5 +/ 10 20 30

NB. =========================================================
Lab Section
Thus, +/ forms an addition table, and similarly, */ forms a multiplication table:
)
2 3 5 */ 10 20 30

NB. =========================================================
Lab Section
Try entering:

   2 3 5 %/ 10 20 30
)

NB. =========================================================
Lab Section
The adverb ~ applies a verb with the same argument on the left as on the right, thus the following two expressions are equivalent:
)
0 1 2 3 + 0 1 2 3

+~ 0 1 2 3

NB. =========================================================
Lab Section
We can combine two adverbs. The following applies the +/ addition table with the same argument on left and right:
)
+/~ 0 1 2 3

NB. =========================================================
Lab Section
Since /~ is to be used again, we give it a name "tab". This is not required, but is helpful in reading later expressions.
)
tab=. /~

+ tab 0 1 2 3

* tab 0 1 2 3

NB. =========================================================
Lab Section
Try entering:

   ^ tab 0 1 2 3
)

NB. =========================================================
Lab Section Integer
The verb i. (integer) generates the first n numbers.

Try entering:

   i. 3 4

   i. 3 4 5
)
i.7

NB. =========================================================
Lab Section Negative Numbers
Negative numbers are shown with a leading underscore character, which is not the same as "-", the minus verb.
)
_2+ i.7

NB. =========================================================
Lab Section Combining Verbs
Now lets look at the expression in parentheses:

   ];*.tab;!tab

Ignoring the semicolons for the moment, the expression contains 3 verbs:

] is the identity verb:
)
] _2+i.7

NB. =========================================================
Lab Section
*. is the least common multiple verb, so *.tab is the corresponding table. For example, the LCM of 3 and 4 is 12:
)
3 *. 4

*.tab _2+i.7

NB. =========================================================
Lab Section
! is the combinations verb. m!n is the number of ways of taking m combinations of n objects; so !tab is the corresponding table. For example, 2!4 is 6.

Note that if you look at the lower right part of the table, you can see a copy of the triangle of Pascal.
)
2!4

!tab _2+i.7

NB. =========================================================
Lab Section
The expression in parentheses:

  ];*.tab;!tab

is therefore seen to be of the form:

  f;g;h

for verbs f g and h. It happens that ; is also a verb, so this expression is a list of 5 verbs!

To understand this, consider a simpler list of 3 verbs commonly seen in mathematics. Suppose f and g are functions, then:

   (f + g) x

is typically defined to be

   f(x) + g(x)

In J, this concept is extended to any type of function. Given verbs f g and h, then:

   (f g h) x

is defined as

   (f x) g (h x)

Example:
)
(] + %) 1 2 3 4   NB. % is the reciprocal

NB. =========================================================
Lab Section
A list of 3 verbs together is called a fork, and defines a new verb.

Here is another example. The verb ; links its arguments together, putting each in a box. The following is the fork: identity linked with reciprocal.
)
(] ; %) 1 2 3 4

NB. =========================================================
Lab Section
J interprets a list of 5 verbs by creating a fork from the rightmost 3 verbs, then another fork from the new verb and the two remaining verbs.

It may be seen that:

  (];*.tab;!tab)

is a verb that returns the identity; the LCM table; and the combinations table; all linked together.

Lets try it with a different argument:
)
(];*.tab;!tab) 3+i.7

NB. =========================================================
Lab Section Table Utility
Since verb tables are so useful for exploration, J has a standard utility adverb called "table" that creates a table bordered by its arguments.

For example:
)
!table 3+i.7             NB. right argument only

0 1 2 3 !table 3+i.7     NB. left and right arguments
LABTITLE=: 'Polynomials'

NB. =========================================================
Lab Section INTRODUCTION
An expression of the form:

    2     5     4
  3x  + 4x  + 2x

is called a polynomial, with argument x, and coefficients 3 4 2, and exponents 2 5 4. Using vectors (lists) it may be evaluated (for an argument value 3) as follows:
)
x=: 3
c=: 3 4 2
e=: 2 5 4

x^e

c * x^e

+/c * x^e

NB. =========================================================
Lab Section
Since addition is both associative and commutative, the
terms may be permuted to any order, without changing the result, for example:

    5    4    2
  4x + 2x + 3x

Thus:
)
perm=: 1 2 0

] ep=: perm { e

] cp=: perm { c

cp * x^ep

+/cp * x^ep

NB. =========================================================
Lab Section
Since:

   0
  x

is 1, and since any "missing" term, such as the cube in the example, can be included with a zero coefficient, any polynomial can be written in a standard descending form, with an unbroken sequence of exponents from the largest down to zero:
)
cd=: 4 2 0 3 0 0
ed=: 5 4 3 2 1 0

cd * x^ed

+/cd * x^ed

NB. A polynomial may also be written in a standard ascending order:

] ca=: |. cd

] ea=: |. ed

+/ca*x^ea

NB. =========================================================
Lab Section
The descending order is commonly used in elementary mathematics, but the ascending order is more common in advanced work because it allows the use of power series, polynomials with an indefinite (or even infinite) number of terms. We will mainly use the ascending form, but the descending form will be used in discussing number systems.

In a polynomial in standard form, the exponents are completely determined by the coefficients. For example:
)
c=: 0 0 3 0 2 4

# c

]e=: i.#c

+/c*x^i.#c

NB. These steps may be collected in a single function as follows:

p=: (+/ @ ([ * ] ^ i.@#@[)) " 1 0

c p x

c p 1

NB. Because of its importance, the polynomial is provided as
NB. a primitive function in J, with the two-character name p.:

c p. x

y=: 2 3 5 7 11

c p. y

NB. =========================================================
Lab Section
Although a polynomial is said to be a sum of terms, it is commonly written with the sign for subtraction as well as
addition, as in:

    2     5     4
  3x  - 4x  + 2x

This can be handled by using only addition, but with negative elements (such as _4) in the list of coefficients. Thus:
)

c=: 3 _4 2

e=: 2 5 4

+/c*x^e

0 0 3 0 2 _4 p. x

NB. =========================================================
Lab Section
The term polynomial refers to a function of a single argument, the x in the expression

     5     4     2
   4x  + 2x  + 3x

The primitive p. is a function of two arguments, and is therefore not properly a polynomial. However, an expression of the form c&p. bonds it with a left argument of coefficients to produce a polynomial function. For example:
)
c2=: 1 2 1
c3=: 1 3 3 1

f=: c2&p.
g=: c3&p.

x=: 2 3 5 7 11

f x
g x

h=: f*g
h x

(f+g) x

NB. =========================================================
Lab Section POLYNOMIAL FUNCTIONS
The sum and the product of polynomials used above are themselves polynomials, as is the composition f@g. Thus:
)
f g x

f@g x

k=: f@g
k x

4 12 21 22 15 6 1&p. x

NB. As illustrated above, the coefficients of the polynomial
NB. k are 4 12 21 22 15 6 1. We will examine means of finding
NB. the coefficients of other polynomials (such as the sum f+g
NB. and product f*g), after analyzing the effects of appending
NB. zeros to coefficients.

NB. =========================================================
Lab Section POWERS AND APPENDED ZEROS
The cube function ^&3 is itself a polynomial, and is equivalent to:

  0 0 0 1&p.

Thus:
)
x=: 2 3 5 7 11
x^3
^&3 x
0 0 0 1&p. x

NB. Moreover, the polynomial (0 0 0,c)&p. is equivalent to
NB. the product of the cube function with the polynomial c&p..
NB. For example:

c2=: 1 2 1
]pre=: 0 0 0,c2

pre&p. x
c2&p. x
(^&3 * c2&p.) x

NB. However, appending zeros to the end of a list of
NB. coefficients has no effect. For example:

]post=: c2,0 0 0
post&p. x
(post&p. = c2&p.) x

NB. =========================================================
Lab Section
A function for "multiplying" polynomial coefficients can be defined similarly:
)
times=: +//.@(*/)

c2 times c3

NB. In the function times, the diagonal operator /. applies
NB. its argument (the sum function +/) to each of the diagonals
NB. of the results of the multiplication table function */.
NB. The details may be seen as follows:

] table=: c2 */ c3

</.table        NB. The box function shows the diagonals
                NB. to which any function applies

+//. table

NB. =========================================================
Lab Section
The reason why these diagonal sums of the multiplication table yield the coefficients of the product polynomial may appear obvious. If not, consider the following:

The product of two sums of terms is the sum of the products of a term from one with each of the terms from the other. The product of typical terms:


      j
   c x

and

      k
   d x

is

        j+k
   c d x


The multiplication table of all coefficients (c*/d) may therefore be multiplied by x raised to the powers in the addition table for the indices (that is, (i.#c +/ (i.#d)), and the entire resulting table can be summed. Thus:
)
x=: 3

] exp=: (i.#c2) +/ (i.#c3)

table;exp;(x^exp);(table*x^exp);(+/+/table*x^exp)

NB. Any element of the table exp is an exponent of the
NB. final result that concerns the corresponding element
NB. in the table; the fact that equal elements of exp lie
NB. along the diagonals indicates that the elements of the
NB. table must be summed along these diagonals.

NB. =========================================================
Lab Section
Repeated multiplication by 1 1 produces the table of binomial coefficients. Thus:
)
1 1&times 1

1 1&times 1 1&times 1

1 1&times ^:(i.6) 1

NB. =========================================================
Lab Section
The coefficients of the composition f@g can be obtained as follows:
)
]q=: c3&times ^: (i.#c2) 1     NB. Powers of c3 times

c2*q                           NB. weighted by c2

+/c2*q

coeffs=. 4 : '+/ x * y&times ^: (i.#x) 1'

c2 coeffs c3

NB. =========================================================
Lab Section SECANT SLOPE
The points with coordinates x,f x and y,f y lie on the graph of the function f. The straight line through them is called a secant, and its slope is the quotient rise%run, where rise is the difference (f y)-(f x), and run is the difference y-x The slope of the secant through x and y gives an "average" value for the rate at which the function f is changing in the interval. If y=: x+s and the spacing s is small, the secant slope is a good approximation to the rate of change of the function f at x; geometrically, it is an approximation to the slope of the tangent to the graph of f at x

The slope of the cube function may be explored as follows:
)
f=: ^&3

x=: 0 1 2 3 4 5

((f x+1) - f x) % 1

((f x+0.0001) - f x) % 0.0001

scs=: ((f@+ - f@]) % [) " 0

0.0001 scs x

]s=: 10 ^ - i.5

s scs/ x

3*x^2

NB. =========================================================
Lab Section
We may also define a corresponding secant-slope operator:
)
SCS=: 1 : 0
((u@+ - u@]) % [) "0
)

,. (s ^&3 SCS/ x) ; (s ^&4 SCS/ x)

4 * x ^ 3

NB. =========================================================
Lab Section DERIVATIVE
The derivative of a function f is a function g that gives the rate of change of f, that is, the slope of the tangent to the graph of f. As suggested by the approximations provided by the secant slopes of the cube and fourth power in the preceding section, the derivative of the power:

    n
   x

is:

     n-1
   nx

The derivative of a constant multiple of a function is the same multiple of its derivative, and the derivative of the
term:

     n
   cx

is therefore

      n-1
   ncx

Since the derivative of a sum is the sum of the derivatives of the terms, the
derivative of the polynomial

                2     3
   c + c x + c x + c x

is

               1      2
   0 + c + 2c x + 3c x

In general, the coefficients of the derivative polynomial are obtained by multiplying the coefficients by their indices, and dropping the first. Thus:
)
c=: 3 1 4 2

c*i.#c

}.c*i.#c

der=: }.@(] * i.@#)

der c

x=: 0 1 2 3 4 5 6 7

c p. x

(der c) p. x

NB. =========================================================
Lab Section
We will test this derivative of the function f=: c&p. in two ways; first by applying the first derivative operator D.1 to f, and secondly by comparing the derivative with the secant slope obtained from the operator SCS of an earlier section. Thus:
)
f=: 3 1 4 2 & p.

f D.1 x

0.01 c&p. SCS x

NB. =========================================================
Lab Section INTEGRAL
We now define an integral function analogous to the derivative function der. Thus:
)
der

int=: 0: , ]  % 1: + i.@#

c

int c

der int c

x

(int c) p. x

NB. =========================================================
Lab Section NUMBER SYSTEMS
If d is the list of digits representing a number in the decimal system, then the number represented is obtained by summing the product of d with the powers of 10, in descending order.

It can therefore be treated as a polynomial with argument 10 and coefficients that are the list d in reverse order, |.d. In particular the function times=: +//.@(*/) can be adapted for the product of decimal digits:
)
d=: 1 9 9 7

|.d

(|.d) p. 10
NB. Lab: Shared Library (e) (windows only) - file examples

0 : 0
this lab assumes you are familiar with DLLs
if not, see lab: Shared Library (b) (dll/so/dylib) - intro

this lab assumes you know some C and have an overview of the WIN32 API

the lab uses procedures CreateFile, WriteFile, ReadFile etc. from DLL kernel32

internet search "msdn win32api CreateFile" for CreateFile info

routines often require constants declared in C header files
internet search "msdn win32api XXXX" can help find the value XXXX
or track it down through the windows header fileapi.h
)

assert UNAME-:'Win' NB. windows only
assert IF64         NB. requires J64

0 : 0
a bad declaration or parameter can CRASH or CORRUPT MEMORY
cd checks declaration and parameter types as best it can
scalar declaration (x) must have a scalar parameter
a pointer declaration (*x) must have a non-scalar parameter,
or a boxed scalar(used as a memory address)
)

0 : 0
J provides file functions with the 1!:x family
that are wrappers for standard C library functions
and are similar on all platforms

in addition to the C library file functions,
windows has win32api facilities
)

0 : 0
some procedures with character parameters come in two flavors:
...A for 8 bit chars and ...W for 16 bit (wide) chars
)
deletefile=: 'kernel32 DeleteFileA > x *c'&cd
closehandle=: 'kernel32 CloseHandle > x x'&cd NB. close file handle

cleanup=: 3 : 0
if. 0=nc<'fh' do. closehandle fh end.
erase<'fh'
ferase'~temp/test.jnk'
)
cleanup'' NB. clean state from earlier runs

0 : 0
CreateFile creates a file handle - a kernel object used to access a file

CreateFile prototype:

HANDLE CreateFile
  LPCTSTR lpFileName,           // pointer to name
  DWORD dwDesiredAccess,        // access
  DWORD dwShareMode,            // share
  LPSECURITY_ATTRIBUTES lpSA,   // security - unused
  DWORD dwDisposition,          // disp - how to create
  DWORD dwFlagsAndAttributes,   // attributes - normally 0
  HANDLE hTemplate              // template - unused

  dwDesiredAccess - GENERIC_READ  GENERIC_WRITE
  dwShareMode     - FILE_SHARE_READ  FILE_SHARE_WRITE
  dwDisposition   - CREATE_NEW  CREATE_ALWAYS  OPEN_EXISTING
                    OPEN_ALWAYS  TRUNCATE_EXISTING

result -1 for failure
)

0 : 0
you need to convert the C prototype to a J declaration
to do this you need to know that, for example, HANDLE and DWORD types
have declarations x - most C parameters can be declared as x or *x
)

0 : 0
result name access share security disp attributes template
x      *c   x      x     *        x    x          x

security is unused and must be the NULL pointer (<<0)
template is unused and must be 0

in our examples we use access GENERIC_READ+GENERIC_READ,
share 0, and attributes 0
)

createfile=: 4 : 0
'kernel32 CreateFileA > x *c x x * x x x'cd y;(GENERIC_READ+GENERIC_WRITE);0;(<0);x;0;0
)

GENERIC_READ=: _2147483648
GENERIC_WRITE=: 1073741824
CREATE_NEW=: 1

[fh=: CREATE_NEW createfile jpath '~temp/test.jnk' NB. fh is handle - _1 for failure

0 : 0
many API functions return an integer result
where 0 is failure and non-0 is success
GetLastError has extra information for most errors
cderx returns the GetLastError information
)
deletefile <jpath '~temp/test.jnk'
cderx''
closehandle fh
erase'fh' NB. don't use it again after it is closed
deletefile <jpath '~temp/test.jnk'
[fh=: CREATE_NEW createfile jpath '~temp/test.jnk' NB. fh is handle - _1 for failure

0 : 0
BOOL WriteFile
  HANDLE hFile,           // file handle
  LPCVOID lpBuffer,       // pointer to data to write
  DWORD nBytesToWrite,    // bytes to write
  LPDWORD lpBytesWritten, // pointer to integer
  LPOVERLAPPED lpOverlapped

lpBytesWritten parameter is a pointer to an integer set
as the number of bytes written
lpOverlapped parameter should be the NULL pointer
)
writefile=: 4 : 0 NB. handle writefile string
'kernel32 WriteFile > x x * x *x *' cd x;y;(#y);(,0);<<0
)

fh writefile 'testing 1 2 3'

getfilesize=: 3 : 0
''$>{:'kernel32 GetFileSizeEx x x *x'cd y;,0 NB. want a scalar result
)
getfilesize fh

0 : 0
WriteFile and ReadFile both access bytes at the file pointer in the file
and update the file pointer when they finish
)

FILE_BEGIN=:   0
FILE_CURRENT=: 1
FILE_END=:     2

setfilepointer=: 4 : 0
'kernel32 SetFilePointerEx > x x x *x x'cd x;y;(,0);FILE_BEGIN
)

readfile=: 3 : 0 NB. readfile filehandle
y setfilepointer 0
count=.getfilesize y
;2{'kernel32 ReadFile x x * x *x *'cd y;(count#' ');count;(,0);<<0
)
readfile fh

fh setfilepointer 3
fh writefile '   abcdef and more data'
readfile fh
closehandle fh
erase'fh' NB. don't use it again after it is closed

createdirectory=: 3 : 0
'kernel32 CreateDirectoryA > x *c *'cd y;<<0
)
createdirectory jpath '~temp/junklab'   NB. 0 is failure

NB. BOOL MoveFile(LPCTSTR lpExistingName,LPCTSTR lpNewName);
movefile=: 3 : 0
'kernel32 MoveFileA > x *c *c'cd y
)
movefile jpath each '~temp/test.jnk';'~temp/junklab/test.jnk'

0 : 0
CopyFile copies an existing file to a new file.
 BOOL CopyFile(
  LPCTSTR lpExistingFileName,
  LPCTSTR lpNewFileName,
  BOOL  bFailIfExists);

bFailIfExists - if 1 and new file exists, function fails
)
copyfile=: 3 : 0
'kernel32 CopyFileA > x *c *c i'cd y
)
copyfile (jpath each'~temp/junklab/test.jnk';'~temp/junklab/xxx.jnk'),<0

deletefile <jpath '~temp/junklab/test.jnk'
deletefile <jpath '~temp/junklab/xxx.jnk'

RemoveDirectory=: 'kernel32 RemoveDirectoryA >x *c'&cd
RemoveDirectory <jpath '~temp/junklab'
NB. Lab: Shared Library (b) (dll/so/dylib) - callback

0 : 0
this lab assumes you are already familiar calling DLLS
if not, see lab: Shared Library - intro
)

0 : 0
A dll can callback to the caller

  J calls dll       ->
                        dll runs
                    <-  dll callback to J
  J callback runs
  verb cdcallback
  J returns         ->
                        dll runs
                    <-  dll returns to J
  J runs
)

0 : 0
dll routine callback calls compiled C code in JE
the compiled JE code calls the J verb cdcallback
with y parameter that is list of integers parameters

although there are many different types of callback parameters
they are all passed at the lowest level as integers
bit, byte, char, wide char, short integer, integer, and float
are all passed as 64 bit values
everything else is passed as a pointer and can be treated as 64 bit
doesn't matter what they are, just just how many of them there are

different compiled C code in JE handles differing number of parameters 
)

0 : 0
qsort C library routine calls a callback to compare 2 elements from a list

msdn qsort declaration is:
void qsort(void *base,size_t number,size_t width,
 int (__cdecl *compare )(const void *, const void *)

unix declaration is similar

base    - address of the list to be sorted
number  - number of items in the list
width   - width in bytes of an item
compare - address of callback to do the comparison
)

assert IF64 NB. requires J64

[libc=: ' ',~>(-.UNAME-:'Win'){'msvcrt';unxlib'c'

qsort=: (libc,'qsort n * x x x')&cd

cb2=. cdcb 2 NB. get address of callback code with 2 parameters

NB. the callback calls J verb cdcallback with 2 integer parameters
NB. the parameters are pointers to items in the list to be sorted
NB. return integer scalar from the comparison
cdcallback=: 3 : 0
'a b'=: y
a=. memr a,0,1,JINT NB. get integer at address
b=. memr b,0,1,JINT
r=. ''$a-b          NB. return scalar integer
)

quicksort=: 3 : 0
>1{qsort y;(#y);8;cb2
)

quicksort 10?10
LABTITLE=: 'Sparse Arrays'

NB. =========================================================
Lab Section Overview
Sparse arrays provide a compact and efficient storage form for very large arrays where most elements are zero or some other "sparse element". The sparse array represention does not store extra copies of the sparse element. J primitives work directly on sparse arrays.

The verb $. converts between sparse and dense representations of arrays.
)

NB. =========================================================
Lab Section
A sparse array has a single sparse element, plus an array of other values and a matrix of their corresponding indices.

The sparse attribute can be assigned to axes individually. Non-sparse axes are known as dense axes.

The index matrix has entries for the sparse axes, and the values array has entries for the dense axes.

A scalar is always dense.
)

NB. =========================================================
Lab Section $.
The verb $. creates and manipulates sparse arrays.

For example, "1 $. shape" creates a sparse array of the given shape, with all axes sparse, and a sparse element of 0. Here, we create a sparse array of shape:

    100 x 1,000 x 10,000    (1e9 elements)

Note that this array is too large to be represented normally. To see this, trying entering:

   T=: 100 1000 10000 $ 0
)
S=: 1 $. 100 1000 1000

$S           NB. shape of S

NB. =========================================================
Lab Section Display
The default display of a sparse array shows only the non-sparse values.

Since none have yet been assigned, the display is empty.
)
S            NB. display S (empty)

+/ , S       NB. sum all elements of S

NB. =========================================================
Lab Section Sparse Element
The sparse element is set as appropriate, for example if you add a scalar to an array, the sparse element is incremented by that scalar.
)
T=: S + 4    NB. add 4 to each element of S
             NB. sets sparse element of result to 4

T            NB. display is still empty

+/ , T       NB. sum is non-zero

3 $. T       NB. query sparse element

NB. =========================================================
Lab Section Amend
Now lets amend S with some non-sparse data. The display shows the index matrix and the corresponding value cells.

Since all axes are sparse, the index matrix has 3 columns (one for each axis), and the values array has a scalar value for each row.
)
PREPARE
S=: 1 $. 100 1000 10000
PREPARE
  [dat=: 100+i.6

  [ndx=: ?.6#,:$S

   S=: dat (<"1 ndx)} S

   S       NB. shows index matrix and values array

NB. =========================================================
Lab Section Index Matrix
The following examples use entries in the index matrix to index S directly:
)
PREPARE
S=: 1 $. 100 1000 10000
dat=: 100+i.6
ndx=: ?.6#,:$S
S=: dat (<"1 ndx)} S
PREPARE
S

(<38 519 8309) { S

[ndx=: 4 $. S         NB. get the index matrix

[T=: (<"1 ndx) { S    NB. T is a 6-element sparse vector

$T

NB. =========================================================
Lab Section Array Operations
Some typical array operations:
)
PREPARE
S=: 1 $. 100 1000 10000
dat=: 100+i.6
ndx=: ?.6#,:$S
S=: dat (<"1 ndx)} S
PREPARE
67 { S

+/"1 S

|: S

S * S

NB. =========================================================
Lab Section To Dense
For the next few sections, we will work with a much smaller sparse array, so that we can easily compare sparse and dense representations.

The monad $. converts a dense array to sparse, and the inverse $. ^:_1 converts a sparse array to dense
)
[A=: (1=?.2 3 4$4) * ?.2 3 4$100

[S=: $. A

todense=: $. ^:_1

todense S

NB. =========================================================
Lab Section Add Scalar
Adding a scalar to S changes the sparse element. This is noticeable when you display the dense representation of the array:
)
PREPARE
[S=: $. (1=?.2 3 4$4) * ?.2 3 4$100
todense=: $. ^:_1
PREPARE
S + 1

todense S + 1

NB. =========================================================
Lab Section Sparse Axes
The sparse attribute can be assigned to axes individually.

The index matrix has one column for each sparse axis; the values array has one item for each dense axis.
)
PREPARE
[S=: $. (1=?.2 3 4$4) * ?.2 3 4$100
todense=: $. ^:_1
PREPARE
S              NB. all axes are sparse

(2;1 2) $. S   NB. set axes 1 2 as sparse (0 is dense)

(2;2) $. S     NB. set axis 2 as sparse (0 and 1 are dense)

(2;'') $. S    NB. set no axes as sparse (all are dense)

NB. =========================================================
Lab Section Sparse Element
The sparse element can be reassigned. Note that this does not change the non-sparse values in the array.
)
PREPARE
[S=: $. (1=?.2 3 4$4) * ?.2 3 4$100
todense=: $. ^:_1
PREPARE
S                 NB. display S

T=: (3;1) $. S    NB. T is S with a sparse element of 1

T                 NB. same display as S

(todense S) ; todense T

NB. =========================================================
Lab Section Sparse Axes
If an operation on a sparse array changes a non-sparse value into the sparse element, it nevertheless is still stored as a non-sparse value. This is for efficiency reasons - since otherwise after every operation, the system would have to check for new sparse values, and if necessary, rebuild the index and value arrays.

The operation "8 $. array" rebuilds the sparse array.
)
PREPARE
[S=: $. (1=?.2 3 4$4) * ?.2 3 4$100
todense=: $. ^:_1
PREPARE
T=: 0 (<1;1)} S

(todense S) ; todense T

S

T                NB. T has non-sparse values of 0

T=: 8 $. T       NB. rebuild T

T

NB. =========================================================
Lab Section Efficiency
When applying a dyadic scalar verb, if one array has sparse axes SX and the other has sparse axes SY, then the result has sparse axes of the union of SX and SY.
)
PREPARE
[S=: $. (1=?.2 3 4$4) * ?.2 3 4$100
todense=: $. ^:_1
PREPARE
[T=: (2;0) $. S     NB. T is S with sparse axis 0

[U=: (2;2) $. S     NB. U is S with sparse axis 2

[W=: T + U          NB. W has sparse axes 0 and 2

2 $. W

NB. =========================================================
Lab Section
In the examples used so far, S was either an array so large (with 1e9 elements) that it could not be represented as a dense array, or a small array for which the sparse representation would not be worthwhile.

In general, there is a trade-off between the memory usage and CPU efficiency of sparse and dense representations.

In the following example, S is a sparse array with 1 million elements, of which 6 are non-sparse. The sparse representation is much more efficient than the dense representation:
)
S=: <. 1 $. 10 100 1000  NB. S is an integer array

dat=: 100+i.6

ndx=: ?.(#dat)#,:$S

S=: dat (<"1 ndx)} S

T=: todense S

($ 3!:1 S) ; ($ 3!:1 T)   NB. internal storage size

timespacex=: 6!:2 , 7!:2@]

(timespacex '+/ ,S') ; (timespacex '+/ ,T')

NB. =========================================================
Lab Section Summary
Here is the same example, where there are now 100,000 non-sparse elements:
)
PREPARE
timespacex=: 6!:2 , 7!:2@]
todense=: $. ^:_1
PREPARE
S=: <. 1 $. 10 100 1000

dat=: 100+i.1e5

ndx=: ?.(#dat)#,:$S

S=: dat (<"1 ndx)} S

T=: todense S

($ 3!:1 S) ; ($ 3!:1 T)

(timespacex '+/ ,S') ; (timespacex '+/ ,T')

NB. =========================================================
Lab Section
Sparse arrays are useful when you have large arrays, with most values being a common "sparse element". Ordinary J primitives work directly on sparse arrays. The $. verb converts to and from the sparse representation.

For more information about sparse arrays, see the entry for $. in the Vocabulary Help.
)
LABTITLE=: 'Monad/Dyad'

NB. =========================================================
Lab Section INTRODUCTION

If u and v are functions, then f=: u : v defines f to be a function whose monadic case is u and whose dyadic case is v

For example, if v=: +, then 3 v 4 is 7 and v 4 is 4, i.e. since the monadic case of + is the conjugate, which produces an effect only on a complex argument such as 6j10.

We may, however, define a function add that performs addition on two arguments, and increments a single argument. Thus:
)
add=: >: : +

3 add 4

add 4

add 4 5 6 7 8

v=: +

3 v 4

v 4

NB. =========================================================
Lab Section

Mnemonic names may be assigned to functions for the absolute value (or magnitude) and remainder (or residue) as shown below. However, the fact that these functions may each be used either monadically or dyadically can lead to some confusion. Thus:
)
mag=: |
res=: |

y=: 3 _4 5 _6

mag y

4 res y

4 mag y

res y

NB. =========================================================
Lab Section THE CAP FUNCTION

The cap function (denoted by [:) has empty domains, and therefore yields errors for any arguments. It may be used to define functions such as mag and res which yield errors unless used with the intended valence.

Illustrate this by experimenting  with the following functions:
)
mag=: | : [:

res=: [: : |

NB. =========================================================
Lab Section

The cap function may also be used in a train to cause a verb that follows it to be applied monadically.

For example, a vector may be scaled to unit length by dividing it by its length, the length being the square root (%:) of the sum (+/) of the squares (*:) of its elements. Thus:
)
scale=: ] % [: %: [: +/ *:

scale y

%: +/ *: scale y
NB. Lab: Shared Library (d) (windows only) - callback

0 : 0
this lab assumes you are already familiar with DLL callback
if not, see lab: Shared Library (b) (dll/so/dylib) - callback
)

assert UNAME-:'Win' NB. windows only
assert IF64         NB. requires J64

0 : 0
EnumWindows uses a callback to enumerate top-level windows
by passing each window handle, in turn, to a callback function

EnumWindows continues until all are done or the callback returns 0

Enumwindows prototype:

BOOL EnumWindows(WNDENUMPROC lpEnumFunc, LPARAM lParam);

 lpEnumFunc - address of callback function
 lParam - application-defined value

callback function prototype:

BOOL CALLBACK EnumWindowsProc(HWND hwnd, LPARAM lParam);

 hwnd - window handle
 lParam - app-defined value (same as from EnumWindows call)

to continue enumeration, the callback returns 1
)

0 : 0
  J calls EnumWindows ->
                          EnumWindows runs
                      <-  calls callback in J
  J callback runs
  J returns 1         ->
                          ...
                          EnumWindows calls J for
                          each window or until the
                          J callback returns 0
                          ...
                      <-  EnumWindow returns
  J runs
)

0 : 0
EnumWindowsProc has two parameters and both are passed as integers
we need a callback that takes two integer arguments

cdcb returns the address of a compiled C routine that handles
the number of integers in the cdcb argument

cdcb callbacks return an integer result
all C data types can be returned in an integer
)
[cdcb2=: cdcb 2 NB. cdcb2 is a C callback with 2 integer args

EnumWindows=: 'user32 EnumWindows x x x'&cd

0 : 0
EnumWindows has 2 args:

  cdcb2 - address of callback with 2 args
  app-defined value - unused in this example, use 123
)
erase'cdcallback' NB. be sure not to use one that was not intended
EnumWindows cdcb2 ; 123 NB. gets cdcallback value error

0 : 0
the C routine called J verb cdcallback with 2 args
the 1st is the window handle and the second is the app-defined value

an error in the callback returns 0 to the dll
in this case the 0 result causes EnumWindows to stop enumeration
)

0 : 0
we need to define cdcallback
we can collect the results of the enumeration in a global
)
cdcallback=: 3 : '1[callbackr=:callbackr,y'
callbackr=: i.0 0       NB. empty global result
EnumWindows cdcb2 ; 123 NB. results in global callbackr
$callbackr
10{.callbackr

0 : 0
window titles will make the example more interesting
gettext calls GetWindowText to get the window title
format formats the window handle with its title
)

GetWindowText=: 'user32 GetWindowTextA x x *c x'&cd
gettext=: 3 : '(>{.r){.>2{r=.GetWindowText y;(30$'' '');30'

0 : 0
enumtop is defined to return top-level handles and titles
cdcallback is defined locally just before it is used.
global callbackr is erased and result is returned
)
ewcallback=: 3 : 0
callbackr=: callbackr,(12":{.y),' ',gettext {.y
1
)

enumtop=: 3 : 0
callbackr=: i.0 0
cdcallback=. ewcallback
EnumWindows cdcb2;123
r[erase'callbackr'[r=.callbackr
)
r=. enumtop''
20{.r

0 : 0
EnumChildWindows enumerates child windows of a window
we can call EnumChildWindows from within the EnumWindows callback

local definitions of cdcallback allow each dll call to call
the appropriate cdcallback definition
)

0 : 0
EnumChildWindows is similar to EnumWindows
but has an extra arg of the window
)
EnumChildWindows=: 'user32 EnumChildWindows x x x x'&cd

0 : 0
EnumChildWindows is called in the EnumWindows callback
and how cdcallback is set before each call so that the
appropriate one is used
)
enumall=: 3 : 0
callbackr=: i.0 0
cdcallback=. ewcallback NB. EnumWindows callback
EnumWindows cdcb2;23
r[erase'callbackr'[r=.callbackr
)

ewcallback=: 3 : 0 NB. EnumWindows callback
callbackr=: callbackr,(12":{.y),' ',gettext {.y
cdcallback=. ecwcallback NB. EnumChildWindows callback
1[EnumChildWindows ({.y);cdcb2;321
)

ecwcallback=: 3 : 0 NB. EnumChildWindows callback
1[callbackr=:callbackr,'      ',(12":{.y),' ',gettext {.y
)

all=: enumall'' NB. enumerate all windows
#all
20{.all

0 : 0
EnumDateFormats enumerates date formats
it takes: LCID and type

LCID 0 is the default language
type 1 is short formats and 2 is long

the callback has a single argument - the address of a C string

(cdcb 1) is the address of the C callback with 1 arg
)
NB. LCID dateformats type
dateformats=: 4 : 0
callbackr=: i.0 0
'kernel32 EnumDateFormatsA x x x x'&(15!:0) (cdcb 1);x;y
r[erase'callbackr'[r=.callbackr
)

0 : 0
cdcallback is called with 1 integer arg that is an address
memr reads the string from the address
1 result continues the enumeration
)
cdcallback=: 3 : '1[callbackr=: callbackr, memr y,0,_1'
0 dateformats 1 NB. default language, short formats
0 dateformats 2 NB. default language, long formats

0 : 0
many callbacks are called with an app-defined value
this value was given as an arg to the dll
and then is used as an arg to the callback
this value can be used by the callback to get state information

J callbacks have state established by the cdcallback verb
you will usually not need to use the app-defined value for this
)

0 : 0
a dll with multiple callbacks will call the same cdcallback verb for
each callback and cdcallback needs to distinguish between them.
this is easy if there are a different number of args
if there are the same number of args, distinguish by:
 arg values (e.g., app-defined values),
 or by sequence info (e.g., callback A always called before B)
)

0 : 0
J callbacks are defined for 0 through 9 args

J callbacks return an integer result
this covers no result and all types represented in 64 bits
)
LABTITLE=: 'An Idiosyncratic Introduction to J'
LABAUTHOR=: 'Roger Hui'

NB. =========================================================
Lab Section Introduction
J is executable mathematical notation.
)
2 + 3
x=: 2
y=: 3
x + y

NB. =========================================================
Lab Section Functions
There is a rich set of primitives.
)
2 + 3
2 - 3
2 * 3
2 % 3
2 ^ 3
2 ^ 0.5
_2 ^ 0.5
2 ^. 3

NB. =========================================================
Lab Section Arrays
Functions apply to arrays.
)

2 + 5 6 7
2 3 4 * 5 6 7
2 3 4 - 5 6 7
2 3 4 % 5 6 7
2 3 % 5 6 7       NB. error because arguments do not match

NB. =========================================================
Lab Section
Some function make arrays.

i.n is a list of the integers from 0 to n-1.

s $ v makes an array of shape s using the elements v
)

i. 7
1 + i.7
2 ^ i.7
(i.7) ^ 0.5
3 5 $ 3 1 4 2
x=: 3 5 $ 3 1 4 2
x * x

NB. =========================================================
Lab Section Assignment
An array or function can be assigned a name using =:, i.e. copula.
)
i. 7
x=: i. 7
x
x ^ 2
pow=: ^
x pow 2
x pow 0.5

NB. =========================================================
Lab Section Monadic or Dyadic
A function can be monadic or dyadic, depending on whether there is an argument on the right or on the left and right.
)

2 % 3
% 3
2 ^ 3
^ 3

NB. =========================================================
Lab Section More Primitives
The primitive functions include + - * % as well as ^ (power), ^. (log), > (greater than), >. (maximum), +. (or/GCD), *. (and/LCM), | (residue or modulo), etc.

And all of these can be monadic or dyadic, and apply to arrays.
)

2 ^ 3 4 5 6
2 ^ 0.5 3 _5
_2 ^ 0.5 6 7

0 0 1 1 +. 0 1 0 1
2 3 4 5 +. 10 20 30 40
2 3 4 5 *. 10 20 30 40

2 3 4 5 | 10 20 30 40
2 3 4 5 <. 10 20 30 40
2 3 4 5 >. 10 20 30 40

NB. =========================================================
Lab Section Insert
Adverbs modify verbs to produce new verbs.

For example, the adverb / inserts its verb argument between the items of its argument.

Thus, +/ is summation and */ is product.  These are the "big sigma" and "big pi" of conventional notation.  Moreover, / can be applied to any function: >./ is maximum, <./ is minimum, +./ is or or GCD, *./ is and or LCM, etc.
)

x=: 1 + i. 7
x
+/ x
*/ x
>./ x
<./ x
+./ x
*./ x

NB. =========================================================
Lab Section Table
f/ is a verb, and like other verbs can be monadic or dyadic.  The monadic meaning is "insert".  The dyadic meaning is "table", i.e. function table.

Function tables are a good way to organize systematic experimentation on unfamiliar functions.
)

x=:i.9
x
x +/ x
x */ x
x </ x
x >/ x
x >./ x
x <./ x
x +./ x
x *./ x
x | / x

NB. =========================================================
Lab Section
The Hilbert matrix is a simple function on the addition table.

The patterns are more apparent in the extended (rational) domain.  The reciprocal determinant of the Hilbert matrix of order n, has prime factors that are the primes less than 2*n
)

x=: i.7
x +/ x
% 1 + x +/x

y=: i.7x
H=: % 1 + y +/ y
H

~. q: % -/ .* H

NB. =========================================================
Lab Section
The "triangle" of Pascal is an example of a function table, using the binomial coefficient function ! .

An advantage of looking at it as a table rather than as a triangle, is that one can then apply matrix operations to it, such as matrix inverse.
)
x=: i.7
x !/x

m=: x !/x
%. m

NB. =========================================================
Lab Section Prefix
Prefix is another adverb.  f\ applies f to the prefixes of the argument.

The monad < (box) is helpful in elucidating prefix.
)

x=: 1+i.7
x
+/\ x
<\ x

*/\ x
<./\x
>./\x
+./\x
*./\x

NB. =========================================================
Lab Section Permutations
The dyadic function x{y indexes y by x  If p is a permutation, p{y permutes y by p.
)

p=: 22 ?. 22    NB. a random permutation
p
p { p
p { p { p

3 22$p
{/3 22$p
{/\3 22$p

NB. =========================================================
Lab Section
{/ (m,#p) $ p inserts { between m copies of the permutation, and computes the m-th power of p.

The corresponding prefixes, {/\ (m,#p) $ p, are the successive powers of p.
)


p=: 22 ?. 22    NB. a random permutation
p
p { p { p

#p

(3,#p)$p
{/(3,#p)$p
{/\(3,#p)$p

NB. =========================================================
Lab Section
C. p computes the cycles of permutation p.  The LCM of the cycle lengths, is the order of the subgroup generated by p.
)
p=: 22 ?. 22
C. p
#&> C. p
*./ #&> C. p

# ~. {/\ (200,#p) $ p
coclass 'jlab805'

PATHSEP=: '/'
IFJNET=: (IFJNET"_)^:(0=4!:0<'IFJNET')0
cat=: ,&,.&.|:
commaseps=: 2 }. ;@:(', '&,&.>)
deb=: #~ (+. 1: |. (> </\))@(' '&~:)
dtb=: #~ [: +./\. ' '&~:
info=: sminfo @ ('Labs'&;)
getfontsize=: 13 : '{.1{._1 -.~ _1 ". y'
pathname=: 3 : '(b#y);(-.b=.+./\.y=PATHSEP)#y'
a=. ''''
quote=: (a&,@(,&a))@ (#~ >:@(=&a))
plurals=: ] , (1: ~: [) # 's'"_
round=: [ * [: <. 0.5"_ + %~
setlocale=: 18!:4 @ <
termLF=: , (0: < #) # LF"_ -. _1&{.
termdelLF=: }.~ [: - 0: i.~ LF&= @ |.
tolist=: ; @: (DEL&, each) @: (,&DEL each)
wdifopen=: boxopen e. ({."1 @: wdforms)
assert=: 3 : 0
'' assert y
:
if. -. 0 e. y do. return. end.
msg=. x
if. 0=#msg do.
  j=. 'There is a problem with the lab.',LF,LF
  msg=. j,'Try re-loading J and starting it again.'
end.
info msg
laberror=. 13!:8@1:
laberror''
)
checkdepends=: 3 : 0
if. 0 = #r=. checkdepends1 '' do. 1 return. end.
0[smoutput LF,r
)
checkdepends1=: 3 : 0
fls=. getscripts_j_ LABDEPENDS
if. 0=#fls do. '' return. end.
add=. jpath '~addons/'
if. 1 e. b=. (<add) ~: (#add) {.each fls do.
  'Lab dependency not an addon: ',commaseps b#fls return.
end.
if. -. 1 e. b=. -. fexist &> fls do. '' return. end.
fls=. (#add) }. each b#fls
fls=. ({.~ 2 i.~ '/' +/\ .= ]) each fls
'To run this lab, first install: ',commaseps fls
)
dtree=: 3 : 0
p=. y #~ (+./\ *. +./\.) y~:' '
p=. jpath p,'/' -. {:p
d=. 1!:0 p,'*'
if. 0 = #d do. '' return. end.
d=. d #~ 'h' ~: 1 {"1 > 4 {"1 d
if. 0 = #d do. '' return. end.
m=. 'd' = 4 {"1 > 4 {"1 d
d=. (<p) ,each {."1 d
((-.m) # d), ;dtree each m # d
)
excludes=: 3 : 0
t=. 'b' fread '~addons/labs/labs/exlabs.txt'
if. t-:_1 do. y return. end.
t=. t #~ '#' ~: {.&> t
0!:100 ; t ,each LF
r=. EXALL
if. IFJHS do.
  r=. r,EXJHS
elseif. IFQT do.
  r=. r,EXJQT
elseif. IFJNET do.
  r=. r,EXJNET
end.
r=. ((jpath '~addons/'),deb) each <;._2 r
y #~ -. (2{"1 y) e. r
)
pdef=: 3 : 0
if. 0 e. $y do. empty'' return. end.
names=. {."1 y
if. #names do. (names)=: {:"1 y end.
names
:
names=. {."1 y
nl=. ;: ::] x
pdef (names e. nl)#y
)
runimmex=: 3 : 0
IMMEX=: y
9!:27 '0!:100 IMMEX_jlab805_'
9!:29 [ 1
)
run1=: 3 : 0
setlocale 'base'
0!:111 y [ 4!:55<'y'
)
runquiet=: 3 : 0
setlocale 'base'
0!:100 y [ 4!:55<'y'
)
setfontsize=: 4 : 0
b=. ~: /\ y='"'
nam=. b#y
txt=. ;:(-.b)#y
ndx=. 1 i.~ ([: *./ e.&'0123456789.') &> txt
nam, ; ,&' ' &.> (<":x) ndx } txt
)
trimLF=: 3 : 0
y #~ (+./\ *. +./\.) LF~:y
)
wraptext=: 3 : 0
if. LABWIDTH > #y do. y return. end.
if. LABWRAP do.
  (LABWIDTH foldtext _2}. y) , _2{.y
else.
  y
end.
)
f=. 3 : 'labnext_jlab805_ :: ] '''''
plot_jctrl_fkey_jwplot_=: f f.
jvm_jctrl_fkey_jviewmat_=: f f.
graph_jctrl_fkey_jzgraph_=: f f.
labaddons=: 3 : 0
ADDLABS=: ''
p=. jpath '~addons/'
0!:0 :: ] <jpath p,'config/config.ijs'
if. #ADDLABS do.
  nms=. <;._1 &> ' ' ,each <;._2 jpathsep ADDLABS
  fls=. (<p) ,each {."1 nms
  msk=. fexist &> fls
  fls=. msk # fls
  nms=. msk # nms
  cat=. {:"1 nms
  tit=. labgettitle1 each fls
  msk=. 0 < # &> tit
  ADDLABS=: msk#cat,.tit,.fls,.<0
else.
  ADDLABS=: i.0 4
end.
fls=. fls #~ (<'.ijt') = _4 {.each fls=. dtree p
fls=. fls -. 2 {"1 ADDLABS
if. #fls do.
  cat=. '/' taketo each (#p) }. each fls
  tit=. labgettitle1 each fls
  msk=. 0 < # &> tit
  ADDLABS=: ADDLABS,msk#cat,.tit,.fls,.<0
end.
EMPTY
)
labgetsubdir=: 3 : 0
t=. 1!:0 y,'*'
b=. 'd' = 4{ &> 4{"1 t
{."1 b # t
)
labdir=: 3 : 0
fl=. jpath '~config/labdir.ijs'
if. 0 = fexist fl do.
  fl=. LABDIRECTORY,'labdir.ijs'
end.
0!:0 <fl
n=. '_ '&charsub each {."1 LABDIR
d=. {:"1 LABDIR
LABDIR=: (~:d) # n,.d
)
labdir1=: 3 : 0
t=. 1!:0 y,'*'
d=. 'd' = 4{ &> 4{"1 t
t=. tolower each {."1 d#t
n=. ((toupper)@{. , }.) each t
t=. n ,. (y&,) each t
b=. 0 < # @ (1!:0) @ (,&'\*.ijt') &> {:"1 t
b # t
)
labgetfiles=: 3 : 0
if. #y do.
  path=. y,PATHSEP -. {:y
  j=. labgetjt path
  if. 0=#j do.
    info 'No tutorials found in: ',":y
    labreset''
    return.
  end.
  dname=. 1 pick pathname }:path
  LABDIR=: 1 2$dname;path
else.
  labdir''
  j=. ; < @ ({. ,. labgettutor &> @ {:)"1 LABDIR
  j=. ~. j,ADDLABS
end.
j=. excludes j
j=. (~: 1 {"1 j) # j
LABS=: j sort > 1{"1 j
)
labgettutor=: labgetjt
labgetjt=: 3 : 0
path=. y, PATHSEP -. _1{.y
files=. 1 dir jpathsep path,'*.ijt'

if. 0=#files do.
  t=. i.0 3
else.
  sf=. 1 dir jpathsep path,'*.ijf'
  if. #sf do.
    j=. _4&}. each sf
    k=. _4&}. each files
    s=. k e. j
  else.
    s=. (#files)#0
  end.
  t=. labgettitle1 each files
  m=. 0 < # &> t
  t=. m # t,. files (,<)"0 [s
end.

if. #s=. labgetsubdir path do.
  t=. t, ; labgetjt each path&, each s
end.

)
labgettitle1=: 3 : 0
dat=. <;._2 LF,~ 1000 {. freads y
dat=. deb 0 pick dat -. a:
if. 'LABTITLE' -: 8 {. dat do.
  ". dat
elseif. 'NB. Lab:' -: 8 {. dat do.
  deb 8 }. dat
elseif. do. ''
end.
)
ADVANCE=: 0 : 0
To advance the lab, select menu Help|Studio|Advance or the
corresponding shortcut.
)

ALL=: '(All)'
LABDIRECTORY=: jpath '~addons/labs/labs/'
ADDONSDIRECTORY=: }: jpath '~addons/a'
CMARKER=: 'Lab Chapter'
RXCMARKER=: '\\par [\\[:alnum:]* ]*',CMARKER
SMARKER=: 'Lab Section'
RXSMARKER=: '\\par [\\[:alnum:]* ]*',SMARKER
RXPAREN=: '\\par [\\[:alnum:]* ]*)'

IFCOMMENTS=: 1
IFSENTENCES=: 1
IFWINDOWS=: 1

LABS=: ''
LABCAT=: ''
LABCATS=: ''
LABCATSEL=: 0
LABCTD=: ' (ctd)'
FONTSCALE=: 1

AUTOLAB=: 0
labreset=: 3 : 0
LABAUTHOR=: ''
LABCOMMENTS=: ''
LABDEPENDS=: ''
LABTITLE=: ''
LABWINPOS=: _1
LABOUTPUT=: 1
LABWIDTH=: (IFIOS+.'Android'-:UNAME){61 48
LABFILE=: ''
LABPATH=: jpath '~addons/labs/labs/'

LINE=: 1{,":<' '

CHAPTERDATA=: ,a:
CHAPTERNDX=: 0
CHAPTERS=: ,a:

CODE=: ''
CODENDX=: 0
SECTIONDATA=: ,a:
NDX=: 0
SECTIONINDEX=: 0
SECTIONS=: ,a:

IFCHAPTERS=: 0
IFNEWSECTION=: 0
LABWRAP=: 1
ENDOFLAB=: 0

empty''
)
output=: [: empty 1!:2 & 2
start=: 3 : 0
if. #LABS do. y labinit 1 pick LABNDX{LABS end.
empty''
)
lab=: 3 : 0
if. 1=L.y do.
  'file ndx'=. y
  ndx labinit file
elseif. 0 e. $y do.
  labselect''
elseif. 0 = {.y do.
  labrun }.y
elseif. y-:_1 do.
  labrun y
elseif. y-:1 do.
  labjump''
elseif. y-:3 do.
  labopt_run''
elseif. 2=3!:0 y do.
  labinit y
end.
empty''
)
labnext=: 3 : 0
if. #LABFILE do.
  lab 0
end.
)
labchapterline=: 3 : 0
if. IFCHAPTERS do.
  j=. ' Chapter ',(":1+CHAPTERNDX),' ',(CHAPTERNDX pick CHAPTERS),' '
  output LF,(2$LINE),j,(0>.LABWIDTH-2+#j)$LINE
end.
)
labchaptername=: 3 : 0
if. 1 < #CHAPTERS do.
  (":CHAPTERNDX+1),' ',(CHAPTERNDX pick CHAPTERS),' '
else. '' end.
)
labinit=: 3 : 0
0 labinit y
:
if. 0=labopen y do. return. end.
if. x=0 do.
  dat=. 'Lab: ',LABTITLE,LF
  dat=. dat, (*#LABAUTHOR) # 'Author: ',LABAUTHOR,LF
  dat=. (LABWIDTH#LINE),LF,dat,ADVANCE
  output dat
  labchapterline''
  labrun x
end.
)
labjump=: 3 : 0
if. 0=#LABFILE do. info 'no lab selected' return. end.

if. NDX=0 do.
  if. 0=#LABFILE do.
    info 'no lab selected' return.
  end.
  0 labinit LABPATH,LABFILE
end.

if. 0=#y do.
  labjump_run''
else.
  labchapter y
end.
)
labline=: 3 : 0
j=. ' ',labsectionname''
(2$LINE),j,' ',(0>.LABWIDTH-3+#j)$LINE
)
labopen=: 3 : 0
labreset''
f=. fboxname y
dat=. fread f
if. dat-:_1 do.
  info 'not found: ',":>y
  0 return.
end.

'LABPATH LABFILE'=: pathname >f
IFCHAPTERS=: 1 e. CMARKER E. dat
dat=. toJ dat
dat=. dat,LF -. {:dat
dat=. <;.2 dat
dat=. ;dat #~ -. 'NB. =='&-: @ (6&{.) &> dat

if. IFCHAPTERS do.
  cut=. }:(LF,CMARKER) E. LF,dat
  0!:100 (cut i. 1){.dat
  dat=. cut <;.1 dat
  ind=. dat i.&> LF
  CHAPTERS=: (>:#CMARKER) }.each ind {.each dat
  CHAPTERDATA=: ind }. each dat
else.
  cut=. }:(LF,SMARKER) E. LF,dat
  0!:100 (cut i. 1){.dat
  CHAPTERS=: ,a:
  CHAPTERDATA=: <(cut i. 1)}.dat
end.

if. -. checkdepends'' do. 0 return. end.

if. LABOUTPUT *. IFCOMMENTS do.
  output=: [: empty 1!:2 & 2
else.
  output=: ]
end.

labopenchapter 0
)
labopenchapter=: 3 : 0
CHAPTERNDX=: y
if. IFCHAPTERS do.
  WINTITLE=: LABTITLE,' - ',y pick CHAPTERS
else.
  WINTITLE=: LABTITLE
end.
dat=. y pick CHAPTERDATA
if. #dat do.
  cut=. }:(LF,SMARKER) E. LF,dat
  dat=. cut <;.1 dat
  ind=. dat i.&> LF
  top=. (>:#SMARKER) }.each ind {.each dat
  NDX=: 0
  SECTIONDATA=: ind }. each dat
  SECTIONINDEX=: I. 0< # &> top
  SECTIONS=: SECTIONINDEX { top
else.
  SECTIONDATA=: ,a:
  SECTIONINDEX=: 0
  SECTIONS=: ,a:
end.
NDX=: 0
CODENDX=: 0
CODE=: ''
1
)
labposition=: 3 : 0
j=. (":NDX+1),' of ',":#SECTIONDATA
if. IFCHAPTERS do.
  '(',(":CHAPTERNDX+1),') ',j
end.
)
labrun=: 3 : 0
if. 0=#LABFILE do. info 'no lab selected' return. end.

if. #y do.
  if. y e. i.#SECTIONDATA do.
    NDX=: {. y
    CODENDX=: 0
    CODE=: ''
  elseif. y=_1 do.
    NDX=: CODENDX=: 0
  elseif. do.
    info 'Invalid jump section'
    return.
  end.
end.

if. NDX >: #SECTIONDATA do.
  if. CHAPTERNDX >: <: #CHAPTERS do.
    ENDOFLAB=: 1
    (LF,'End of lab') 1!:2 [ 2 return.
  else.
    labopenchapter CHAPTERNDX+1
    labchapterline''
  end.
end.

if. CODENDX < #CODE do. labruncode'' return. end.
dat=. NDX pick SECTIONDATA
labrun0 dat
)
labrun0=: 3 : 0
'txt dat'=. labsplit y

section=. labline''
txt=. LF, (0<#txt) # wraptext txt
output LF,section,txt

cmd=. trimLF dat

while. 1 do.
  if. 'PREPARE' -: 7{.cmd do.
    cmd=. }. <;.2 cmd,LF
    ndx=. 1 i.~ 'PREPARE'&-: @ (7&{.) &> cmd
    prep=. ;ndx{.cmd
    cmd=. trimLF ;(ndx+1)}.cmd
    runquiet prep
    continue.
  elseif. 'SCRIPT' -: 6{.cmd do.
    cmd=. }. <;.2 cmd,LF
    ndx=. 1 i.~ 'SCRIPT'&-: @ (6&{.) &> cmd
    SCRIPT=: ;ndx{.cmd
    cmd=. trimLF ;(ndx+1)}.cmd
    continue.
  end.
  break.
end.

CODE=: labsplitcode cmd
CODENDX=: 0

labruncode''
)
labruncode=: 3 : 0

if. 0=#CODE do.
  labadvance''
  labsetfocus''
  return.
end.
if. IFSENTENCES=0 do.
  labadvance''
  labsetfocus''
  return.
end.

first=. 0=NDX+CHAPTERNDX+CODENDX

'cmd snd'=. CODENDX pick CODE
CODENDX=: >:CODENDX
if. first *. #cmd do.
  cmd=. cmd,LF
end.
if. CODENDX < #CODE do.
  outtxt=. LF,(3#LINE),' more ',(7#LINE),LF
else.
  outtxt=. i.0 0
  labadvance''
end.

if. (1 e. cmd ~: LF) *. 2 = 3!:0 cmd do.
  run1 cmd
end.

output outtxt
labsetfocus''
)
labadvance=: 3 : 0
NDX=: >:NDX
CODE=: ''
CODENDX=: 0
)
labsectionname=: 3 : 0
j=. '(',(labposition''),') ',;labsection''
)

onStart=: labsel_run
labselect=: 3 : 0
labaddons''
labgetfiles y
j=. sort ~. {."1 LABS
if. 1=#j do.
  LABCATS=: LABCAT=: j
else.
  LABCATS=: ALL;j
  if. (0=#LABCAT) +. -. LABCAT e. LABCATS do.
    LABCAT=: <ALL
  end.
end.
labsel_run`wd@.IFJA 'activity ',>coname''
)
labwelcome=: 3 : 0
r=. LF,'Welcome to lab: ',LABTITLE
if. 0<#LABAUTHOR do.
  r=. r,LF,LF,'Author: ',LABAUTHOR
end.
r=. r,LF,LF,ADVANCE
)
labsection=: 3 : 0
r=. ({.SECTIONS),a:
if. 0 < NDX do.
  j=. (<:+/NDX >: SECTIONINDEX) pick SECTIONS
  k=. (-.NDX e. SECTIONINDEX)#LABCTD
  if. #j do. r=. j;k end.
end.
r
)
labsetfocus=: 3 : 0
i.0 0
)
labsplit=: 3 : 0
ind=. 2+((LF,')') E. y) i. 1
}. each ind ({.;}.) y
)
labsplitcode=: 3 : 0
dat=. termLF y
,<dat;''
)
LABJUMP=: 0 : 0
pc labjump closeok;pn "Lab Selection";
cc labid static;
cc labinfo static;cn " ";
bin hv;
minwh 240 200;cc listbox listbox;
bin zv;
cc ok button;cn "OK";
cc cancel button;cn "Cancel";
bin sz;
pas 4 2;pcenter;
rem form end;
)

LABJUMP6=: 0 : 0
pc labjump closeok;pn "Lab Selection";
xywh 270 68 80 24;cc ok button leftmove rightmove;cn "OK";
xywh 270 98 80 24;cc cancel button leftmove rightmove;cn "Cancel";
xywh 12 70 240 200;cc listbox listbox ws_border ws_vscroll rightmove bottommove;
xywh 14 16 332 22;cc labid static;
xywh 14 44 240 22;cc labinfo static;cn " ";
pas 4 2;pcenter;
rem form end;
)
labfmt=: 4 : 0
DEL,(":x),'. ',y,DEL
)
labjump_run=: 3 : 0
if. 1=#CHAPTERDATA do.
  info 'There is only one chapter in the lab'
  return.
end.
wd IFJNET{::LABJUMP;LABJUMP6
s=. #CHAPTERS
wd 'set labid text *',LABTITLE,' (',(":s),(s plurals ' chapter'),')'
wd 'set labinfo text *Select a chapter:'
d=. (1+i.#CHAPTERS) labfmt each CHAPTERS
wd 'set listbox items ',;d
wd 'setselect listbox ',":CHAPTERNDX
wd 'setfocus listbox'
wd 'pshow;'
)
labchapter=: 3 : 0
labopenchapter <: 1 >. y <. #CHAPTERS
labchapterline''
lab 0
)
labjump_listbox_button=: 3 : 0
labopenchapter ".listbox_select
labchapterline''
wd 'pclose'
labrun''
)
labjump_enter=: labjump_ok_button=: labjump_listbox_button
labjump_close=: labjump_cancel=: labjump_cancel_button=: wd bind 'pclose'
LABOPT=: 0 : 0
pc labopt;pn "Lab Options";
bin vh;
groupbox "Lab Displays";
cc comments checkbox;cn "Comment text";
cc sentences checkbox group;cn "J sentences";
groupboxend;
bin v;
cc ok button;cn "OK";
cc cancel button;cn "Cancel";
bin szzsz;
pas 6 6;pcenter;
rem form end;
)

LABOPT6=: 0 : 0
pc labopt;pn "Lab Options";
xywh 18 18 226 78;cc g0 groupbox;cn "Lab Displays";
xywh 36 42 152 22;cc comments checkbox;cn "Comment text";
xywh 36 66 152 22;cc sentences checkbox group;cn "J sentences";
xywh 272 18 80 24;cc ok button;cn "OK";
xywh 272 48 80 24;cc cancel button;cn "Cancel";
pas 6 6;pcenter;
rem form end;
)
labopt_run=: 3 : 0
wd IFJNET{::LABOPT;LABOPT6
wd 'set comments value ',":IFCOMMENTS
wd 'set sentences value ',":IFSENTENCES
wd 'pshow;'
)
labopt_close=: 3 : 0
IFCOMMENTS=: 0 ". comments
IFSENTENCES=: 0 ". sentences
if. LABOUTPUT *. IFCOMMENTS do.
  output=: [: empty 1!:2 & 2
else.
  output=: ]
end.
wd 'pclose'
)
labopt_cancel=: labopt_cancel_button=: wd bind 'pclose'
labopt_ok_button=: labopt_enter=: labopt_close
LABSEL=: 0 : 0
pc labsel closeok;pn "Lab Select";
menupop "Options";
menu comments "Labs display &Comment Text" "" "" "Show comments when running Labs";
menu sentences "Labs display J &Sentences" "" "" "Show sentences when running Labs";
menusep;
menu exit "E&xit" "" "" "";
menupopz;
menupop "Help";
menu intro "&Introduction to Labs..." "" "" "";
menupopz;
groupbox "";
bin h;
cc s0 static;cn "Select a lab";
bin s;
cc browse button;cn "&Browse...";
bin z;
groupboxend;
groupbox "";
bin hvh;
cc s1 static;cn "Category:";
cc category combolist;
set category stretch 9;
bin z;
minwh 296 314;cc listbox listbox;
bin z;
bin v;
cc ok button;cn "&Run";
cc print button;cn "&Print";
bin s;
cc cancel button;cn "&Close";
bin z;
bin z;
groupboxend;
pas 6 4;pcenter;
rem form end;
)

LABSEL6=: 0 : 0
pc8j labsel closeok;pn "Lab Select";
menupop "Options";
menu comments "Labs display &Comment Text" "" "" "Show comments when running Labs";
menu sentences "Labs display J &Sentences" "" "" "Show sentences when running Labs";
menusep;
menu exit "E&xit" "" "" "";
menupopz;
menupop "Help";
menu intro "&Introduction to Labs..." "" "" "";
menupopz;
xywh 22 24 248 22;cc s0 static;cn "Select a lab";
xywh 14 6 422 46;cc g0 groupbox rightmove;cn "";
xywh 326 22 100 24;cc browse button leftmove rightmove;cn "&Browse...";
xywh 22 78 74 22;cc s1 static;cn "Category:";
xywh 100 76 214 218;cc category combodrop ws_vscroll rightmove;
xywh 22 110 292 314;cc listbox listbox ws_border ws_vscroll rightmove bottommove;
xywh 326 112 100 24;cc ok button leftmove rightmove;cn "&Run";
xywh 326 142 100 24;cc print button leftmove rightmove;cn "&Print";
xywh 326 388 100 24;cc cancel button leftmove topmove rightmove bottommove;cn "&Close";
xywh 14 58 422 366;cc g1 groupbox rightmove bottommove;cn "";
pas 6 4;pcenter;
rem form end;
)

LABSELJA=: 0 : 0
pc labsel closeok;pn "Lab Select";
bin v;
cc s0 static;cn "Select a lab";
cc s1 static;cn "Category:";
wh _1 _2;cc category combolist;
wwh 1 _1 0;cc listbox listbox;
bin z;
pas 6 4;pcenter;
rem form end;
)
labsel_run=: 3 : 0
if. wdisparent 'labsel' do.
  wd 'psel labsel;pshow;pactive' return.
end.
wd IFJA{::(IFJNET{::LABSEL;LABSEL6);LABSELJA
labshowcats''
if. IFJA do.
  labsel_listbox_select=: labsel_listbox_button
else.
  wd 'set comments checked ',":IFCOMMENTS
  wd 'set sentences checked ',":IFSENTENCES
  wd 'setfocus listbox'
  wdfit''
end.
wd 'pshow;'
)
labsel_browse_button=: 3 : 0
p=. jpath '~user'
j=. '"Labs (*.ijt)|*.ijt|All Files (*.*)|*.*"'
if. IFJNET do.
  f=. mbopen '"Open File" "',p,'" "" ',j
else.
  f=. wd 'mb open1 "Open File" "',p,'" ',j
end.
if. #f do.
  labselrun f
end.
)
labsel_listbox_button=: 3 : 0
if. #listbox do.
  labselrun 2 pick (".listbox_select) { LABCATSEL#LABS
end.
)
labsel_print_button=: 3 : 0
if. #listbox do.
  if. IFJNET do.
    printfiles_j_ 2 pick (".listbox_select) { LABCATSEL#LABS
  else.
    wd 'mb print ', 2 pick (".listbox_select) { LABCATSEL#LABS
  end.
end.
)
labsel_enter=: labsel_ok_button=: labsel_listbox_button
labsel_intro_button=: labselrun bind (jpath '~addons/labs/labs/labintro.txt')
labselrun=: 3 : 0
lab_jlab_ y
wd :: ] 'psel labsel;pclose;'
smact`smselact_jijs_@.IFJNET''
)
labsel_cancel_button=: wd bind 'pclose'
labsel_exit_button=: labsel_cancel_button
labsel_category_button=: 3 : 0
if. LABCAT -: <category do. return. end.
LABCAT=: <category
labshowcats''
)
labsel_comments_button=: 3 : 0
IFCOMMENTS=: -. IFCOMMENTS
wd 'set comments checked ',":IFCOMMENTS
)
labsel_sentences_button=: 3 : 0
IFSENTENCES=: -. IFSENTENCES
wd 'set sentences checked ',":IFSENTENCES
)
labshowcats=: 3 : 0
if. LABCAT -: <ALL do.
  LABCATSEL=: 1 #~ #LABS
else.
  LABCATSEL=: ({."1 LABS) e. LABCAT
end.
labshowall''
)
labsel_category_select=: labsel_category_button
labshowall=: 3 : 0
if. -. (<'labsel') e. {."1 wdforms'' do. return. end.
wd 'set category items ', tolist LABCATS
wd 'setselect category ',":LABCATS i. LABCAT
d=. LABCATSEL # LABS
wd 'set listbox items ', tolist 1{"1 d
wd 'setselect listbox 0'
)

labreset ''
LABTITLE=: 'Mathematical Roots of J'
LABAUTHOR=: 'Roger K. W. Hui Kenneth E. Iverson'
LABCOMMENTS=: 'Lab based on a paper presented at APL97.'
LABWRAP=: 0

NB. =========================================================
Lab Section INTRODUCTION
This lab shows how mathematical ideas and notation were
adopted (or adapted) in J, and why such adaptations were
made.
)

NB. =========================================================
Lab Section ASSIGNMENT AND COMPARISON
           ASSIGNMENT                 COMPARISON

 ENGLISH	     x is 3          x less than 3     x equals 3

 MATH         Let x=3         x<3               x=3

 C            x=3             x<3               x==3

 APL          x3             x<3               x=3

 J            x=:3            x<3               x=3

_______________________


 ENGLISH      cube function

 MATH         cube(x) = x3

 APL           zcube X
             [1] ZX*3 

 J            cube =: ^&3
)

NB. =========================================================
Lab Section CONSTANTS

          FUNCTION EXPRESSION           CONSTANT

 ENGLISH   3 plus 4 tenths
 MATH      3 + 4/10                      3.4
 APL       3 + 4{divide}10               3.4
 J         3 + 4%10                      3.4

-------------------------------------------------------------
 ENGLISH   3 plus 4 imaginary
 MATH      3 + 4i
 APL       3 + 4{times}{negative}1*0.5   3j4
 J         3 + 4*_1^0.5                  3j4

 -------------------------------------------------------------
 ENGLISH   Eulers Number
           1
 MATH      e                             e
 APL       *1
 J         ^1                            1x1

-------------------------------------------------------------
 ENGLISH   Pi
 MATH      Pi{times}1                    Pi
 APL       {circle}1
 J         o.1                           1p1
 )

NB. =========================================================
Lab Section CONSTANT FUNCTIONS

        Function  1st derivative   2nd der     3rd der

          3          2
 MATH	x         3x               6x          6

 J       ^&3       3:*^&2           6:*^&1      6:
)
y=: 4
! y
6:y

6"_ y
4 5 6"_ y
'abcd'"_ y

NB. =========================================================
Lab Section OPERATORS
ENGLISH An operator applies to a function, or
        functions, to produce a new function,
        much as an adverb applies to a verb to
        produce a new verb. We will illustrate
        by compositions.

 MATH	f{jot}g

    J    f&g   f&.g   f@g
         And   Dual   Atop
)
^. 10 2      NB. Natural logs
10 -&^. 2    NB. Diff of logs
10 -&.^. 2   NB. Dual of - wrt log
^ 10 -&^. 2  NB. Inv log of diff
10 ^. 2      NB. Base 10 log of 2
10 -@^. 2    NB. - of base10 log

x=. 3 1 4 1 5 9
|. x         NB. Reverse
+/\ & |. x   NB. Partial sums of reverse
+/\ &. |. x  NB. Dual of partial sums wrt reverse
|. +/\ |. x

NB. =========================================================
Lab Section AMBIVALENCE
In math, the expression a-b denotes subtraction, and the
expression -b denotes negation.  We therefore say that the
function denoted by - is ambivalent, its use as subtraction
or negation being determined by context. A few of the
ambivalent primitives in J are:

          MONADIC           DYADIC

 +        Conjugate         Plus
 -        Negation          Subtraction
 *        Signum            Times
 %        Reciprocal        Divide
 ^        Exponential       Power

In J, all functions are ambivalent, including those derived
from other functions by the application of operators.  For
example:
)
a=: 0 1 2 3 4
+/ a       NB. Plus over a (sum)
a +/ a     NB. Plus table

NB. =========================================================
Lab Section FORK

 ENGLISH	Sum of functions f and g           +
                                          /   \
                                         f     g
                                         |     |
                                         x     x

  MATH  f + g

   J	f + g
)
h=: ! + *:
h 4
d=: 2 3 4
h d
q=: ! , *:
q 4
q d
mean=: +/ % #
center=: ] - mean
(] ; mean ; center ; ] - +/ % #) d

NB. =========================================================
Lab Section ARRAYS, CELLS, and ITEMS
)
[a=: i.2 3 4
<"2 a           NB. Rank 2 cell, 2-cell, Items of 3-cell
<"1 a           NB. 1-cells, Items of 2-cells
<"0 a           NB. 0-cells, Atoms

NB. =========================================================
Lab Section
)
[a=: i.2 3 4
<"_1 a          NB. _1 cells of a, Items of a
v=: 0 1 2 3 4 5
<"_1 v          NB. _1 cells of v, Items of v

NB. =========================================================
Lab Section FUNCTION RANK
)
d=: 2 3 4
a=: d $ 'ABCDEFGHIJKLMNOPQRSTUVWX'
(] ; |. ; |."3 ; |."2 ; |."1 ; |."0) a
i. d
i."0 d

NB. =========================================================
Lab Section FUNCTION TABLES

 ENGLISH  Table of binomial coefficients;
          column c of row r gives the number of ways of
          choosing c things from r.

 MATH     Pascals Triangle

         1
         1 1
         1 2 1
         1 3 3 1
         1 4 6 4 1
         1 5 10 10 5 1

J
)
i=: 0 1 2 3 4 5
bc=: i !~/i
bc ; (%. bc); (+/"1 bc)

rou=: ^@(0j2p1"_ * i. % ])    NB. roots of unity
r=: rou 7
r

*/~ r         NB. multiplication table

r i. */~ r

7&|@+/~ i.7   NB. addition modulo 7

NB. =========================================================
Lab Section FUNCTION POWERS
 ENGLISH	Applying a function n times is called the
         nth power of the function

 MATH     x  = x       x  = f x        x  = f x
          0            1      0        n      n-1

 J       f^:n
)
x=: 0
cos=: 2&o.

cos 0
cos cos 0

cos ^: 0 1 2 3 4 x

y=: cos ^: _ x

y
y = cos y

]z=: cos ^: _1 x=: _0.5 0 0.5 0.75 1

cos z

NB. =========================================================
Lab Section
)
f=: -:@(+ 1000&%)    NB. halve of x plus 1000 divided by x

f 1

f f 1

f^:(i.2 5) 1

] y=: f^:(_) 1

y*y

1000-y*y

NB. =========================================================
Lab Section
)
SG=: 1 : '~.@(, ,/@(u/~))^:_'   NB. subgroup

f=: 7&|@*      NB. multiplication modulo 7

f SG 2         NB. subgroup generated by 4

f/~ f SG 2     NB. group table of subgroup

f SG 3         NB. subgroup generated by 3

f SG 2 3       NB. subgroup generated by 2 and 3

p=: (1|.i.5),: (<0 1) C. i.5

p              NB. two permutations

$ {"1 SG p     NB. subgroup generated by the two permutations

NB. =========================================================
Lab Section
f^:g y is equivalent to f^:(g y) y  In particular, if g is a
proposition, f^:g y applies f to y or not according to
whether g y is true.
)
f=: |.@(|/\)

g=: *@{.

f^:g y=: 32 44

f^:g^:(i.5) y

f^:g^:_ y

+./y

f=: {: ,: {. - {: * <.@%&{./

g=: *@{.@{:

f^:g^:_ y,.=i.2

_4 3 +/ .* y   NB. GCD as a linear combination of original arg

<"2 f^:g^:(i.6) y,.=i.2

NB. =========================================================
Lab Section
 ENGLISH   A function that "undoes" the effect of a function

            -1 MATH      f

 J         f^:_1
)
I=: ^:_1       NB. Inverse operator

cos I 0

^I 1x1 1x2     NB. Natural log

^ ^I 1x1 1x2   NB. Exponential of log

cube=: ^&3

cube I 27 64 100

NB. =========================================================
Lab Section FUNCTION DUALS
 ENGLISH	If a function f is applied to the result of a
         function g, and the inverse of g is then
         applied, the entire process is a function
         called the dual of f with respect to g

          -1 MATH    g   f g

    J    f &. g
)
'a b'=: 0 0 1 1 ; 0 1 0 1

a *. b     NB. a and b

-.a        NB. Not a

a *.&.-. b NB. Dual of and wrt not

a +. b     NB. Is equivalent to or

3 +&.^. 4

3 * 4

log=: 10&^.

log 3 4 10 100

3 +&.log 4

NB. =========================================================
Lab Section FUNCTION FAMILIES
Many benefits resulted from uniting the treatment of the
individual functions square, cube, square root, etc. in a
single family under the notation x superscript n  Similar
benefits result from using complex numbers to unite the
treatment of the trigonometric and hyperbolic functions under
the exponential.

We will illustrate the matter by using the fit operator (!.)
to unite the treatment of the falling and rising factorial
functions under the power function:
)
'x e s' =: 6 4 1

(x+0*s)*(x+1*s)*(x+2*s)*(x+3*s)   NB. Rising

s=: _1

(x+0*s)*(x+1*s)*(x+2*s)*(x+3*s)   NB. Falling

s=: 0

(x+0*s)*(x+1*s)*(x+2*s)*(x+3*s)   NB. Power

x ^ e

x ^!.1 e     NB. Rising  factorial

x ^!._1 e    NB. Falling factorial

x ^!.0 e     NB. Power

NB. =========================================================
Lab Section
Function tables for ^!.e can be used to make clear the
relationship between Stirling numbers of the first kind and
Stirling numbers of the second kind.
)
FT=: 1 : '^!.u/~@i.'   NB. falling/rising factorial table

_1 FT 6                 NB. falling factorial table

0 FT 6                  NB. power table

]S2=:(0 FT %. _1 FT) 6  NB. Matrix quotient of above tables

]S1=:(_1 FT %. 0 FT) 6  NB. Matrix inverse of S2

NB. |: S2  are the Stirling numbers of the second kind
NB. |: |S1 are the Stirling numbers of the first  kind

NB. =========================================================
Lab Section POLYNOMIALS
A polynomial is so named because it can be expressed as a sum
of monomials of the form:

     k
  c x

It may also be expressed as a weighted sum of factorial
polynomials, or as a (multiple of a) product of factors of
the form x-r. We will illustrate some transformations between
the coefficients that weight the monomials, and the roots
that represent the corresponding product form:
)
'c x y'=: _3.75 11.5 _9 2 ; 5 ; 0 1 2 3 4

c p. x

+/ c * x ^ 0 1 2 3

c p. y

]r=: p. c

r p. x

p. r

NB. =========================================================
Lab Section PERMUTATIONS
Permutations may be represented in a variety of ways, the
simplest being by a vector of indices. Since the permutation
vectors of any given order can be arranged in a table in
lexical order, a specific permutation can also be referred to
compactly by its index in the table:
)
]rp=: 8 ?. 8      NB. Random permutation

rp { 'ABCDEFGH'

(i. ! 3) A. i. 3  NB. All !3 of order 3

A. 1 0 2          NB. Index of perm 1 0 2

]p=: 20 ?. 20

A. p              NB. Extended precision

]cy=: C. rp       NB. Cycle representation

C. cy             NB. C. is self-inverse

NB. =========================================================
Lab Section
)
SG=: 1 : '~.@(, ,/@(u/~))^:_'

] p=. ?.~ 22        NB. a random permutation of order 22

g=.{"1 SG ,: p      NB. subgroup generated by p

#g

C. p                NB. cycles of p

*./ #&> C. p        NB. LCM of cycle lengths

NB. =========================================================
Lab Section COMPLETION
In mathematics it is common to complete a function by
extending it beyond its original domain in ways that preserve
its main properties, often leading to significant
generalization, as in the extension of the square and cube to
the form:

     n
    x

for all values of n

In APL such completion occurred in many cases, as in
reduction over an empty, to extend to the case k=0 the
identity (f/x)=(f/k{take}x) f (f/k{drop}x), and in the
definition of zero to the power zero as 1, which is often
declared to be undefined in elementary math texts.
)
s=: _3 _2 _1 0 1 2 3

s % table s

^table~ -:s

NB. =========================================================
Lab Section
Completions in J fall in four classes:

* Specific functions, such as the power and divide, and
operators, such as the application of scan to monadic rather
than to dyadic functions as in APL.

* The variant or fit operator, used in the extension of the
power function to the rising factorial function.

* Completion of user-defined functions by specified identity
elements, inverses, derivatives, and integrals.

* Extensions of conformability rules.
)
0 1 (+./  ; *./ ; >./ ; <./) 0 1

(+./  ; *./ ; >./ ; <./) ''

+/\a=. 0 1 2 3 4

<\a

NB. =========================================================
Lab Section PRIMES AND FACTORING
)
p: 0        NB. Prime from its index

p: 0 1 2 3 4 5 6

]n=: ?. 100000

pi=: p:^:_1 NB. # of primes < or =

]m=: pi n

p: m - 1 0  NB. Results bracket n

q: 700

pi 7

p: i. 4

]exp=: 4 q: 700

(p: i.4)^exp

*/(p: i.4)^exp

NB. =========================================================
Lab Section
)
m=. 63

]e=. _ q: m

p: i.#e

]d=. (#: i.@(*/)) 1+e

d */ .(^~) p:i.#e     NB. all factors

n=. 182

_ q: m,n

(m*n), +/&.(_&q:) m,n

(m*.n), >./&.(_&q:) m,n

(m+.n), <./&.(_&q:) m,n

totient=: * -.@%@~.&.q:

(totient m), +/1=m+.i.m
LABTITLE=: 'Compositions @ @: & &:'
LABFOCUS=: 1
LABWIDTH=: 80

NB. =========================================================
Lab Chapter Compositions
NB. =========================================================
Lab Section What is a composition?
To see the Table of Contents for this lab, go to Help|Studio|Chapters in the menu for this window.

A composition is a verb that applies two verbs in sequence.

An example is ((>: @: *:) y) .

This applies the verb (*:) [square] to (y), and then applies the verb (>:) [increment] to the result of (*:).

To advance to the next section, press ctrl+J in any of the main lab windows [the term window, the debug window, or the dissect window].  On a Mac, use Cmd+J.

NOTE: In this lab, parentheses are used to indicate J code.
)
PREPARE
require 'debug/dissect'

NB. Fix up user's config file
desiredkeyvals =: ';'&(taketo ; takeafter);._2 (0 : 0)
F2;0;Dissect Line;dissect&.finddissectline_dissect_ 0
F3;0;Dissect Last Error;dissect&.finddissectline_dissect_ 1
F4;0;Lint;lintwindow_lint_''
)
fkeystatus =: 3 : 0''
fkeyinfo =. 0$a:
cfiled =. 1!:1 cfile =. < jpath '~config/userkeys.cfg'
if. LF ~: {:cfiled do. cfiled =. cfiled , LF end.
NB. Cut to lines
lines =. <;._2 cfiled -. CR
NB. discard comments
lines =. (#~  ('NB.' -.@-: 3 {. deb)@>) lines  
NB. get delimiter for each line
delims =. (,&';' {~ 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+' i.&0@:e.~ deb)@> lines
NB. get existing keyname;values
keynameval =. delims (taketo ; takeafter)&> lines
NB. for each desired value, get the key assigned currently
keyassigns =. keynameval i.&:(1&{"1) desiredkeyvals
NB. For the values not yet assigned, see if the keys are
NB. available
if. +./ assignedmask =. keyassigns < #keynameval do.
  fkeyinfo =. fkeyinfo , ((0 {"1 keynameval) {~ assignedmask # keyassigns) ('You can use ' , [ , ' for ' , ])&.> ';' ([ taketo takeafter)&.> assignedmask # 1 {"1 desiredkeyvals
end.

keysneeded =. (keyassigns = #keynameval) # (0 {"1 desiredkeyvals)
if. #availkeys =. keysneeded -. 0 {"1 keynameval do.
  NB. Get the string to use for the new keys
  newvals =. (availkeys e.~ 0 {"1 desiredkeyvals) # desiredkeyvals
  NB. Get strings to add to config
  newconfigs =. ; (0&{ , ';' ; (<LF) ,~ 1&{)"1 newvals
  NB. Get prompt string to use
  select. #newkeys =. {."1 newvals
  case. 1 do.
    keystg =. 'key ', ; newkeys
  case. 2 do.
    keystg =. 'keys ' , (>{. newkeys) , ' and ' , (>{: newkeys)
  case. do.
    keystg =. _2 }. 'keys ' , ; (}: , (<'and ') , {:) (,&', '&.> newkeys)
  end.
  if. 'yes' -: wd 'mb query mb_yes mb_no "May I change configuration?" "I would like to define function ',keystg,'.  Is that OK with you?',LF,LF,'If so, I will stop J and you will need to restart it."' do.
    NB. Rewrite config file
    (cfiled , newconfigs) 1!:2 cfile
    NB. Kill J to allow restart with new keys
    2!:55 (0)
  end.
end.
fkeyinfo
)
PREPARE
y =. i. 5
- y
(+/ @: -) y



NB. =========================================================
Lab Section The Dissect tool
In this lab we will use the Dissect tool to examine the results of execution.

You see the dissection of the sentence ((>: @: *:) i. 5).

To see the dissection of any sentence, click in the sentence and press F2.

Take a moment to experiment with running Dissect on sentences.  We will not need all the facilities of the Dissect tool.  If you want to learn about them, you can run the Labs for Dissect.  For our purposes, it is enough that you notice that execution flow is from top to bottom, and that each block contains the result of one verb, whose name and rank are displayed at the top of the block.

)
dissect '((>: @: *:) i. 5)'

NB. =========================================================
Lab Section Who needs composition?
Consider the sentence

   +/ - i. 5
_10

Dissect it, just for practice.  [Click in the sentence and press F2.]  Observe that it executes (i.), then (-), then (+/) in order.

Now suppose you want to write a single verb that does the operation of (-) followed by (+/).  You want to call this verb sumneg and you will use it with

  sumneg i. 5
_10

Write the definition of sumneg.  Your definition will look like

sumneg =: <some combination including +/ and - >

Test your (sumneg) program and see if it works correctly. 
NB. =========================================================
Lab Section sumneg

If you got a working definition of sumneg, good on you.  Most novices don't.  The mistakes are instructive.

The most common attempt is

sumneg =: +/ -

Let's try it:

   sumneg =: +/ -
   sumneg i. 5
 0 _1 _2 _3 _4
 1  0 _1 _2 _3
 2  1  0 _1 _2
 3  2  1  0 _1
 4  3  2  1  0

??? What happened?  Run dissect to see.  [Click in the sentence and press F2.]  At first, all you see is that the verb sumneg took in a perfectly valid argument and produced something wild.  But you can look deeper.  In the dissect window, right-click on the big word 'sumneg' at the top of its block.  That will open a dissection of the internals of that verb.  What did it execute?

The input (i. 5) came in at the top and went into (-), but it also went into (+/).  What was executed was not

+/ - i. 5

but

(i. 5) +/ - i. 5

We don't need to know what that did, except to observe that it wasn't what we wanted.  How do we fix sumneg?
)
PREPARE
sumneg =: +/ -
PREPARE

NB. =========================================================
Lab Section sumneg explained
Let's go back to the definition:

   sumneg =: +/ -

The author of this definition had a common misconception: that executing a name in J is like a macro expansion, where the name is replaced by the text of its definition.  In fact, executing a name is more like calling a subroutine in a normal language: the definition of the name is compiled into an internal form, and the arguments are presented to that form for execution.

What is the internal form of this sumneg?

The full explanation is more than we can handle right now, but fortunately there is a simple way to end up at the right place:

To see the value of an assigned verb, put parentheses around the definition.

Thus, sumneg has the value  (+/ -)  where the parentheses are necessary.

You may say, Well, what does THAT mean then?  That's progress: formerly you thought you knew what +/ - meant, while now you realize you don't know what (+/ -) means.  You have to look it up or ask for help, and you will find that exactly two verbs enclosed by parentheses are a HOOK, and that

   (u v) y

is executed as

   y u v y

which is what we suspected from our Dissect work.  You can run

   (+/ -) i. 5

to verify.
)
(+/ -) i. 5


NB. =========================================================
Lab Section sumneg repaired
Since just writing verbs in sequence doesn't cause them to be executed in sequence, what does?

This is where you need a composition.  You need a way to combine the two verbs into a single verb that executes one verb then the other.

The composition you want is (@:).  (u@:v y) executes (v y) and then executes (u) on the result.

(+/)@:- is the verb you want.  And adding parentheses doesn't change its value, so you can assign that verb to a name.

Run dissect to see how sumneg should work.
)
sumneg =: +/@:-
sumneg i. 5
+/@:- i. 5  NB. same result


NB. =========================================================
Lab Section @: vs @
The other common mistake in defining sumneg is to use (@) instead of (@:) to produce
   sumneg =: +/@-
   sumneg i. 5
 0 _1 _2 _3 _4

Why didn't it add up the values?

To see what went wrong, run dissect and right-click in the name sumneg.

Dissect balks.  It says you 'must select a single result-cell for analysis'.  Humor it.  Click on the center value (_2) in the result area, and then go back and click on the name sumneg.

Now dissect shows the execution of sumneg, but you can see it is operating on only one atom rather than the entire array.  The 'sum' is being taken over only one number, which isn't much of a sum at all.

What's the difference between (@:) and (@)?  Drum roll... the rank of the verb they produce.

To see the rank of a verb, use (b. 0), like so:
)
sumneg =: +/@:-
sumneg b. 0
sumneg =: +/@-
sumneg b. 0

NB. =========================================================
Lab Section +/@-
The key fact, whose capital importance you must grasp, is that every verb has a rank, including verbs made by combining primitives.

Definition: the rank of a verb is the rank of the pieces that its arguments will be diced into.  The verb will execute on each of those pieces, called argument cells, independently.  When the verb is finished, the result-cells from the executionas will be assembled into the result of the verb.

The rank of (u@:v) is infinite, which means the arguments are not split at all.  That is why (+/@:-) operated on its argument as a whole.

The rank of (u@v) is the same as the rank of (v).  The rank of (-) is 0.  Thus the rank of (+/@-) is 0.  That means that the verb operated on every cell of rank 0 - that is, every atom - separately.  That's what we saw, and we didn't like it.

How do you know that the rank of (-) is 0?  You can look in NuVoc, or you can use (b. 0).  [Some programmers just guess, but that's not recommended - they don't seem to use J for long.]
)
- b. 0

NB. =========================================================
Lab Section @ in Dissect
(@) and (@:) produce different displays in Dissect.  We have already seen (@:); let's look into an example of (@).

We will use a program that counts the number of items inside each box of a noun.  The verb to count items is (# y), and the verb to open a box is (> y).

Now dissect (#@> y) [by clicking on it and pressing F2].

You can see the value of y, and the result, which is as expected: 4 items, 5 items, 2 items.

Think and click until you can answer two questions:

Why is the result of executing (>) not visible?

How can you see it? 
)
]y =. 'word';1 2 3 4 5;i. 2 5
#@> y
)
PREPARE
y =. 'word';1 2 3 4 5;i. 2 5
PREPARE

NB. =========================================================
Lab Section @ in Dissect
The result of (> y) is not visible for the most compelling of reasons: it doesn't exist.

(> y) was never executed.  In fact, it couldn't be executed - doing so would produce a domain error [try it and see].

The overall verb (#@> y) has rank 0, because (> y) has rank 0.  That means that (#@>) was executed for each box of y - 3 times in all.  And thus (>) was executed 3 times.

To see the result of executing (>), you have to choose a single result-cell of (#@>) to examine.  Do so by clicking in the overall result.  When you have selected a result-cell that depends only on a single argument-cell into (#@>), the complete execution on that cell will be displayed.  With this verb one click is enough.  With more complex verbs you may have to click more than once.
)

NB. =========================================================
Lab Chapter Worked Problems
NB. =========================================================
Lab Section The length of a vector
The rest of this lab is a sequence of problems of increasing complexity.  Each problem will be stated, with an example of the desired result.  Your job is to write the composition that produces that result.

After you have solved the problem, you may advance the lab to see a correct solution with commentary.

Problem:

Define the length of a vector as the square root of the sum of the squares of the components of the vector.

Write a verb (length) to compute the length of the list  y, which may have any number of components.

The verb (%: y) takes the square root of (y); (*: y) is (y) squared; and (+/ y) sums the items of (y).

   length 3 4 12
13
)

NB. =========================================================
Lab Section The length of a vector (solution)

Define the length of a vector as the square root of the sum of the squares of the components of the vector.  Write a verb (length) to compute the length of the list  y, which may have any number of components.

Solution:

Apply the verbs in order with 

length =: %: @: (+/) @: *:

Another solution is

length2 =: %: @ (+/) @: *:

(length2) is parsed as (%:@(+/))@:*: which means that (%:@(+/)) has the rank of (+/) which is infinite.  In this case (@) and (@:) give the same result.

But don't try 

lengthx =: %: @: (+/) @ *:

!  Dissect it if you don't understand why it will fail.
)
length =: %: @: (+/) @: *: of the lengths of the vectors.
length 3 4 12

NB. =========================================================
Lab Section The length of each vector in a table of vectors
Problem: given a table of vectors (y), where each vector is a row of (y), write a program (lengths) that produces a list of the lengths of the vectors.

   ]y =. 2 3 $ 3 4 12   9 12 112
3  4  12
9 12 112
   lengths 2 3 $ 3 4 12   9 12 112
13 113
)
PREPARE
y =. 2 3 $ 3 4 12   9 12 112
PREPARE

NB. =========================================================
Lab Section The length of each vector in a table of vectors (solution)
Given a table of vectors (y), where each vector is a row of (y), write a program (lengths) that produces a list of the lengths of the vectors.

Solution:

A perfectly valid solution is

lengths =: length"1

You have a verb (length) to find the length of a list; simply use ("1) to have it be applied to lists.

If you are operating on lots of data, you will find that (lengths2), defined below, is faster.  Use Dissect to probe the two versions and explain why (lengths2) is faster.
)
]y =. 2 3 $ 3 4 12   9 12 112
lengths =: length"1
lengths y
lengths2 =: %: @: (+/"1) @: *:
lengths2 y

NB. =========================================================
Lab Section The length of each vector in a table of vectors (analysis)
(lengths) operates on one row at a time.  If you try to look into its operation you see that you have to select an individual result-cell before you can see how it was calculated.  This tells you that each cell was calculated independently.

Because J nouns can have any rank and shape, there is a small overhead every time a verb is executed.  (lengths) executes each of its 3 verbs on every row.

Dissecting (lengths2) shows a different picture.  You can see the entire computation, because each verb is applied to the entire argument at each step.  There are only 3 verb overheads for the entire computation.

If you are paying careful attention, you may say, "Ah yes, but (+/"1) runs the verb (+/) on each row, so there is an extra 1 overhead per row."  But I get the last "Ah yes", because most of the arithmetic primitives, including (+/), have Integrated Rank Support, which means ((+/)"r) has only one overhead no matter what (r) is.

NB. =========================================================
Lab Section Average of the digits
Problem: Given an noun whose atoms are nonnegative integers, replace each number with the average of its digits.

The verb (10&#.^:_1 y) converts an atom (y) into a list of its digits.  The verb ((+/ % #) y) takes the average of the items of (y).  Both of these verbs have infinite rank.

   avgdigit 123 6576 91264
2 6 4.4
)

NB. =========================================================
Lab Section Average of the digits (solution)
Given an noun whose atoms are nonnegative integers, replace each number with the average of its digits.

Solution:

avgdigit =: (+/ % #)@(10&#.^:_1)"0

You must convert each number to digits, and average those digits, independently.

Use Dissect to see the flaws in the other two attempts shown below.

(avgdigitx) fails because it has infinite rank.  When (10&#.^:_1) is executed ont the list (y), it produces a table; and when (+/ % #) is applied to the table, it averages the ROWS of the table rather than each row separately.

(avgdigitx2) attempts to fix that problem by explicitly averaging each row separately.  But it gets the wrong answer - do you see what happened?

The execution of (10&#.^:_1) produced lists of varying lengths.  These rows were assembled into a table by padding the short rows.  The added zeros affected the average value.

To get the correct answer you must keep the computations of each average completely separate.
)
avgdigit =: (+/ % #)@(10&#.^:_1)"0
avgdigit 123 6576 91264
avgdigitx =: (+/ % #)@(10&#.^:_1)
avgdigitx 123 6576 91264
avgdigitx2 =: (+/ % #)"1@(10&#.^:_1)
avgdigitx2 123 6576 91264

NB. =========================================================
Lab Section Find the index of the number with the smallest digit
Problem: Given a list of nonnegative integers, find the index of the number containing the smallest digit.

The verb (<./ y) has infinite rank and gives the smallest value in the list (y).  The verb ((i. <./) y) has infinite rank and finds the index of the smallest atom of the list (y).

   mindigit 999 4563 12
2
   mindigit 9 87 654 81 5
3
)
NB. =========================================================
Lab Section Find the index of the number with the smallest digit (solution)
Given a list of nonnegative integers, find the index of the number containing the smallest digit.

Solution:

mindigit =: (i. <./)@:(<./@(10&#.^:_1)"0)

Find the smallest digit of each number; then find the index of the smallest of all of them.

It is important that the smallest digit in each word be found for each word individually.  If the digits are collected into a table, disastrous zero-fill will be added.  Once the smallest digit of each word is found, they must be collected into a single list where the index of the smallest can be found.

Dissect the result until you understand it.
)
mindigit =: (i. <./)@:(<./@(10&#.^:_1)"0)
mindigit 999 4563 12
mindigit 9 87 654 81 5


NB. =========================================================
Lab Section The number of words in each phrase
Problem: Given a list of boxes (y), where each box contains a phrase, produce a table, with one row for each word, giving the number of words in each phrase and the number of characters in the original phrase.

The verb (;: y) converts a string into a list of boxed words, with spaces removed:

   ;: 'we happy few'
 +--+-----+---+
 |we|happy|few|
 +--+-----+---+

A FORK ((f g h) y) can join the results of 2 verbs.  ((f g h) y) is ((f y) g (h y)); so ((f , h) y) is ((f y) , (h y)) which joins the results of (f) and (h) together.

   ]y =: 'we happy few';'the unforgiving minute';'we must think anew'
+------------+----------------------+------------------+
|we happy few|the unforgiving minute|we must think anew|
+------------+----------------------+------------------+
   nwords y
3 12
3 22
4 18
)
PREPARE
y =: 'we happy few';'the unforgiving minute';'we must think anew'
PREPARE


NB. =========================================================
Lab Section The number of letters and words in each phrase (solution)
Given a list of boxes (y), where each box contains a phrase, find the number of words in each phrase.

Solution:

nwords =: (#@;: , #)@>

The key is the use of (@) rather than (@:).  Using (@:>) would open each box and join them into a single value.  This is almost never used.  You can see why: if joining the contents of the boxes wouldn't damage them, why have the boxing in the first place?  By using (@>) you ensure that the boxed contents are kept separate.

)
nwords =: (#@;: , #)@>
nwords y

NB. =========================================================
Lab Chapter Dyads (x u y)
NB. =========================================================
Lab Section Using (u@v) and (u@:v) as dyads
Until now we have considered monadic compositions (u@v y) and (u@:v y).  The same forms have defined meanings when used as dyads.

(x u@:v y) executes as (u (x v y)).  In words, (v) is executed as a dyad and takes the arguments (x) and (y).  After that, (u) is applied in the same way as in monadic (u@:v y).  (x u@:v y) has infinite rank.

(x u@v y) follows the same pattern, but the verb has the ranks of (v).  The left and right rank may be different.  The effect is that (x) and (y) are diced into cells before being presented to (u@v), with each cell going through the operation separately and the result-cells assembled into a final result at the end.

Dissect the examples below to see how the components are executed.  As before, with (u@v) you must look at an individual cell to get a full picture.
)
(100 * i. 5) +/@:+ (3 1 4 1 5)
100 *:@- i. 10
(100 * i. 5) +/@+ (3 1 4 1 5)

NB. =========================================================
Lab Section & and &:
The conjunctions (&) and (&:) are used for a different form of dyadic composition.

(x u&:v y) has infinite rank, and executes as ((v x) u (v y)).  In words, (v) is applied to each of (x) and (y) monadically, and (u) is applied dyadically between those results. 

(x u&v y) follows the same pattern, but the left and rights verb are the monadic rank of (v).  (x) and (y) are diced into cells before being presented to (u&v), with each cell going through the operation separately and the result-cells assembled into a final result at the end.

Dissect the examples below to see how the components are executed.

Forms with (&) and (&:) can be used monadically, but the monadic case (u&:v y) executes exactly like (u@:v y), and (u&v y) like (u@v y).  For this reason monadic forms in (&) and (&:) are seldom used.
)
'three' +&:# 'four'
('three';'seven') +@(#&>) ('two;'five')NB. stats/base/random
NB. Random number generation

NB.*setrl v       set random link
NB.
NB.*rand01 v      generate y random numbers in interval (0,1)
NB.*rand11 v      generate y random numbers in interval (_1,1)
NB.*randomize v   sets a random value into random link
NB.
NB.*deal v        deal x items from y (no repetition)
NB.*dealx v       deal x indices from shape y (no repetition)
NB.*toss v        pick x items from y (with repetition)
NB.*tossx v       pick x indices from shape y (with repetition)
NB.
NB. betarand        v random numbers in a beta distribution
NB. binomialrand    v random numbers 0 and 1 in binomial distribution
NB. cauchyrand      v random numbers in a cauchy distribution
NB. discreterand    v random numbers in a discrete distribution
NB. exponentialrand v random numbers in an exponential distribution
NB. gammarand       v random numbers in a gamma distribution
NB. normalrand      v random numbers in a standard normal distribution,
NB. poissonrand     v random numbers in a poisson distribution
NB.
NB. note: y for deal is data
NB.       y for dealx is $data
NB.
NB. similarly for toss and tossx

NB. ---------------------------------------------------------
NB. examples:
NB.
NB.    p=. ;: 'anne dave mary tom'
NB.    words=: ;: inverse
NB.
NB.    words deal p
NB. mary anne dave tom
NB.
NB.    words 3 deal p
NB. tom dave mary
NB.
NB.    words 6 toss p
NB. mary mary dave dave mary tom
NB.
NB.    dealx 2 3
NB. 0 1
NB. 1 1
NB. 0 2
NB. 1 2
NB. 0 0
NB. 1 0
NB.
NB.    3 dealx 3 5 7
NB. 2 4 6
NB. 1 0 6
NB. 2 4 5
NB.
NB.    4 tossx 2 3
NB. 0 2
NB. 1 2
NB. 1 1
NB. 0 2

cocurrent 'z'

setrl=: 9!:1                NB. set random link

deal=: (# ? #) : (? #) { ]  NB. deal x items from y (no repetition)
dealx=: ] #: ?~ : ? & (*/)  NB. deal x items from shape y (no repetition)
toss=: ? @ (# #) { ]        NB. pick x items from y (with replacement)
tossx=: ] #: (?@# */)       NB. pick x items from shape y (with replacement)
rand01=: ?@$ 0:             NB. generate y random numbers in interval (0,1)
rand11=: <: @: +: @: rand01  NB. generate y random numbers in interval (_1,1)

NB. =========================================================
NB.*randomize v sets a random value into random link
randomize=: 3 : 0
 try.
   require 'guid'
   tmp=. _2 (3!:4) , guids 1
 catch.             NB. general/misc/guid.ijs not available
   tmp=. >:<.0.8*0 60 60 24 31#.0 0 0 0 _1+|.<.}.6!:0 ''
 end.
 ([ 9!:1) {.^:(2~:9!:42'') tmp    NB. set random initial random seed
)

NB. =========================================================
NB.*betarand v random numbers in a beta distribution
NB. y has 3 elements p,q,n
NB.   0 = power parameter
NB.   1 = power parameter
NB.   2 = number of trials
betarand=: 3 : 0
'p q n'=. y
if. (1>p) *. 1>q do.
  b=. n#1
  r=. n#0
  whilst. 1 e. b do.
    m=. +/b
    x=. (rand01 m)^%p
    y=. x+(rand01 m)^%q
    t=. 1>:y
    z=. (t#x)%t#y
    i=. t#b#i.#b
    b=. 0 i } b
    r=. (z+i{r) i } r
  end.
else.
  s%(gammarand q,n)+s=. gammarand p,n
end.
)

NB. =========================================================
NB.*binomialrand v random numbers 0 and 1 in binomial distribution
NB.
NB. y has 2 elements:
NB.  0  =  probability of success in one trial
NB.  1  =  number of trials
binomialrand=: 3 : 0
'p n'=. y
r=. 2147483647
s=. <:p*r
s>?n#<:r
)

NB. =========================================================
NB.*cauchyrand v random numbers in a cauchy distribution
NB. with F(x)=0.5+(arctan x)%o.1
NB.
NB. y  =  number of trials
cauchyrand=: 3 : 0
3 o. o. _0.5+rand01 y
)

NB. =========================================================
NB.*discreterand v random numbers in a discrete distribution
NB. y has two elements
NB.   0 =  2-row matrix: 0 =  discrete values
NB.                      1 =  corresponding probabilities
NB.   1 =  number of trials
discreterand=: 3 : 0
'm n'=. y
'v p'=. m
f=. 0,+/\p%+/p
l=. #f
r=. /:f,rand01 n
s=. +/\l>r
r=. s r } r
v {~ <:l}.r
)

NB. =========================================================
NB.*exponentialrand v random numbers in an exponential distribution
NB. with mean=1. F(x)=1-^-x
NB.
NB. y  =  number of trials
exponentialrand=: 3 : 0
-^.rand01 y
)

NB. =========================================================
NB.*gammarand v random numbers in a gamma distribution
NB. y has 2 elements p,n
NB.   0 = power parameter
NB.   1 = number of trials
NB.
NB. if p=1 this is the exponential distribution
gammarand=: 3 : 0
'p n'=. y
r=. n#0
k=. p-i=. <.p
if. k do.
  r=. betarand k,(-.k),n
  r=. r * -^.rand01 n
end.
if. i do.
  r-^.*/rand01 i,n
end.
)

NB. =========================================================
NB.*normalrand v random numbers in a standard normal distribution,
NB. with  mean=0, standard deviation=1.
NB. y  = number of trials.
normalrand=: 3 : 0
(2 o. +: o. rand01 y) * %: - +: ^. rand01 y
)

NB. =========================================================
NB.*poissonrand v random numbers in a poisson distribution
NB.
NB. y has 2 elements:
NB.   0  = mean of distribution (=variance)
NB.   1  = number of trials
poissonrand=: 3 : 0
'm n'=. y
roll=. -@^.@rand01
r=. b=. m >: t=. roll n
i=. i.n
while. #i=. b#i do.
  b=. m >: t=. (b#t) + roll #i
  r=. (b + i{r) i } r
end.
r
)
NB. stats/base/univariate
NB. Univariate statistics

NB.*mean v         arithmetic mean (dyadic: weighted)
NB.*geomean v      geometric mean
NB.*harmean v      harmonic mean
NB.*commonmean v   common mean
NB.
NB.*dev v          deviation from mean (dyadic: weighted)
NB.*ssdev v        sum of squared deviations (dyadic: weighted)
NB.*var v          sample variance (dyadic: weighted)
NB.*stddev v       standard deviation (dyadic: weighted)
NB.*varp v         population variance
NB.*stddevp v      population standard deviation
NB.*skewness v     skewness
NB.*kurtosis v     kurtosis
NB.
NB.*min v          minimum
NB.*max v          maximum
NB.*midpt v        index of midpoint
NB.*median v       median
NB.
NB. quantiles v    quantiles of y at the specified probabilities x
NB. nquantiles v   values which partition y into x quantiles
NB. iqr v          interquartile range (IQR) of y
NB. ntiles v       assign values of y to x quantiles
NB. cile v         assign values of y to x subsets of nearly equal size
NB.
NB. dstat v        descriptive statistics
NB. freqcount v    frequency count
NB. Idotr v        equivalent to I. but intervals closed on left, open on right
NB. histogram v    histogram
NB. binnedData a   applies u to binned data y as specified by intervals x

cocurrent 'z'

mean=: (+/ % #) : wmean        NB. arithmetic mean (dyadic: weighted)
geomean=: mean &.: ^.          NB. geometric mean
harmean=: mean &.: %           NB. harmonic mean
commonmean=: [: {. (%:@*/ , -:@+/) ^: _

wmean=: +/@[ %~ +/@:*          NB. weighted arithmetic mean
wdev=: ] -"_1 _ wmean          NB. weighted deviation from mean
wssdev=: [ +/@:* *:@wdev       NB. weighted sum of squared deviations
wvar=: (#@-.&0 %~ <:@#@-.&0 * +/)@[ %~ wssdev  NB. weighted sample variance
wstddev=: %:@wvar              NB. weighted sample standard deviation

dev=: (-"_1 _ mean) : wdev     NB. deviation from mean (dyadic: weighted)
ssdev=: (+/@:*:@dev) : wssdev  NB. sum of squared deviations (dyadic: weighted)
var=: (ssdev % <:@#) : wvar    NB. sample variance (dyadic: weighted)
stddev=: (%:@var) : wstddev    NB. sample standard deviation (dyadic: weighted)

NB. "p" suffix = population definitions
varp=: ssdev % #               NB. population variance
stddevp=: %: @ varp            NB. population standard deviation

min=: <./
max=: >./
midpt=: -:@<:@#
median=: -:@(+/)@((<. , >.)@midpt { /:~)

NB. There are a number of different methods for calculating quantiles
NB. https://en.wikipedia.org/wiki/Quantile , also Hyndman and Fan (1996)
qh4=. 4 : 'x * # y'               NB. alpha=0, beta=1
qh5=. 4 : '0.5 + x * # y'         NB. alpha=0.5, beta=0.5
qh6=. 4 : 'x * >:@# y'            NB. alpha=0, beta=0
qh7=. 4 : '1 + x * <:@# y'        NB. alpha=1, beta=1      ; default for R, NumPy & Julia
qh8=. 4 : '1r3 + x * 1r3 + # y'   NB. alpha=1/3, beta=1/3  ; recommended by Hyndman and Fan (1996)
qh9=. 4 : '3r8 + x * 0.25 + # y'  NB. alpha=3/8, beta=3/8  ; tends to be used for Normal QQ plots
Qh=: (qh4 f.)`(qh5 f.)`(qh6 f.)`(qh7 f.)`(qh8 f.)`(qh9 f.)
QuantileMethod=: 7               NB. default quantile method to use

NB. =========================================================
NB.*quantiles v  returns the quantile of y at the specified probabilities x
NB. y is: numeric values to calculate quantiles for
NB. x is: 0{:: probabilities at which to calculate quantiles (default 0.25 0.5 0.75)
NB.       1{:: method for calculating quantiles (default 7)
NB. EG: 0 0.25 0.5 0.75 1 quantiles 2 4 5 6 7 8 9
quantiles=: 3 : 0
  0.25 0.5 0.75 quantiles y
:
  t=. /:~ y
  'prob htype'=. 2 {. (boxopen x) ,< QuantileMethod
  'invalid quantile method' assert (3&< *. <&10) htype
  qh=. (Qh {~ htype - 4)`:6    NB. define quantile method
  h=. (,prob) <:@qh t          NB. J is zero-based so subtract 1
  h=. 0 >. (<:@#t) <. h        NB. constrain h between 0 & n-1
  diff=. t -/@({~ >. ,: <.) h
  prop=. (] - <.) h
  base=. t ({~ <.) h
  base + prop * diff
)

NB. =========================================================
NB.*nquantiles v  returns the values which partition y into x quantiles
NB. returns 1 less value than the number of quantiles specified
NB. y is: numeric values to calculate quantiles for
NB. x is: number of quantiles (default 4)
NB. EG: 4 nquantiles 2 4 5 6 7 8 9
nquantiles=: 4&$: : ((}.@i. * %)@[ quantiles ])

NB.*iqr v  calculates the interquartile range (IQR) of y
iqr=: -/@(0.75 0.25 quantiles ])

NB. =========================================================
NB.*ntiles v  assign values of y to x quantiles
NB. x is: number of quantiles (default 4)
NB. EG: 2 ntiles 2 4 5 6 7 8 9
ntiles=: 4&$: : (] Idotr~ min@] , nquantiles , >:@max@])

NB. =========================================================
NB.*cile v  assign values of y to x subsets of nearly equal size
NB. eg: 3 cile i.12
cile=: $@] $ ((* <.@:% #@]) /:@/:@,)

NB.*rankOrdinal a  ordinal ranking ("0 1 2 3") of array y
NB. tied items are ranked on the order they appear in y
NB. eg: /: rankOrdinal 5 2 5 0 6 2 4  NB. rank ascending
NB. eg: \: rankOrdinal 5 2 5 0 6 2 4  NB. rank descending
rankOrdinal=: 1 :'/:@u'

NB.*rankCompete a  standard competition ranking ("0 0 2 3") of array y
NB. eg: /: rankCompete 5 2 5 0 6 2 4  NB. rank ascending
NB. eg: \: rankCompete 5 2 5 0 6 2 4  NB. rank descending
rankCompete=: 1 :'u~ i. ]'

NB.*rankDense a  dense ranking ("0 0 1 2") of array y
NB. eg: /: rankDense 5 2 5 0 6 2 4  NB. rank ascending
NB. eg: \: rankDense 5 2 5 0 6 2 4  NB. rank descending
rankDense=: 1 :'u rankOrdinal@~. {~ ~. i. ]'

NB.*rankFractional a  fractional ranking ("0 1.5 1.5 3") of array y
NB. Items with the same ranking have the mean of their ordinal ranks.
NB. eg: /: rankFractional 5 2 5 0 6 2 4  NB. rank ascending
NB. eg: \: rankFractional 5 2 5 0 6 2 4  NB. rank descending
rankFractional=: 1 : '(] (+/ % #)/. u rankOrdinal) {~ ~. i. ]'

NB. =========================================================
NB.*dstat v  descriptive statistics
NB. table of formatted descriptive statistics
dstat=: 3 : 0
t=. '/sample size/minimum/maximum/median/mean'
t=. t,'/std devn/skewness/kurtosis'
t=. ,&':  ' ;._1 t
v=. $,min,max,median,mean,stddev,skewness,kurtosis
t,. ": ,. v y
)

NB. =========================================================
NB.*freqcount v  frequency count
NB. (value, frequency) sorted by decreasing frequency
freqcount=: (\: {:"1)@(({. , #)/.~)

NB. =========================================================
NB.*Idotr v  Equivalent to I. but intervals are closed on the left and open on the right
NB. Idotr : (0{x) <= y < (1{x)
NB.    I. : (0{x) < y <= (1{x)
Idotr=: |.@[ (#@[ - I.) ]

NB. =========================================================
NB.*histogram v  tally of the items in each bin
NB. x is a list of interval start/end points. The number of intervals is 1+#x
NB. y is an array of data
histogramR=: <: @ (#/.~) @ (i.@>:@#@[ , I.)      NB. Intervals (,]
histogramL=: <: @ (#/.~) @ (i.@>:@#@[ , Idotr)   NB. Intervals [,)
histogram=: histogramL f.

NB. =========================================================
NB.*binnedData a  Applies verb u to the values of y after binning them in the intervals specified by x
NB. x is a list of interval start/end points. The number of intervals is 1+#x
NB. y is an array of data.
NB. eg: < binnedData  NB. verb to box the binned data
NB. eg: (+/ % #) binnedData  NB. verb to average the binned data
binnedData=: adverb define
  bidx=. i.@>:@# x                    NB. indicies of bins
  x (Idotr (u@}./.)&(bidx&,) ]) y     NB. apply u to data in bins after dropping first value
)

NB. =========================================================
NB.*kurtosis v  4th moment coefficient
kurtosis=: # * +/@(^&4)@dev % *:@ssdev

NB. =========================================================
NB.*skewness v  3rd moment coefficient
skewness=: %:@# * +/@(^&3)@dev % ^&1.5@ssdev
NB. stats/base/combinatorial
NB. Sample design

NB. comb v         combinations of size x from i.y
NB. combrep v      combinations of size x from i.y with repetition
NB. combrev v      comb in revolving door order
NB. perm v         permutations of size x from i.y
NB. permrep v      permutations of size x from i.y with repetition
NB. steps v        steps from a to b in c steps

cocurrent 'z'

NB. =========================================================
NB.*comb v combinations of size x from i.y
comb=: 3 : 0
comb~ y
:
k=. i.>:d=. y-x
z=. (d$<i.0 0),<i.1 0
for. i.x do. z=. k ,.&.> ,&.>/\. >:&.> z end.
; z
)

NB. =========================================================
NB.*combrep v combinations of size x from i.y with repetition
combrep=: $:~ : (i.@[ -"1~ [ comb + - 1:)

NB. =========================================================
NB.*combrev v comb in revolving door order
NB. combinations in what Knuth calls "revolving door order"
NB. such that any two adjacent combinations differ by a
NB. single element (Gray codes for combinations).
combrev=: 3 : 0
combrev~ y
:
i=. 1+x
z=. 1 0$k=. i.#c=. 1,~(y-x)$0
while. i=. <:i do. z=. (c#k),.;(-c=. +/\.c)|.@{.&.><1+z end.
|.y-1+z
)

NB. =========================================================
NB.*perm v permutations of size x from i.y
NB. monadic form gives all perms of size i.y (i@! A. i.)
perm=: 3 : 0
z=. i.1 0
for. i.y do. z=. ,/ (0 ,. 1 + z) {"2 1 \:"1 = i. 1 + {: $z end.
:
,/ ({~ perm@#)"1 x comb y
)

NB. =========================================================
NB.*permrep v permutations of size x from i.y with repetition
permrep=: $:~ : (# #: i.@^~)

NB. =========================================================
NB.*steps v steps from a to b in c steps
NB. form: steps a,b,c
steps=: {. + (1&{ - {.) * (i.@>: % ])@{:
NB. stats/base/distribution
NB. Statistical distributions

NB. discrete:
NB. binomialdist v  discrete values for binomial distribution
NB. binomialprob v  probability of success in binomial distribution
NB. poissondist v   discrete values for poisson distribution
NB. poissonprob v   probability of success in poisson distribution
NB.
NB. continuous:
NB. chisqcdf v      chi squared CDF
NB. normalcdf v     normal distribution (0,1) CDF
NB. normalprob v    probability of success in normal distribution

cocurrent 'z'

NB. =========================================================
NB.*binomialdist v discrete values for binomial distribution
NB. y has 2 elements p,n:
NB.  0  =  probability of success in one trial
NB.  1  =  number of trials
NB.
NB. E=n*p, var=n*p*-.p
NB.
NB. e.g.  binomialdist 0.25 5  ...distribution of results from 0 to 5
binomialdist=: 3 : 0
'p n'=. y
if. b=. p<:0.5 do. p=. -. p end.
q=. -.p
r=. }.i.>:n
r=. (q^n)**/\1,(p%q)*(>:n-r)%r
if. b do. |. r end.
)

NB. =========================================================
NB.*binomialprob v probability of success in binomial distribution
NB. y has 3 or 4 elements:
NB.   0  =  probability of success in one trial
NB.   1  =  number of trials
NB.   2  =  minimum number of successes
NB.  {3} =  maximum number of successes
NB.
NB. e.g.  binomialprob 0.25 100 30 40    ...probability that there are
NB. between 30 and 40 successes in 100 trials, where probability = 0.25
binomialprob=: 3 : 0
'p n s'=. 3{.y
m=. >:3{y,n
+/ s}.m{.binomialdist p,n
)

NB. =========================================================
NB.*chisqcdf v  chi squared CDF
NB. chi squared cumulative distribution function
NB. see wiki Essays/Chi_Squared_CDF
gamma=. ! & <:
ig0=. 4 : '(1 H. (1+x) % x&((* ^) * (^ -)~)) y'
incgam=. ig0 % gamma@[  NB. incomplete gamma
chisqcdf=: incgam&-: f.

NB. =========================================================
NB.*normalcdf  v normal distribution (0,1) CDF
NB. normal(0,1) cumulative distribution function
NB. see wiki Essays/Normal_CDF
NB.
NB. the following are equivalent, but normalcdf more accurate:
NB.   normalcdf X
NB.   1 - normalprob 0 1, X
erf=. (1 H. 1.5)@*: * 2p_0.5&* % ^@:*:
normalcdf=: -: @ >: @ erf @ %&(%:2) f.

NB. =========================================================
NB.*normalprob v probability of success in normal distribution
NB. y has 3 or 4 elements:
NB.   0  =  mean of distribution
NB.   1  =  standard deviation
NB.   2  =  minimum result
NB.  {3} =  maximum result
NB.
NB. e.g.  normalprob 0 1 2    ...probability that result will be
NB. greater than 2, where mean = 0, standard deviation 1
NB.
NB. Result is rounded to 7 decimal places
NB. Algorithm has accuracy ~ 7.5*1e_8
normalprob=: 3 : 0
'm s'=. 2{.y
x=. s %~ m -~ 2}.y
sgn=. *x
x=. |x
b=. 0.31938153 _0.356563782 1.781477937 _1.821255978 1.330274429
p=. 0.2316419
r=. ((2p1)^_0.5)*^_0.5**:x
r=. r*b+/ .**/\5#(1,#x)$%>:p*x
r=. -/|(sgn=_1)-r
(<.0.5+r*c)%c=. 1e7
)

NB. =========================================================
NB.*poissondist v discrete values for poisson distribution
NB. y has 2 elements:
NB.   0 = mean of distribution
NB.   1 = maximum value to show
NB.
NB. e.g.  poissondist 2 10
NB.       = list of probabilities of values from 0 to 10
NB.         in poisson distribution of mean 2
poissondist=: 3 : 0
'm n'=. y
(^-m)**/\1,m%}.i.>:n
)

NB. =========================================================
NB.*poissonprob v probability of success in poisson distribution
NB. y has 2 or 3 elements:
NB.  0   =  mean of distribution
NB.  1   =  minimum number of successes
NB.  {2} =  maximum number of successes
NB.
NB. e.g.
NB.   poissonprob 5 4 7    ...probability that result will be
NB.         between 4 and 7 inclusive, where mean result is 5.
NB.   poissonprob 5 6 6    ...probability that result will be
NB.         exactly 6, where mean result is 5.
poissonprob=: 3 : 0
m=. {.y
s=. }.y
b=. 1=#s
'x y'=. _2{.0,s-b
if. 0>y do. 1 return. end.
|b-(^-m)*+/x}.*/\1,m%}.i.>:y
)
NB. stats/base/multivariate
NB. Multivariate statistics

NB.*XtY            sum of cross products (monadic is XtX)
NB.*spdev v        sum of cross products of deviations
NB. cov v          (co)variance or var/cov matrix
NB.*covp v         population (co)variance or var/cov matrix
NB.
NB.*diag v         returns the matrix diagonal
NB.*cov2cor v      convert var/cov matrix to correlation matrix
NB. corr v         correlation or correlation matrix
NB.
NB. lsfit v        least-squares fit
NB. regression v   multiple regression

require '~addons/stats/base/univariate.ijs'
cocurrent 'z'

XtY=: +/ .*~ |:           NB. sum of cross products (monadic is XtX)
spdev=: XtY&dev           NB. sum of cross products of deviations

NB. =========================================================
NB.*cov v Covariance or variance/covariance matrix
NB. form: [x] cov y
NB. y is: numeric list or matrix
NB. x is: numeric list or matrix
NB. Monadic use:
NB.   if y is a numeric list, the variance of the list is returned.
NB.   if y is a numeric matrix, the variance/covariance matrix of the columns is returned
NB. Dyadic use:
NB.   if x and y are numeric lists then the covariance of the 2 lists is returned
NB.   if x and y are compatible matrices, the variance/covariance matrix of their columns is returned
cov=: spdev % <:@#@]

NB. "p" suffix = population definitions
covp=: spdev % #@]       NB. population (co)variance or var/cov matrix

diag=: (<0 1)&|:          NB. returns matrix diagonal
cov2cor=: % */~@:%:@diag  NB. convert var/cov matrix to correlation matrix

NB. =========================================================
NB.*corr v Correlation or correlation matrix
NB. form: [x] corr y
NB. Arguments as per cov, but returns correlations or correlation matrix
NB. Although dyadic form also works for modadic matrix arguments, it is not as numerically exact
corr=: cov2cor@cov : (cov % */~&stddev)

NB. =========================================================
NB.*rankcorr v Spearman rank correlation or correlation matrix
NB. form: [x] rankcorr y
NB. Arguments as per corr, but returns rank correlations or rank correlation matrix
rankcorr=: corr&(/: rankFractional"_1&.|:)

NB.*interpolate v  simple linear interpolation for intermediate points
NB.y is: X,:Y  lists of X and corresponding Y values
NB.x is: XI    list of points XI to interpolate Y for, to return YI
NB.EG: (1.1 * i.8) interpolate (i.10) ,: (1.1 ^~ i.10)
NB. http://www.jsoftware.com/pipermail/programming/2008-June/011078.html
NB. https://code.jsoftware.com/wiki/Phrases/Arith#Interpolation
interpolate=: 4 : 0
  ix =. 1 >. (<:{:$y) <. (0{y) I. x
  intpoly =. (1 { y) ,. (,~ {.)   %~/ 2 -/\"1 y
  (ix { intpoly) p. ((<0;ix) { y) -~ x
)

NB. =========================================================
NB.*lsfit v least-squares fit
NB. form: n lsfit xy
NB. coefficients of polynomial fitting data points
NB. using least squares approximation.
NB. xy = 2 row matrix of x ,: y
NB. n  = order of polynomial
lsfit=: {:@] %. {.@] ^/ i.@>:@[

NB. =========================================================
NB.*regression v multiple regression
NB. form:  independent regression dependent
NB.    dependent = vector of n observations (Y value)
NB.  independent = n by p matrix of n observations for p independent
NB.                variables (X value)
NB.
NB. returns: formatted values
regression=: 4 : 0
v=. 1,.x
d=. y
b=. d %. v
k=. <:{:$v
n=. $d
sst=. +/*:d-(+/d) % #d
sse=. +/*:d-v +/ .* b
mse=. sse%n->:k
seb=. %:({.mse)*(<0 1)|:%.(|:v) +/ .* v
ssr=. sst-sse
msr=. ssr%k
rsq=. ssr%sst
F=. msr%mse

r=. ,: '             Var.       Coeff.         S.E.           t'
r=. r, 15 15j5 15j5 12j2 ": (i.>:k),.b,.seb,.b%seb
r=. r, ' '
r=. r, '  Source     D.F.        S.S.          M.S.           F'
r=. r, 'Regression', 5 15j5 15j5 12j2 ": k, ssr,msr,F
r=. r, 'Error     ', 5 15j5 15j5 ": (n-k+1), sse,mse
r=. r, 'Total     ', 5 15j5 ": (n-1), sst
r=. r, ' '
r=. r, 'S.E. of estimate    ', 12j5 ":%:mse
r=. r, 'Corr. coeff. squared', 12j5 ": rsq
)
NB. stats manifest

CAPTION=: 'Basic statistics package'

DESCRIPTION=: 0 : 0
Basic statistics package.

Migrated from system/packages/stats.
)

VERSION=: '1.0.21'

RELEASE=: ''

FOLDER=: 'stats/base'

FILES=: 0 : 0
base.ijs
combinatorial.ijs
distribution.ijs
multivariate.ijs
random.ijs
univariate.ijs
)
NB. base stats package
NB.
NB. loads complete set of base stats

require 'stats/base/random'
require 'stats/base/distribution'
require 'stats/base/combinatorial'
require 'stats/base/univariate'
require 'stats/base/multivariate'
arc/zlib - change history

== 1.0.0 ==
 * initial 803 release
coclass 'jzlib'

zlib=: IFUNIX{::'zlib1.dll';unxlib 'z'
NOZLIB=: 0=(zlib,' zlibVersion >',(IFWIN#'+'),' x')&cd ::0:''
zcompress2=: (zlib, ' compress2  ',(IFWIN#'+'),' i *c *x *c x i')&cd
zuncompress=: (zlib, ' uncompress  ',(IFWIN#'+'),' i *c *x *c x')&cd
MAX_DEFLATE=: 16bffff

DYNAMIC=: 1
MAXSTATIC=: 100
BLKSIZE=: 65536
deflate=: 4 : 0
'wrapper level'=. 2{.(boxopen x),<NOZLIB{6 1
BTYPE=. 1
if. (0=level) +. 0=#y do. BTYPE=. 0
elseif. 256>:#y do.
  if. (#y) = #~.y do.
    BTYPE=. 0
  end.
end.
if. 0=BTYPE do.
  wrapper deflate_unc y
  return.
end.
lz=. level lz_enc y
if. MAXSTATIC < #lz do.
  numblk=. >.(#lz)%BLKSIZE
  BTYPE=. DYNAMIC{1 2
  numblk=. #lx=. ~. (#lz),~ t1{~ (#~ (#t1)&>) [ (t1=. I. lz < 256) I. BLKSIZE*1+i.numblk
else.
  numblk=. 1
  lx=. ,#lz
end.
blk=. 0
of=. , |."1 (8#2) #: a.i. wrapper
i=. 0
while. blk<numblk do.
  of=. of, BFINAL=. blk=numblk-1
  of=. of, (BTYPE-1){1 0,:0 1
  assert. 256>i{lz
  if. 2=BTYPE do.
    bs=. blk{ 0, lx
    bl=. blk{ - 2 -/\ 0, lx
    assert. bl>0
    assert. i=bs
    data=. (bs+i.bl){lz

    lit_data=. (A1=. i.286), (286>data)#data
    F1=. <: #/.~ lit_data
    F1=. (1) 256}F1
    whilst. 15<>./bits1 do.
      bits1=. F1 bitlen A1
      minbits=. <./F1-.0
      F1=. (1+minbits) (I.minbits=F1) } F1
    end.
    bits1=. (- +/*./\0=|.bits1)}.bits1
    bits1=. (257&{.)^:(257>#bits1) bits1
    lit_code=. /:~ def_code bits1

    dist_data=. (A2=. i.32), 300 -~ ((329>:data)*.(300<:data))#data
    F2=. <: #/.~ dist_data
    if. 0=+/0~:F2 do.
      bits2=. ,0
      dist_code=. ,:0 0 0
    else.
      if. 1=+/0~:F2 do.
        if. 1={.0~:F2 do.
          F2=. 1 (1)}0~:F2
        else.
          F2=. 1 (0)}0~:F2
        end.
      end.
      whilst. 15<>./bits2 do.
        bits2=. F2 bitlen A2
        minbits=. <./F2-.0
        F2=. (1+minbits) (I.minbits=F2) } F2
      end.
      bits2=. (- +/*./\0=|.bits2)}.bits2
      dist_code=. /:~ def_code bits2
    end.
    litdist=. bits1,bits2
    assert. 16> litdist
    cls=. repeatcodelength litdist
    litdista=. (A3=. i.19), (19>cls)#cls
    F3=. <: #/.~ litdista
    whilst. 7<>./bits3 do.
      bits3=. F3 bitlen A3
      minbits=. <./F3-.0
      F3=. (1+minbits) (I.minbits=F3) } F3
    end.
    order=. 16 17 18 0 8 7 9 6 10 5 11 4 12 3 13 2 14 1 15
    bits3a=. order{bits3
    bits3a=. (- +/*./\0=|.bits3a)}.bits3a
    bits3a=. (4&{.)^:(4>#bits3a) bits3a
    clen_code=. /:~ def_code bits3
    clsh=. clen_code encodecodelength cls

    HLIT=. #bits1
    HDIST=. #bits2
    HCLEN=. #bits3a

    hdr=. |. (5#2) #: HLIT-257
    hdr=. hdr, |. (5#2) #: HDIST-1
    hdr=. hdr, |. (4#2) #: HCLEN-4
    hdr=. hdr, , |.("1) (3#2) #:("1 0) bits3a
    hdr=. hdr, clsh

    of=. of,hdr
  end.
  assert. 256>:i{lz [ 'first symbol is not a literal'
  while. i< blk{lx do.
    code=. i{lz
    assert. 285>:code [ 'not literal or length'
    assert. 256~:code [ 'EOB is illegal during encoding'
    of=. of, (lit_code&huff_encode)`(fixed_huffman_code&huff_encode)@.(1=BTYPE) code
    i=. i+1

    if. 257 <: code do.
      ix=. code - 257
      assert. (1000 <: i{lz) *. (2000 > i{lz)
      extra=. (i{lz) - 1000
      i=. i+1
      if. bit=. (<ix,0){lz_length do.
        of=. of, |. (bit#2) #: extra
      end.
      assert. (300 <: i{lz) *. (329 >: i{lz)
      code=. (i{lz) - 300
      ix=. code
      i=. i+1
      assert. (2000 <: i{lz)
      extra=. (i{lz) - 2000
      i=. i+1

      of=. of, (dist_code&huff_encode)`((5#2)&#:)@.(1=BTYPE) code
      if. bit=. (<ix,0){lz_distance do.
        of=. of, |. (bit#2) #: extra
      end.
    end.
  end.
  of=. of, (lit_code&huff_encode)`(fixed_huffman_code&huff_encode)@.(1=BTYPE) 256
  blk=. 1+blk
end.
a.{~ #.@|.("1) _8[\ of
)
repeatcodelength=: 3 : 0
first=. 1, (}.y) ~: }:y
rcode=. first # y
rcnt=. first #;.1 y
cls=. 0$0
for_i. i.#rcode do.
  if. 3>i{rcnt do.
    cls=. cls, (i{rcnt)#i{rcode
  else.
    if. 0~:i{rcode do.
      cls=. cls, i{rcode
      for_j. _6#\ 1#~<:i{rcnt do.
        if. j>2 do.
          cls=. cls, 16, 100+j-3
        else.
          cls=. cls, j#i{rcode
        end.
      end.
    else.
      for_j. _138#\ 1#~i{rcnt do.
        if. j>10 do.
          cls=. cls, 18, 100+j-11
        else.
          for_k. _10#\ 1#~j do.
            if. k>2 do.
              cls=. cls, 17, 100+k-3
            else.
              cls=. cls, k#0
            end.
          end.
        end.
      end.
    end.
  end.
end.
cls
)
encodecodelength=: 4 : 0
z=. 0$0
i=. 0
while. i<#y do.
  assert. 19>i{y
  z=. z, x&huff_encode i{y
  if. 16=i{y do.
    i=. i+1
    z=. z, |. (2#2) #: 100 -~ i{y
  elseif. 17=i{y do.
    i=. i+1
    z=. z, |. (3#2) #: 100 -~ i{y
  elseif. 18=i{y do.
    i=. i+1
    z=. z, |. (7#2) #: 100 -~ i{y
  end.
  i=. i+1
end.
z
)
huff_encode=: 4 : 0
'bit code sym'=. x{~ ({:"1 x) i. y
(bit#2)#:code
)
deflate_unc=: 4 : 0
segments=. (-MAX_DEFLATE) <\ y
blocks=. x, ; 0&deflate_unc_block&.> }:segments
blocks, 1&deflate_unc_block >@{:segments
)
deflate_unc_block=: 4 : 0
n=. #y
(x{a.),(Endian 1&ic n),(Endian 1&ic 0 (26 b.) n), y
)

NB.! Essays/Huffman Coding - J Wiki
NB.! http://code.jsoftware.com/wiki/Essays/Huffman%20Coding
NB.! Contributed by RogerHui.

hc=: 4 : 0
if. 1=#x do. y
else. ((i{x),+/j{x) hc (i{y),<j{y [ i=. (i.#x) -. j=. 2{./:x end.
)

hcodes=: 4 : 0
assert. x -:&$ y
assert. (0<:x) *. 1=#$x
assert. 1 >: L.y
w=. ,&.> y
assert. w -: ~.w
t=. 0 {:: x hc w
((< S: 0 t) i. w) { <@(1&=)@; S: 1 {:: t
)
NB.! from J Programming forum
NB.! contributed by Raul Miller

bl_count=: 3 :0
0,}.<:#/.~(,~ [: i. 1 + >./)y
)

start_vals=: +:@+/\.&.|.@}:@,~&0
find_codes=: 3 :0
b=. bl_count y
v=. start_vals b
n=. /:~ ~.y-.0
o=. ;({./.~ /:~ (</. i.@#)) y-.0
c=. ;<"1&.>n (([#2:) #: ])&.> (*b)#v+&.>i.&.>b
c /: o
)
def_code=: 3 :0
assert. 1<+/0~:y
b=. bl_count y
v=. start_vals b
n=. /:~ ~.y-.0
o=. ;({./.~ /:~ (</. i.@#)) y-.0
c=. ;n,.&.>(*b)#v+&.>i.&.>b
z=. (I.0~:y),.~ c /: o
test_rule z
z
)
bitlen=: 4 :0
assert. 1<+/0~:x
b=. 0~:x
b #inv #@>(b#x) hcodes b#y
)
test_rule=: 3 : 0
for_i. ~. {."1 y1=. y/:({:"1 y) do.
  s=. (i={."1 y1) # (1{"1 y1)
  assert. (({.s)+i.#s) -: s
end.
)
fixed_huffman_code=: /:~ def_code (144#8),(112#9),(24#7),(8#8)
lz_length=: 0 0 0 0 0 0 0 0 1 1 1 1 2 2 2 2 3 3 3 3 4 4 4 4 5 5 5 5 0
lz_length=: lz_length ,. 3 4 5 6 7 8 9 10 11 13 15 17 19 23 27 31 35 43 51 59 67 83 99 115 131 163 195 227 258
lz_distance=: 0 0 0 0 1 1 2 2 3 3 4 4 5 5 6 6 7 7 8 8 9 9 10 10 11 11 12 12 13 13
lz_distance=: lz_distance ,. 1 2 3 4 5 7 9 13 17 25 33 49 65 97 129 193 257 385 513 769 1025 1537 2049 3073 4097 6145 8193 12289 16385 24577
inflate=: 3 : 0
of=. ''
huff_buf=: , |."1 (8#2) #: a.i. y

BFINAL=. 0
bf=. 0
bf_end=. 8*#y
while. (-.BFINAL)*.bf_end> >.&.(%&8) bf do.
  BFINAL=. 1=0{huff_buf
  bf=. 1+bf
  BTYPE=. #.(bf+i._2){huff_buf
  bf=. 2+bf
  if. 0=BTYPE do.
    bf=. >.&.(%&8) bf
    len=. #.(bf+i._16){huff_buf
    assert. (-.(16+bf+i._16){huff_buf)=(bf+i._16){huff_buf [ 'uncompressed block length error'
    of=. of, (4+(bf%8)+i.len){y
    bf=. 32+bf+8*len
  elseif. BTYPE e. 1 2 do.
    if. 2=BTYPE do.
      HLIT=. 257 + 2#.(bf+i._5){huff_buf
      HDIST=. 1 + 2#.(5+bf+i._5){huff_buf
      HCLEN=. 4 + 2#.(10+bf+i._4){huff_buf
      clen=. 19#0
      order=. 16 17 18 0 8 7 9 6 10 5 11 4 12 3 13 2 14 1 15
      clen=. (2#. |.("1) _3]\ (14+bf+i.3*HCLEN){huff_buf) (HCLEN{.order)}clen
      clen_code=: /:~ def_code clen
      bf=. bf + 14 + 3 * HCLEN
      lit=. 0
      litdist=. 0$0
      while. (HLIT+HDIST)>#litdist do.
        'lit bf'=. clen_code&huff_decode bf
        if. lit<16 do.
          litdist=. litdist, lit
        elseif. 16=lit do.
          litdist=. litdist, (3+2#.(bf+i._2){huff_buf)#{:litdist
          bf=. bf+2
        elseif. 17=lit do.
          litdist=. litdist, (3+2#.(bf+i._3){huff_buf)#0
          bf=. bf+3
        elseif. 18=lit do.
          litdist=. litdist, (11+2#.(bf+i._7){huff_buf)#0
          bf=. bf+7
        end.
      end.
      assert. 1<#HLIT{.litdist
      lit_code=. /:~ def_code HLIT{.litdist
      if. 141=+/0~:HLIT{.litdist do.
      end.
      if. 1<#HLIT}.litdist do.
        dist_code=. /:~ def_code HLIT}.litdist
      else.
        dist_code=. ,:0 0 0
      end.
    end.
    lit=. 0
    while. 256~:lit do.
      if. 1=BTYPE do.
        'lit bf'=. fixed_huffman_code&huff_decode bf
      else.
        'lit bf'=. lit_code&huff_decode bf
      end.
      if. 256>lit do.
        of=. of, lit{a.
      end.
      if. 257>lit do. continue. end.
      'b l1'=. (lit-257){lz_length
      l2=. 0
      if. b do. l2=. 2#.(bf+i.-b){huff_buf end.
      len=. l1 + l2
      bf=. bf+b
      if. 1=BTYPE do.
        dist=. 2#.(bf+i.5){huff_buf
        bf=. bf+5
      else.
        'dist bf'=. dist_code&huff_decode bf
      end.
      'b l1'=. lz_distance {~ dist
      l2=. 0
      if. b do. l2=. 2#.(bf+i.-b){huff_buf end.
      dist=. l1 + l2
      bf=. bf+b
      of=. of, len$(-dist){.of
    end.
  elseif. do.
    assert. 0 [ 'invalid BTYPE'
  end.
end.
huff_buf=: ''
of
)
huff_decode=: 4 : 0
for_bit. ~.{."1 x do.
  t=. }."1 (bit={."1 x)#x
  if. (#t) > ix=. (0{"1 t) i. 2#.(y+i.bit){huff_buf do.
    (ix{1{"1 t),y+bit return.
  end.
end.
assert. 0 [ 'huff_decode'
)
lz_enc=: 4 : 0
if. (0=x) +. 6>#y do. a.i. y return. end.
largewindow=. x>6
if. 1=x do.
  if. 0= textonly=. istext y do. a.i. y return. end.
end.
prelook=. largewindow{1024 4096
sliding=. largewindow{4096 32768
maxmatch=. 258

h=. hash3 y
of=. a.i. 2{.y
i=. 2
win=. 0
winp=. 2
winq=. 2
h1x=. h1=. h0=. 0$0
h0i=. h0&i:
while. (_2+#y)>i do.
  if. (i-winq)>:#h1 do.
    if. (sliding-prelook) > slen=. (#h0)+(#h1) do.
      h0=. h0, (winq+i.#h1){h
    else.
      h0=. (-(sliding-prelook)){.i{.h
      winp=. i-(sliding-prelook)
    end.
    h0i=. h0&i:
    h1=. prelook&{.^:(prelook<#) i}.h
    h1x=. h1 i: prelook&{.^:(prelook<#) i}.h
    winq=. i
  end.
  fnd=. 0
  if. (#h1x)> ix=. (i-winq){h1x do.
    if. ix<i-winq do. ix=. winq+ix [ fnd=. 1
    else.
      if. (#ht) > ixx=. (ht=. (i-winq){.h1) i: i{h do.
        ix=. winq+ixx [ fnd=. 1
      end.
    end.
  end.
  if. 0=fnd do.
    if. (#h0) > ix=. h0i i{y do.
      ix=. winp + ix [ fnd=. 1
    end.
  end.
  j=. 0
  if. fnd do.
    lookahead=. i}.y
    history=. ix}.i{.y
    j=. ((#y)-i) <. +/ *./\ (maxmatch{.lookahead)=maxmatch $ history
  end.
  if. j>2 do.
    of=. of, (enclength j), encdistance i-ix
    i=. i+j
  else.
    of=. of, a.i. i{y
    i=. i+1
  end.
end.
of, a.i. (i-#y){.y
)

hash3=: 3 : 0
a=. , _2&ic("1) _4{.("1) _3]\ (>.&.(%&3)#y){.y
b=. , _2&ic("1) _4{.("1) _3]\ (>.&.(%&3)#y){.}.y
c=. , _2&ic("1) _4{.("1) _3]\ (>.&.(%&3)#y){.2}.y
(#y){. , a,.b,.c
)
enclength=: 3 : 0
ix=. <: +/({:"1 lz_length)<:y
code=. 257 + ix
ex=. y-(<ix,1){lz_length
assert. (0<:ex)*.(30>:ex)
code, 1000+ex
)
encdistance=: 3 : 0
ix=. <: +/({:"1 lz_distance)<:y
code=. 300 + ix
ex=. y-(<ix,1){lz_distance
assert. (0<:ex)*.(8191>:ex)
code, 2000+ex
)
install=: 3 : 0
if. -. IFWIN do. return. end.
require 'pacman'
'rc p'=. httpget_jpacman_ 'http://www.jsoftware.com/download/', z=. 'winlib/',(IF64{::'x86';'x64'),'/zlib1.dll'
if. rc do.
  smoutput 'unable to download: ',z return.
end.
(<jpath'~bin/zlib1.dll') 1!:2~ 1!:1 <p
1!:55 ::0: <p
smoutput 'done'
EMPTY
)
ENDIAN=: ('a'={.2 ic a.i.'a')
be32=: ,@:(|."1)@(_4&(]\))^:ENDIAN@:(2&ic)
be32inv=: (_2&ic)@:(,@:(|."1)@(_4&(]\))^:ENDIAN)
adler32=: [: ({: (23 b.) 16&(33 b.)@{.) _1 0 + [: ((65521 | +)/ , {.) [: (65521 | +)/\. 1 ,~ a. i. |.
istext=: 3 : 0
if. +./(a.{~9 10 13, 32+i.224) e. y do.
  if. 0=+./(a.{~0 1 2 3 4 5 6, 14+i.18) e. y do.
    1 return.
  end.
end.
0
)
zlib_encode_j=: 6&$: : (4 : 0)
(((16b78 1{a.);x) deflate y), be32 adler32 y
)
zlib_decode_j=: 0&$: : (4 : 0)
assert. 16b78=a.i.{.y [ 'zlib header not16b78'
assert. 0=31|256#. |. a.i.|.2{.y [ 'zlib header checksum error'
assert. 0=2{(8#2)#:a.i.1{y [ 'zlib header FDICT not supported'
of=. inflate _4}.2}.y
assert. (_4{.y) -: be32 adler32 of
of
)
zlib_encode_so=: 6&$: : (4 : 0)
len=. ,12+>.1.001*#y
buf=. ({.len)$' '
assert. 0= >@{. cdrc=. zcompress2 buf ; len ; y ; (#y) ; x
'buf len'=. 1 2{cdrc
({.len){.buf
)

zlib_decode_so=: 0&$: : (4 : 0)
if. 0=x do.
  datalen=. , f=. 2*#y
else.
  datalen=. , x
end.
data=. ({.datalen)#{.a.
if. 0~: rc=. >@{. cdrc=. zuncompress data;datalen;y;#y do.
  if. 0~:x do.
    assert. 0 [ 'zlib uncompression error'
  end.
  while. rc e. _5 do.
    datalen=. , f=. 2*f
    data=. ({.datalen)#{.a.
    rc=. >@{. cdrc=. zuncompress data;datalen;y;#y
  end.
  if. 0~:rc do.
    smoutput rc
    assert. 0 [ 'zlib uncompression error'
  end.
end.
({.2{::cdrc){.1{::cdrc
)
zlib_compress=: zlib_encode_so`zlib_encode_j@.NOZLIB
zlib_uncompress=: zlib_decode_so`zlib_decode_j@.NOZLIB
zlib_compress_z_=: zlib_compress_jzlib_
zlib_uncompress_z_=: zlib_uncompress_jzlib_
NB. zlib manifest

CAPTION=: 'zlib utilities'

DESCRIPTION=: 0 : 0
Utilities for zlib
)

VERSION=: '1.0.9'

RELEASE=: ''

FOLDER=: 'arc/zlib'

FILES=: 0 : 0
zlib.ijs
readme.txt
history.txt
)
This zlib addon requires zlib binary library to encode and decode
zlib/deflate streams.  When zlib binary library is un-available,
it will use pure J scripts which is much less efficient.

For Linux, zlib should already be installed by default in most distros.
If not, install using (debian and its derivatives) in terminal.

$ sudo aptitude install zlib1g

For Windows, type the following in a J session to download and install
zlib dll from Jsoftware server.

load 'arc/zlib'
install_jzlib_''
load 'arc/zlib'
j902
arc/zlib 1.0.9
general/misc 2.5.3
graphics/afm 1.0.15
graphics/bmp 1.0.14
graphics/color 1.0.19
graphics/plot 1.0.195
graphics/png 1.0.28
ide/jhs 1.0.316
math/misc 1.2.6
api/expat 1.0.11 
libexpat
libexpat interface

see readme.txt
)
api/gles 1.0.31 
Modern OpenGL API
OpenGL 4.2 and OpenGL ES 3.1 API definitions

see jwiki http://code.jsoftware.com/wiki/OpenGL%20ES
)
api/java 1.0.2 
api: Java to J shared library
api language bindings for java use of J shared library

Contributed by Bill Lam
)
api/jc 1.0.1 
api: J to C library (streams/fds/system)
J bindings to C library (streams/fds/system) amd related utilties
)
api/jni 1.0.15 
JNI
Java Native Interface

Contributed by Bill Lam
)
api/lapacke 1.0.12 
LAPACKE
LAPACK version 3.X is a comprehensive FORTRAN library that does linear algebra operations including matrix inversions, least squared solutions to linear sets of equations, eigenvector analysis, singular value decomposition, etc. It is a very comprehensive and reputable package that has found extensive use in the scientific community.

This package contains the LAPACKE C Interface to LAPACK
http://www.netlib.org/lapack/lapacke.html

Binary for Linux, install liblapacke (or similar) from your distro repository.
)
api/ncurses 1.0.8 
NCURSES/PDCURSES API
CRT screen handling and optimization package

To install shared library/dll,
linux: (debian) sudo aptitude install libncurses5 (or libncursesw5 for unicode)
win32: download pre-compiled binary from http://pdcurses.sourceforge.net/
)
api/python3 1.0.8 
api: python3 to J shared library
api language bindings for python3 use of J shared library
)
arc/zlib 1.0.9 
zlib utilities
Utilities for zlib
)
convert/jiconv 1.0.14 
J iconv encoding conversion
auto-detect and convert between different character encodings.
)
convert/json 1.0.10 
json
json encoder/decoder.

http://json.org/
)
convert/misc 1.3.8 
misc convert scripts
md5.ijs RSA Data Security, Inc. MD5 Message-Digest Algorithm
vig.ijs Vigenre cipher with optional encoding
ascii85.ijs Convert to/from ascii85 representation
base64.ijs Convert to/from base64 representations
unicode.ijs Unicode utilities
)
convert/numpy 1.0.1 
Read and write numpy npy and npz files
Read and write numpy npy and npz files.

The npy files should contain a single numpy array.

The npz files are zips of one or more npy files.
)
convert/pjson 1.0.23 
A json encoder/decoder
A json encoder/decoder

http://json.org/
)
data/ddmysql 1.0.15 
Data driver for MySQL
Accessing MySQL server with native C API using the data driver (JDD) interface such ddcon and ddfet.  Requires MySQL client library or Connector/C.

For Linux, install libmysqlclient (or similar) from your distro repository.  Or download from http://www.mysql.com/downloads.html

See wiki page http://code.jsoftware.com/wiki/JDD for help.
)
data/ddsqlite 1.0.42 
Data driver for SQLite
Accessing SQLite database with C API using the data driver (JDD) interface such as ddcon and ddfet.  Requires sqlite 3.6.0 or newer.

See readme.txt for shared library installation.

See wiki page http://code.jsoftware.com/wiki/JDD for help.
)
data/jd 4.4.100 convert/pjson,data/jfiles,data/jmf
Jd
Jd is a commercial database product from Jsoftware.
Although similar in terminology and features to
MySQL, Oracle, DB2, SQL Server, and others, it is closer
in spirit and design to Kx's kdb, Jsoftware's free JDB,
and old APL financial systems on mainframes in 70s and 80s.

The key difference between Jd and most other systems 
is that Jd comes with a fully integrated and mature
programming language. Jd is implemented in J and lives
openly and dynamically in the J execution and development
environment. Jd is a natural extension of J and the full power
of J is available to the Jd database application developer.
The integration is not just available to you,
it is unabashedly pushed to you for exploitation.

Jd is a columnar (column oriented) RDBMS.

Jd is particularly suited to analytics.
It works well with large tables (100s of millions of rows),
multiple tables connected by complex joins, structured data,
numerical data, and complex queries and aggregations.
)
data/jfiles 1.0.8 
J component file and keyed file
This script contains definitions for the J component file and
keyed file system.

A keyed file is a J component file in which data is accessed
using keywords.
)
data/jmf 1.0.42 
J Memory Mapped File
J Memory Mapped File
)
data/odbc 1.0.48 
ODBC
Accessing database using odbc api
)
data/sqlite 1.0.36 
Sqlite enhanced API for J
Sqlite allows direct access to sqlite databases.

See wiki page: code.jsoftware.com/wiki/Addons/data/sqlite/Overview
)
data/sqltable 1.0.5 data/odbc
sqltable
High-level interface for accessing database tables.

This allows accessing database without low-level knowledge of odbc api.

This package is the result of a consultation work done for Anssi Seppl.  Significant changes were also made in data/odbc addon to support this package.  This work is released to the public by the request and permission of Anssi Seppl.  Thank you, Anssi.
)
debug/dissect 4.6.42 graphics/gl2
Run a sentence and produce a 2D display of results
dissect runs a sentence after inserting instrumentation at the execution of each primitive.
Then it creates a 2D display showing each word and the results of executing it.
The user can click on the display to probe execution.
)
debug/jig 2.0.18 graphics/gl2
Augmented Display of J results
Jig displays an interactive SVG window that allows users to easily see the shape, type and other properties of the results of J sentences. Jig runs in the jqt environment and requires the full version of the QT ide
)
debug/lint 1.18.16 
Load a script and check its syntax
lint tries to find errors before a script is run.  The idea is for 'lint' to replace 'load'
during debugging.  The errors it looks for are the following:
 explicit definitions lacking trailing )
 undefined names, including names not defined in all paths
 verbs used with invalid valences
 non-noun results at the end of condition blocks and verbs
 syntax errors
 sentences with no effect on execution (eg verb verb)

See the program header for description and directives.
)
debug/tte 0.0.8 
Explicate a given tacit verb
Addon: tte is an adverb to "explicate" a given tacitly-defined verb by generating an explanatory explicit definition from the given tacit definition. The result is a working verb which will behave the same as the verb being explicated.
)
demos/coins 1.0.15 
coins project demo
This is a sample project based on the coins demo.
)
demos/isigraph 1.0.72 graphics/gl2,graphics/viewmat
isigraph demos
This package contains isigraph example scripts.

Each script can be run by itself. First enter:

Many of these examples (in particular the ifs examples) are
based on work done by Clifford Reiter.
)
demos/publish 1.0.3 afm,bmp,colortab,format/publish,general/misc/font,gl2,numeric,plot,regex,trig
publish project demo
This is a sample project using Publish.
)
demos/qtdemo 1.0.26 api/gles,graphics/bmp,graphics/plot,graphics/viewmat,ide/qt
qt demo
simple demos for qt
)
demos/wd 1.0.143 convert/pjson,demos/isigraph,demos/wdplot,games/2048,games/minesweeper,games/solitaire,general/misc,graphics/plot,graphics/print,graphics/viewmat,math/deoptim,math/eigenpic,math/misc,stats/base
wd demos
wd demos using qt and jandroid
)
demos/wdplot 1.0.50 graphics/plot
Plot demos wd emulation
Plot demos using wd emulation
)
dev/fold 1.0.7 
Fold implementation in J
J emulations of the Fold primitives
)
dev/lu 1.0.2 
LU implementation in J
J LU code, called from 128!:10
)
docs/joxygen 1.0.11 
Documenting J Scripts
Generates html documentation from in-script comments
Inspired by Doxygen and Roxygen.

Contributed by Ric Sherlock & Chris Burke
)
finance/actuarial 1.0.11 
Actuarial functions
Various actuarial functions.
)
finance/interest 1.0.20 
Compound interest functions
Various compound interest functions.
)
format/datefmt 1.0.17 
Date formatting functions
Various date formatting functions.
)
format/printf 1.0.12 
C-style printf formatting
Printf provides verbs and adverbs for formatted printing in the manner of C's printf and sprintf.
)
format/publish 1.0.29 afm,bmp,colortab,general/misc/font,gl2,numeric,plot,regex,trig
builds pdf reports from markup
Publish generates a PDF report from source in plain text files in an html-like markup language.

The markup language supports calling J expressions, for example, to allow data to be read in from various sources. Apart from this, reports can be customized without knowledge of J.
)
format/sbox 0.0.9 format/zulu/lite
Displaying boxed nouns containing Unicode glyphs
Provides a verb: sbox in locale: 'z'
which corrects the display of boxed nouns
containing Unicode glyphs.
)
format/zulu 0.0.13 
Strings conversion package
Addon: zulu - is a set of stringlist conversion verbs
plus a sandbox of sample data.
Converts consistently between 4 supported forms of stringlist,
  boxed        eg: 'alpha';'bravo';'charlie'
  LF-separated eg: 'alpha',LF,'bravo',LF,'charlie'
  open         eg: 'alpha bravo charlie'
  matrix       eg: 3 7$'alpha  bravo  charlie'
)
format/zulu-bare 0.0.12 format/zulu
Strings conversion package: BARE version
Addon: zulu-bare - is a set of strings conversion verbs in _z_.
For more details, refer to the description of addon: zulu.
This is the "bare" version, without the "trivials" patch
and with no aliases, just the *2* verbs.
)
format/zulu-lite 0.0.12 format/zulu
Strings conversion package: LITE version
Addon: zulu-lite - is a set of strings conversion verbs in _z_.
For more details, refer to the description of addon: zulu.
This is a "strict" version, with the "trivials" patch,
and with verbs: a2*, and aliases: *4*, *4a.
This addon differs from addon: zulu by OMITTING the "sandbox"
(locale: _zulu_) with its test data and handy utilities.
)
games/2048 1.0.8 
2048 game
Implentation of the 2048 game.

An example of how to implement equivalent user interfaces for different environments.
User interfaces available for various J environments currently include:
  * jconsole, jQt

Authors: Ric Sherlock
)
games/bagofnouns 1.0.93 
Distributed game controller
Lets people play a game over Zoom
)
games/minesweeper 1.0.52 graphics/gl2
Classic Minesweeper game
Implentation of classic Minesweeper game.

Designed as an example of how to implement equivalent user interfaces for different environments.
User interfaces available for various J environments currently include:
  * jconsole, jQt

Authors: Ric Sherlock, Bill Lam and Raul Miller.
)
games/nurikabe 1.0.38 graphics/gl2
Nurikabe
Nurikabe puzzle, see wiki Essays/Nurikabe.
)
games/pousse 1.0.37 graphics/gl2
pousse
pousse
)
games/solitaire 1.0.48 graphics/gl2
solitaire
solitaire
)
general/dirtrees 1.0.12 general/dirutils
Copy and delete directory trees
Copies and deletes directory trees.

Copyright 2008 (C) Ric Sherlock
)
general/dirutils 1.0.14 
Additional directory utilities
Directory utilities in addition to those in dir.ijs.
Including test for existence of directory, create all non-existing
directories in a path.
Contributed by Ric Sherlock
)
general/inifiles 1.0.15 
Platform neutral interface for INI files
Reads/writes one (or more) keys from/to files in INI format.
The INI files source can be files stored on disk, or a string read from a database or zip file.
Uses regex funtionality built into J to parse INI formats and is therefore not dependent on Windows API.

Copyright 2008 (C) Ric Sherlock
)
general/jod 1.0.22 data/jfiles
JOD J Object Dictionary
JOD (J Object Dictionary) is a J programming and refactoring 
tool. JOD supports linked dictionary databases and provides 
tools for building, documenting and testing J systems. 

JOD requires the (data/jfiles) addon. 

If you install JOD it is highly recommended that you
install the related addon JODDOCUMENT. JODDOCUMENT 
installs detailed PDF documentation for JOD. 

For more information see the JOD wiki pages (Info Button),
run the lab "JOD lab JOD Introduction" - JOD labs are under 
the General lab category. If you do not see JOD labs listed
on the Lab menus use the Lab browse button to access:

   ~addons/general/jod/jodlabs

More information is available on the JOD Page and GitHub at:
  
   https://analyzethedatanotthedrivel.org/the-jod-page/
   https://github.com/bakerjd99/jod  
)
general/joddocument 1.0.22 
JOD Documentation
JOD Document contains (jod.pdf) which documents the JOD system.

JOD Document also contains pdf versions of Jupyter
notebooks that show how to use various JOD facilities.
See the directory:

jpath '~addons/general/joddocument/pdfdoc'

For more information see the JOD wiki pages
(Info Button) or visit The JOD Page at:

https://analyzethedatanotthedrivel.org/the-jod-page/

LaTeX document source is available on GitHub at:

https://github.com/bakerjd99/joddoc

John Baker
bakerjd99@gmail.com
)
general/jodsource 1.0.22 general/jod
JOD Object Dictionary Source
(jodsource) contains serialized dictionary dump scripts 
(joddev,jod,utils). These dump scripts contain all the
code, test cases, build scripts, and documentation used
to develop and maintain JOD and related systems.

Dump scripts are large J scripts that load dictionary
objects into JOD dictionaries when run.

JOD system dictionaries are good examples of how JOD 
can be used to build complex J systems.

JOD requires the (data/jfiles) addon. 

JOD source dictionaries can be set up in two ways:

1) Run the J script 

   ~addons/general/jodsource/jodsourcesetup.ijs

   This is the recommended method. (jodsourcesetup.ijs) 
   can take a minute or so to run.
 
2) Run the JOD lab "JOD Source Code Dump Scripts." 
   JOD labs are in the (General) lab category. If you
   do not see JOD labs listed on the Lab menus use the Lab
   browse button to access:

   ~addons/general/jod/jodlabs

More information is available on the JOD Page at:
  
   https://analyzethedatanotthedrivel.org/the-jod-page/
)
general/misc 2.5.3 
misc general scripts
trace.ijs Execution trace utilities
fndisplay.ijs Display hooks, forks and other syntax elements
font.ijs
format.ijs
parts.ijs Partition functions
validate.ijs Data validation functions
jdll.ijs
guid.ijs Create guids in various formats
pack.ijs Package utilities
ieee64.ijs
test_clippaste.ijs Test script for clippaste.ijs
inverted.ijs Current URL http://code.jsoftware.com/wiki/Essays/Inverted%20Table
prompt.ijs
bigfiles.ijs
numeric.ijs Various numeric utilities
evolute.ijs
clippaste.ijs
test_bigfiles.ijs 	data=.bixread f;start0,start1[,len[,dirflag]]			indexed read
fndef.ijs Using a more literate style
)
general/primitives 1.0.14 
Primitives
Some users may prefer a more literate form of J using words instead
of the J primitives.  We call the words alpha primitives since they
use an alphabetic form rather than a graphic or inflected graphic to
represent them.  This script provides a means of doing this with
options for the form of the words used, and verbs to convert a script
in alpha form to a script in J primitives so there is no execution
time penalty.
)
general/unittest 1.0.12 
Unit Test Framework
Implements a unit test framework.

Copyright 2008-2009 (C) Oleg Kobchenko
)
graphics/afm 1.0.15 
AFM
Adobe Font Metrics
)
graphics/bmp 1.0.14 
bitmap utilities
Utilities for *.bmp files
)
graphics/cairo 1.0.11 
cairographics
cairographics interface and gl2 emulation
)
graphics/color 1.0.19 
Color tables
Color tables and related scripts.
)
graphics/d3 0.0.8 
D3 (Data Driven Documents) for JHS
Addon 'graphics/d3' is a package of D3 interface verbs written for JHS.

D3.js (or "D3 for data-driven documents") is a free JavaScript library to display given digital data into graphic, dynamic forms.

D3 is described here: http://en.wikipedia.org/wiki/D3.js
)
graphics/freeglut 1.0.3 
freeglut OpenGL demo
Demo of the open source freeglut library usage on J.

Library from:
http://freeglut.sourceforge.net/

Based on https://rosettacode.org/wiki/OpenGL/Utah_Teapot

Ubuntu will need libglut.so.3.10.0
)
graphics/fvj4 1.0.17 media/imagekit
Materials for Fractals, Visualization and J, 4th edition, Parts 1 & 2.
The FVJ4 package provides materials for Fractals, Visualization and J, 4th edition including scripts for simple winodws for plotting polygons, working with raster arrays, Also scripts for creating POV-Ray scenes, viewing automata, executing the Game of Life in color are included. 
)
graphics/gnuplot 1.0.7 
Create gnuplot graphics
The gnuplot addon creates gnuplot graphics from data in J.

This works with gnuplot V4.0 or later, and may work with earlier versions.

The original script was contributed by L. Fraser Jackson.
)
graphics/graph 1.0.23 graphics/color,graphics/gl2,graphics/png
Graph
2D Graph
)
graphics/graphviz 2.0.12 
Graph Visualization
Integrated with J, a popular graph drawing visualization library.
Includes user interface Graph View and a utility to visualize
sequential machines (finite automata) in testsm folder.
See help.html for furter details.
See also companion cluster analysis Essays/Dendrite on J Wiki.
Based on Graphviz from http://www.graphviz.org/

Copyright 2006 (C) Oleg Kobchenko
)
graphics/jpeg 1.0.20 
jpeg utilities
Utilities for *.jpg files
)
graphics/pdfdraw 1.0.7 
pdf drawing utilities
Utilities for drawing to a PDF file or a Publish JPF file.
)
graphics/plot 1.0.195 general/misc,graphics/afm,graphics/bmp,graphics/color,graphics/gl2,graphics/png,math/misc
Plot
Plot package
)
graphics/png 1.0.28 arc/zlib
png utilities
Utilities for *.png files
)
graphics/pplatimg 1.0.4 
Platform neutral image I/O utilities
Implementations for Windows, Linux and Mac OS X.
Supports BMP, GIF, JPEG, PNG, TIFF, Exif, ICO, WMF,
and EMF formats where available. Returns pixel matrix
in ARGB (Alpha most significant) integer format.
Expects ARGB, or triples of RGB in any axis of rank 3 array.
Good for glpixels. Uses GDI+, Core Graphics (Quartz),
The gdk-pixbuf Library from GTK+.

Ported to 64-bit platforms by Bill Lam
Based on media/platimg developed by Oleg Kobchenko
)
graphics/print 1.0.18 
print
print text files
)
graphics/treemap 1.0.16 
Displays a treemap
Displays a treemap in an isigraph control.
)
graphics/viewmat 1.0.83 graphics/bmp,graphics/color,graphics/gl2,graphics/png
Displays a viewmat
Viewmat displays tables of data graphically.
)
gui/cobrowser 2.1.2 
updated cobrowser
cobrowse - famous SmallTalk tool for J
)
ide/ja 1.0.34 
J Android
J Android development
)
ide/jhs 1.0.330 
JHS IDE
JHS IDE
)
ide/jnet 1.0.25 general/misc,graphics/bmp
JNET IDE
JNET IDE *not* supported by Jsoftware.

Copy one of the three jnet.exe files to your j bin directory.

Windows:
 install .net framework 4.0 or later
 (already pre-installed on Windows 8 or 10)
 start J by double click jnet.exe
Linux:
 sudo apt-get install mono-complete
 start J by typing mono jnet.exe

Read data/migration.txt for differences with J6 wd commands.
)
ide/qt 1.1.147 
Qt IDE
Qt development
)
labs/labs 1.0.208 
LABS
LABS
)
math/cal 2.1.24 format/zulu,graphics/plot,math/uu,math/calculus
Scientific calculator engine
CAL is a platform-independent engine.
It forms the basis of TABULA, a backfitting scientific calculator.
)
math/calculus 1.0.6 
differentiation and integration
Conjunctions to perform differentiation and integration of J verbs, and secant-slope approximation for verbs that cannot be handled symbolically
)
math/deoptim 1.0.26 
Differential Evolution for optimization of multidimensional functions
Differential Evolution is a form of evolutionary algorithm. It is relatively robust, simple and fast.
DE finds the global minimum of a multidimensional, multimodal (i.e. exhibiting more than one minimum) function with good probability.

http://www.icsi.berkeley.edu/~storn/code.html

Contributed by Ric Sherlock.
)
math/eigenpic 1.0.19 
eigenpic
eigenpicture
)
math/fftw 1.1.17 
FFTW
FFTW (Fastest Fourier Transform in the West) is a collection of fast C routines for computing the Discrete Fourier Transform in one or more dimensions. It includes complex, real, and parallel transforms, and can handle arbitrary array sizes efficiently. The FFTW Add-On consists of a DLL incorporating the FFTW routines, plus supporting J scripts and labs. FFTW and the FFTW package are distributed under the terms of the GNU General Public License. For more information on GNU, see the GNU web page.

FFTW is available under Windows, Mac and Linux.
)
math/flann 1.0.7 tables/csv
flann
Libflann, approximate nearest neighbors search.
http://www.cs.ubc.ca/research/flann/
please see doc/README.txt for usage.
)
math/lapack 1.1.55 
LAPACK
LAPACK (Linear Algebra Package) is a set of routines for solving systems of simultaneous linear equations, least-squares solutions of linear systems of equations, eigenvalue problems, and singular value problems. The associated matrix factorizations (LU, Cholesky, QR, SVD, Schur, generalized Schur) are also provided, as are related computations such as reordering of the Schur factorizations and estimating condition numbers.

Binary for Mac is provided by the veclib framework.

Binary for Linux, install liblapack3 (or similar) from your distro repository. If available, install libopenblas-base or libatlas3-base which provides an optimized version of BLAS.

For 64-bit windows, a prebuilt jlapack64.dll is provided by David Hotham and is included in this addon.  Note that this jlapack64.dll requres a msvc runtime which can be downloaded from http://www.microsoft.com/en-us/download/details.aspx?id=2092 .

For Android, run install_jlapack_'' to install the shared library.

Reference BLAS implementation may be orders of magnitude slower than optimized implementations.
)
math/lapack2 1.0.11 
LAPACK2
LAPACK (Linear Algebra Package) is a set of routines for solving systems of simultaneous linear equations, least-squares solutions of linear systems of equations, eigenvalue problems, and singular value problems. The associated matrix factorizations (LU, Cholesky, QR, SVD, Schur, generalized Schur) are also provided, as are related computations such as reordering of the Schur factorizations and estimating condition numbers.

This addon is a leaner version of another math/lapack addon which is no longer maintained.

Binary for Mac/iOS is provided by the veclib framework.

Binary for Linux, install liblapack3 (or similar) from your distro repository. If available, install libopenblas-base or libatlas3-base which provides an optimized version of BLAS.

For Windows, run getbin_jlapack2_'' to install the shared library.

Both Windows and Android binary provided here use reference BLAS.

Reference BLAS implementation may be orders of magnitude slower than optimized implementations. Build your own optimized BLAS if speed performance is critical.

See wiki page: code.jsoftware.com/wiki/Vocabulary/LAPACK
)
math/lbfgs 1.0.9 
LBFGS for unconstrained nonlinear optimization
The Limited Memory Broyden-Fletcher-Goldfarb-Shanno (BFGS) method to solve an unconstrained nonlinear optimization problem.

L-BFGS-B is a code for solving large nonlinear optimization problems with simple bounds on the variables.

The code can also be used for unconstrained problems and is as efficient for these problems as the earlier limited memory code L-BFGS.

See wiki page: code.jsoftware.com/wiki/Addons/math/lbfgs
)
math/misc 1.2.6 
misc math scripts
amoeba.ijs Nelder-Mead multi-dimentional minimization, aka the amoeba method
bigpi.ijs Calculate several digits of pi
brent.ijs Brent's method in J
build.ijs
cheby.ijs Chebyshev approximation
contfrac.ijs Continued fraction utilities
det.ijs Definitions for determinants
fermat.ijs Fermat factorization
gamesolver.ijs Find optimal mixed strategies for 2-person games
gcd.ijs Calculate GCD
integer.ijs Verbs to generate various integer sequences
integrat.ijs Various methods for numeric integration
jacobi.ijs Jacobi's method for eigenvalues and vectors
legendre.ijs Legendre symbol and quadratic residues
linear.ijs Solve linear equations
makemat.ijs Make various standard matrices
matfacto.ijs Matrix factorization
mathutil.ijs Math utilities
matutil.ijs Matrix utilities
mean.ijs Various means
numbers.ijs Various number definitions (Stirling, Euler ...)
odeint.ijs Solve initial value ordinary differential equations
pollard.ijs Pollard factorizations
poly.ijs Polynomial functions
primutil.ijs Primes - prime testing programs
quatern.ijs Definitions for quaternions
rsa.ijs Examples of RSA encryption
simplex.ijs Simplex method
simplexnr.ijs Simplex method (after Numerical Recipes in C)
spline.ijs Spline utilities
svd.ijs Singular value decomposition
trig.ijs Trigonometric functions
)
math/mt 0.12.1 general/misc,math/lapack2,math/misc
Matrix toolbox
Library to solve some problems in matrix algebra:
transforming, decomposing, reducing to condensed form,
factorization, equation solving, function applying, condition
number estimating. Is based mostly on LAPACK algorithms, but
doesn't require LAPACK.
)
math/tabula 2.1.12 format/zulu,math/cal,math/uu
TABULA - scientific calculator
TABULA is a backfitting scientific calculator.
It has many built-in physical constants and knows about units of measurement.
)
math/uu 2.1.27 format/zulu
Scientific units conversion package
UU (units-to-units) is a scientific units conversion package
based on the SI system of units.
)
media/imagekit 1.0.8 graphics/viewmat
Utilities for accessing 24-bit jpeg, png, bmp image files in J.
The image kit package provides utilities for accessing 24-bit jpeg, png image files in J. The core functions allow reading and writing image files as 3-dimensional J arrays.

The addon includes several scripts. The main script, imagekit.ijs, provides J functions for the basic image reading, writing, and viewing images through other J addons. Another script, html_gallery.ijs, provides J functions that create thumbnails and image galleries under J program control. Sample scripts and a rotation form script are also included.
)
media/videolabs 1.0.12 
Video labs for jqt,jhs and console

)
media/wav 1.0.20 
Windows WAV file creation and play
Implementation for Windows.
Includes samples of creating musical notes.

Copyright 2006 (C) Oleg Kobchenko
)
misc/classroom 1.0.8 misc/miscutils,sockets/socklib,sockets/sockutils
Utilities for teaching classes in J
remoteprofile loads a class profile from the web and executes it
studentinit sets startup to point to remoteprofile
They allow you to manage the profile of all your students
)
misc/miscutils 1.0.5 format/printf
Miscellaneous utility definitions
langexten contains basic extensions to J.
klutils contains function for 'keyed lists', which are tables where specified columns are 'key' and the rest are 'data'
utils contains a grab-bag of definitions
)
net/clientserver 1.0.9 
Simple client server
Simple client server.
)
net/jcs 1.0.30 net/zmq
J client/server built on zeromq
This is a J client/server built on zeromq.
)
net/websocket 1.0.8 
Websocket server
This is a websocket server which allows a web browser to make calls to J.
)
net/zmq 1.0.16 
J interface to zeromq
This is a J interface to ZeroMQ distributed messaging, http://zeromq.org.

Client/server examples and labs are in ~addons/net/jcs
)
profiles/profiles 1.0.5 
Suggested User Profiles
When one of these files is loaded, the user's config is updated.

explorer.ijs sets up to update packages, loads visualization and debug tools, and sets PF keys for debugging.
)
stats/base 1.0.21 
Basic statistics package
Basic statistics package.

Migrated from system/packages/stats.
)
stats/distribs 1.0.12 stats/base
Verbs for working with distributions
Verbs for working with statistical distributions.
Currently covers normal and uniform distributions.

Addon compiled by Ric Sherlock & Fraser Jackson from many contributions by the J community.
)
stats/jserver4r 1.0.4 
Call J from R
This library provides a J server for the R statistical package.

For more information, see wiki page http://code.jsoftware.com/wiki/Interfaces/R/Jserver4R .
)
stats/r 1.0.34 
Interfaces to R statistical package
This addon has interfaces to the R statistical package.

R is the most widely used program in the statistical research community and has a vast range of statistical tools available. It is freely available on all common platforms.

For more information, see wiki page http://code.jsoftware.com/wiki/Interfaces/R .

)
stats/rlibrary 1.0.8 
R library using Rserve interface
This addon supports various R libraries using the Rserve interface.

For more information, see wiki page http://code.jsoftware.com/wiki/Interfaces/R/Rserve/Library.
)
tables/csv 1.0.16 tables/dsv
Read and write CSV files and strings
Reads/writes/appends Comma-separated value (CSV) files and strings.
Generally better performance than the base library CSV script.

Note: requires that the tables/dsv addon also be installed.

Contributed by Ric Sherlock.
)
tables/dsv 1.0.15 
Read/write delimiter-separated files and strings
Reads/writes/appends Delimiter-separated value (DSV) files and strings.
Supports user-defined field and string delimiters.

Contributed by Ric Sherlock.
)
tables/excel 1.0.24 
Reads Excel files using OLE
Reads Excel worksheet data using OLE.

The worksheets can be read as a whole, or by range.

Excel was developed by Anssi Seppala and Chris Burke.
)
tables/tara 1.2.43 
Read/write Excel *.xls files
Tara reads and writes files in Excel format. It supports the biff8 format used in Excel 97/2000/xp/2003. It also reads older formats used in earlier versions of Excel. It can also work with spreadsheets like OpenOffice and Gnumeric that support Excel formats. It runs on Windows, Linux and Mac OSX. MS Excel or OpenOffice are not required to use Tara.

After it is installed, run lab 'Tara and Excel' for examples of using the system.

Tara was developed and is copyrighted by Bill Lam, bbill.lam@gmail.com, but may be used freely, even for commercial purposes.
)
tables/taraxml 1.0.10 
Platform independent system for reading OpenXML (Excel 2007 *.xlsx) files
The TaraXML addon reads files in Microsoft Excel's OpenXML format. For reading and writing older non-XML Excel formats see the Tara addon.

TaraXML depends on a command line transformation utility.
Linux: xsltproc which should be available in various linux distro.
Windows: msxsl.exe available from http://www.microsoft.com/en-us/download/details.aspx?id=21714
  msxsl.exe depends on msxml4 (not msxml6!) http://www.microsoft.com/en-us/download/details.aspx?id=19662
TaraXML was developed by Ric Sherlock and Bill Lam. 
)
tables/wdooo 1.0.38 
ole automation client
ole automation client.

This program only works on windows.

Contributed by Bill Lam
)
types/datetime 1.0.13 
Working with dates and times
Convert between day number and dates including times.
Custom date/time formating.
Date/time arithmetic.

Extends the `dates.ijs` system script.
)
web/gethttp 1.0.22 
Retrieve files from web
J interface to Wget/cURL for retrieving files using http, https or ftp protocols.
Retrieve file contents or save to file.

Learn about SSL/TLS before use
https://curl.haxx.se/docs/sslcerts.html

You could get a more recent cert file from
https://curl.haxx.se/docs/caextract.html
)
NB. Addon configuration

ADDLABS=: 0 : 0
)
2022 4 3 20 27 20.2297
api_expat_1.0.11_android.tar.gz 3181
api_expat_1.0.11_darwin.tar.gz 3180
api_expat_1.0.11_linux.tar.gz 3179
api_expat_1.0.11_win.zip 4915
api_gles_1.0.31_android.tar.gz 89314
api_gles_1.0.31_darwin.tar.gz 89313
api_gles_1.0.31_linux.tar.gz 89312
api_gles_1.0.31_win.zip 90166
api_java_1.0.2_android.tar.gz 4917
api_java_1.0.2_darwin.tar.gz 4916
api_java_1.0.2_linux.tar.gz 4915
api_java_1.0.2_win.zip 10699
api_jc_1.0.1_android.tar.gz 3737
api_jc_1.0.1_darwin.tar.gz 3736
api_jc_1.0.1_linux.tar.gz 3735
api_jc_1.0.1_win.zip 4752
api_jni_1.0.15_android.tar.gz 7582
api_jni_1.0.15_darwin.tar.gz 7581
api_jni_1.0.15_linux.tar.gz 7580
api_jni_1.0.15_win.zip 9189
api_lapacke_1.0.12_android.tar.gz 26798
api_lapacke_1.0.12_darwin.tar.gz 26797
api_lapacke_1.0.12_linux.tar.gz 26796
api_lapacke_1.0.12_win.zip 28109
api_ncurses_1.0.8_android.tar.gz 4853
api_ncurses_1.0.8_darwin.tar.gz 4852
api_ncurses_1.0.8_linux.tar.gz 4851
api_ncurses_1.0.8_win.zip 5366
api_python3_1.0.8_android.tar.gz 2050
api_python3_1.0.8_darwin.tar.gz 2049
api_python3_1.0.8_linux.tar.gz 2048
api_python3_1.0.8_win.zip 2769
arc_zlib_1.0.9_android.tar.gz 5348
arc_zlib_1.0.9_darwin.tar.gz 5347
arc_zlib_1.0.9_linux.tar.gz 5346
arc_zlib_1.0.9_win.zip 6183
convert_jiconv_1.0.14_android.tar.gz 1918
convert_jiconv_1.0.14_darwin.tar.gz 1917
convert_jiconv_1.0.14_linux.tar.gz 1916
convert_jiconv_1.0.14_win.zip 2678
convert_json_1.0.10_android.tar.gz 1766
convert_json_1.0.10_darwin.tar.gz 1765
convert_json_1.0.10_linux.tar.gz 1764
convert_json_1.0.10_win.zip 2248
convert_misc_1.3.8_android.tar.gz 4992
convert_misc_1.3.8_darwin.tar.gz 4991
convert_misc_1.3.8_linux.tar.gz 4990
convert_misc_1.3.8_win.zip 6558
convert_numpy_1.0.1_android.tar.gz 2281
convert_numpy_1.0.1_darwin.tar.gz 2280
convert_numpy_1.0.1_linux.tar.gz 2279
convert_numpy_1.0.1_win.zip 3244
convert_pjson_1.0.23_android.tar.gz 2101
convert_pjson_1.0.23_darwin.tar.gz 2100
convert_pjson_1.0.23_linux.tar.gz 2099
convert_pjson_1.0.23_win.zip 3168
data_ddmysql_1.0.15_android.tar.gz 16196
data_ddmysql_1.0.15_darwin.tar.gz 16195
data_ddmysql_1.0.15_linux.tar.gz 16194
data_ddmysql_1.0.15_win.zip 19828
data_ddsqlite_1.0.42_android.tar.gz 17242
data_ddsqlite_1.0.42_darwin.tar.gz 17241
data_ddsqlite_1.0.42_linux.tar.gz 17240
data_ddsqlite_1.0.42_win.zip 20793
data_jd_4.4.100_android.tar.gz 275674
data_jd_4.4.100_darwin64.tar.gz 329723
data_jd_4.4.100_linux64.tar.gz 423694
data_jd_4.4.100_win64.zip 655101
data_jfiles_1.0.8_android.tar.gz 4875
data_jfiles_1.0.8_darwin.tar.gz 4874
data_jfiles_1.0.8_linux.tar.gz 4873
data_jfiles_1.0.8_win.zip 6584
data_jmf_1.0.42_android.tar.gz 6175
data_jmf_1.0.42_darwin.tar.gz 6174
data_jmf_1.0.42_linux.tar.gz 6173
data_jmf_1.0.42_win.zip 7472
data_odbc_1.0.48_darwin.tar.gz 20984
data_odbc_1.0.48_linux.tar.gz 20983
data_odbc_1.0.48_win.zip 24838
data_sqlite_1.0.36_android.tar.gz 132865
data_sqlite_1.0.36_darwin.tar.gz 132864
data_sqlite_1.0.36_linux.tar.gz 132863
data_sqlite_1.0.36_win.zip 134733
data_sqltable_1.0.5_darwin.tar.gz 12555
data_sqltable_1.0.5_linux.tar.gz 12554
data_sqltable_1.0.5_win.zip 20735
debug_dissect_4.6.42_android.tar.gz 241574
debug_dissect_4.6.42_darwin.tar.gz 241573
debug_dissect_4.6.42_linux.tar.gz 241572
debug_dissect_4.6.42_win.zip 244121
debug_jig_2.0.18_android.tar.gz 12532
debug_jig_2.0.18_darwin.tar.gz 12532
debug_jig_2.0.18_linux.tar.gz 12531
debug_jig_2.0.18_win.zip 28585
debug_lint_1.18.16_android.tar.gz 30469
debug_lint_1.18.16_darwin.tar.gz 30468
debug_lint_1.18.16_linux.tar.gz 30467
debug_lint_1.18.16_win.zip 31084
debug_tte_0.0.8_android.tar.gz 18487
debug_tte_0.0.8_darwin.tar.gz 18486
debug_tte_0.0.8_linux.tar.gz 18485
debug_tte_0.0.8_win.zip 19959
demos_coins_1.0.15_darwin.tar.gz 4211
demos_coins_1.0.15_linux.tar.gz 4210
demos_coins_1.0.15_win.zip 6861
demos_isigraph_1.0.72_android.tar.gz 12240
demos_isigraph_1.0.72_darwin.tar.gz 12239
demos_isigraph_1.0.72_linux.tar.gz 12238
demos_isigraph_1.0.72_win.zip 19874
demos_publish_1.0.3_darwin.tar.gz 7396
demos_publish_1.0.3_linux.tar.gz 7395
demos_publish_1.0.3_win.zip 9397
demos_qtdemo_1.0.26_android.tar.gz 256671
demos_qtdemo_1.0.26_darwin.tar.gz 256715
demos_qtdemo_1.0.26_linux.tar.gz 256671
demos_qtdemo_1.0.26_win.zip 273633
demos_wd_1.0.143_android.tar.gz 165179
demos_wd_1.0.143_darwin.tar.gz 165178
demos_wd_1.0.143_linux.tar.gz 165177
demos_wd_1.0.143_win.zip 170815
demos_wdplot_1.0.50_android.tar.gz 19500
demos_wdplot_1.0.50_darwin.tar.gz 19499
demos_wdplot_1.0.50_linux.tar.gz 19498
demos_wdplot_1.0.50_win.zip 22213
dev_fold_1.0.7_android.tar.gz 1771
dev_fold_1.0.7_darwin.tar.gz 1770
dev_fold_1.0.7_linux.tar.gz 1769
dev_fold_1.0.7_win.zip 3587
dev_lu_1.0.2_android.tar.gz 939
dev_lu_1.0.2_darwin.tar.gz 938
dev_lu_1.0.2_linux.tar.gz 937
dev_lu_1.0.2_win.zip 1359
docs_joxygen_1.0.11_android.tar.gz 9816
docs_joxygen_1.0.11_darwin.tar.gz 9815
docs_joxygen_1.0.11_linux.tar.gz 9814
docs_joxygen_1.0.11_win.zip 16201
finance_actuarial_1.0.11_android.tar.gz 23747
finance_actuarial_1.0.11_darwin.tar.gz 23746
finance_actuarial_1.0.11_linux.tar.gz 23745
finance_actuarial_1.0.11_win.zip 24709
finance_interest_1.0.20_android.tar.gz 3347
finance_interest_1.0.20_darwin.tar.gz 3346
finance_interest_1.0.20_linux.tar.gz 3345
finance_interest_1.0.20_win.zip 3841
format_datefmt_1.0.17_android.tar.gz 1366
format_datefmt_1.0.17_darwin.tar.gz 1365
format_datefmt_1.0.17_linux.tar.gz 1364
format_datefmt_1.0.17_win.zip 1878
format_printf_1.0.12_android.tar.gz 10208
format_printf_1.0.12_darwin.tar.gz 10207
format_printf_1.0.12_linux.tar.gz 10206
format_printf_1.0.12_win.zip 11121
format_publish_1.0.29_android.tar.gz 106804
format_publish_1.0.29_darwin.tar.gz 106803
format_publish_1.0.29_linux.tar.gz 106802
format_publish_1.0.29_win.zip 109998
format_sbox_0.0.9_android.tar.gz 4725
format_sbox_0.0.9_darwin.tar.gz 4724
format_sbox_0.0.9_linux.tar.gz 4723
format_sbox_0.0.9_win.zip 6031
format_zulu-bare_0.0.12_android.tar.gz 1857
format_zulu-bare_0.0.12_darwin.tar.gz 1856
format_zulu-bare_0.0.12_linux.tar.gz 1855
format_zulu-bare_0.0.12_win.zip 2664
format_zulu-lite_0.0.12_android.tar.gz 2528
format_zulu-lite_0.0.12_darwin.tar.gz 2527
format_zulu-lite_0.0.12_linux.tar.gz 2526
format_zulu-lite_0.0.12_win.zip 3370
format_zulu_0.0.13_android.tar.gz 14106
format_zulu_0.0.13_darwin.tar.gz 14105
format_zulu_0.0.13_linux.tar.gz 14104
format_zulu_0.0.13_win.zip 20335
games_2048_1.0.8_android.tar.gz 3446
games_2048_1.0.8_darwin.tar.gz 3445
games_2048_1.0.8_linux.tar.gz 3444
games_2048_1.0.8_win.zip 5043
games_bagofnouns_1.0.93_android.tar.gz 73346
games_bagofnouns_1.0.93_darwin.tar.gz 73345
games_bagofnouns_1.0.93_linux.tar.gz 73344
games_bagofnouns_1.0.93_win.zip 75473
games_minesweeper_1.0.52_android.tar.gz 26218
games_minesweeper_1.0.52_darwin.tar.gz 26217
games_minesweeper_1.0.52_linux.tar.gz 26216
games_minesweeper_1.0.52_win.zip 27200
games_nurikabe_1.0.38_android.tar.gz 7211
games_nurikabe_1.0.38_darwin.tar.gz 7210
games_nurikabe_1.0.38_linux.tar.gz 7207
games_nurikabe_1.0.38_win.zip 7792
games_pousse_1.0.37_android.tar.gz 4361
games_pousse_1.0.37_darwin.tar.gz 4360
games_pousse_1.0.37_linux.tar.gz 4359
games_pousse_1.0.37_win.zip 4864
games_solitaire_1.0.48_android.tar.gz 63630
games_solitaire_1.0.48_darwin.tar.gz 63629
games_solitaire_1.0.48_linux.tar.gz 63628
games_solitaire_1.0.48_win.zip 67977
general_dirtrees_1.0.12_android.tar.gz 1587
general_dirtrees_1.0.12_darwin.tar.gz 1586
general_dirtrees_1.0.12_linux.tar.gz 1585
general_dirtrees_1.0.12_win.zip 2733
general_dirutils_1.0.14_android.tar.gz 2284
general_dirutils_1.0.14_darwin.tar.gz 2283
general_dirutils_1.0.14_linux.tar.gz 2282
general_dirutils_1.0.14_win.zip 3462
general_inifiles_1.0.15_android.tar.gz 6017
general_inifiles_1.0.15_darwin.tar.gz 6016
general_inifiles_1.0.15_linux.tar.gz 6015
general_inifiles_1.0.15_win.zip 7422
general_jod_1.0.22_darwin.tar.gz 91705
general_jod_1.0.22_linux.tar.gz 91704
general_jod_1.0.22_win.zip 103559
general_joddocument_1.0.22_android.tar.gz 2024892
general_joddocument_1.0.22_darwin.tar.gz 2024891
general_joddocument_1.0.22_linux.tar.gz 2024890
general_joddocument_1.0.22_win.zip 2026685
general_jodsource_1.0.22_darwin.tar.gz 599406
general_jodsource_1.0.22_linux.tar.gz 599405
general_jodsource_1.0.22_win.zip 609941
general_misc_2.5.3_android.tar.gz 21581
general_misc_2.5.3_darwin.tar.gz 21580
general_misc_2.5.3_linux.tar.gz 21579
general_misc_2.5.3_win.zip 27172
general_primitives_1.0.14_android.tar.gz 3975
general_primitives_1.0.14_darwin.tar.gz 3974
general_primitives_1.0.14_linux.tar.gz 3973
general_primitives_1.0.14_win.zip 4723
general_unittest_1.0.12_android.tar.gz 1527
general_unittest_1.0.12_darwin.tar.gz 1526
general_unittest_1.0.12_linux.tar.gz 1525
general_unittest_1.0.12_win.zip 3082
graphics_afm_1.0.15_android.tar.gz 21665
graphics_afm_1.0.15_darwin.tar.gz 21664
graphics_afm_1.0.15_linux.tar.gz 21663
graphics_afm_1.0.15_win.zip 22337
graphics_bmp_1.0.14_android.tar.gz 12716
graphics_bmp_1.0.14_darwin.tar.gz 12715
graphics_bmp_1.0.14_linux.tar.gz 12714
graphics_bmp_1.0.14_win.zip 13239
graphics_cairo_1.0.11_android.tar.gz 9578
graphics_cairo_1.0.11_darwin.tar.gz 9577
graphics_cairo_1.0.11_linux.tar.gz 9576
graphics_cairo_1.0.11_win.zip 10900
graphics_color_1.0.19_android.tar.gz 16819
graphics_color_1.0.19_darwin.tar.gz 16818
graphics_color_1.0.19_linux.tar.gz 16817
graphics_color_1.0.19_win.zip 21036
graphics_d3_0.0.8_android.tar.gz 739566
graphics_d3_0.0.8_darwin.tar.gz 739565
graphics_d3_0.0.8_linux.tar.gz 739564
graphics_d3_0.0.8_win.zip 735994
graphics_freeglut_1.0.3_linux.tar.gz 8087
graphics_freeglut_1.0.3_win.zip 9348
graphics_fvj4_1.0.17_android.tar.gz 1720963
graphics_fvj4_1.0.17_darwin.tar.gz 1720962
graphics_fvj4_1.0.17_linux.tar.gz 1720959
graphics_fvj4_1.0.17_win.zip 1756253
graphics_gnuplot_1.0.7_android.tar.gz 3274
graphics_gnuplot_1.0.7_darwin.tar.gz 3273
graphics_gnuplot_1.0.7_linux.tar.gz 3272
graphics_gnuplot_1.0.7_win.zip 4076
graphics_graph_1.0.23_android.tar.gz 4194
graphics_graph_1.0.23_darwin.tar.gz 4193
graphics_graph_1.0.23_linux.tar.gz 4192
graphics_graph_1.0.23_win.zip 4923
graphics_graphviz_2.0.12_darwin.tar.gz 24646
graphics_graphviz_2.0.12_linux.tar.gz 24645
graphics_graphviz_2.0.12_win.zip 31694
graphics_jpeg_1.0.20_android.tar.gz 6548
graphics_jpeg_1.0.20_darwin.tar.gz 6547
graphics_jpeg_1.0.20_linux.tar.gz 6546
graphics_jpeg_1.0.20_win.zip 7230
graphics_pdfdraw_1.0.7_android.tar.gz 11397
graphics_pdfdraw_1.0.7_darwin.tar.gz 11396
graphics_pdfdraw_1.0.7_linux.tar.gz 11395
graphics_pdfdraw_1.0.7_win.zip 13753
graphics_plot_1.0.195_android.tar.gz 53179
graphics_plot_1.0.195_darwin.tar.gz 53178
graphics_plot_1.0.195_linux.tar.gz 53177
graphics_plot_1.0.195_win.zip 55573
graphics_png_1.0.28_android.tar.gz 3437
graphics_png_1.0.28_darwin.tar.gz 3436
graphics_png_1.0.28_linux.tar.gz 3435
graphics_png_1.0.28_win.zip 4302
graphics_pplatimg_1.0.4_darwin.tar.gz 6694
graphics_pplatimg_1.0.4_linux.tar.gz 6693
graphics_pplatimg_1.0.4_win.zip 7481
graphics_print_1.0.18_android.tar.gz 7384
graphics_print_1.0.18_darwin.tar.gz 7383
graphics_print_1.0.18_linux.tar.gz 7382
graphics_print_1.0.18_win.zip 8329
graphics_treemap_1.0.16_android.tar.gz 4942
graphics_treemap_1.0.16_darwin.tar.gz 4941
graphics_treemap_1.0.16_linux.tar.gz 4940
graphics_treemap_1.0.16_win.zip 5960
graphics_viewmat_1.0.83_android.tar.gz 4035
graphics_viewmat_1.0.83_darwin.tar.gz 4034
graphics_viewmat_1.0.83_linux.tar.gz 4033
graphics_viewmat_1.0.83_win.zip 4765
gui_cobrowser_2.1.2_android.tar.gz 297564
gui_cobrowser_2.1.2_darwin.tar.gz 297563
gui_cobrowser_2.1.2_linux.tar.gz 297562
gui_cobrowser_2.1.2_win.zip 332185
ide_ja_1.0.34_android.tar.gz 114259
ide_jhs_1.0.330_android.tar.gz 628842
ide_jhs_1.0.330_darwin.tar.gz 628841
ide_jhs_1.0.330_linux.tar.gz 628840
ide_jhs_1.0.330_win.zip 749979
ide_jnet_1.0.25_linux.tar.gz 923028
ide_jnet_1.0.25_windows.zip 965393
ide_qt_1.1.147_darwin.tar.gz 72347
ide_qt_1.1.147_linux.tar.gz 72345
ide_qt_1.1.147_win.zip 89062
labs_labs_1.0.208_android.tar.gz 688459
labs_labs_1.0.208_darwin.tar.gz 688460
labs_labs_1.0.208_linux.tar.gz 688459
labs_labs_1.0.208_win.zip 751218
math_cal_2.1.24_android.tar.gz 46866
math_cal_2.1.24_darwin.tar.gz 46865
math_cal_2.1.24_linux.tar.gz 46864
math_cal_2.1.24_win.zip 52390
math_calculus_1.0.6_android.tar.gz 6643
math_calculus_1.0.6_darwin.tar.gz 6642
math_calculus_1.0.6_linux.tar.gz 6641
math_calculus_1.0.6_win.zip 7208
math_deoptim_1.0.26_android.tar.gz 8277
math_deoptim_1.0.26_darwin.tar.gz 8276
math_deoptim_1.0.26_linux.tar.gz 8275
math_deoptim_1.0.26_win.zip 10266
math_eigenpic_1.0.19_android.tar.gz 3887
math_eigenpic_1.0.19_darwin.tar.gz 3886
math_eigenpic_1.0.19_linux.tar.gz 3885
math_eigenpic_1.0.19_win.zip 4365
math_fftw_1.1.17_android.tar.gz 17477
math_fftw_1.1.17_darwin.tar.gz 1072152
math_fftw_1.1.17_linux.tar.gz 17475
math_fftw_1.1.17_win64.zip 1197643
math_flann_1.0.7_linux.tar.gz 5570
math_lapack2_1.0.11_android.tar.gz 39968
math_lapack2_1.0.11_darwin.tar.gz 39967
math_lapack2_1.0.11_linux.tar.gz 39966
math_lapack2_1.0.11_win.zip 63208
math_lapack_1.1.55_android.tar.gz 311752
math_lapack_1.1.55_darwin.tar.gz 311758
math_lapack_1.1.55_linux.tar.gz 311754
math_lapack_1.1.55_win64.zip 3945824
math_lbfgs_1.0.9_android.tar.gz 8691
math_lbfgs_1.0.9_darwin.tar.gz 8690
math_lbfgs_1.0.9_linux.tar.gz 8689
math_lbfgs_1.0.9_win.zip 11676
math_misc_1.2.6_android.tar.gz 30898
math_misc_1.2.6_darwin.tar.gz 30897
math_misc_1.2.6_linux.tar.gz 30896
math_misc_1.2.6_win.zip 39908
math_mt_0.12.1_android.tar.gz 220290
math_mt_0.12.1_darwin.tar.gz 220284
math_mt_0.12.1_linux.tar.gz 220283
math_mt_0.12.1_win.zip 347939
math_tabula_2.1.12_android.tar.gz 37776
math_tabula_2.1.12_darwin.tar.gz 37775
math_tabula_2.1.12_linux.tar.gz 37774
math_tabula_2.1.12_win.zip 37344
math_uu_2.1.27_android.tar.gz 27966
math_uu_2.1.27_darwin.tar.gz 27965
math_uu_2.1.27_linux.tar.gz 27964
math_uu_2.1.27_win.zip 31114
media_imagekit_1.0.8_android.tar.gz 545666
media_imagekit_1.0.8_darwin.tar.gz 545665
media_imagekit_1.0.8_linux.tar.gz 545664
media_imagekit_1.0.8_win.zip 547728
media_videolabs_1.0.12_android.tar.gz 16209
media_videolabs_1.0.12_darwin.tar.gz 16208
media_videolabs_1.0.12_linux.tar.gz 16207
media_videolabs_1.0.12_win.zip 29918
media_wav_1.0.20_android.tar.gz 52667
media_wav_1.0.20_darwin.tar.gz 52665
media_wav_1.0.20_linux.tar.gz 52664
media_wav_1.0.20_win.zip 51513
misc_classroom_1.0.8_android.tar.gz 1801
misc_classroom_1.0.8_darwin.tar.gz 1800
misc_classroom_1.0.8_linux.tar.gz 1799
misc_classroom_1.0.8_win.zip 2729
misc_miscutils_1.0.5_android.tar.gz 18671
misc_miscutils_1.0.5_darwin.tar.gz 18670
misc_miscutils_1.0.5_linux.tar.gz 18669
misc_miscutils_1.0.5_win.zip 20315
net_clientserver_1.0.9_android.tar.gz 3159
net_clientserver_1.0.9_darwin.tar.gz 3158
net_clientserver_1.0.9_linux.tar.gz 3157
net_clientserver_1.0.9_win.zip 4319
net_jcs_1.0.30_android.tar.gz 8856
net_jcs_1.0.30_darwin.tar.gz 8855
net_jcs_1.0.30_linux.tar.gz 8854
net_jcs_1.0.30_win.zip 10127
net_websocket_1.0.8_android.tar.gz 117134
net_websocket_1.0.8_darwin.tar.gz 117133
net_websocket_1.0.8_linux.tar.gz 117132
net_websocket_1.0.8_win.zip 125137
net_zmq_1.0.16_android.tar.gz 2780
net_zmq_1.0.16_darwin.tar.gz 2779
net_zmq_1.0.16_linux.tar.gz 2778
net_zmq_1.0.16_win.zip 3283
profiles_profiles_1.0.5_android.tar.gz 1531
profiles_profiles_1.0.5_darwin.tar.gz 1530
profiles_profiles_1.0.5_linux.tar.gz 1529
profiles_profiles_1.0.5_win.zip 2083
stats_base_1.0.21_android.tar.gz 7520
stats_base_1.0.21_darwin.tar.gz 7519
stats_base_1.0.21_linux.tar.gz 7518
stats_base_1.0.21_win.zip 9406
stats_distribs_1.0.12_android.tar.gz 6547
stats_distribs_1.0.12_darwin.tar.gz 6546
stats_distribs_1.0.12_linux.tar.gz 6545
stats_distribs_1.0.12_win.zip 8783
stats_jserver4r_1.0.4_android.tar.gz 43235
stats_jserver4r_1.0.4_darwin.tar.gz 43234
stats_jserver4r_1.0.4_linux.tar.gz 43233
stats_jserver4r_1.0.4_win.zip 46131
stats_r_1.0.34_android.tar.gz 50576
stats_r_1.0.34_darwin.tar.gz 50575
stats_r_1.0.34_linux.tar.gz 50574
stats_r_1.0.34_win.zip 55837
stats_rlibrary_1.0.8_android.tar.gz 1367
stats_rlibrary_1.0.8_darwin.tar.gz 1366
stats_rlibrary_1.0.8_linux.tar.gz 1365
stats_rlibrary_1.0.8_win.zip 2518
tables_csv_1.0.16_android.tar.gz 2978
tables_csv_1.0.16_darwin.tar.gz 2977
tables_csv_1.0.16_linux.tar.gz 2976
tables_csv_1.0.16_win.zip 4056
tables_dsv_1.0.15_android.tar.gz 6918
tables_dsv_1.0.15_darwin.tar.gz 6917
tables_dsv_1.0.15_linux.tar.gz 6916
tables_dsv_1.0.15_win.zip 8734
tables_excel_1.0.24_win.zip 5738
tables_tara_1.2.43_android.tar.gz 81769
tables_tara_1.2.43_darwin.tar.gz 81768
tables_tara_1.2.43_linux.tar.gz 81767
tables_tara_1.2.43_win.zip 82919
tables_taraxml_1.0.10_android.tar.gz 16628
tables_taraxml_1.0.10_darwin.tar.gz 16627
tables_taraxml_1.0.10_linux.tar.gz 16626
tables_taraxml_1.0.10_win.zip 17452
tables_wdooo_1.0.38_win.zip 36189
types_datetime_1.0.13_android.tar.gz 6330
types_datetime_1.0.13_darwin.tar.gz 6329
types_datetime_1.0.13_linux.tar.gz 6328
types_datetime_1.0.13_win.zip 7517
web_gethttp_1.0.22_android.tar.gz 4617
web_gethttp_1.0.22_darwin.tar.gz 4616
web_gethttp_1.0.22_linux.tar.gz 4615
web_gethttp_1.0.22_win.zip 1034029
currentlibrary_current_9.2.8_android.tar.gz 83954
library_current_9.2.8_win.zip 103155
library_current_9.2.8_linux.tar.gz 83952
library_current_9.2.8_darwin.tar.gz 83953
185NB. prompt

NB. =========================================================
NB.*prompt v prompt for input
NB.
NB. prompts for input, optionally with a default result
NB.
NB. form: [default] prompt prompt_text
NB.
NB. examples:
NB.    prompt 'start date: '
NB.    '2001 5 23' prompt 'start date: '
NB.
NB. Notes:
NB.  - the default is only available in JQt
NB.  - this will not work in a script
NB.  - in Windows console a newline is added after the prompt
prompt=: 3 : 0
'' prompt y
:
if. IFQT do.
  wd 'sm prompt *',y,x
  inp=. 1!:1 ] 1
  len=. #y=. dlb y
  (len * y -: len {. inp) }. inp
else.
  y 1!:2 (IFWIN+.IFJHS+.IFIOS) { 4 2
  1!:1 ] 1
end.
)
NB. evolute.ijs   - evolutes
NB.
NB. ref: Eugene McDonnell Vector Vol 13#2
NB.
NB. example:
NB.   evolute 10

cocurrent 'z'

NB.*evolute v generate evolute

e0=. }: @ (2: # >:@i.)
e1=. <: @ +: $ _1: , ] , 1: , -
e2=. _1 & |. @ (e0 # e1)

evolute=: ,~ $ /: @ (+/\) @ e2 f.
NB. cd replacement for wd'clippaste'
NB.
NB. wd'clippaste 1' -> getcliptext''
NB. wd'clippaste 2' -> getclipfiles''
NB. wd'clipcopy'    -> setcliptext text
NB.
NB. getclip - gets text or file names from clipboard.
NB. setclipfiles - puts one or more file names on clipboard.
NB. 

coclass 'wdclip'
require '~addons/general/misc/format.ijs'

getcliptext_z_=: getcliptext_wdclip_
getclipfiles_z_=: getclipfiles_wdclip_
getclip_z_=: getclip_wdclip_
setcliptext_z_=: setcliptext_wdclip_
setclipfiles_z_=: setclipfiles_wdclip_

OpenClipboard=: >@{.@:('user32 OpenClipboard i x'&cd)
EmptyClipboard=: >@{.@:('user32 EmptyClipboard i'&cd)
SetClipboardData=: >@{.@:('user32 SetClipboardData x i x'&cd)
CloseClipboard=: >@{.@:('user32 CloseClipboard i'&cd)
EnumClipboardFormats=: 0 1&{('user32 EnumClipboardFormats i i'&cd)
CountClipboardFormats=: >@{.@:('user32 CountClipboardFormats i'&cd)
GetClipboardData=: 0 1&{('user32 GetClipboardData x i'&cd)
GetClipboardFormatName=: >@{.@:('user32 GetClipboardFormatNameA i i *c i'&cd)
GetClipboardSequenceNumber=: >@{.@:('user32 GetClipboardSequenceNumber i'&cd)
GlobalLock=: >@{.@:('kernel32 GlobalLock x x'&cd)
GlobalUnlock=: >@{.@:('kernel32 GlobalUnlock i x'&cd)
GlobalAlloc=: >@{.@:('kernel32 GlobalAlloc x i i'&cd)
GlobalFree=: >@{.@:('kernel32 GlobalFree x x'&cd)
GlobalReAlloc=: >@{.@:('kernel32 GlobalReAlloc x x i i'&cd)

CF_HDROP=: 15
CF_TEXT=: 2-1
CF_OEMTEXT=: 7
CF_UNICODETEXT=: 13

GHND=: dfh'0042'
GMEM_MODIFY=: dfh'0080'
GMEM_MOVEABLE=: 2

NULL=: 0{a.
UNULL=: 0 0{a.

ic=:3!:4
memwic=: 4 : 0
x=.2 ic x
x memw y,(#x),2
)

NB. typedef struct _DROPFILES {
NB. 4     DWORD pFiles; (12)
NB. 8     POINT pt;
NB. 4     BOOL fNC;
NB. 4     BOOL fWide; } DROPFILES, *LPDROPFILES; 
NB. 20+len(files)+(#files(NULL))+2(NULL)


NB. =========================================================
NB.*getclipformatname v get registered clip format name from format number
NB. form: getclipformatname n
getclipformatname=: 3 : 0
if. y<#ClipFormats do.
 y{ClipFormats
 return.
end.
buf=.200$' '
c=.GetClipboardFormatName y;buf;200
if. 0=c do.
 'Not a registered Clip Format Name: ',":y
 else.
 c{.buf
end.
)

NB. =========================================================
NB.*setcliptext v set clipboard to text string
NB. form: setcliptext t
setcliptext=: 3 : 0
y=.clipfmt y
drop=.GlobalAlloc  GHND;1+#y
if. 0=drop do. '' return. end.
r=.GlobalLock drop
(y,NULL) memw r,0,(1+#y),2
GlobalUnlock drop
if. 0=OpenClipboard 0 do. 
 GlobalFree drop
 '' 
 return. 
end.
EmptyClipboard'' 
r=.SetClipboardData CF_TEXT;drop 
CloseClipboard ''
if. 0=r do.
 GlobalFree drop
 '' 
 return. 
end.
r
)

NB. =========================================================
NB.*setclipfiles v set clipboard to list of one or more file names, boxed
NB. form: setclipfiles f0[;fn]
setclipfiles=: 3 : 0
NB. 20 fixed header
NB. Unicode bytes for text+UNULL
NB. Unicode NULLS, 2 at end.
NB. Pad to 8 or 16 byte boundary
mk=.IF64{8 16
n=.((mk&-@(mk&|))+])20+(2*+/;(>:@#)&.>y)+4
drop=.GlobalAlloc GHND;n
if. 0=drop do. '' return. end.
r=.GlobalLock drop
20 memwic r,0
0 0 memwic r,4
0 1 memwic r,12
i=.20
for_s. y do.
 s=.(a.{~,|."1]256 256#:3 u: >s),UNULL
 s memw r,i,(#s),2
 i=.i+#s
end.
(2#UNULL) memw r,i,4,2
GlobalUnlock drop
if. 0=OpenClipboard 0 do. 
 GlobalFree drop
 '' 
 return. 
end.
EmptyClipboard''
r=.SetClipboardData CF_HDROP;drop 
CloseClipboard ''
if. 0=r do.
 GlobalFree drop
 '' 
 return. 
end.
r
)

tst=: 3 : 0
setclipfiles'c:\this';'c:\is';'c:\a';'c:\tst'
)

NB. =========================================================
NB.*listclipformatnames v list clipboard formats by name
NB. form: listclipformatnames ''
listclipformatnames=: 3 : 0
getclipformatname"0 listclipformats ''
)

NB. =========================================================
NB.*listclipformats v list clipboard formats
NB. form: listclipformats ''
listclipformats=: 3 : 0
if. 0=OpenClipboard 0 do. 0 return. end.
r=.''
f=.0
while. 1 do.
'f q'=.EnumClipboardFormats f
if. 0=f do. break. end.
r=.r,f
end.
CloseClipboard ''
r
)

NB. =========================================================
NB.*unicopy v make unicode noun from ptr,disp
NB. form: unicopy ptr,disp
unicopy=: 3 : 0
r=.''
while. 1 do.
q=.memr y,2,2
if. q-: UNULL do. 
 y;6 u: r 
 return. 
end.
r=.r,q
y=.y+0 2 
end.
)

NB. =========================================================
NB.*droplist v return boxed list of names from drop list
NB. form: droplist ptr
droplist=: 3 : 0
r=.''
d=.y,256 256#. |.a.i. memr y,0,2,2
while. 1 do.
 'd t'=.unicopy d
 if. 0=#t do. r return. end.
 r=.r,<t
 d=.d+0 2
end.
)

NB. =========================================================
NB.*getclipdropinfo v display drop info
NB. form: getclipdropinfo ''
getclipdropinfo=: 3 : 0
if. 0=OpenClipboard 0 do. 0 return. end.
'm t'=.GetClipboardData CF_HDROP
if. m=0 do.
 CloseClipboard ''
 0
 return.
end.
p=.GlobalLock m
if. p do.
 r=.droplist p
 GlobalUnlock m
end.
CloseClipboard ''
r
)

NB. =========================================================
NB.*getclipfiles v get copied file names as enclosed vector
NB. form: getclipfiles ''
getclipfiles=: 3 : 0
q=.getclipdropinfo ''
if. q=0 do. return. end.
q
)

NB. =========================================================
NB.*getcliptext v display text
NB. form: getcliptext ''
getcliptext=: 3 : 0
CF_TEXT getcliptext y
:
if. 0=OpenClipboard 0 do. 0 return. end.
'm t'=.GetClipboardData x
if. m=0 do.
 CloseClipboard ''
 0
 return.
end.
r=.''
p=.GlobalLock m
if. p do.
 if. x=CF_UNICODETEXT do.
  r=.>1{unicopy p,0
 else.
  r=.memr p,0,_1,2
 end.
 GlobalUnlock m
end.
CloseClipboard ''
r
)

NB. =========================================================
NB.*getclip v get text or files
NB. form: getclip ''
getclip=: 3 : 0
q=.listclipformats''
if. 1 e. q do. getcliptext'' return. end.
if. 15 e. q do. getclipfiles'' return. end.
''
)

ClipFormats=: >}:&.><;.2 ]0 : 0
Null
CF_TEXT
CF_BITMAP
CF_METAFILEPICT
CF_SYLK        
CF_DIF         
CF_TIFF        
CF_OEMTEXT     
CF_DIB         
CF_PALETTE     
CF_PENDATA     
CF_RIFF        
CF_WAVE        
CF_UNICODETEXT 
CF_ENHMETAFILE 
CF_HDROP       
CF_LOCALE      
CF_DIBV5       
)

NB. /*
NB.  * Predefined Clipboard Formats
NB.  */
NB. #define CF_TEXT             1
NB. #define CF_BITMAP           2
NB. #define CF_METAFILEPICT     3
NB. #define CF_SYLK             4
NB. #define CF_DIF              5
NB. #define CF_TIFF             6
NB. #define CF_OEMTEXT          7
NB. #define CF_DIB              8
NB. #define CF_PALETTE          9
NB. #define CF_PENDATA          10
NB. #define CF_RIFF             11
NB. #define CF_WAVE             12
NB. #define CF_UNICODETEXT      13
NB. #define CF_ENHMETAFILE      14
NB. #if(WINVER >= 0x0400)
NB. #define CF_HDROP            15
NB. #define CF_LOCALE           16
NB. #endif /* WINVER >= 0x0400 */
NB. #if(WINVER >= 0x0500)
NB. #define CF_DIBV5            17
NB. #endif /* WINVER >= 0x0500 */
NB.
NB. #if(WINVER >= 0x0500)
NB. #define CF_MAX              18
NB. #elif(WINVER >= 0x0400)
NB. #define CF_MAX              17
NB. #else
NB. #define CF_MAX              15
NB. #endif
NB.
NB. #define CF_OWNERDISPLAY     0x0080
NB. #define CF_DSPTEXT          0x0081
NB. #define CF_DSPBITMAP        0x0082
NB. #define CF_DSPMETAFILEPICT  0x0083
NB. #define CF_DSPENHMETAFILE   0x008E
NB.

NB. DataObject                            
NB. Shell IDList Array                    
NB. DataObjectAttributes                  
NB. DataObjectAttributesRequiringElevation
NB. Shell Object Offsets                  
NB. Preferred DropEffect                  
NB. AsyncFlag                             
NB. CF_HDROP                              
NB. FileName                              
NB. FileNameW                             
NB. Ole Private Data
NB. general/misc/part.ijs
NB. Partition functions
NB. version: 1.0.0
NB.
NB. partition functions
NB.
NB. Partitions are typically given by a boolean with 1's marking
NB. the beginning or end of each partition. Partitions are also
NB. sometimes given in terms of the lengths of each partition.
NB.
NB. Verbs defined here assume that boolean 1's mark the beginning
NB. of each partition - see comments at the end for examples of
NB. end-partition verbs.
NB.
NB. The verbs psum and psumscan illustrate definitions appropriate
NB. for verbs that return scalar or non-scalar results, respectively.
NB. utility used to build non-scalar partition functions:
NB.
NB. Examples:
NB.
NB.   1 0 0 1 0 0 0 = firstones 1 1 0 1 1 1 0
NB.   0 0 1 0 1 = lastones 1 1 1 0 1
NB.   2 3 1 = lfp 1 0 1 0 0 1
NB.   1 1 0 1 0 0 1 = partition 1 9 9 4 4 4 9
NB.   0 0 0 1 2 2 3 = runindices 3 1 2 1
NB.   1 2 3 1 = runlengths 1 9 9 4 4 4 9
NB.
NB.   x=. 1 0 1 0 0 [ y=. 5 3 2 2 7
NB.
NB.   3 5 7 2 2 = x preverse y
NB.   3 5 2 2 7 = x psort y
NB.   8 11 = x psum y
NB.   5 8 2 4 11 = x psumscan y

cocurrent 'z'

NB. =========================================================
NB. verb cp cut       where cut is 1=beginning, 2=end.
cp=. 2 : '; @ (<@u ;. n)'

NB. =========================================================
NB.*firstones v first 1's in partition
NB. form: firstones part
firstones=: > |.!.0

NB.*lastones v last 1's in partition
NB. form: lastones part
lastones=: > 1&(|.!.0)

NB.*lfp v lengths from partition
NB. form: lfp part
lfp=: #;.1

NB.*partition v partition items (1 marks new item)
NB. form: partition dat
partition=: }:@(1 , -.)@((-:"_1) 1&|.)

NB.*pfl v partition from lengths
NB. form: pfl len
pfl=: [: ; {.&1&.>

NB.*runindices v indices from run lengths
NB. form: runindices
runindices=: I.

NB.*runlengths v lengths of each run
NB. form: runlengths dat
runlengths=: lfp@partition f.

NB. =========================================================
NB.*preverse v partioned reverse
NB. form: part preverse dat
preverse=: |. cp 1

NB.*psort v partioned sort
NB. form: part psort dat
psort=: /:~ cp 1

NB.*psum v partioned sum
NB. form: part psum dat
psum=: +/;.1

NB.*psumscan v partioned sumscan
NB. form: part psumscan dat
psumscan=: +/\ cp 1

NB. =========================================================
NB. example end-partition verbs (use 2 instead of 1):
NB. preverse=: |. cp 2
NB. psum=: +/;.2
NB. Title             Essays/Inverted Table - J Wiki
NB. Current URL       http://code.jsoftware.com/wiki/Essays/Inverted%20Table
NB.
NB. Collected Definitions

cocurrent 'z'

ifa =: <@(>"1)@|:               NB. inverted from atoms
afi =: |:@:(<"_1@>)             NB. atoms from inverted

tassert=: 3 : 0
 assert. (1>:#$y) *. 32=3!:0 y  NB. boxed scalar or vector
 assert. 1=#~.#&>y              NB. same # items in each box (with at least one box)
 1
)

ttally    =: #@>@{.
tappend   =: [ ,&.> ]
tcopy     =: <@[ #&.> ]
tfrom     =: <@[ {&.> ]
tindexof  =: i.&>~@[ i.&|: i.&>
tindexoflast  =: i:&>~@[ i:&|: i:&>
tmemberof =: i.&>~ e.&|: i.&>~@]
tless     =: <@:-.@tmemberof #&.> [
tnubsieve =: ~:@|:@:(i.&>)~
tnub      =: <@tnubsieve #&.> ]
tkey      =: 1 : '<@tindexof~@[ u/.&.> ]'
tgrade    =: > @ ((] /: {~)&.>/) @ (}: , /:&.>@{:)
tgradedown=: > @ ((] \: {~)&.>/) @ (}: , \:&.>@{:)
tsort     =: <@tgrade {&.> ]
tselfie   =: |:@:(i.~&>)

NB. alternatives
tmemberof1=: tindexof~ < ttally@]
tnubsieve1=: tindexof~ = i.@ttally
ranking   =: i.!.0~ { /:@/:
tgrade1   =: /: @ |: @: (ranking&>)

NB. general/misc/numeric.ijs
NB. Various numeric utilities
NB. version: 1.0.0
NB.
NB.  baserep        y in base x
NB.  clean          clean y to tolerance of x (default 1e_10)
NB.  colsum         sum data columns of matrix by key
NB.  groupndx       group indices of y in x
NB.  int01          interval in n steps from 0 to 1 (= steps 0 1,n)
NB.  linsert        linear insert x (default 2) steps into y
NB.  randomize      sets a random value into random link
NB.  range          range from a to b [in steps of c]
NB.  recur          solves recurrence r(i)=a(i)+r(i-1)*m(i-1)
NB.  round          round y to nearest x (e.g. 1000 round 12345)
NB.  roundbanker    round y to nearest x with bankers rounding
NB.  rounddist      round y to nearest x preserving total
NB.  rounddown      round y down to nearest x
NB.  roundint       round to nearest integer
NB.  roundup        round y up to nearest x
NB.  steps          steps from a to b in c steps

cocurrent 'z'

NB.*baserep v y in base x
baserep=: (&#.) (^:_1)

NB.*int01 v interval in n steps from 0 to 1 (= steps 0 1,n)
int01=: i.@(+ *) % |

NB.*linsert v linear insert x (default 2) steps into y
linsert=: 2&$: : ([: +/\ {.@] , [ # (}. - }:)@] % [)

NB.*round v round y to nearest x (e.g. 1000 round 12345)
round=: [ * [: <. 0.5 + %~

NB.*rounddown v round y down to nearest x (e.g. 1000 round 12345)
rounddown=: [ * [: <. %~

NB.*roundint v round to nearest integer
roundint=: <.@:+&0.5

NB.*roundup v round y up to nearest x (e.g. 1000 round 12345)
roundup=: [ * [: >. %~

NB. =========================================================
NB.*clean v clean y to tolerance of x (default 1e_10)
NB. form: tolerance (default 1e_10) clean numbers
NB. sets values less than tolerance to 0
clean=: 1e_10&$: : (4 : 0)
if. L. y do.
  x clean each y
else.
  if. (3!:0 y) e. 16 16384 do.
    j./"1 y * x <: | y=. +.y
  else.
    y * x <: |y
  end.
end.
)

NB. =========================================================
NB.*colsum v sum data columns of matrix by key
NB. form: key colsum mat
NB. sum data columns of matrix on key columns
NB. e.g. if column 2 of mat is age, then
NB.    2 colsum mat
NB. sums the remaining columns by age
colsum=: 4 : 0
nub=. ~. key=. x{"1 y
nub /:~ nub x}"_1 1 key +//. y
)

NB. =========================================================
NB.*groupndx v group indices of y in x
NB. Return group indices of elements of y
NB. x is an integer vector of the starting numbers of each group,
NB. assumed to be in ascending order.
NB. e.g.  0 0 0 1 1 1 2 2  =  0 3 6 groupndx i.8
NB. i.e.  <:@(+/@(<:/))
NB. groupndx=: 4 : '<: (#x) }. (+/\r<#x) /: r=. /: x,y'
groupndx=: [: <: I. + e.~

NB. =========================================================
NB.*randomize v sets a random value into random link
randomize=: 3 : 0
 try.
   require 'guid'
   tmp=. _2 (3!:4) , guids 1
 catch.             NB. general/misc/guid.ijs not available
   tmp=. >:<.0.8*0 60 60 24 31#.0 0 0 0 _1+|.<.}.6!:0 ''
 end.
 ([ 9!:1) {.^:(2~:9!:42'') tmp    NB. set random initial random seed
)

NB. =========================================================
NB.*range v range from a to b [in steps of c]
NB. range a,b[,c] = range from a to b [in steps of c]
range=: 3 : 0
'x y n'=. 3{.y,1
s=. _1^y<x
x+s*n*i.>:<.n%~|y-x
)

NB. =========================================================
NB.*recur v solves recurrence r(i)=a(i)+r(i-1)*m(i-1)
NB. form: r = m recur a
NB.   r(0) = a(0)
NB.   r(i) = a(i)+r(i-1)*m(i-1)
NB. e.g    1.05 1.10 recur 100 100 100
NB.     100 205 325.5
recur=: 4 : 'r*+/\y%r=.*/\1,x$~<:#y'

NB. =========================================================
NB.*roundbanker v round y to nearest x with bankers rounding
NB.
NB. round y to nearest x
NB.
NB. if y is a mid point, it is rounded up if even, down if odd
NB.
NB.    0.1 roundbanker 1.23 2.15 2.25 2.35 2.45
NB. 1.2 2.2 2.2 2.4 2.4
roundbanker=: 4 : 0
rd=. <. d=. 0.5 + y % x
x * rd - (rd = d) > 0 = 2 | d
)

NB. =========================================================
NB.*rounddist v round y to nearest x preserving total
NB. distributive rounding
NB.
NB. round y to nearest x preserving total to nearest x
NB.
NB. e.g.
NB.    0.1 rounddist 6$0.45
NB. 0.5 0.4 0.5 0.4 0.5 0.4
rounddist=: 4 : 0
($y) $ x * (- 0 , }:) <. 0.5 + +/\ y % x
)

NB. =========================================================
NB.*steps v steps from a to b in c steps
NB. form: steps a,b,c
steps=: {. + (1&{ - {.) * (i.@>: % ])@{:
NB. font.ijs     utilities for fonts
NB.
NB. Fonts are specified as: fontname size [bold] [italic]
NB. The fontname should have "" delimiters if it contains blanks.
NB.
NB. Example:
NB.   "MS Sans Serif" 14 bold eom
NB.
NB. verbs:
NB.    getfont         - returns font spec as boxed list
NB.                      fontname;size;[bold;italic]
NB.
NB.    getfontsize     - get size of a font spec
NB.    setfontsize     - set size into a font spec
NB.
NB.    changefont      - change various elements of a font spec

cocurrent 'z'

NB. =========================================================
NB.*changefont v optlist changefont fontspec
NB.
NB. optlist may contain:  bold    nobold
NB.                       italic  noitalic
NB.                       size    fontsize
NB.
NB. font should be: fontname size [bold] [italic]
NB.
NB. e.g. ('bold';20) changefont '"Lucida Console" 20'
changefont=: 4 : 0
font=. getfont y
opt=. x
if. 0=L. opt do. opt=. cutopen ":opt end.
opt=. a: -.~ (-.&' ' @ ":) each opt
num=. _1 ~: _1 ". &> opt
if. 1 e. num do.
  font=. ({.num#opt) 1} font
  opt=. (-.num)#opt
end.
ayes=. ;:'bold italic'
noes=. ;:'nobold noitalic'
font=. font , opt -. noes
font=. font -. (noes e. opt)#ayes
}: ; ,&' ' each ~. font
)

NB. =========================================================
NB.*getfont v getfont fontspec
getfont=: 3 : 0
font=. ' ',y
b=. (font=' ') > ~:/\font='"'
a: -.~ b <;._1 font
)

NB. =========================================================
NB.*getfontsize v getfontsize fontspec
getfontsize=: 13 : '{.1{._1 -.~ _1 ". y'

NB. =========================================================
NB.*setfontsize v size setfontsize fontspec
setfontsize=: 4 : 0
b=. ~: /\ y='"'
nam=. b#y
txt=. ;:(-.b)#y
ndx=. 1 i.~ ([: *./ e.&'0123456789.') &> txt
nam, }: ; ,&' ' &.> (<": x) ndx } txt
)
NB. IEEE 64 bit representation of floating point number
NB.
NB. e.g.
NB.   ieee64 %7

NB. =========================================================
NB.*ieee64 v IEEE 64 bit representation
ieee64=: 3 : 0
if. 1 ~: #y do. 'one number only' return. end.
hex=. '0123456789ABCDEF'
f=. 3}. n=. ,|.16 16#:a. i. (IF64{28 48)}.3!:1 [ 0.1,y
e=. 1}. s=. ,2 2 2 2#:3$n
r=. <'Decimal representation:  ',":!.17 y
r=. r,<'Internal representation: ',n{hex
r=. r,<''
if. *./0=e,f do.
  s=. (16{.":{.s),'n/a'
  e=. f=. (16{.'0'),'zero'
elseif. 1 */ .=e do.
  s=. e=. f=. 'n/a'
elseif. 1 do.
  s=. (16{.":{.s),(({.s){'+-'),'ve'
  e=. (16{.1":e),'2^',":(2#.e)-1023
  f=. (16{.f{hex),":!.17 [ >:(16#.3}.n)%16^13
end.
r=. r,<'                  Value           Use'
r=. r,<' Sign[0]          ',s
r=. r,<' Exponent[1-11]   ',e
r=. r,<' Decimal[12-63]   ',f
}.;LF,&.>r
)
NB. big file utilities
NB.
NB. Use Windows API for common file access verbs.
NB. These handle files (and drives) with sizes greater than 2^31 bytes.
NB.
NB. They represent 64 bit integers as 2 element integer vectors.
NB.
NB. Indexed read and write have an optional flag indicating the use of the index.
NB. If the flag is non-negative, the index is from the start of the file.
NB. If the flag is negative, the index is from the end of the file.
NB.
NB. f can be either a text file name or a file handle (from bopen).
NB.
NB.     bytes written=.data bappend f                           append to end
NB.     data=.bixread f;start0,start1[,len[,dirflag]]           indexed read
NB.     bytes written=.data bixwrite f;start0,start1[,dirflag]  indexed write
NB.     free space=.bdiskfreespaceex dir                        get disk free space
NB.     free space=.bdiskfreespace drive root                   get disk free space (device units)
NB.     size=.bfsize f                                          get file size
NB.     fh=.[mode] bopen filename                               open file input or inout
NB.     success=.bclose fh                                      close open file
NB.     sys_drives=.getdrives ''                                return vector of windows drive letters
NB.     sys_drive_free_space=.getdrivespace ''                  return matrix of drive letters
NB.     are_same=.f1 bfcomp f2                                  compare 2 files
NB.
NB. Contributed by David Mitchell in J Forum posting April 2003.
 
require 'dll'

coclass 'jbf'

jsystemdefs 'hostdefs'

coinsert 'jdefs'

NB. jbf api

NULLPTR=: <0
NULL=: <<0
K32=: 2^32
K31=: 2^31

CREATE_ALWAYS=: 2
CREATE_NEW=: 1
FALSE=: 0
FILE_BEGIN=: 0
FILE_END=: 2
GENERIC_READ=: _2147483648
GENERIC_WRITE=: 1073741824
OPEN_ALWAYS=: 4
OPEN_EXISTING=: 3
TRUNCATE_EXISTING=: 5

CloseHandleR=: >@{.@('kernel32 CloseHandle i i'&(15!:0))
CreateFileR=: >@{.@('kernel32 CreateFileW i *w i i * i i i'&(15!:0))
GetFileSizeR=: >@{.@('kernel32 GetFileSize i i *i'&(15!:0))
SetEndOfFile=: >@{.@('kernel32 SetEndOfFile i i'&(15!:0))
SetFilePointerR=: >@{.@('kernel32 SetFilePointer i i i *i i'&(15!:0))
WriteFile=: 'kernel32 WriteFile i i * i *i *'&(15!:0)
ReadFile=: 'kernel32 ReadFile i i * i *i *'&(15!:0)
GetDiskFreeSpaceEx=: >@{.@('kernel32 GetDiskFreeSpaceExW i *w * * *'&(15!:0))
GetDiskFreeSpace=: >@{.@('kernel32 GetDiskFreeSpaceW i *w *i *i *i *i'&(15!:0))
GetLogicalDrives=: >@{.@('kernel32 GetLogicalDrives i'&(15!:0))

4!:55 <'t'
t=: 2&=&(3!:0)

NB. =========================================================
NB.*bappend v append to end
NB. form: data bappend f
bappend=: 4 : 0
x=. ,x
'character data only!' assert t x
if. t y do.
  try. fh=. CreateFileR (uucp y,{.a.);(GENERIC_WRITE+GENERIC_READ);0;NULLPTR;OPEN_EXISTING;0;0 catch.
    (13!:11 '');(13!:12 '')
    return.
  end.
  if. fh=_1 do.
    cderx''
    return.
  end.
  F=. 1
else.
  fh=. y
  F=. 0
end.
p0=. ,2-2
try. r=. SetFilePointerR fh;0;p0;FILE_END catch.
  r=. (13!:11 '');(13!:12 '')
  if. F do. CloseHandleR fh end.
  r
  return.
end.
bw=. ,2
try. r=. WriteFile fh;x;(#x);bw;NULL catch.
  r=. (13!:11 '');(13!:12 '')
  if. F do. CloseHandleR fh end.
  r
  return.
end.
if. ({.r)=0 do.
  r=. cderx''
  if. F do. CloseHandleR fh end.
  r
  return.
end.
if. F do. CloseHandleR fh end.
bw
)

NB. =========================================================
NB.*bixread v indexed read
NB. form: bixread f;start0,start1[,len[,dirflag]]
bixread=: 3 : 0
'fn st'=. y
'invalid index' assert (#st)e. 2 3 4
st=. 4{.st
if. t fn do.
  try. fh=. CreateFileR (uucp fn,{.a.);GENERIC_READ;0;NULLPTR;OPEN_EXISTING;0;0 catch.
    (13!:11 '');(13!:12 '')
    return.
  end.
  if. fh=_1 do.
    cderx''
    return.
  end.
  F=. 1
else.
  fh=. fn
  F=. 0
end.
if. (0>3{st) do.
  b=. ,2
  ts=. GetFileSizeR fh;b
  b=. K32#.|:K32&|b,ts
  ts=. K32#.|:K32&|2{.st
  q=. (2$K32)#:b-ts
  q=. <.((q>K31)*-K32)+q
  st=. q 0 1}st
end.
if. (0=2{st) do.
  b=. ,2
  ts=. GetFileSizeR fh;b
  b=. K32#.|:K32&|b,ts
  ts=. K32#.|:K32&|2{.st
  st=. (<.b-ts) 2 }st
end.
p0=. ,{.st
try. r=. SetFilePointerR fh;(1{st);p0;FILE_BEGIN catch.
  r=. (13!:11 '');(13!:12 '')
  if. F do. CloseHandleR fh end.
  r
  return.
end.
br=. ,2
try. r=. ReadFile fh;((2{st)#' ');(2{st);br;NULL catch.
  r=. (13!:11 '');(13!:12 '')
  if. F do. CloseHandleR fh end.
  r
  return.
end.
if. ({.r)=0 do.
  r=. cderx''
  if. F do. CloseHandleR fh end.
  r
  return.
end.
if. F do. CloseHandleR fh end.
br{.>2{r
)

NB. =========================================================
NB.*bixwrite v indexed write
NB. form: data bixwrite f;start0,start1[,dirflag]
NB. returns bytes written
bixwrite=: 4 : 0
x=. ,x
'fn st'=. y
'invalid index' assert (#st)e. 2 3
'character data only!' assert t x
st=. 3{.st
if. t fn do.
  try. fh=. CreateFileR (uucp fn,{.a.);(GENERIC_READ+GENERIC_WRITE);0;NULLPTR;OPEN_EXISTING;0;0 catch.
    (13!:11 '');(13!:12 '')
    return.
  end.
  if. fh=_1 do.
    cderx''
    return.
  end.
  F=. 1
else.
  fh=. fn
  F=. 0
end.
if. (0>2{st) do.
  b=. ,2
  ts=. GetFileSizeR fh;b
  b=. K32#.|:K32&|b,ts
  ts=. K32#.|:K32&|2{.st
  q=. b64to32 b-ts
  st=. q 0 1}st
end.
p0=. ,{.st
try. r=. SetFilePointerR fh;(1{st);p0;FILE_BEGIN catch.
  r=. (13!:11 '');(13!:12 '')
  if. F do. CloseHandleR fh end.
  r
  return.
end.
bw=. ,2
try. r=. WriteFile fh;x;(#x);bw;NULL catch.
  r=. (13!:11 '');(13!:12 '')
  if. F do. CloseHandleR fh end.
  r
  return.
end.
if. ({.r)=0 do.
  r=. cderx''
  if. F do. CloseHandleR fh end.
  r
  return.
end.
if. F do. CloseHandleR fh end.
bw
)

NB. =========================================================
NB.*bdiskfreespaceex v return extended disk free space
NB. form: [flag] bdiskfreespaceex dir
NB. if flag=0 returns 3x2 matrix of integers, representing 3 64 bit values.
NB. if flag=1 returns 3 element vector of floats, representing 64 bit values.
NB. FreeBytesAvailable,TotalNumberOfBytes,TotalNumberOfFreeBytes
NB. See MS SDK for more information.
bdiskfreespaceex=: 3 : 0
0 bdiskfreespaceex y
:
s1=. 2,2
s2=. 2,2
s3=. 2,2
try. r=: GetDiskFreeSpaceEx (uucp y,{.a.);s1;s2;s3 catch.
  (13!:11 '');(13!:12 '')
  return.
end.
if. r=0 do.
  cderx''
  return.
end.
if. x do. K32#.|:K32&||.s1,.s2,.s3 else. |:|.s1,.s2,.s3 end.
)


NB. =========================================================
NB.*bdiskfreespace v return disk free space
NB. form: bdiskfreespace drive root (must be similar to 'c:\')
NB. returns 4 elements: SectorsPerCluster,BytesPerSector,NumberOfFreeClusters,TotalNumberOfClusters
bdiskfreespace=: 3 : 0
s1=. ,2
s2=. ,2
s3=. ,3
s4=. ,2
try. r=: GetDiskFreeSpace (uucp y,{.a.);s1;s2;s3;s4 catch.
  (13!:11 '');(13!:12 '')
  return.
end.
if. r=0 do.
  cderx''
  return.
end.
s1,s2,s3,s4
)

NB. =========================================================
NB.*bfsize v return size of file
NB. form: bfsize f
NB. returns 2 integer vector
bfsize=: 3 : 0
if. t y do.
  try. fh=: CreateFileR (uucp y,{.a.);GENERIC_READ;0;NULLPTR;OPEN_EXISTING;0;0 catch.
    (13!:11 '');(13!:12 '')
    return.
  end.
  if. fh=_1 do.
    cderx''
    return.
  end.
  F=. 1
else.
  fh=. y
  F=. 0
end.
b=. ,2
ts=. GetFileSizeR fh;b
if. F do. CloseHandleR fh end.
NB.  K32#.|:K32&|b,ts
b,ts
)


NB. =========================================================
NB.*bopen v open file read or readwrite
NB. form: [mode] bopen filename
NB. returns file handle
NB. mode is 0 for read, 1 for readwrite, default read
bopen=: 3 : 0
0 bopen y
:
mode=. x{GENERIC_READ,GENERIC_WRITE+GENERIC_READ
try. fh=: CreateFileR (uucp y,{.a.);mode;0;NULLPTR;OPEN_EXISTING;0;0 catch.
  (13!:11 '');(13!:12 '')
  return.
end.
if. fh=_1 do.
  cderx''
  return.
end.
fh
)

NB. =========================================================
NB.*bclose v close open file handle
NB. form: bclose fh
NB. returns 1 if successful, 0 if not
bclose=: 3 : 0
CloseHandleR y
)

NB. =========================================================
NB.*getdrives v get system drive letters
NB. form: getdrives ''
NB. returns drive letter vector if successful, error if not
getdrives=: 3 : 0
x=. GetLogicalDrives''
if. x=0 do.
  cderx''
  return.
end.
|.(_26{.(32$2)#:x)#'zyxwvutsrqponmlkjihgfedcba'
)


NB. =========================================================
NB.*getdrivespace v get system drive letters and free space
NB. form: getdrivespace ''
NB. returns nx2 drive letter, space available if successful, '' if not
getdrivespace=: 3 : 0
x=. getdrives''
if. -.t x do.
  x
  return.
end.
x=. x,"0 1 ':\'
(<"1 x),.<"0 {."1 diskfree"1 x
)


diskfree=: 3 : 0
x=. 1 bdiskfreespaceex y
if. 2=#x do. x=. 0 0 0 end.
x
)

b64to32=: 3 : 0
y=. (2$K32)#:y
<.((y>K31)*-K32)+y
)

NB. =========================================================
NB.*bfcomp v compare 2 big files
NB. form: f1 bfcomp f2
NB. returns 0 if different 1 if same
bfcomp=: 4 : 0
h1=. bopen x
h2=. bopen y
s1=. bfsize h1
s2=. bfsize h2
if. s1~:s2 do.
  bclose h1
  bclose h2
  0
  return.
end.
blk=. 2048000
for_s. i. >.s1%blk do.
  bsize=. <.blk<.s1-(s*blk)
  if. -.(bixread h1;(b64to32(s*blk)),bsize)-:(bixread h2;(b64to32(s*blk)),bsize) do.
    bclose h1
    bclose h2
    0
    return.
  end.
  if. bsize < blk do. break. end.
end.
bclose h1
bclose h2
1
)
NB. general_misc manifest

CAPTION=: 'misc general scripts'

DESCRIPTION=: 0 : 0
trace.ijs Execution trace utilities
fndisplay.ijs Display hooks, forks and other syntax elements
font.ijs
format.ijs
parts.ijs Partition functions
validate.ijs Data validation functions
jdll.ijs
guid.ijs Create guids in various formats
pack.ijs Package utilities
ieee64.ijs
test_clippaste.ijs Test script for clippaste.ijs
inverted.ijs Current URL http://code.jsoftware.com/wiki/Essays/Inverted%20Table
prompt.ijs
bigfiles.ijs
numeric.ijs Various numeric utilities
evolute.ijs
clippaste.ijs
test_bigfiles.ijs 	data=.bixread f;start0,start1[,len[,dirflag]]			indexed read
fndef.ijs Using a more literate style
)

VERSION=: '2.5.3'

RELEASE=: ''

FOLDER=: 'general/misc'

FILES=: 0 : 0
trace.ijs
fndisplay.ijs
font.ijs
format.ijs
parts.ijs
validate.ijs
jdll.ijs
guid.ijs
pack.ijs
ieee64.ijs
test_clippaste.ijs
inverted.ijs
prompt.ijs
bigfiles.ijs
numeric.ijs
evolute.ijs
clippaste.ijs
test_bigfiles.ijs
fndef.ijs
)
NB. general/misc/pack.ijs
NB. Package utilities
NB. version: 1.0.0
NB.
NB. a package is a 2-column matrix of:  name, value
NB. that can be used to store nouns, or otherwise
NB. associate names and values.
NB.
NB. A name is any character vector. pack and pdef work
NB. only when the names are proper J names.
NB.
NB. definitions for nouns only:
NB.   pk=.        pack nl         create package from namelist
NB.   nl=.        pdef pk         define package
NB.
NB. definitions for any names:
NB.   text=. pk1  pcompare pk2   compare packages
NB.   val=.  name pget pk        get value of name in package
NB.   pk=.   new  pset old       merge new and old packages
NB.   pk=.   nl   pex pk         remove namelist from package
NB.   pk=.   nl   psel pk        select namelist from package
NB.   res=.  packlocale locs     package all nouns in locales

cocurrent 'z'

NB. =========================================================
NB.*pack v package namelist
NB.
NB. form:  pack 'one two three'
NB.        pack 'one';'two';'three'
pack=: [: (, ,&< ".) &> [: /:~ ;: ::]

NB. =========================================================
NB.*packlocale v package locales
NB.
NB. form: packlocale locales
NB.
NB. example: packlocale 'base';'z';'j'
NB.
NB. each locale is packaged and forms one row of the result
packlocale=: 3 : 0
ids=. , ,each boxxopen y
res=. ''
for_i. ids do.
  cocurrent i
  res=. res,< 3 : '(, ,&< ".) &> (4!:1 [ 0) -. ;:''y y.''' ''
end.
ids,.res
)

NB. =========================================================
NB.*pdef v package define
NB. form: pdef pk
pdef=: 3 : 0
if. 0 e. $y do. empty'' return. end.
names=. {."1 y
(names)=: {:"1 y
names
)

NB. =========================================================
NB.*pcompare v compare two packages
NB. form: pk1 pcompare pk2
pcompare=: 4 : 0
n0=. {."1 x -. y
n1=. {."1 x
n2=. {."1 y
list=. ;:^:_1
r=. ''
r=. r,(*#d)#LF,'not in 1: ',list d=. n2 -. n1
r=. r,(*#d)#LF,'not in 2: ',list d=. n1 -. n2
r=. r,(*#n)#LF,'not same in both: ',list n=. n0 -. d
}.r,(0=#r)#LF,'no difference'
)

NB. =========================================================
NB.*pex v remove namelist from package
NB. form: namelist pex pk
pex=: ] -. psel

NB. =========================================================
NB.*pget v return value of name in package
NB. form: name pget pk        - return value of name in package
pget=: 13 : '> {: y {~ ({."1 y) i. {. boxopen,x'

NB. =========================================================
NB.*psel v select namelist from package
NB. form: namelist psel pk
psel=: 13 : 'y {~ ({."1 y) i. ;: ::] x'

NB. =========================================================
NB.*pset v merge new into old
NB. form: new pset old
NB. result has values in new, plus remaining values in old
pset=: (#~ [: ~: {."1) @ ,
NB. general/misc/trace.ijs
NB. Execution trace utilities
NB. version: 1.0.0

cocurrent 'jtrace'

Note 0
The main functions are "trace" and "paren".

x trace y   trace sentence y to x levels of function calls
trace y     same as  _ trace y

For example:
   trace '3+i.4'
 --------------- 1 Monad ------
 i.
 4
 0 1 2 3
 --------------- 2 Dyad -------
 3
 +
 0 1 2 3
 3 4 5 6
 ==============================
3 4 5 6

Tracing provides information on results within a line;
the action labels 0 monad, 1 monad, 9 paren, etc.,
are from the parse table in Section II.E of the J dictionary.


paren y     fully parenthesize sentence y

For example:
   paren '+/i.4'
((+/)(i.4))
   paren '(3 4$i.12)+/ .**:i.4'
((3 4$(i.12))((+/) .*)(*:(i.4)))

)


(x)=: 2^i.#x=. ;:'noun verb adv conj lpar rpar asgn name mark'
any =: _1
avn =: adv + verb + noun
cavn=: conj + adv + verb + noun
edge=: mark + asgn + lpar

x=. ,: (edge,       verb,       noun, any      ); 0 1 1 0; '0 Monad'
x=. x, ((edge+avn), verb,       verb, noun     ); 0 0 1 1; '1 Monad'
x=. x, ((edge+avn), noun,       verb, noun     ); 0 1 1 1; '2 Dyad'
x=. x, ((edge+avn), (verb+noun),adv,  any      ); 0 1 1 0; '3 Adverb'
x=. x, ((edge+avn), (verb+noun),conj, verb+noun); 0 1 1 1; '4 Conj'
x=. x, ((edge+avn), (verb+noun),verb, verb     ); 0 1 1 1; '5 Trident'
x=. x, (edge,       cavn,       cavn, any      ); 0 1 1 0; '6 Bident'
x=. x, ((name+noun),asgn,       cavn, any      ); 1 1 1 0; '7 Is'
x=. x, (lpar,       cavn,       rpar, any      ); 1 1 1 0; '8 Paren'

PTpatterns=: >0{"1 x  NB. parse table - patterns
PTsubj    =: >1{"1 x  NB. "subject to" masks
PTactions =:  2{"1 x  NB. actions

bwand     =: 17 b.    NB. bitwise and

prespace=: ,~ e.&'.:'@{. $ ' '"_
                      NB. preface a space to a word beginning with . or :

isname=: ({: e. '.:'"_) < {. e. (a.{~,(i.26)+/65 97)"_
                      NB. 1 iff a string y from the result of ;: is is a name

class=: 3 : 0         NB. the class of the word represented by string y
 if. y-:mark do. mark return. end.
 if. isname y do. name return. end.
 if. 10>i=. (;:'=: =. ( ) m n u v x y')i.<y do.
  i{asgn,asgn,lpar,rpar,6#name return.
 end.
 (4!:0 <'x' [ ".'x=. ',y){noun,adv,conj,verb
)

show=: 3 : 0
 if. (depth>:indent) *. equals *: y-:30$'-' do.
  equals=: y-: 30$'='
  smoutput (indent$' '),"1 ] 1 1}._1 _1}.": <y
 end.
 y
)

encall1=: '('"_ , ] , ' call"'"_ , ] , ')'"_
encall =: encall1&.>^:(isname&> *. 3: = 4!:0)"0
                      NB. replace function names f in words y by (f call"f)

call=: 1 : 0          NB. for tracing function calls
 (5!:5 <u=. 5!:5 <'u') call1    <y
 :
 (5!:5 <u=. 5!:5 <'u') call1 x;<y
)

call1=: 4 : 0         NB. call function x on argument(s) y
 't_x t_y'=. _2{.y
 indent=: >:indent
 show 30$'-'
 if. 2=#y do. show 5!:5 <'t_x' end.
 show x
 show 5!:5 <'t_y'
 ". 't_z=. ',((2=#y)#'t_x '),'(',(encall&.;: x),') t_y'
 show 5!:5 <'t_z'
 show 30$'='
 indent=: <:indent
 t_z
)

executet=: 4 : 0      NB. execute rule x for stack y for "trace"
 t_b=. x{PTsubj
 t_x=. t_b # , 4 _1{.y
 show 30{.(15$'-'),' ',(>x{PTactions),' ',15$'-'
 show&> t_x
 if. 7 =x do. t_x=. (<'=:') 1}t_x end.
 if. 2>:x do. t_x=. (encall&.;:&.>_2{t_x) _2}t_x end.
 if. 6>:x do. t_x=. (<'( '),&.>t_x,&.><' )' end.
 ". 't_z=. ', ; t_x
 t_c=. (4!:0 <'t_z'){noun,adv,conj,verb
 if. noun=t_c do.
  t_z=. 5!:5 <'t_z' [ show t_z
 else.
  t_z=. show 5!:5 <'t_z'
 end.
 ((t_b i. 1){.y),(t_c;t_z),(1+t_b i: 1)}.y  NB. new stack
)

executep=: 4 : 0      NB. execute rule x for stack y for "paren"
 t_b=. x{PTsubj
 t_x=. t_b # , 4 _1{.y
 select. x
  case. 0;1;2;5 do.
   t_c=. noun [ t_x=. '(',(;:^:_1 t_x),')'
  fcase. 7 do.
   t_x=. (<'=:') 1}t_x
  case. 3;4;6 do.
   ". 't_z=. ',t_x=. '(',(;:^:_1 t_x),')'
   t_c=. (4!:0 <'t_z'){noun,adv,conj,verb
  case. 8 do.
   t_c=. >1{t_b#,4 1{.y [ t_x=. >1{t_x
 end.
 ((t_b i. 1){.y),(t_c;t_x),(1+t_b i: 1)}.y  NB. new stack
)

movet=: 3 : 0         NB. move from queue to stack for "trace"
 'queue stack'=. y
 't_c t_x'=.{:queue
 if. (name~:t_c)+.asgn=0 0{::stack do.
  stack=. ({:queue),stack
 else.
  t_c=. (4!:0 <t_x){noun,adv,conj,verb
  if. t_c~:verb do. t_x=. 5!:5 <t_x end.
  stack=. (t_c;t_x),stack
 end.
 (}:queue);<stack
)

movep=: 3 : 0         NB. move from queue to stack for "paren"
 'queue stack'=. y
 't_c t_x'=.{:queue
 if. (name~:t_c)+.asgn=0 0{::stack do.
  stack=. ({:queue),stack
 else.
  t_c=. (4!:0 <t_x){noun,adv,conj,verb
  stack=. (t_c;t_x),stack
 end.
 (}:queue);<stack
)

NB. stack=: parse mode;depth;sentence
NB.  mode:     'trace' or 'paren'
NB.  depth:    depth of function calls to trace
NB.  sentence: string of the sentence to be parsed
NB.  stack:    stack at the end of the parse

parse=: 3 : 0
 't_mode t_d t_sent'=. y
 queue =. (mark;'') , (class&.> ,. prespace&.>) ;: t_sent
 stack =. 4 2$mark;''
 depth =: 1+t_d
 indent=: 1
 equals=: 0
 if. 'trace' -: t_mode do.
  execute=. executet
  move   =. movet
 else.
  execute=. executep
  move   =. movep
 end.
 while. 1 do.
  t_i=. 1 1 1 1 i.~ * PTpatterns bwand"1 ,>4 1{.stack
  if. t_i<#PTpatterns do.        NB. a pattern fits; execute the action
   stack=. t_i execute stack
  else.                          NB. no pattern fits; move from queue to stack
   if. 0=#queue do. break. end.
   'queue stack'=. move queue;<stack
  end.
 end.
 assert. * (mark+cavn,0) bwand >(<1 2;0){stack [ 'stack must be empty or has a single noun, verb, adverb, or conj'
 show 30$'='
 stack
)

trace=: 3 : 0         NB. trace sentence y to depth x (_ default)
 _ trace y
 :
 ". >(<1 1){parse 'trace';x;y
)

paren=: 3 : 0         NB. fully parenthesize sentence y
 >(<1 1){parse 'paren';__;y
)

trace_z_=: trace_jtrace_
paren_z_=: paren_jtrace_
NB. 	bytes written=.data bappend f						 	append to end
NB. 	data=.bixread f;start0,start1[,len[,dirflag]]			indexed read
NB. 	bytes written=.data bixwrite f;start0,start1[,dirflag] 	indexed write	
NB. 	free space=.bdiskfreespaceex dir						get disk free space
NB. 	free space=.bdiskfreespace drive root					get disk free space (device units)
NB. 	size=.bfsize f											get file size
NB. 	fh=.[mode] bopen filename								open file input or inout
NB.     success=.bclose fh										close open file

load '~/addons/general/misc/bigfiles.ijs'

foo=: 3 : 0
smoutput '   ',y
smoutput ". y
)

F=: jpath '~temp/t1.dat'
'abc ' fwrite F
foo '''hello'' bappend_jbf_ F'
foo 'fread F'
foo 'H=: bopen_jbf_ ''c:/jmisc/extern/wagon/w228.ijs'''
foo 'bixread_jbf_ H;0 3 3'
foo 'bclose_jbf_ H'
foo 'bdiskfreespace_jbf_ ''d:'''
foo 'bdiskfreespaceex_jbf_ ''d:'''
foo 'bfsize_jbf_ ''jpath '~bin/j.exe'''
NB. general/misc/guid.ijs
NB. Create guids in various formats
NB. version: 1.0.0
NB.
NB. All guid verbs take the shape of guids to return, eg
NB.
NB.   $guids $0   ==>  16     (create guid as a 16-byte character string)
NB.   $guids 2 3  ==>  2 3 16 (create 2x3 array of 16-byte strings)
NB.
NB.  guids  - return guids as 16-byte strings
NB.  guidsn - return guids as 24-character file names
NB.  guidsr - return guids as 36-character strings, without braces
NB.  guidss - return guids as 38-character strings, with braces
NB.  guidsx - return guids as extended precision integers

cocurrent 'z'

NB. =========================================================
guids=: 3 : 0
if. IFWIN do.
  cmd=. 'ole32 CoCreateGuid i *c'
else.
  cmd=. ((UNAME-:'Darwin'){::'libuuid.so.1';'libSystem.B.dylib'),' uuid_generate n *c'
end.
>{:"1 cmd 15!:0"1 0 <"1 (y,16)$' '
)

NB. =========================================================
guidsn=: 3 : 0
g=. (24 # 41) #: guidsx y
g { '+-0123456789=ABCDEFGHIJKLMNOPQRSTUVWXYZ^_'
)

NB. =========================================================
guidsr=: 3 : 0
g=. ,"2 '0123456789ABCDEF' {~ 16 16 #: a. i. guids */y
y $ }."1 > ,.&.>/ '-',.&.> ('';0 8 12 16 20 e.~ i.32) <;.1 g
)

NB. =========================================================
guidss=: 3 : 0
'{',"1 (guidsr y) ,"1 '}'
)

NB. =========================================================
guidsx=: 3 : 0
256 #. x: a. i. guids y
)
NB. ========================================================
NB. Test script for clippaste.ijs

load '~addons/general/misc/clippaste.ijs'

t0=:''
t1=:'a'
t1u=: 1 1$<,t1
tv=:'This is a test.'
tvu=: 1 1$<,tv
tm=:3# ,:tv
tmu=:3 1$<"1 tm
tem=:<"1 tm
temu=:1 3$tem
tfu=: ,<7 u: 68 58 92 82 92 230 178 146 230 156 137 229 149 143 233 161 140{a.
tf4=:'c:\this';'c:\is';'c:\a';'c:\tst'

test=: 3 : 0
assert 0~:setcliptext t0
assert t0-:getclip''
assert t0-:getcliptext''
assert 0-:getclipfiles''
assert 0~: setcliptext t1
assert t1u-:clipunfmt getclip''
assert t1u-:clipunfmt getcliptext''
assert 0-:getclipfiles''
assert 0~:setcliptext tv
assert tvu-:clipunfmt getclip''
assert tvu-:clipunfmt getcliptext''
assert 0-:getclipfiles''
assert 0~:setcliptext tm
assert tmu-:clipunfmt getclip''
assert tmu-:clipunfmt getcliptext''
assert 0-:getclipfiles''
assert 0~:setcliptext tem
assert temu-:clipunfmt getclip''
assert temu-:clipunfmt getcliptext''
assert 0-:getclipfiles''
assert 0~:setclipfiles tfu
assert tfu-:getclipfiles''
assert tfu-:getclip''
assert 0=getcliptext''
assert 0~:setclipfiles tf4
assert tf4-:getclipfiles''
assert tf4-:getclip''
assert 0=getcliptext''
)


NB. formatting utilities

NB. center       width center text
NB. clipfmt      format data for clipboard
NB. clipunfmt    unformat data read from clipboard
NB. colhdr       column headers
NB. expandby     expand data with fit value
NB. expandn      expand data at every nth item
NB. flatten      flatten array to a character string
NB. fold         fold text to width
NB. hexdump      show text as hex and ascii characters
NB. nfmt         simple numeric formatter
NB. ruler        returns formatted ruler
NB. sqzint       squeeze list of positive integers into short form
NB. sqzrun       squeeze list of numbers into short form
NB. xfmt         format extended integers

cocurrent 'z'

NB. =========================================================
NB.*center v center text in given width
NB. form: width center text
center=: 4 : 0
rot=. +/ @ (*./\)"1 y = ' '
txt=. x {."1 rot |."0 1 y
rot=. - <. -: +/ @ (*./\.)"1 txt = ' '
rot |."0 1 txt
)

NB. =========================================================
NB.*clipfmt v format data for clipboard
NB. format array of rank 0 1 or 2 for clipboard.
NB. columns are separated by TAB, rows by CRLF.
clipfmt=: 3 : 0
if. 0 e. $y do. '' return. end.
t=. 3!:0 y
if. 2=t do.
  y=. ,y,"1 CRLF
elseif. 32<:t do.
  y=. ,&TAB @ ": &.>y
  y=. ;,&CRLF@}: &.><@;"1 y
elseif. 1 do.
  y=. ;,&CRLF @ ": &.><"1 y
  y=. '-' (I. y='_') } y
  y=. TAB (I. y=' ') } y
end.
y
)

NB. =========================================================
NB.*clipunfmt v unformat data read from clipboard
NB. returns boxed matrix from clipboard result,
NB. recognizing TAB and CRLF as separators.
NB. characters are not converted to numbers.
NB. e.g. try:  clipunfmt clipfmt i.5 6
clipunfmt=: 3 : 0
if. 0 e. $y do. 0 0 $ a: return. end.
(<;._2~ e.&(9 10{a.));.2 y,LF -. {:y=. toJ y
)

NB. =========================================================
NB.*colhdr v define column headers
NB. returns matrix of column headers.
NB.
NB. y = list with columns delimited by semicolons; and lines
NB.      in each column delimited by commas.
NB. x is wid or (wid;just), where:
NB.   wid  = column widths
NB.   just = a singleton or vector of:
NB.        0 = centre header, then right justify (default)
NB.        1 = center header in wid
NB.        2 = right justify
NB.        3 = left justify
NB.
NB. e.g.  hdr=. 'Number,of,employees;Total,salary;Monthly,net,payment'
NB.       (15 12 12;1) colhdr hdr
colhdr=: 4 : 0

('wid';'just')=. 2{.(boxopen x),<0
max=. >./wid=. (c=. >:+/y e.';')$wid

hdr=. ,/ ];._2@(,&',');._2 y,';'
rws=. #hdr
lns=. rws%c
hdr=. (rws,max){.hdr
len=. max-+/@(*./\)@|.@(e.&' ')"1 hdr
rot=. rws#0
just=. lns#c$just

if. 0 e. just do.
  ndx=. I. just=0
  cls=. >./"1(c,lns)$len
  j=. (lns#cls-wid)+0<.<.0.5*len-lns#cls
  rot=. (ndx{j) ndx } rot
end.

if. 1 e. just do.
  ndx=. I. just=1
  j=. 0<.<.0.5*len-lns#wid
  rot=. (ndx{j) ndx } rot
end.

if. 2 e. just do.
  ndx=. I. just=2
  j=. len-lns#wid
  rot=. (ndx{j) ndx } rot
end.

hdr=. rot |."0 1 hdr
hdr=. (lns,c*max)$,1 0 2|:(c,lns,max)$,hdr
(,wid >/ i.max)#"1 hdr
)

NB. =========================================================
NB.*expandby c expand data with a given value
NB. e.g.    0 1 0 0 1 expandby 99 [ 10 20
NB.      99 10 99 99 20
expandby=: 2 : 'm&# ^:_1 !. n'

NB. =========================================================
NB.*expandn v expand data at every nth item
NB. n expandn dat
NB. expand array at every nth cell.
NB. e.g. 'ABC DEF G' = 3 expandn 'ABCDEFG'
expandn=: 4 : 0
y #~ (#y)$>:(-x){.0j1
)

NB. =========================================================
NB.*flatten v flatten array to a character string
NB. flattens array to a character string with same display
flatten=: 3 : 0
dat=. ": y
select. # $ dat
case. 1 do.
case. 2 do.
  }. , LF ,. dat
case. do.
  dat=. 1 1}. _1 _1}. ": < dat
  }: (,|."1 [ 1,.-. *./\"1 |."1 dat=' ')#,dat,.LF
end.
)

NB. =========================================================
NB.*fold v fold text to width
NB. syntax:   {width} fold data
NB. data is character vector
NB. width defaults to screenwidth
fold=: 3 : 0
w=. {.wcsize''
w fold y
:
r=. i.0 0
x1=. >: x
txt=. y
while.
  r=. r, txt {.~ ndx=. x1 - >: x1 | ind=. ' ' i.~ |. x1{.txt
  #txt=. (ndx+ind<x1) }. txt
do.
end.
r
)

NB. =========================================================
NB.*hexdump v show text as hex and ascii characters
hexdump=: 3 : 0
val=. ,y
if. 0=#val do. i.0 0 return. end.
bar=. 9 { , 9!:6''
mav=. '.' ((i.32),128+i.128) } a.
hex=. '0123456789ABCDEF'
sep=. ' ';'-';' ';'  ';' ';'-';' ';'  '
sep=. 3 1 3 1 3 1 3 1 # sep
rws=. >. (#val) %16
wid=. >. 16^. rws
dat=. a. i. (rws*16) {. val
end=. 2+ (3*j) + 7<j=. 16 | <: #val
txt=. _16 [\ dat { mav
txt=. bar,.txt,.bar
dmp=. (16 16#: dat) { hex
dmp=. ;"1 (_16 [\ <"1 dmp) ,&.>"1 sep
dmp=. (}:dmp),end {. {: dmp
ind=. (((wid$16) #: i.rws){ hex),"1 '0  '
exp=. rws $ >: _8{. 0j1
exp # ind,.dmp,.txt
)

NB. =========================================================
NB.*nfmt v simple numeric formatter
NB. simple format of numeric vector or matrix in readable form.
NB. opt is optional, up to 3 elements:
NB.   0 = maximum decimal places, max 9  (4)
NB.   1 = minimum field width            (0)
NB.   2 = display width                  (screenwidth)
nfmt=: 3 : 0
'' nfmt y
:
('dp';'fw';'pw')=. x,(#x)}.4 0,{.wcsize''
x=. (<.0.5+j*y)%j=. 10^dp=. dp<.9
mat=. 2<:#shape=. $x
pw=. pw-6*mat
j=. 30>.fw
x=. ,x
d=. j+j.>./+/*(*/\1,dp#0.1) |/ x
x=. d ": ,.x
b=. (-j) {. (0>.fw-1)#1
x=. (b+.c+.1|.c=. ' '+./ .~:x) #"1 x
len=. <.pw%cls=. >:{:$x

if. mat do.
  'r c'=. shape
  j=. >.c%len
  exp=. (>:j.(j*len)-c) (<:c*>:i.r) } (#x)#1
  x=. exp#x
  b=. ' '={."1 ind=. ":,.i.r
  ind=. '[',"1 b|."0 1 ind,"1']'
  lab=. (>:j.j-1)#ind
end.

rws=. >.(#x)%len
r=. (rws,len*cls)$,((rws*len),cls){.x

if. mat do. r=. lab,.r end.
)

NB. =========================================================
NB.*ruler v formatted ruler
NB. returns a formatted ruler
NB. e.g.    ruler 75      horizontal
NB.       1 ruler 30      vertical
ruler=: 3 : 0
0 ruler y
:
j=. >. 0.2*len=. y
'a b c'=. 1 4 7 { , 9!:6''
if. x
do.
  r=. len # ,: b,'  ',b
  i=. 0,}. 5*i.j
  r=. b (<i;0 3) } r
  (2 ": ,.100|i) (<i;1 2) } r
else.
  r=. len #"1 ,. c,' ',a
  i=. }. 5*i.j
  r=. b (<0 2;0,i) } r
  r=. '0' (<1;0) } r
  if. len > 5 do.
    r=. (3 ": ,.i) (<1;i-/2 1 0) } r
  end.
end.
)

NB. =========================================================
NB.*sqzint v squeeze list of positive integers into short form
NB. Squeeze list of positive integers into short character list.
NB. If x = 1, sort y first.
NB. e.g.  sqzint 1 2 3 7 8 9 10  =  1-3,7-10
NB. see also <sqzrun>
sqzint=: 3 : 0
0 sqzint y
:
if. x = 1 do. n=. /:~ y else. n=. y end.
ndx=. ((1|.n) ~: >:n) # i.#n
a=. (0,}:>:ndx){n
b=. ndx{n
one=. (a=b)#i.#a
r=. (10":,.a),.'-',.10":,.b
ndx=. ((a=b)#i.#b) { i.$r
r=. (21":one{,.a) one } r
r=. ' ' -.~ }:,r,.','
)

NB. =========================================================
NB.*sqzrun v squeeze list of numbers into short form
NB. Squeeze list of numbers into short character list.
NB. e.g.  sqzrun 1.1 1.1 1.1 7 9 9 10.25 = 3#1.1,7,2#9,10.25
NB. See also <sqzint>.
sqzrun=: 3 : 0
y=. (b=. ((}.y) ~: }:y),1)#y
j=. j-_1,}: j=. I. b
c=. (":,.j),.'#'
c=. ' ' ((j=1)#i.#j) } c
' ' -.~ }.,',',.c,.":,.y
)

NB. =========================================================
NB.*xfmt v format extended integers
NB. form: [width] xfmt number
NB. groups in 3's up to 1e12, and 5's thereafter
xfmt=: 3 : 0
({.wcsize'') xfmt y
:
t=. ": x: y
c=. 1j1 1 1,(12<#t)#1 1
t=. (|.(#t)$c)#t
if. x>:<:#t do.
  }:t
else.
  (-<.x%6) ;\ <@(_6&{.) ;.2 t
end.
)
NB. JDLL example
NB.
NB. This script gives examples of calling the J DLL from J. Similar
NB. routines may be written in other languages that can call DLLs.
NB.
NB. The internal representation used is that for intel machines.
NB.
NB. main definitions:
NB. jclear   clear J session
NB. jcmd     send sentence, return result
NB. jdo      send sentence to be executed
NB. jget     retrieve value of J noun
NB. jset     assign value to J noun
NB.
NB. utilities:
NB. jinit    initialize J instance
NB. jfree    free J instance
NB.
NB. Loading the script initializes a J instance, defining
NB. global pJ as the handle. Use jfree to free it.
NB.
NB. see examples at the end of the script, and the dictionary
NB. entry for the 3!: foreign conjunction.

libj=: IFUNIX{::'j.dll';('Darwin'-:UNAME){::'libj.so';'libj.dylib'
SZI=: IF64{4 8

NB. =========================================================
i2j=: (-2+IF64) & ic   NB. binary integer to J
f2j=: _2 & fc   NB. binary float to J
j2i=: (2+IF64) & ic    NB. J to binary integer
j2f=: 2 & fc    NB. J to binary float

NB. =========================================================
NB. write memory, return pointer
mwrite=: 3 : 0
p=. mema l=. #y
y memw p,0,l
p
)

NB. =========================================================
jclear=: 3 : 0
(libj,' JClear i x') cd pJ
)

NB. =========================================================
jcmd=: 3 : 0
jdo 'JDAT=: ',y
jget 'JDAT'
)

NB. =========================================================
jdo=: 3 : 0
(libj,' JDo i x *c') cd pJ, boxopen y
)

NB. =========================================================
NB. jfix
NB. form: trs jfix data_address
NB. trs=type,rank,shape_address
jfix=: 4 : 0
't r s'=. x
d=. y,0
len=. */p=. i2j memr s,0,r*SZI
if. t=1 do. p$ (1{a.)=memr d,len
elseif. t=2 do. p$ memr d,len
elseif. t=4 do. p$ i2j memr d,len*SZI
elseif. t=8 do. p$ f2j memr d,len*8
elseif. t=16 do. p$ _2 j./\ f2j memr d,len*16
elseif. t=32 do. p$ jgetobj &.> i2j memr d,len*SZI
elseif. t=64 do. p$ jgetext &> i2j memr d,len*SZI
elseif. 1 do. 'unrecognized datatype'
end.
)

NB. =========================================================
NB. jfree
jfree=: 3 : 0
(libj,'l JFree i x') cd pJ
)

NB. =========================================================
NB. jget
NB. form: jget 'name'
NB. return value of name
jget=: 3 : 0
cmd=. libj,' JGetM i x *c *x *x *x *x'
'e p n t r s d'=. cmd cd pJ,(,y);4#<,0
if. e do.
  smoutput 'error code: ',":e
  return.
end.
(t,r,s) jfix d
)

NB. =========================================================
NB. jgetobj
NB. form: jgetobj address
jgetobj=: 3 : 0
'p j j t c l r'=. i2j memr y,0, 7*SZI
(t,r,y+7*SZI) jfix y+p
)

NB. =========================================================
NB. jgetext
NB. form: jgetext address
jgetext=: 3 : 0
len=. i2j memr y,(7*SZI), SZI
10000 #. x: |. i2j memr y,(8*SZI),SZI*len
)

NB. =========================================================
NB. jinit
jinit=: (libj,' JInit x') & cd

NB. =========================================================
NB. jset
NB. form: 'name' jset data
NB. assign value to name
jset=: 4 : 0
rep=. 3!:1 y
assert. (a.{~225+2*IF64) = {.rep NB. intel32/64
type=. 3!:0 y
if. type > 16 do.
  'boxed or other types > 16 not supported by jset' return.
end.
rank=. #$y
shape=. ((4*SZI) + i. rank*SZI){rep
val=. ((4*SZI) + rank*SZI)}.rep
ps=. mwrite shape
pv=. mwrite val
dat=. x;,each type;rank;ps;pv
e=. 0 pick (libj,' JSetM i x *c *x *x *x *x') cd pJ,dat
memf ps
memf pv
if. e do.
  smoutput 'error code: ',":e
end.
empty''
)

NB. =========================================================
NB. initialize DLL will work
3 : 0 ''
pJ=: jinit''
)

NB. =========================================================
NB. test examples
dlltest=: 3 : 0
test '3 3 3 $''abcdef'''
test 'i.3 4'
test 'i.2 3 4'   NB. Difference in padding twixt even & odd ranks?
test '9e9*i.3 4' NB. Floats
test '1.1+i.3 4'
test '1j1+i.3 4' NB. complex
test '<"0[i.3 4' NB. Boxing cells
test '<"1[i.3 4' NB. Boxing lines
test '<"_[i.3 4' NB. Boxing all
test '''a'';<<"1[i.3 4' NB. Boxing various
test 'i. (999999$1)$ 4' NB. high rank odd
test 'i. (999998$1)$ 4' NB. high rank even
test 'i. (99$1)$ 4x' NB. high rank of extended
test 'i. 4x'
test '99^99x'
)

test=: 3 : 0
jdo 'ABC=:',y
smoutput y,~ ' : ',~ ": (".y)-:jget 'ABC'
''
)

NB. =========================================================
dlltest2=: 3 : 0
t=. i.2 3 4
'ABC' jset t
b=. t -: jget 'ABC'
b=. b,t -: jcmd 'i.2 3 4'
b=. b,(<"0 t) -: jcmd '<"0 i.2 3 4'
smoutput b
)

NB. =========================================================
NB. examples from wiki
wikitest=: 3 : 0
p=. (libj,' JInit x') cd ''

cmd=. '''abc'' 1!:2 <''t1.txt'''
(libj,' JDo i x *c') cd p,<cmd
fread 't1.txt'

(libj,' JDo i x *c') cd p,<'AA=: o.i.2 3 5'
[r=. (libj,' JGetM i x *c *x *x *x *x') cd p,'AA';4#<,0
memr (5 pick r),0 3 4

jdo 'ABC=: i.3 4'
jget 'ABC'
jcmd 'q: 123456'
)

NB. =========================================================

Note''
dlltest''
dlltest2''
)NB. general/misc/fndisplay.ijs
NB. Display hooks, forks and other syntax elements
NB. version: 1.0.0
NB.
NB. This script allows you to see how hooks, forks, and other
NB. structural elements affect the order of processing verbs.
NB.
NB. First, select the kind of display you want with 'setfnform'.
NB. The operands are 'math' (display like f(x,y)), 'J' (display
NB. like  x f y), and 'Jv' (like J, but monads are followed by '_'
NB. and dyads are preceded and followed by '_').  Example:
NB.    setfnform 'math'
NB.
NB. Then, define the verb-names you want to use:
NB.    defverbs 'f g h'
NB.
NB. Finally, define any names you want to use for nouns:
NB.    defnouns 'x y'
NB.
NB. Then, entering combinations of your verbs and nouns will
NB. show you how the combinations will be executed.
NB. By default a verb has infinite rank; you can append "r to
NB. a verb-name in defverbs to assign the rank r to the verb.
NB. Example:
NB.    x f&.g y
NB. +----------------+
NB. |g`(f(g(x),g(y)))|
NB. +----------------+
NB. where g` means the inverse of g.
NB.
NB.
NB. This script implements a proposal made by Kirby Urner.
NB. Henry H. Rich (glasss@bellsouth.net), September 2002

NB. =========================================================
NB.*setfnform v-- select template to use for displaying a function
NB. Example: setfnform 'math'
NB. y is 'math','J', or 'Jv'
NB.    if 'math', functions are f(y), f(x,y) and inverses f`(y), f`(x,y)
NB.    if 'J', functions are f y, x f y  and inverses f` y, x f` y
NB.    if 'Jv', functions are f_ y, x _f_ y and inverses fI_ y, x _fI_ y
NB. Or, the individual elements of the display can be specified:
NB. y is (monadic form);(dyadic form);(monadic inverse form);(dyadic inverse form)
NB. Where, in each, 'x' will be replaced by the x operand,
NB.   'y' by the y operand, and 'f' by the function name
setfnform =: 3 : 0
if. 2 = 3!:0 y do.
  select. y
    case. 'math' do. y =. 'f(y)';'f(x,y)';'f`(y)';'f`(x,y)'
    case. 'J' do. y =. 'f y';'x f y';'f` y';'x f` y'
    case. 'Jv' do. y =. 'f_ y';'x _f_ y';'fI_ y';'x _fI_ y'
    case. do. 'Invalid format selection' 13!:8 (3)
  end.
end.
verbtemplate =: y
0 0$0
)

NB. =========================================================
defverbs =: (0 0$0)"_ @: (3 : 0 @ >) @: (<;._1 @: (' '&,) ^:(2: = 3!:0))
prerank =. '"' taketo y
if. (<prerank) e. ,each 'xy' do.
  'Names x and y are not permitted as verb names' return.
end.
rank =. _ ". '_'&[^:(0:=#) '"' takeafter y
(prerank) =: (prerank defverb 0 " rank) :. (prerank defverb 2)
''
)

NB. =========================================================
NB.*defverbs v-- define names of verbs for function display
NB. Example: defverbs 'f g h sin cos'
NB. The verb name may be followed by "rank
NB. names x and y are not permitted here
defverbs =: 3 : 0
if. L.y do.
  nms=. y
else.
  nms=. <;._1 ' ',y
end.
r=. ;~.defverbs1 each nms
if. 0=#r do. i.0 0 end.
)

NB. =========================================================
defverbs1=: 3 : 0
prerank =. '"' taketo y
if. (<prerank) e. ,each 'xy' do.
  'Names x and y are not permitted as verb names' return.
end.
rank =. _ ". '_'&[^:(0:=#) '"' takeafter y
(prerank) =: (prerank defverb 0 " rank) :. (prerank defverb 2)
''
)


NB. =========================================================
NB. verbtemplate is (monadic form);(dyadic form);(monadic inverse form);(dyadic inverse form)
NB. u is name of function, v is 0 for fn, 2 for inverse
NB. x and y are arguments
defverb =: 2 : 0
if. 1 < #$ cy =. ": >y do. cy =. (":$y),'$',, (') ' ,~ '(' , ])"1 cy end.
rp =. 'y';cy;'f';u
< (v {:: verbtemplate) rplc rp
:
if. 1 < #$ cx =. ": >x do. cx =. (":$x),'$',, (') ' ,~ '(' , ])"1 cx end.
if. 1 < #$ cy =. ": >y do. cy =. (":$y),'$',, (') ' ,~ '(' , ])"1 cy end.
if. ' 'e.,cx do. cx =. '(',cx,')' end.
rp =. 'x';cx;'y';cy;'f';u
< ((>:v) {:: verbtemplate) rplc rp
)

NB. =========================================================
NB.*defnouns v-- define names of nouns for function display
NB. Example: defnouns 'f g h sin cos'
NB.
NB. y is noun names, either as string of words (e. g. 'a b cd')
NB.  or a list of boxes (e. g. 'a';'b';'cd')
NB. Each noun is defined as a boxed character string whose value equals its name
defnouns =: 3 : 0
nms=. ;: :: ] y
txt=. > nms ,each (<'=: ''') ,each nms ,each ''''
3 : '". y [ 4!:55<''y''' txt
i. 0 0
)
NB. general/misc/validate.ijs
NB. Data validation functions
NB. version: 1.0.0
NB.
NB. data validation
NB.
NB. verbs return 1 if true, 0 if false
NB.
NB. data type verbs check the data, not the internal representation.
NB. For example, 1j1-0j1 is considered boolean, though stored as complex.
NB.
NB. Examples:
NB.
NB.   5 10 inrange i.12
NB.
NB.   '()' isbalanced '(123(45))'

NB.* inrange      v  (low, high) inrange data
NB.* isbalanced   v  pair isbalanced string
NB.* isboolean    v  data is all 0 or 1
NB.* isboxed      v  is boxed
NB.* ischaracter  v  data is character
NB.* iscounter    v  data is non-negative integer (counting number)
NB.* iscomplex    v  data is complex
NB.* isdate       v  is date (as yyyy mm dd)
NB.* isempty      v  data is empty
NB.* isinteger    v  data is all integer
NB.* ismatrix     v  data is a matrix
NB.* isnumeric    v  data is numeric
NB.* isrational   v  data is rational
NB.* isreal       v  data is all real
NB.* isscalar     v  data is a scalar
NB.* isunicode    v  data is unicode (literal2 or literal4)
NB.* isliteral2   v  data is literal2
NB.* isliteral4   v  data is literal4
NB.* isunique     v  data has no duplicates
NB.* isutf8       v  text is valid UTF-8
NB.* isutf16      v  text is valid UTF-16
NB.* isvector     v  data is a vector

cocurrent 'z'

inrange=: ([: *./ (>: {.) , (<: {:))~
isbalanced=: [: (-: +/\. + 0: >. +/\) [: -/ =/

isboolean=: [: *./ , e. 0 1"_
isboxed=: 0: < L.
ischaracter=: 3!:0 = 2:
iscounter=: -: |@<.
isempty=: 0: e. $
isinteger=: (-: <.) :: 0:
isnumeric=: 3!:0 e. 1 4 8 16 64 128"_
isrational=: isinteger < 3!:0 = 128"_
isreal=: (-: +) :: 0:
iscomplex=: -. @ (-: +) :: 0:
isunicode=: 131072 262144"_ e.~ 3!:0
isliteral2=: 131072"_ = 3!:0
isliteral4=: 262144"_ = 3!:0
isunique=: -: ~.

isscalar=: 0: = #@$
isvector=: 1: = #@$
ismatrix=: 2: = #@$

isdate=: 3 : 0
'y m d'=. y
b=. *./(y=<.y),(_1 0 0<y),12>:m
day=. (13|m){0 31 28 31 30 31 30 31 31 30 31 30 31
day=. day+(m=2)*-/0=4 100 400|/y
b*d<:day
)

isutf8=: (2=3!:0) *. 1:@(7&u:) :: 0:
isutf16=: (131072=3!:0) *. 1:@(8&u:) :: 0:
NB.  This script is to help begining users write J code
NB.  using a more literate style
NB.
NB.  It is assumed users have stdlib.ijs available
NB.
NB.  function         3   a synonym for verb

NB.  By                   Stitch
NB.  first                first item in list
NB.  second               second item from list
NB.  last                 last item in list
NB.  FN                   utility to insert x and y in a script
NB.  of                   conjunction for function definition
NB.  On                   laminates two vectors otherwise uses join
NB.  product              the product of items in a list
NB.  run                  run a noun script
NB.  stoa                 script to array
NB.  sum                  the sum of items in a list
NB.  torow                modifies a row of a table or matrix
NB.  tocol                modifies a column of a table or matrix
NB.  wordsin              Word formation  ;:

cocurrent 'z'

NB. =============================================================
NB. *function n integer 3
function =: 3

NB. =============================================================
NB. *By v name for stitching two arrays
By =: ,.

NB. *first v name for {.
first =: {.
NB. *second v  extracts second item from list
second   =: 1&{
NB. *last v alternate name for {:
last =: {:


NB.  *FN v  dyadic, left argument is script, right argument character.
NB.  If right argument is a single word then it inserts a line
NB.  replacing the placeholder y as for a monadic function,
NB.  if the argument is two words it inserts lines for
NB.  placeholders x and y for a dyadic function.  If the
NB.  definition permits both, monadic and dyadic forms are included.
NB.  If two arguments are supplied, the first is the left and the
NB.  second is the right.  If the argument is empty no line is inserted.

FN   =: 4 : 0
z =. #;: y  NB.  Number of arguments must be one or two
w =: stoa x
select. z
case. 0 do. w
case. 1 do.
   if. ':' e. 0{"1 w  do. 'Domain error' return.
                       else. ( y,'=.y'),w
   end.
case. 2 do.
   x =. >{.;: y
   y =. >{:;: y
   s1 =.   y,'=.y'
   s2 =.   x,'=.x'
   if. ':' e. 0{"1 w  do.
      if. 0 = (0{"1 w) i. ':'
             do.  NB.  dyadic only
                  ': ',s1,s2,}.w
             else.  NB. Ambivalent case
                  s  =.   s1,w                NB. Monadic case
                  n  =.   (0{"1 s) i. ':'
                  ((n+1){.s), s1,s2,(n+1)}.s  NB. Dyadic case
      end.
                       else.
                  ': ',s1,s2,w                NB. Dyadic only
   end.
end.
)

NB. *of c  noun noun
NB.  the left argument is a name class for the item to be defined
NB.  and the right argument is the names of the verb arguments.
NB.  of is a conjunction which defines new verbs, adverbs and
NB.  conjunctions.

NB.  For example the following defines a function trianglearea

NB.  trianglearea =: function of 'base height'
NB.  0.5 * base * height
NB.  )

NB.  In defining adverbs and conjunctions the usual place holders
NB.  u v m n are required.
of  =: 2  : 'm : (((0 : 0) FN n))'


NB. *On v laminates two vectors otherwise uses join
On =: 4 : 0
ondim =. [: # $
if. (1 >: ondim x) *. 1 >: ondim y
  do. x,:y
  else.  x,y
end.
)

NB. *product v forms product of a right numeric argument
product =: */

NB. *run  v  executes a noun script
run  =: 0!:1
rund =: 0!:101

NB. *stoa  v  argument script
NB.  stoa converts any character vector to an array using
NB.  the last item as 'fret'.  The characteristic use - from
NB.  a string to array gives the name  stoa
stoa =: 3 : 0
> < ;._2 y
)

NB. *sum v sums a right numeric argument
sum =: +/

NB.  Amendment for matrices
NB.  *ToRow c   data ToRow rownum  matrix
NB.  *ToCol c   data ToCol columnum matrix
torow =: 2 : 'm n } y'
tocol =: 2 : '|: m n}|: y'

NB. *words v argument is string
wordsin =: ;:

cocurrent 'base'
NB. math/misc/numbers
NB. Various number definitions (Stirling, Euler ...)
NB. version: 1.0.0

NB.  bell              Bell numbers
NB.  bernoulli         Bernoulli numbers
NB.  catalan           Catalan numbers
NB.  cycle             Stirling cycle numbers
NB.  cycles            Stirling cycle number table
NB.  euler             Euler numbers
NB.  eulers            Euler numbers table
NB.  fibonacci         Fibonacci numbers
NB.  lucas             Lucas numbers
NB.  subset            Stirling subset numbers
NB.  subsets           Stirling subset number table
NB.  tangent           tangent numbers

NB. =========================================================
NB.*bell v Number of ways of partitioning y things into subsets
bell=: 3 : 0
step=. (+/\) @ (,~ {:)
{. step ^: y 1x
)

NB.*bernoulli v Bernoulli numbers from 0 to y
NB. y is: a non-negative integer
bernoulli=: 3 : 0
t=. 1,}.}:tangent y
b=. _1,t*n*%(* <:)2x^n=. >:i.#t
b*(#b)$_1 _1 1 1
)

NB.*catalan v Catalan numbers
catalan=: (! +:) % >:

NB.*cycles v Table of Stirling cycle numbers (S1)
NB. y is: a non-negative integer
cycles=: 3 : 0
if. y=0 do. 1 1$1 return. end.
c,(0,~t*<:y) + 0,t=. {:c=. cycles <:y
)

NB.*cycle v Number of ways of partitioning n items into k cycles
NB. form: k cycle n  =  [n/k]
cycle=: 3 : 0
(i.>:>./y) cycle y
:
|:({y;x){ cycles >./y
)

NB.*eulers v Table of Eulerian numbers
NB. y is: a non-negative integer
eulers=: 3 : 0
if. y=0 do. 1 1$1 return. end.
s,(0,~t*i) + 0,(y-i=. >:i.y)*t=. {:s=. eulers <:y
)

NB.*euler v Number of permutations of size n with k ascents
NB. form: k euler n  =  <n/k>
euler=: 3 : 0
(i.>:>./y) euler y
:
|:({y;x){ eulers >./y
)

NB.*fermat v Fermat numbers
fermat=: 1 + 2 ^ 2 ^ x:

NB.*fibonacci v first y+1 Fibonacci numbers
fibonacci=: 3 : 'if. y do. (, +/@(_2&{.)) ^: (<:y) 0 1x else. 0 end.'

NB.*lucas v first y+1 Lucas numbers
lucas=: 3 : 'if. y do. (, +/@(_2&{.)) ^: (<:y) 2 1x else. 2 end.'

NB. table of first y+1 Fibonacci + Lucas numbers
NB. e.g. try
NB.   (i.@>: ,. fibonacci ,. lucas) 40
NB.   (fibonacci@+: =&{: fibonacci*lucas) 40

NB.*fibbinet v Calculates nth Fibonacci number using Binet formula
NB. but does not use extended precision (good to about fib 60)
fibbinet=: 3 : 0
p=. -: >: %: 5
(%:5) %~ (p^y) - (1-p)^y
)

NB.*subsets v Table of Stirling subset numbers (S2)
NB. y is: a non-negative integer
subsets=: 3 : 0
if. y=0 do. 1 1$1 return. end.
s,(0,~t*i.y) + 0,t=. {:s=. subsets <:y
)

NB.*subset v Number of ways of partitioning n items into k sets
NB. form: k subset n  =  {n/k}
subset=: 3 : 0
(i.>:>./y) subset y
:
|:({y;x){ subsets >./y
)

NB.*tangent v tangent numbers from 0 to y
NB. y is: a non-negative integer
NB. Tn+1(x)=(1+x^2)Tn'(x)
tangent=: 3 : 0
f=. [: +//. 1 0 1"_ */ [: }. [ * i.@#
{."1 f^:(i.>:y) 0 1x
)
NB. math/misc/amoeba
NB. Nelder-Mead multi-dimentional minimization, aka the amoeba method
NB. version: 1.0.1
NB. Henry H. Rich, David Hash, Marshall Lochbaum, September 2011

NB.*amoeba c Nelder-Mead multi-dimentional minimization
NB. u is: the function to be minimized
NB. n is: the terminating volume of the simplex (or, if boxed, the log2 of
NB.  the ratio by which the volume must shrink before termination (the boxed form
NB.  may be used for high-dimension applications where the volume is unrepresentably small))
NB. y is: the starting simplex to use
NB. result is: list of 2 boxes.  First contains coordinates of (local) minimum,
NB.  second contains function value at the minimum
NB.
NB. y is defined to be a simplex, that is, it is n+1 points in a n-dimensional
NB. space.  So, the shape of y is (n+1),n.
NB. The method is to evaluate the function u at each vertex of the simplex,
NB. and then choose a new simplex in search of a new better value.  The new
NB. simplex keeps the same volume as the old simplex, until we think we
NB. have the minimum surrounded, at which time the simplex shrinks around
NB. the minimum until it shrinks to a point, which is the answer.
NB.
NB. The new simplex is chosen as follows:
NB. Consider a 3-dimensional case.  Call the points of the Simplex A B C D.
NB. First, find the point that has the worst (=highest) value of the objective
NB. function.  We will try 3 possible simplices that might give a better value,
NB. in each case we will be moving point A along a line that passes through
NB. the center of the opposite face BCD:
NB. (0) try moving A halfway to BCD
NB. (1) try moving A to the other side of BCD, at the same distance, in other
NB.   words pass A through BCD to a point on the other side;
NB. (2) like (1), but move point A to twice the distance on the other side (this
NB.   is done to pick up speed when we have picked a good direction of movement).
NB.
NB. After trying all these cases, we pick the one with the best value at the
NB. new position of A - unless none of those values was better then the original A.
NB. In that case, we have surrounded the minimum, and we try
NB. (3) shrink the simplex by a factor of 2 in each dimension.
NB.
NB. The algorithm terminates when the simplex is 'small enough' in volume, as given by
NB. the parameter n.
NB.
NB. Note that move (1) preserves the volume of the simplex, move (0) cuts it in
NB. half, move (2) doubles it, and move (3) divides it by 2^<:#y.  We use those facts
NB. to avoid recalculating the volume of the simplex
amoeba =: conjunction define
NB. fail if y has an incorrect shape
assert.(1 = -/$y) *. 2 = #$y
NB. rank 1 user defined verb, with _ in case of error: points out of domain will not be considered.
uverb =. (u :: _:)"1
NB. Initial simplex, user-specified starting values
simplex =. y
NB. Calculate the initial volume of the simplex, and the termination condition.  But
NB. if the termination condition is boxed, i. e. is the number of shrinks to allow,
NB. don't bother with the volume.

if. 32 = 3!:0 n do.
  excessvol =. >n
else.
  vol =. (-/ .* (}. -"1 {.) simplex) % !<:#simplex
  NB. Calculate the termination condition - the number of powers of 2 that
  NB. the volume is above what it needs to be.  We are done when this value drops to 0
  excessvol =. 2 ^. | vol % n
end.

NB. Error is function value of simplex at each point.  This is modified
NB. as we go along
err =. uverb simplex
NB. If for some reason the initial condition matches the termination condition, we
NB. need to exit, returning the best point, because the simplex volume may be 0,
NB. in which case none of the changes might make progress; but owing to numerical
NB. inaccuracy it might appear that the volume-expansion did; and a loop might result.
NB. We jam excessvol negative so that we will go through the loop one time to sort the
NB. simplex on error and then quit
if. excessvol <: 0 do. excessvol =. _1 end.

NB. Loop until the simplex has shrunk far enough.
whilst. excessvol > 0 do.
  NB. Sort the simplex into order, low point to high point
  NB. using the err values
  simplex =. simplex /: err
  NB. Sorts err to coorespond to the simplex's order
  err =. /:~ err
  NB. Try various moves with the worst (last) point
  NB. The point is moved along a line through center of the opposite face,
  NB. which is the centroid (mean) of all the other points
  NB. Calculates the center point of the simplex through which the high
  NB. Point is reflected
  cp =. (+/ % #) }: simplex
  NB. Calculate the candidate positions, linear combinations of cp and the high point
  NB. beta is _0.5 for halfway to cp, 1 for mirror around cp, 2 for double-mirror
  NB. The new position is cp + (beta * (cp-hp))
  NB. So for each candidate, we have the row 1+beta , -beta
  NB. Produce the points, corresponding to betas _0.5, 1, 2
  simptry =. (3 2 $ 0.5 0.5  2 _1  3 _2)  +/ . * cp ,: {:simplex
  NB. create a 3 item list (tryerr) of the error of the simplex
  NB. if the high point is replaced with the high point generated
  NB. by the 3 respective beta values.  The lowest item from this
  NB. array is saved as the minval, and its index saved in
  NB. minindx, so that it can later be accessed
  minindx =. tryerr i. minval =. <./ tryerr =. uverb simptry
  NB. If this point has less error than the previous high point,
  NB. it replaces the previous high point.
  if. minval < {:err do.
    NB. Replaced the highest value in simplex with
    NB. the lowest point stored in simptry
    simplex =. (minindx { simptry) _1} simplex
    NB. Replace the last value of err with the error
    NB. value of the new point.
    err =. minval _1} err
    NB. Adjust the current volume of the simplex
    excessvol =. excessvol + minindx { _1 0 1
  else.
    NB. If even the best point still is no better than
    NB. the previous highest point, the simplex is contracted
    NB. towards the lowest point.
    simplex =. -: (+"1 {.) simplex
    NB. And the error function is re-evaluated and updated
    err =. ({.err) , uverb }. simplex
    NB. The simplex has shrunk in each dimension
    excessvol =. excessvol - <:#simplex
  end.
end.
NB. Returns boxed array of (the n coordinates of the minimum) ;
NB. (the corresponding function value)
({.simplex);({.err)
:
NB. Dyadic case: bond x to u
x&u amoeba v y
)

NB.*createsimplex v create a simplex from a starting point and lengths in each axis
NB. verb to generate a simplex given one point y (a list)
NB.
NB. For the general matrix x, which must have shape (,~ #y) , x is added to
NB. y with rank 1 and the resulting y points are concatenated with y to form
NB. a list of >: y points.
NB.
NB. If x is a list, of shape #y , a shape (,~ #x) identity matrix
NB. is generated and multiplied by x, then added to y and appended to y,
NB. again forming >: #y points, with volume (*/x) * (% ! #y)
NB.
NB. x can be a scalar, in which case it is multiplied by the shape ,~ y identity
NB. matrix and added to y, the appended to y, generating >: #y points.
NB. Note that in this case the result has volume (x&^ * %@!) #y, which grows very
NB. small for large values of #y and small (ie. 1) values of x.
NB.
NB. Result is a simplex (with shape (,~ >:) #y) that can be used as y
NB. in the amoeba conjunction below.
createsimplex =: 4 : 0
NB. fail if any axis of x is not equal to y or x has rank greater than 2
assert. (2 >: #$x) *. (*./ (#y) = $ x)
if. 2 = #$x do. (, x&+) y
NB. both other cases are encompassed simply by multiplying x by the proper
NB. identity matrix.
else. (, (x * =/~ i. #y)&(+"1)) y end.
)


Note 'Example usage'
 (+/@:*:) amoeba 1e_20 (3 2 $ 1 0 2 1 1 2)  NB. Gets close to minimum at 0 0
 (+/@:*:) amoeba (<40) (3 2 $ 1 0 2 1 1 2)  NB. Gets close to minimum at 0 0
)
NB. math/misc/quatern
NB. Definitions for quaternions
NB. version: 1.0.0
NB. real quaternions:
NB.  - stored as real arrays with last dimension of length 4

NB. Main definitions:
NB.   qncon      conjugate
NB.   qndivl     division (left quotient)
NB.   qndivr     division (right quotient)
NB.   qnmul      multiplication
NB.   qnrec      reciprocal
NB.
NB.   qnpolar    convert to/from polar form
NB.
NB. Other:
NB.   qndivml    division (using matrix divide, left quotient)
NB.   qndivmr    division (using matrix divide, right quotient)
NB.   qnfmt      format a quaternion as a literal
NB.   qnumbers   obverse of qnfmt

NB. e.g.
NB.      2 3 5 7 qnmul 1 2 3 4
NB.   _47 6 13 14
NB.
NB.      (1 2 3 4 qndivl 2 3 5 7) qnmul 2 3 5 7
NB.   1 2 3 4
NB.
NB.      2 3 5 7 qnmul (1 2 3 4 qndivr 2 3 5 7)
NB.   1 2 3 4
NB.      qnfmt 1 2 3 4
NB.   1i2j3k4
NB.      qnumbers '2i3j5k7'
NB.   2 3 5 7
NB. =========================================================

mp=. +/ . *

j=. ,: =i.4
j=. j, 0 1 0 0, _1 0 0 0, 0 0 0 _1,: 0 0 1 0
j=. j, 0 0 1 0, 0 0 0 1, _1 0 0 0,: 0 _1 0 0
j=. j, 0 0 0 1, 0 0 _1 0, 0 1 0 0 ,: _1 0 0 0
qnmat=. mp & j

NB.*qncon v Conjugate
qncon=: 1 _1 _1 _1 & * "1

NB.*qnmul v Multiplication
NB. eg:   2 3 5 7 qnmul 1 2 3 4
NB.    _47 6 13 14
qnmul=: (mp qnmat) f. "1

NB.*qnrec v Reciprocal
qnrec=: (1 _1 _1 _1 & * % +/ @: *:) "1

NB.*qndivl v Division (left quotient)
qndivl=: (qnmul qnrec) f. "1

NB.*qndivr v Division (right quotient)
qndivr=: (qnmul~ qnrec) f. "1

NB.*qndivml v Division (using matrix divide, left quotient)
qndivml=: {."1 @ %. & (|: @ qnmat) f. "1

NB.*qndivmr v Division (using matrix divide, right quotient)
qndivmr=: {. @ %. & qnmat f. "1

NB. =========================================================
NB.*qnpolar v Convert to/from polar form
NB. x is: 0 convert to polar form (default)
NB.       1 convert from polar to standard form
NB.
NB. polar form has 3 elements: h (modulus)
NB.                            t (theta)
NB.                            u (unit quaternion)
qnpolar=: 3 : 0 "1
0 qnpolar y
:
if. x=0 do.
  h=. %: +/ *: y
  t=. _2 o. ({.y) % h
  u=. j % %: +/ *: j=. 0 1 1 1 * y
  h;t;u
else.
  'h t u'=. y
  h * (4 {. cos t) + u * sin t
end.
)

NB. qnfmt v format quaternions
qnfmt=: 3 : 0 "1
  b=. 1,}.0 0 0 0~:,y NB. supress imaginary zeros
  }.;b#' ijk'(, ":)each y
)

NB. internal helper for qnumbers: parse a single element of a quaternion
qnum=.4 :0
  if. {.y e. 'ijk' do.
    (x ". }. y) * ' ijk'={.y
  else.
    4 {. x ". y
  end.
)   

NB. qnumbers v extract quanternions from literal representation
qnumbers=: qnum f. 1 : 0 ("1)
  _. qnumbers y
:
  if. ' ' e. y do. x qnumbers every cut y return. end.
  if. ('b' e. y) +. (-. 1 e. 'ijk' e. y) +. (-. 1 e. '0123456789' e. y) do. 4 {. x ". y return. end.
 +/(x&u;.1~ (1) 0} e.&'ijk') y
)
 
NB. math/misc/det
NB. Definitions for determinants
NB. version: 1.0.0

require 'math/misc/linear'

NB.*det v Determinants of a matrix by recursive expansion of minors
NB.  only efficient for small matrices
det=: -/ .*

NB.*detm v Determinants of square matrix by Gauss elimination
NB. more efficient than det for larger matrices
detm=: 3 : 0
'm p s'=. gauss_elimination y
(*/ diag m) * _1 ^ #s
)

Note 'Testing ...'
(det  -: detm) >:?.5 5$10
)
NB. math/misc/simplexnr
NB. Simplex method (after Numerical Recipes in C)
NB. version: 1.0.0
NB.
NB. see also math/misc/simplex
NB.
NB. This implementation follows Numerical Recipes in C, 2/e,
NB. section 10.8, except that we let the user specify the type of
NB. each constraint rather than expecting the order <: >: =
NB. and we use a similar but refined way of handling degenerate pivots
NB.
NB. Henry H. Rich (HenryHRich@nc.rr.com), June 2001

NB. simplexnr  - simplex method following Numerical Recipes in C

NB. =========================================================
NB. solverestricted v Solve restricted form
NB. y is: tableau.
NB. x is:
NB.   (phase number);(constraint type);(row vbl label);(col vbl label)
NB.   shapes '' ; ((<: #y) - phase number) ; (#y) ; ({:$y)
NB.   where
NB. phase number is 0 for phase 1, 1 for phase 2.  In phase 1 we are
NB.  searching for an initial feasible vector; in phase 2 we are finding
NB.  a final solution.  In phase 1 the auxiliary objective function
NB.  is item _1 of y, the real objective is item _2, after the constraints;
NB.  in phase 2 the objective funtion is item _1, after the constraints.
NB. constraint type for each constraint is _1 for <:, 0 for =, 1 for >:
NB. row vbl labels are associated with each row (the row variables are
NB.  the nonzero variables in the basis).  As rows are
NB.  swapped with columns, the labels are swapped also.  In phase 1,
NB.  the rows for = constraints become unused when they are swapped to
NB.  columns; they are deleted as the columns are
NB. col vbl labels similarly; the col vbls are the zero variables not in
NB.  the basis
NB.
NB. result is solution, in the form:
NB. retcode ; modified tableau ; row vbl numbers ; col vbl numbers
NB. retcode is 0 (normal), 1 (unbounded) , 2 (infeasible)
solverestricted=: 4 : 0
'phase epsilon contype rowlab collab'=. x
NB. Set up according to phase number.  The pivot search covers
NB. only the actual constraint equations, not the objective function(s)
NB. (of which there are 2 in phase 1, 1 in phase 2)
NB. In phase 2, we set all constraint types to <:, meaning 'no special action'
nobj=. _2 + phase
if. phase do. contype=. (#contype) # _1 end.
while. 1 do.
NB. Find the best column to process.  If none with positive slope, we are done
  if. epsilon > maxobj=. >./ objr=. }: {: y do.
NB. no positive z-row elements, we have maximized as far
NB. as we can.  If we are in phase 1, there is a little cleanup
NB. work to do to make sure that all the artificial variables
NB. have been flushed out.  If there are any = constraints left, those
NB. are artificial variables that we must swap over to the
NB. right-hand side.  Pick one, and swap it with the column
NB. that has the highest absolute value among the row coefficients
NB. But only do this if the (aux) objective has gone to 0; otherwise
NB. the problem is infeasible
    if. ((-epsilon) < ((<_1 _1) { y)) *. (#contype) ~: pivrowx=. contype i. 0 do.
      pivcolx=. (i: >./) | }: pivrowx { y
NB. here Numerical Recipes makes the swap only if there is a nonzero
NB. element of the row; I don't think it hurts to swap anyway, in J
NB. This establishes the pivot.  Fall through to perform the pivot
    else.
NB. Also, if there are any >: constraints that never got swapped out,
NB. we must replace them with their slack variables, and when we do so,
NB. we must change their signs
      unswapge=. I. contype = 1
      y=. (- unswapge { y) unswapge} y
NB. Here is the normal return.
      0 ; y ; rowlab ; collab return.
    end.
  else.
NB. More optimization available.  Find the pivot.  The pivot column is the
NB. one with the maximum value; we examine only rows with negative entries.
    pivcolx=. objr i.!.0 maxobj
    if. 0 = #negrowx=. I. (-epsilon) > nobj }. pivcolx {"1 y do.
NB. If there are no negative entries, the problem is unbounded.
      1 ; '' ; '' ; '' return. end.
NB. Select the row(s) with maximum ratio of (constant value%column value)
NB. (since these are negative numbers, maximum = smallest absolute value).
NB. These are the rows that limit movement.
    if. 1 = #limrows=. negrowx (#~ (= >./)) %/"1 (<negrowx;_1,pivcolx) { y do.
NB. If there is only 1 limiting row, it is the pivot.  Move to it.
      pivrowx=. {. limrows
    else.
NB. If there are multiple limiting rows, we are about to move to a degenerate
NB. vertex.  To speed things along, recompute the limiting amounts for
NB. all columns, and move to that column that has the largest number of
NB. maximum values (NR looks for the first larger value per row,
NB. but surely this is better)
      pivrowx=. limrows {~ (i. >./) +/"1 (="1 >./) pivcolx (] % {"1) limrows { y
    end.
  end.
NB. We now have pivot (row,col).  Do the pivot.  First, save the pivot column.
  pivot=. pivrowx { pivcol=. pivcolx {"1 y
NB. Exchange the exiting row for the entering column.  Use elementary
NB. row operations to zero out the entering column (this is solving the
NB. pivot row in terms of the entering variable and substituting that
NB. into the other rows)
  y=. y - (0 pivrowx} pivcol % pivot) */ pivrow=. pivrowx { y
NB. For the pivot itself, we use the equation of the exiting row, solved
NB. in terms of the entering column
  y=. (pivrow % -pivot) pivrowx} y
NB. Now account for the fact that the column has been changed from the entering
NB. column to the exiting row.  Replace the column (now zero) with the saved
NB. pivot column, divided by the saved pivot.  The pivot element itself
NB. just becomes its reciprocal.  This has the effect of preserving the
NB. coefficients of the exiting row when we solved for it in terms of
NB. the entering column, and putting those coefficients in the column
NB. where the exiting row now resides
  y=. (pivot %~ 1 pivrowx} pivcol) (<a:;pivcolx)} y
NB. Exchange the labels between the entering and exiting columns
  exitingrow=. pivrowx { rowlab  NB. save the exiting row number
  rowlab=. (pivcolx { collab) pivrowx} rowlab
  collab=. exitingrow pivcolx} collab
NB. Now, some special work for phase 1.  If an = constraint is being
NB. swapped out for the first time, it is an artificial variable
NB. which must never be swapped back in; delete its column (and column label).
NB. If a >: constraint is being swapped out for the first time, it is
NB. an artificial variable that is being changed to a slack variable with
NB. the opposite sign; we change the sign of the column AND subtract 1 from
NB. the objective function to account for the 1 that would have been
NB. in the slack variable's column (and would have been subtracted from the
NB. auxiliary objective function) if we had been holding the variable
NB. explicitly.  If a <: constraint is swapped out, we do nothing, because
NB. that kind of constraint starts out as a slack variable and stays that
NB. way forever - so we change the other type to <: constraints once they
NB. have been swapped out, indicating 'no more work to do'
  select. pivrowx { contype
  case. 0 do. NB. = constraint.  Remove the column.
NB. We could keep a mask of valid columns, but then we'd have to check it every
NB. iteration.  Here we get it over with - equality constraints are rare anyway
    collab=. (<<<pivcolx) { collab
    y=. (<a:;<<pivcolx) { y
    contype=. _1 pivrowx} contype
  case. 1 do. NB. >: constraint
    y=. (>: (<_1,pivcolx){y) (<_1,pivcolx)} y  NB. account for missing column
    y=. (- pivcolx {"1 y) (<a:;pivcolx)} y  NB. ...and change signs
    contype=. _1 pivrowx} contype
  end.
end.
)

NB. =========================================================
NB.*simplexnr v Run simplex method
NB. y is the problem:
NB. (objective function);constraints;(constraint values);(constraint types)[;(fudge constant)]
NB. There are N variables to be solved for.  The shapes of the
NB. components are
NB. N ; (m,N) ; m ; m [; '']
NB. The objective function is the N coefficients of the function
NB.  to be maximized
NB. The constraints are the coefficients (N per constraint) of each
NB.  constraint
NB. The constraint type is _1, 0, or 1: _1 means that
NB.  +/ constraint * solution must be <: the constraint value;
NB.  0 means =, 1 means >:
NB. the fudge constant, which defaults to 1e_6, is how close a coefficient
NB.  needs to be to 0 to be considered 0.
NB. The result is (return code);(solution vector);(objective value)
NB. shapes '' ; N ; ''
NB. where return code = 1 if the problem is unbounded, 2 if infeasible, 0
NB.  if solvable, and in that case
NB.  objective value = +/ (solution vector) * (objective function)
NB.  and this is the largest possible objective value satisfying the
NB.  constraints.
NB.
NB. Example:
NB. Maximize x1 + x2 + 3x3 - 0.5x4
NB. subject to
NB. x1       + 2x3       <: 740
NB.      2x2       - 7x4 <: 0
NB.       x2 -  x3 + 2x4 >: 0.5
NB. x1 +  x2 +  x3 +  x4 = 9
NB. is
NB. simplex 1 1 3 _0.5 ; (1 0 2 0 , 0 2 0 _7 , 0 1 _1 2 ,: 1 1 1 1) ; 740 0 0.5 9 ; _1 _1 1 0
NB. Solution is 0 3.325 4.725 0.95
simplexnr=: 3 : 0
NB. Audit shape/rank of inputs, fail if error
if. -. 1 = #$y do. 'Wrong rank of y' 13!:8 (9) end.
if. 4 = #y do. y=. y , <1e_6 end.
if. -. (,5) -: $y do. 'Wrong shape of y' 13!:8 (9) end.
if. -. 1 2 1 1 0 -: #@> shp=. $&.> y do. 13!:8 (14) end.
if. -. *. 1 = (0 2;1 3 4) #@~.@:{&> <;shp do. 'Components do not conform' 13!:8 (9) end.
NB. Shapes conform.
'objective constraints values types epsilon'=. y
NB. First of all, if any of the constraint values is negative, change the
NB. sign of the constraint, the value, and the constraint type.
if. 0 ~: +/ negval=. - values < 0 do.
  'constraints values types'=. (negval{1 _1)&*&.> 1 2 3 { y
end.
NB. Create a tableau of the constraints for the phase-2 problem
NB. The last column is the value, the remaining columns are
NB. the constraints with signs reversed.  The last row is
NB. the objective function.  Append a value of 0 to the objective
NB. function, representing its value at the starting vertex
NB. (the origin)
tableau=. (values ,.~ - constraints) , (objective , 0)

NB. Build the vector indicating the row/column labels etc.
NB. numbers in i. (# decision variables) are the decision variables,
NB. higher numbers are slack variables
startphase=. -. +./ nonlemsk=. types ~: _1
parm=. startphase;epsilon;types;((+ i.)~/ $ constraints);i. {: $ constraints
if. -. startphase do.
NB. If all constraints are <: constraints, then the origin is a feasible
NB. vector, and we can start there without need for phase 1.

NB. With constraints other than <:, we must run phase 1 to find an
NB. feasible initial basic vector.  Here goes.

NB. We are going to add an artificial variable for each >: or =
NB. constraint, such that the origin of the original problem
NB. is a feasible point for the augmented system (the artificial
NB. variables are not 0 at this starting point).  We will supply
NB. a special auxiliary objective function that is maximized when
NB. all the auxiliary variables are 0, and we will then solve that
NB. system.  The result will be a point on the simplex which
NB. satisfies all the constraints and has the auxiliary variables
NB. 0; we then discard the auxiliary variables and solve the
NB. original problem starting at that vertex.  The auxiliary
NB. objective function is the negative of the sum of all the
NB. >: and = constraints.

NB. For <: constraints, the row of the tableau represents a slack
NB. variable.  No artificial variable is required.  For =
NB. constraints, no slack variable is needed, but an artificial
NB. variable is, and the row represents that variable.  For
NB. >: constraints, both a slack variable and an artificial
NB. variable are needed; the row represents the artificial
NB. variable.

NB. For >: constraints, we cleverly avoid the need to add a row
NB. for the slack variable, by the following observation.
NB. Each >: equation during phase 1 is of the form
NB. artificial_vbl = constraint + slack_vbl
NB. The key observation is that as rows enter the left side,
NB. they make no change to the slack_vbl; and the slack_vbl
NB. column does not affect any other row until this equation leaves
NB. (because each slack vbl starts out in only one equation).
NB. So, when this artificial_vbl is ready to move to the right
NB. side, it must be 0, and we then rewrite the equation as
NB. slack_vbl = -constraint
NB. just after we exchange the artificial_vbl to the right side.
NB. We also remember that the slack variable has a contribution
NB. of 1*itself to the auxiliary objective, so we add that in when
NB. the slack variable makes its first appearance.
NB.
NB. = constraints have no slack variable, so we simply put the
NB. artificial variable on the left side and delete it after
NB. phase 1.
NB.
NB. We have to be careful that all the artificial variables
NB. are removed from the left side after phase 1 is finished, in case
NB. that didn't happen naturally during phase 1.  Once an artificial
NB. variable is swapped to the right side, we make sure it never returns.

NB. The auxiliary objective function becomes the last line of the tableau,
NB. with the actual objective function as the second-last line.
  tableau=. (nonlemsk , 0) (] , -@(+/)@#) tableau

NB. Now run simplex phase 1 to find an initial feasible basic vector.
NB. The left-side labels are for slack variables, the right-side labels
NB. for real variables
  'rc tableau rowlab collab'=. parm solverestricted tableau

  if. rc do. rc ; (({:$constraints)#0) ; 0 return. end.  NB. if phase 1 error, abort now

NB. Check to see if there was no initial feasible basic vector found by
NB. phase 1.  This will be the case if the phase-1 search was unable to
NB. drive the auxiliary objective function up to 0.  In that case, exit.
  if. (-epsilon) > (<_1 _1) { tableau do. 2 ; ((#constraints)#0) ; 0 return. end.

NB. Trim the tableau.  Remove the auxiliary objective function.
  parm=. 1;epsilon;types;rowlab;collab
  tableau=. }: tableau
end.
NB. We have a feasible starting vector.  Solve the system
'rc tableau rowlab collab'=. parm solverestricted tableau

if. rc do. rc ; (({:$constraints)#0) ; 0 return. end.  NB. if error, abort now

NB. At last, a solution.  Extract the nonzero decision variables
NB. and return them in their proper positions.
dvm=. rowlab < {:$constraints  NB. mask of nonzero decision (i. e. non-slack) vbls

0 ; ((dvm # }: {:"1 tableau) (dvm # rowlab)} ({:$constraints)#0) ; (<_1 _1){tableau
)

NB. Testcases
0 : 0
(0;(0,(1%3),0 9);2%3) -: simplexnr 0 2 _4 0 ; (1 6 _1 0 ,: 0 _3 4 1) ; 2 8 ; 0 0
(0;0 3.325 4.725 0.95;17.025) -: simplexnr 1 1 3 _0.5 ; (1 0 2 0 , 0 2 0 _7 , 0 1 _1 2 ,: 1 1 1 1) ; 740 0 0.5 9 ; _1 _1 1 0
(0;0 4;12) -: simplexnr _2 3 ; (1 1 ,: 1 _1) ; 4 6 ; _1 _1
(0;2 0 8;280) -: simplexnr 60 30 20 ; (8 6 1 , 4 2 1.5 , 2 1.5 0.5 ,: 0 1 0) ; 48 20 8 5 ; _1 _1 _1 _1
(0;4 0 0;240) -: simplexnr 60 30 20 ; (8 6 1 , 4 2 1.5 , 2 1.5 0.5 ,: 0 1 0) ; 48 16 8 5 ; _1 _1 _1 _1
(0;3 3;21) -: simplexnr 5 2 ; (1 1 ,: 1 _1) ; 6 0 ; _1 _1
(0;0 3.325 4.725 0.95;17.025) -: simplexnr 1 1 3 _0.5 ; (1 0 2 0 , 0 2 0 _7 , 0 1 _1 2 ,: _1 _1 _1 _1) ; 740 0 0.5 _9 ; _1 _1 1 0
(0;3 3;21) -: simplexnr 5 2 ; (_1 _1 ,: 1 _1) ; _6 0 ; 1 _1
)
NB. math/misc/matfacto
NB. Matrix factorization
NB. version: 1.0.0

NB. choleski        Choleski decomposition
NB. lud             LU decomposition of square matrix
NB. LU              LU decomposition of square/wide matrix
NB. LUcheck         as for LU with checks
NB. qrd             QR decomposition of matrix

require 'math/misc/linear'

NB. =========================================================
NB.*choleski v Choleski decomposition of matrix y
NB. given L =. choleski A
NB.       A -: L mp h L
NB. see https://code.jsoftware.com/wiki/Essays/Cholesky_Decomposition
choleski=: 3 : 0
mp=. +/ .*            NB. matrix product
h=. +@|:              NB. conjugate transpose
r=. #A=. y
if. 1>:r do.
  assert. (A=|A)>0=A  NB. check positive definite
  %:A
else.
  'X Y t Z'=. , (;~ r $ (>. -:r){.1) <;.1 A
  L0=. choleski X
  L1=. choleski Z-(T=. (h Y) mp %.X) mp Y
  L0,(T mp L0),.L1
end.
)

NB. =========================================================
NB.*lud v LU decomposition of square matrix y
NB. returns 3 elements: L U P where
NB.   L is lower triangular
NB.   U is upper triangular
NB.   P is a permutation of the identity matrix,
NB.     that gives the pivoting used.
NB. The original matrix is: (L mp U) %. P
lud=: 3 : 0
r=. #y
ir=. idmat r
'A b'=. 2 {. gauss_elimination y,.ir
U=. clean (r,r){.A
f=. (0,r)}.A
L=. clean b{%.f
P=. b{ir
L;U;P
)

NB. =========================================================
NB.*LU v LU decomposition of matrix y
NB. for matrix where <:/$A
NB. returns 3 elements: p L U where
NB.   p is a permutation vector,
NB.     that gives the pivoting used.
NB.   L is lower triangular
NB.   U is upper triangular
NB. The original matrix is: p {"1 L mp U
NB. See https://code.jsoftware.com/wiki/Essays/LU_Decomposition
LU=: 3 : 0
 'm n'=. $ A=. y
 if. 1=m do.
  p ; (=1) ; p{"1 A [ p=. C. (n-1);~.0,(0~:,A)i.1
 else.
  m2=. >.m%2
  'p1 L1 U1'=. LU m2{.A
  D=. (/:p1) {"1 m2}.A
  F=. m2 {."1 D
  E=. m2 {."1 U1
  FE1=. F mp %. E
  G=. m2}."1 D - FE1 mp U1
  'p2 L2 U2'=. LU G
  p3=. (i.m2),m2+p2
  H=. (/:p3) {"1 U1
  (p1{p3) ; (L1,FE1,.L2) ; H,(-n){."1 U2
 end.
)

NB. =========================================================
NB.*LUcheck v LU decomposition of matrix y with checking
NB. same arguments and result as LU 
LUcheck=: 3 : 0
 A=. y
 assert. <:/$A
 'p L U'=.z=. LU A
 'm n'=. $A
 assert. (($p) -: ,n) *. (i.n) e. p
 assert. (($L) -: m,m) *. ((0~:L)<:(i.m)>:/i.m) *. 1=(<0 1)|:L
 assert. (($U) -: m,n) *.  (0~:U)<:(i.m)<:/i.n
 assert. A -: p {"1 L mp U
 z
)

NB. =========================================================
NB.*qrd v QR decomposition of matrix y
NB. result has 2 elements: Hermitian matrix;square upper triangular matrix
qrd=: 128!:0


Note 'Testing ...'
A=: _8]\ 6 0 0 0 0 19 0 0, 0 0 6 0 0 0 0 0, 0 0 0 2 0 0 0 4, 4 0 0 0 16 0 0 0, 0 8 2 0 0 0 19 0, 1 0 0 0 17 0 0 13
A1=: _3]\ 1 4 6, 4 0 3, 6 3 2    NB. not Positive definite
A2=: _4]\ 33 7j_8 7j_10 3j_4, 7j8 28 2j4 _10j_11, 7j10 2j_4 22 3j3, 3j4 _10j11 3j_3 16
A3=: (+/ .* |:) _10 + 10 20 ?.@$ 20

choleski 6 6 {. A  NB. fails as not PD 
choleski A1        NB. fails as not PD
{{y -: (] mp +@|:) choleski y}} every A2;A3
lud A              NB. fails as not square
lud 6 6 {. A
{{ y -: clean (L mp U) %. P [ 'L U P'=. lud y }} 6 6 {. A
LU 6 6 {. A
{{ y -: p {"1 L mp U [ 'p L U'=. LU y }} 6 6 {. A
LU A
{{ y -: p {"1 L mp U [ 'p L U'=. LU y }} every A;A1;A2;A3
)
NB. math/misc/rsa
NB. Examples of RSA encryption
NB. version: 1.0.1
NB.
NB. method:
NB.   P & Q are primes
NB.   E is exponent, relatively prime to (P-1)*(Q-1)
NB.   D is the inverse of E mod (P-1)*(Q-1)
NB.
NB. here:
NB.     the public key is:  PQ,E   (i.e. a pair of numbers)
NB.     the private key is: D
NB.
NB. then if msg is a list of integers:
NB.   msg (PQ powermod) E   is   encode msg
NB.   msg (PQ powermod) D   is   decode msg
NB.
NB. e.g.
NB.    t2''
NB.    decode encode 233 6728
NB. 233 6728

require 'math/misc/primutil'

NB. =========================================================
NB. example with small values for P and Q
t1=: 3 : 0

P=: 22307x
Q=: 78121x
E=: 46337x
D=: ((P-1) * Q-1) inversep E

PQ=: P*Q
encode=: PQ&|@^&E
decode=: PQ&|@^&D

PQ;E
)

NB. =========================================================
NB. example with big values for P and Q
t2=: 3 : 0

P=: 151 + 10^50x
Q=: 40 + 7^62x
E=: 9 + 10^49x
D=: ((P-1) * Q-1) inversep E

PQ=: P*Q
encode=: PQ&|@^&E
decode=: PQ&|@^&D

PQ;E
)
NB. math/misc/cheby
NB. Chebyshev approximation
NB. version: 1.0.0

NB. chebft           Calculate Chebyshev coefficients
NB. chebev           Evaluate Chebyshev approximation
NB.
NB. e.g.
NB.    6 {. 30 (^ chebft) _1 1
NB. 2.53213 1.13032 0.271495 0.0443368 0.00547424 0.000542926
NB.
NB.   (2.53213 1.13032 0.271495 0.0443368 0.00547424 0.000542926;_1 1) chebev 0
NB. 1.00004
NB. These routines follow the algorithms from Numerical Recipes in C 1/e
NB. Henry H. Rich, June 2012

NB.*chebft a Chebyshev coefficients
NB. u is the verb to be approximated; x is the number of coefficients to calculate;
NB. y is the range over which the function is to be approximated (low,high)
NB. You should calculate the coefficients to considerably higher degree than you
NB. plan to use (30 to 50, say), and then truncate the resulting series
NB. ex: 6 {. 30 (^ chebft) _1 1
chebft=: adverb define ("0 1)
:
f=. u 0.5 * (+/y) - (-/y) * 2 o. o. (0.5 + i. x) % x
(2 % x) * +/ f * 2 o. o. (0.5 + i. x) *"0 1 (i. x) % x
)



NB.*chebev v Evaluate Chebyshev approximation
NB. x is (chebyshev coeffs;(low,high used to calculate them)
NB. y is the point
NB. ex: (2.53213 1.13032 0.271495 0.0443368 0.00547424 0.000542926;_1 1) chebev 0.5
NB. The result is sigma(xi*Ti(y)) - (x0%2) where the sum is taken over all coeffs
NB. but the first, and Ti is the ith Chebyshev polynomial.  In this verb the summation
NB. is made using Clenshaw's recurrence.
chebev=: 4 : 0"1 _
'coeffs minmax'=. x
mapy2=. _1 ,~"0 +: mapy=. (+: y) ((- +/) % -~/@]) minmax
NB. The following is a little tricky.  In the main verb, x is the new coeff (a scalar) and y is the
NB. accumulated results from previous coeffs (shape ($y),2 where each 1-cell is (d,dd) in the NR code).
NB. For the first execution, x is cn and y is scalar 0.  This scalar 0 is replicated to the shape of mapy
NB. to create the expanded first result; this step corresponds to d =. dd =. 0 in the NR code.
sumpoly=. ((+ +/"1@(mapy2&*)) ,"0 {."1@])/ 1 |.!.0 coeffs  NB. result is (d,dd) for each scalar
(mapy(,"0 1)_1 0.5) +/@:*"1 sumpoly,"1{.coeffs
)
NB. math/misc/integer
NB. Verbs to generate various integer sequences
NB. version: 1.0.0

NB. inta   augmented integers     inta 4    is  1 2 3 4
NB. inte   extended integers      inte 4    is  0 1 2 3 4
NB. ints   symmetric integers     ints 4    is  _4 _3 _2 _1 0 1 2 3 4
NB. intm   minus integers         intm _4   is  _1 _2 _3 _4
NB. intn   normal integers        intn _4   is  0 _1 _2 _3
NB. intr   reflexive integers     intr 4    is  3 2 1 0 1 2 3
NB. jint   complex integers       jint 2 3  is  (j. i.2) +/ i.3
NB. jints  complex symmetric ints jints 1 2 is  (j. i:1) +/ i:2
NB.
NB. Examples:
NB.
NB.    inta each _5 0 5
NB. +---------++---------+
NB. |5 4 3 2 1||1 2 3 4 5|
NB. +---------++---------+
NB.
NB.    inte each _5 0 5
NB. +-----------+-+-----------+
NB. |5 4 3 2 1 0|0|0 1 2 3 4 5|
NB. +-----------+-+-----------+
NB.
NB.    ints each _5 0 5
NB. +--------------------------+-+--------------------------+
NB. |5 4 3 2 1 0 _1 _2 _3 _4 _5|0|_5 _4 _3 _2 _1 0 1 2 3 4 5|
NB. +--------------------------+-+--------------------------+
NB.
NB.    intm each _5 0 5
NB. +--------------++---------+
NB. |_1 _2 _3 _4 _5||0 1 2 3 4|
NB. +--------------++---------+
NB.
NB.    intn each _5 0 5
NB. +-------------++---------+
NB. |0 _1 _2 _3 _4||0 1 2 3 4|
NB. +-------------++---------+
NB.
NB.    intr each _5 0 5
NB. +-----------------++-----------------+
NB. |0 1 2 3 4 3 2 1 0||4 3 2 1 0 1 2 3 4|
NB. +-----------------++-----------------+
NB.
NB.    intj 3 4
NB.   0   1   2   3
NB. 0j1 1j1 2j1 3j1
NB. 0j2 1j2 2j2 3j2
NB.
NB.    intjs 1 3
NB. _3j_1 _2j_1 _1j_1 0j_1 1j_1 2j_1 3j_1
NB.    _3    _2    _1    0    1    2    3
NB.  _3j1  _2j1  _1j1  0j1  1j1  2j1  3j1

NB.*inta v Augmented integers
NB. eg: inta 4    is  1 2 3 4
inta=: >:@i.

NB.*inte v Extended integers
NB. eg: inte 4    is  0 1 2 3 4
inte=: i.@(+ (* + 0&=))

NB.*ints v Symmetric integers
NB. eg: ints 4    is  _4 _3 _2 _1 0 1 2 3 4
ints=: i:

NB.*intm v Minus integers
NB. eg: intm _4   is  _1 _2 _3 _4
intm=: i. + (* 0&>)

NB.*intn v Normal integers
NB. eg: intn _4   is  0 _1 _2 _3
intn=: * * i.@|

NB.*intr v Reflexive integers
NB. eg: intr 4    is  3 2 1 0 1 2 3
intr=: |@i:

NB.*jint v Complex integers
NB. eg: jint 2 3  is  (j. i.2) +/ i.3
jint=: j.~/&i./

NB.*jints  complex symmetric ints
NB. eg: jints 1 2 is  (j. i:1) +/ i:2
jints=: j.~/&i:/
NB. math/misc/pollard
NB. Pollard factorizations
NB. version: 1.0.0

NB. pollardrho       Pollard rho factorization
NB. pollardpm1       Pollard p-1 factorization
NB.
NB. examples:
NB.
NB.    ]x=. (,*/) x: p: 1e7 30101
NB. 179424691 351599 63085541930909
NB.    pollardpm1 {: x
NB. 179424691 2556
NB.
NB.    ]x=. (,pollardrho)  1 + 2 ^ 2 ^ 6x
NB. 18446744073709551617 274177 808
NB.    (0{x) % 1{x
NB. 67280421310721
NB. =========================================================

NB.*pollardrho v Pollard rho factorization
NB.
NB. form:   [m,[;poly]] pollardrho n
NB.    n      number to be factored
NB.    m      optional maximum iterations (default 10000)
NB.    poly   optional polynomial to be used (left argument to p.)
NB.           default 1 0 1 <> 1 + x^2
NB.
NB. returns:  res, count
NB.     where res is 0 = factor not found
NB.                 >0 = proper factor
NB.           count = number of iterations
pollardrho=: 3 : 0
'' pollardrho y
:
x=. boxxopen x
'm p'=. 2 {. x, (#x) }. 10000 ; 1 0 1
n=. x: y
f=. n&| @ (p&p.)
x1=. f 2x
x2=. f f 2x
c=. 0
while. c < m do.
  c=. >: c
  g=. n +. n | x2 - x1
  if. -. g e. 1, n do. g, c return. end.
  x1=. f x1
  x2=. f f x2
end.
0, c
)

NB.*pollardpm1 v Pollard p-1 factorizaton
NB. returns:  res, count
NB.     where res is 0 = factor not found
NB.                 >0 = proper factor
NB.           count = number of iterations
NB. x is: optional maximum iterations, default 10000
NB. y is: number to be factored
pollardpm1=: 3 : 0
10000 pollardpm1 y
:
n=. x: y
pwr=. n&| @ ^
b=. 1
p=. 2x
c=. 0
while. c < x do.
  c=. >: c
  b=. >: b
  p=. p pwr b
  g=. n +. p - 1
  if. -. g e. 1, n do. g, c return. end.
end.
0, c
)
NB. math/misc/gamesolver
NB. Find optimal mixed strategies for 2-person games
NB. Henry H. Rich (HenryHRich@nc.rr.com), April 2005
NB. version: 1.0.0

require 'math/misc/simplexnr'

NB.*solvegame v Find optimal mixed strategies for 2-person games
NB. y is: payoff matrix.  Red is at the top of the matrix,
NB.     Blue is on the left; in other words, each
NB.     row of y gives the payoffs to Blue for each of
NB.     Red's responses to one of Blue's plays.  Columns
NB.     give the payoff to Blue for each of his responses to
NB.     one of Red's plays.  Payoffs are payoffs to Blue.
NB. Result is: (Blue Strategy);(Red strategy);Value
NB.     or null if there is an error
solvegame =: 3 : 0"2
'Bn Rn' =. $y  NB. number of strategies for Blue and Red
NB. Solve for Red
m =. y - Rm =. 0 <. <./ ,y
'r Rs Rv' =. simplexnr (Rn$1);m;(Bn$1);(Bn$_1)
if. r ~: 0 do. '' return. end.
NB. Solve for Blue
m =. (|:-y) - Bm =. 0 <. <./ ,-y
'r Bs Bv' =. simplexnr (Bn$1);m;(Rn$1);(Rn$_1)
if. r ~: 0 do. '' return. end.
NB. Return result
((% +/) Bs) ; ((% +/) Rs) ; Rm + %Rv
)

NB. The following examples of game theory are taken from
NB. _The Compleat Strategyst_ by J. D. Williams:
NB.
NB. On a slow day, Red and Blue decide to match coins.  Blue
NB. suggests a slight change to the game: if the coins match,
NB. Blue wins $20; if they don't match, Red gets $30 if Blue
NB. has tails, $10 if he has heads.  What strategy should each
NB. player use, and how much, on average, will change hands
NB. per play?
NB.
NB. The payoff matrix is
NB.
NB.       Red
NB.      T   H
NB. B T  20 _30
NB. l
NB. u H _10  20
NB. e
NB.
NB.  and it is solved by
NB.
NB.    solvegame 2 2 $ 20 _30   _10 20
NB. +-----------+-----------+----+
NB. |0.375 0.625|0.625 0.375|1.25|
NB. +-----------+-----------+----+
NB.
NB. Blue should call tails 3/8 of the time; Red should call tails
NB. 5/8 of the time; Blue wins $1.25 per play on average.
NB.
NB.
NB. Blue has two radar installations.  He can defend one or the
NB. other but not both; Red can destroy either but not both.
NB. One installation is three times as valuable as the other.
NB. What strategies should they adopt?
NB.
NB. Valuing the lesser installation A at 1, Blue's surviving
NB. vaue after the attack is
NB.
NB.       Red
NB.      A   B
NB. B A  4   1
NB. l
NB. u B  3   4
NB. e
NB.
NB.    solvegame 2 2 $ 4 1   3 4
NB. +---------+---------+----+
NB. |0.25 0.75|0.75 0.25|3.25|
NB. +---------+---------+----+
NB.
NB. Blue defends the better installation 3/4 of the time; Red attacks
NB. the lesser one 3/4 of the time.  Blue's expected undestroyed value is
NB. 3.25.
NB. math/misc/contfrac
NB. Continued fraction utilities
NB. version: 1.0.0
NB.
NB. contfrac    create continued fraction
NB. contfracx   expand continued fraction

NB. =========================================================
NB.*contfrac v create continued fraction
NB. form: [max_steps] contfrac number
NB.
NB. the iteration ends when the representation is exact, or when
NB. the optional maximum number of steps has been completed.
NB.
NB. max_steps defaults to 100
NB.
NB. example: 7 contfrac o.1
NB.          contfrac 55r34

contfrac=: 3 : 0
100 contfrac y
:
r=. ''
t=. y
c=. 0
while. c < x do.
  r=. r, q=. <. t
  if. 0 = t=. t - q do. break. end.
  t=. %t
  c=. >: c
end.
r
)

NB. =========================================================
NB.*contfracx v expand continued fraction
contfracx=: [: (+%) /\ x:
NB. math/misc/integrat
NB. Various methods for numeric integration
NB. version: 1.0.0

NB. integrate     Aitken extrapolation on Gauss integrals
NB. simpson       Simpson's method
NB. adapt         Adaptive Quadrature using Simpson's method
NB.
NB. intexample    example using each method

NB. =========================================================
NB.*integrate c Numeric integration by Aitken extrapolation on Gauss integrals
NB.
NB. form: verb integrate int
NB.   verb is the monadic function to be integrated.
NB.   int has 2 or 3 elements:
NB.     [0]  lower bound of interval
NB.     [1]  upper bound of interval
NB.     [2]  number of significant digits (s.d.) required, default 8
NB.
NB. result is:  integral, estimate of s.d. attained (max 14).
NB.
NB. method is Aitken extrapolation applied to Gauss approximate integrals.
NB. the interval is divided into at most 2^10 subintervals.
NB.
NB. this method has very rapid convergence.
NB.
NB. eg:   43.75 14 = ^&3 integrate 3 4
integrate=: 2 : 0
'lower upper sd'=. 3{.y,8
in=. 5
len=. 2^i.in
diff=. upper-lower
int=. 3 : ',(_1 1*r*3^_0.5)+/+/\r,}:y#+:r=.%+:y'
scale=. [: lower&+ diff&*
f=. diff&*@(+/)@:x@scale@int % +:
g=. f"0 len
whilst. 1 do.
  r=. g
  whilst. 1<#r do.
    t0=. _2}.iv=. r
    t1=. }.}:iv
    t2=. 2}.iv
    s=. t2+t0-+:t1
    r=. t2-(-.b)*(*:t2-t1)%s+b=. 0=s
  end.
  t=. <.-10^.1e_14>.(|-/_2{.iv)%{:iv
  if. (10<in) +. sd <: t do. r,t return. end.
  g=. g,f"0 [ 2^in,in+1
  in=. in+2
end.
)

NB. =========================================================
NB.*simpson c Numeric integration by Simpson's method
NB.
NB. form: verb simpson int
NB.   verb is the monadic function to be integrated.
NB.   int has 2 or 3 elements:
NB.     [0]  lower bound of interval
NB.     [1]  upper bound of interval
NB.     [2]  number of subintervals (default 128)
NB.
NB. result is the integral
NB.
NB. eg:   43.75 = ^&3 simpson 3 4
simpson=: 2 : 0
'lower upper int'=. 3{.y,128
size=. (upper-lower)%int
val=. x lower+size*i.>:int
size * +/val * 3%~ 1,((int-1)$4 2),1
)

NB. =========================================================
NB.*adapt c Numeric integration by adaptive quadrature
NB.
NB. form: verb adapt int
NB.   verb is the monadic function to be integrated.
NB.   int has 2 or 3 elements:
NB.     [0]  lower bound of interval
NB.     [1]  upper bound of interval
NB.     [2]  tolerance (default 1e_8)
NB.
NB. result is the integral
NB.
NB. eg: 43.75 = ^&3 adapt 3 4
adapt=: 2 : 0
'lb ub t'=. 3{.y,1e_8
a=. x simpson (lb,ub,8)
b=. x simpson (lb,ub,16)
if. (|a-b)<|b*t do. b return. end.
c=. -:lb+ub
(x adapt (lb,c,t)) + x adapt (c,ub,t)
)

NB. =========================================================
Note 'examples using each method'
fn=: 3 : '(y^8)+(1 o.y)-y^7'
r=. ''
r=. r, 98611112.950182 14 -: fn integrate 0 10 12
r=. r, 98611119 -: <.fn simpson 0 10 128
r=. r, 98611116 -: <.fn adapt 0 10 1e_6
)
NB. build

S=. jpath '~Addons/math/misc/'
T=. jpath '~addons/math/misc/'
SF=. 1 dir S,'*.ijs'
TF=. (T,(#S)}.]) each SF
TF fcopynew each SFNB. math/misc/legendre
NB. Legendre symbol and quadratic residues
NB. version: 1.0.1

NB. legendre         Legendre symbol (n/p) for integer n, odd prime p
NB. quadres          quadratic residues of p
NB. quadrec          quadratic reciprocity
NB.
NB. e.g.
NB.      7 quadrec 11
NB.   _1
NB.
NB.      (>:i.7) legendre 7
NB.   1 1 _1 1 _1 _1 _1

NB.*quadres v Quadratic residues of p
quadres=: /:~ @ ~. @ (| *:@}.@ i.)

NB.*quadrec v Quadratic reciprocity
NB. eg: 7 quadrec 11
quadrec=: legendre * legendre~

NB. =========================================================
NB.*legendre v Legendre symbol (n/p) for integer n, odd prime p
NB.
NB. form: p legendre n
NB. eg: 7 legendre >:i.7
legendre=: 4 : 0 "0
p=. x
n=. p|y
if. n=0 do. 0 return. end.
r=. 1
while.
  parity=. 0
  while. 0=1|j=. n%2 do.
    n=. j
    parity=. -.parity
  end.
  if. 8=16|parity*<:*:p do.
    r=. -r
  end.
  n>1
do.
  if. 4=8|(<:n)*<:p do.
    r=. -r
  end.
  j=. n
  n=. n|p
  p=. j
end.
r
)

NB. alternative legendre for n < p that is more efficient for small p:
NB. legendre=: [: {&_1 1 | e. (| *:@}.@i.)@[
NB. math/misc/mathutil
NB. Math utilities
NB. version: 1.0.0

NB. det           determinant of matrix y
NB. mp            M mp N  = matrix product of M and N
NB. h             conjugate transpose of matrix y
NB. powermod      x (n powermod) y computes n|x^y
NB. randomint     random integer in range 0, <: 10^y
NB. randomintd    random integer with y digits
NB. timesmod      x (n timesmod) y computes n|x*y

require 'numeric'

NB.*det v Determinant of matrix y
det=: -/ .*

NB.*mp v Matrix product of x and y
mp=: +/ .*

NB.*h v Conjugate transpose of y
h=: +@|:

NB.*powermod a x (n powermod) y computes n|x^y
powermod=: 1 : 'm&|@^'

NB.*randomint v Random integer in range 0, <: 10^y
randomint=: 3 : '10 #. ? y $ 10x'

NB.*randomintd v Random integer with y digits
randomintd=: 3 : '10 #. (y{.1) + ? 10x - y{.1'

NB.*timesmod a x (n timesmod) y computes n|x*y
timesmod=: 1 : 'm&|@*'
NB. math/misc/odeint
NB. Solve initial value ordinary differential equations
NB. version: 1.0.0
NB.
NB. contributed by David Lambert

Note 'Runge Kutta differential equation integrator'
 The dyad   u Odeint  is an adaptive verb to solve
 initial value ordinary differential equations
 returning at the end of the step XY;nok;nbad;maxerr
 When it works, XY is x_end, y at x_end
 Upon identifying a problem, XY is a literal message.

 Use: GERUND stepper Odeint ARG
 u is the stepper that advances the solution one step.
 Verbs of the gerund x compute the derivatives,
 The boxed y supplies (x0,y0);x_end;(err,htry,hmin)

 Each of the derivatives are evaluated as dyads,
 x being the value of the independent variable,
 and y being the estimated function values at x.

 Example of simple differential equation:
 (Using the mathematica notation I recall)
 D[y[x],x] == - x*y  we write as ff=: 4 : '- x * y'
 (or tacitly as ff=: (*-) )
 In this case we need a scalar gerund.
 Hence the gerund of derivatives is  ({.ff`!)
 The left argument to u Odeint is: ({.ff`'')
 The right argument: (x0,y0);x_end;(err,htry,hmin)
 e.g.  ARG=. (0 10);1;(1e_8,0.05,1e_8)
 See the pendulum example in the test verb to use Odeint.

 This file provides three steppers
  rkck_step   Cash-Karp coefficients
  rkf45_step  Runge-Kutta-Fehlberg 45 coefficients
  rkdp_step   DormandPrince
 as well as a conjunction Stepper to generate
 other stepper verbs given the Butcher Tableau.
 The stepper dyad accepts as x the derivatives gerund, and as y:
 'XY0 DYDX0 H' =. y
 H is the independent interval size,
 XY0 and DYDX0 are the values at the start of the interval.
 The stepper returns a vector of 2 boxes containing
 XY at the end of the interval, and in the tail box
 are error estimates. (XY0 + (H , DY0)) ; DY0 - DY1

 Odeint code stems from the Numerical Recipes odeint program.
 The returned values nok, nbad and errmax are
 the numbers of accepted and rejected steps, and the
 maximum error amongst the solution variables.

 Solutions at a grid of positions are useful, but alas,
 this version of Odeint does not store the solution on
 or near a grid.  The example verb
 low_amplitude_pendulum_of_given_period
 accomplishes this.
)

float=: _1&x:
mp =: +/ .*

NB. Model of FORTRAN "SIGN(A,B)" function:
F_sign=: (* |)~ (1 _2 p. 0&>)

Odeint=: adverb define
:
 NB. stepper=. u
 DERIVATIVES =. x
 'xy0 x2 param'=. y
 'eps h1 hmin'=. param
 x=. x1=. {. xy=. xy0
 tiny=. 1e_30
 maxstp=. 10000
 h=. h1 F_sign x2-x1
 'nstp nok nbad maxerr' =. 0
 while. (nstp=. >:nstp) <: maxstp do.
  dydx=. ({. DERIVATIVES`:0 }.) xy
  yscal=. (|}.xy)+(|h*dydx)+tiny
  if. 0 < (x+h-x2)*(x+h-x1) do. h=. x2-x end.
  'xy hdid hnext maxerr'=. DERIVATIVES u Rkqs xy;dydx;h;eps;yscal
  x=. {. xy
  if. 0(* ::1:)x do. xy;nok;nbad;maxerr return. end. NB. error test
  if. hdid = h do. nok=. >: nok else. nbad=. >: nbad end.
  if. 0 <: (x-x2)*(x2-x1) do. xy;(nok,nbad,maxerr) return. end.
  if. hmin > | hnext do.
   'Stepsize smaller than minimum in Odeint.';nok;nbad;maxerr
   return.
  end.
  h=. hnext
 end.
 'Too many steps in Odeint.';nok;nbad;maxerr
)

Rkqs=: adverb define
:
 NB. stepper=. u
 DERIVATIVES=. x
 'safety pgrow pshrink errcon'=. 0.9 _0.2 _0.25 1.89e_4
 'xy dydx h eps yscal'=. y
 whilst. 1 do.
  'xynew yerr'=. DERIVATIVES u xy;dydx;h
  errmax=: >./ | yerr%yscal*eps
  if. errmax <: 1 do. break. end.
  h=. h * 0.1 >. safety*errmax^pshrink
  xnew=. h + {. xy
  if. xnew = {. xy do. 'Step too small!';h;hnext;errmax return. end.
 end.
 hnext =. h * 5:^:(errmax <: errcon) safety*errmax^pgrow
 xynew;h;hnext;errmax
)

Note 'Stepper conjunction'
 The coefficients A and B are from the Butcher Tableau
 shown in 2014 MAY wikipedia entries
 http://en.wikipedia.org/wiki/List_of_Runge-Kutta_methods

 For instance, the Butcher tableau for RKF45 is

  0
  1/4   1/4
  3/8   3/32      9/32
  12/13 1932/2197 -7200/2197 7296/2197
  1     439/216   -8         3680/513   -845/4104
  1/2   -8/27     2          -3544/2565 1859/4104 -11/40

  16/135  0 6656/12825 28561/56430 -9/50 2/55
  25/216  0 1408/2565  2197/4104   -1/5  0

 Below, please find how these are used with Stepper
 to create the rkf45 stepper verb.


 Present A as m, B as n .  A Stepper B results creates a verb
 that advances the solution one explicit Runge-Kutta step.

 To the resulting stepper verb,
 x is a gerund to compute derivatives.
 y are the function values.

 In turn, the stepper invokes verbs f of the gerund as
 X f FUNCTION_VALUES
 X is the independent variable.
)

Stepper =: conjunction define
:
 'XY0 DYDX0 H' =. y
 C =. float +/"1 m
 'B0 B1' =. n
 A =. float m
 a =. A&({~ [: < (; i.@>:))
 T =. ({. XY0) + H * C
 Y =. }. XY0
 k =. [ , H * (T {~ ]) (x`:0) Y + (mp~ a)
 K =. > k&.>~/ (;/i.-#A) , < ,:  H * DYDX0
 DY0 =. B0 mp K
 DY1 =. B1 mp K
 (XY0 + (H , DY0)) ; DY0 - DY1
)

Note'order of the coefficients B'
 The first row of coefficients determine the integration result.
 The second row determine the error as the difference in estimates
 first row - that of the second row
)

NB. Cash-Karp coefficients
A=: ,:,1r5
A=: A,3r40 9r40
A=: A,3r10 _9r10 6r5
A=: A,_11r54 5r2 _70r27 35r27
A_RKCK=: A,1631r55296 175r512 575r13824 44275r110592 253r4096

B=: 37r378 0 250r621     125r594     0 512r1771
B_RKCK=: B ,: 2825r27648 0 18575r48384 13525r55296 277r14336 1r4

NB. Runge-Kutta-Fehlberg 45 coefficients
A=: ,:,1r4
A=: A,3r32 9r32
A=: A,1932r2197 _7200r2197 7296r2197
A=: A,439r216 _8 3680r513 _845r4104
A_RKF45=: A,_8r27 2 _3544r2565 1859r4104 _11r40

B=: 16r135 0 6656r12825 28561r56430 _9r50 2r55
B_RKF45=: B,:25r216 0 1408r2565 2197r4104 _1r5 0

NB. DormandPrince
A=: ,:,1r5
A=: A,3r40 9r40
A=: A,44r45 _56r15 32r9
A=: A,19372r6561 _25360r2187 64448r6561 _212r729
A=: A,9017r3168 _355r33 46732r5247 49r176 _5103r18656
A_RKDP=: A,35r384 0 500r1113 125r192 _2187r6784 11r84
B=: 5179r57600 0 7571r16695 393r640 _92097r339200 187r2100 1r40
B_RKDP=: B,:35r384 0 500r1113 125r192 _2187r6784 11r84 0

rkck_step =: A_RKCK Stepper B_RKCK
rkf45_step =: A_RKF45 Stepper B_RKF45
rkdp_step =: A_RKDP Stepper B_RKDP

low_amplitude_pendulum_of_given_period =: monad define
 NB. in mathematica notation, as I recall...
 NB. DSolve[D[angle[t],{t,2}]+k Sin[angle[t] == 0, {angle[t],0,10}]
 NB.  /. {k->y^2, angle[0]->0.01, D[angle[t],t][0]->0}
 TAU =. 2p1 NB. tauday.com
 PERIOD =. y
 ANGULAR_FREQUENCY =. TAU % PERIOD
 PENDULUM =. {:@:]`([: - (*: ANGULAR_FREQUENCY) * 1 o. {.@:])
 GRID =. 10(*(%~i.@>:))100
 H =. >./ | 2-/\ y
 f =. ],PENDULUM 0&{::@:(rkck_step Odeint) ({.@:] ; ;&(1e_8,H,1e_4)@:[)
 >f&.>/(;/|.GRID),<,:0 0.01 0
)

test =: monad define NB. nilad
 NB. solutions match www.mcise.uri.edu/.../Pendulum Example.pdf
 PENDULUM =. {:@:]`([: - (19.62) * 1 o. {.@:])
 I0=. 0 1r3p1 0
 TF=. 5
 Y =. I0 ; TF ; 1e_8 0.05 1e_4
 A =.      0{::PENDULUM rkck_step Odeint Y
 A =. A ,: 0{::PENDULUM rkf45_step Odeint Y
 A =. A ,  0{::PENDULUM rkdp_step Odeint Y
 assert *./ 1e_4 > , | 5 _0.2304 _4.3108 (-"1) A
)
NB. math/misc/gcd
NB. Calculate GCD
NB. version: 1.0.0

NB. J has a built-in gcd function: +.
NB.
NB. This script defines another gcd that returns both the
NB. gcd of a numeric list, and the coefficents where:
NB.
NB.    gcd = +/ numeric_list * coefficients

NB. ---------------------------------------------------------
NB.*gcd v Greatest common denominator
NB. form: gcd numeric_list
NB. returns 2 elements: gcd;coefficients
NB.     where: gcd = +/ numeric_list * coefficients
NB. An alternative to J's built-in gcd function: +.
gcd=: 3 : 0
x=. (x: y) ,. =/~ i.#y
f=. {: <.@%&{. {.
b=. #~ 0: ~: {."1
while. 1 < #x do.
  x=. x /: | {."1 x
  x0=. {.x
  x=. x0, b (}.x) -"1 x0 * f x
end.
({. ; }.) (* *@{.) ,x
)
NB. math/misc/jacobi
NB. Jacobi's method for eigenvalues and vectors
NB. version: 1.0.0

require 'math/misc/matutil'

NB. =========================================================
NB.*jacobi v Calculate eigenvalues and vectors using Jacobi's method
NB. applies to real symmetric matrices only
NB.
NB. form: [tolerance] jacobi mat
NB.
NB. default tolerance 1e_5
NB.
NB. returns: eigenvalues;eigenvectors
jacobi=: 3 : 0
1e_5 jacobi y
:

r=. y

'argument should be a matrix' assert 2=#$r
'argument should be symmetric' assert r -: |: r
'argument should be real' assert r -: + r

ir=. i.#r
q=. id=. =ir

diag=. (<0 1)&|:
len=. +/&.(*:"_)
imax=. i.>./
utm=. ,</~ir
mp=. +/ .*
ndx=. ,{;~ir
perm=. 0 0&{ ; ] ; |. ; 1 1&{
sign=. _1: ^ <&0

count=. 0

while.
  big=. imax utm * |,r
  ind=. big { ndx
  p=. -ind { r
  (x < |p) *. big > 0
do.
  u=. -: -/ (>ind) { diag r
  v=. len p,u
  cos=. %: (v+|u) % +:v
  sin=. (sign u) * p % +: v * cos
  s=. ((cos,-sin),sin,cos) (perm >ind) } id
  r=. s mp r mp |:s
  q=. q mp |:s
  count=. >:countW
end.

r=. diag r
inx=. \:r
(inx{r);inx{"1 q
)

NB. =========================================================
NB. Test for random matrices of size y (default 3)
testjacobi=: 3 : 0
r=. 2${.y,3
mat=. (+|:)?r$10
'x y'=. jacobi mat
a=. mat mp y
b=. x *"1 y
c=. a-b
d=. (det mat),det b
mat;d;clean each a;b;c
)

Note 'Example tests'
testjacobi ''
testjacobi 4 4
)NB. math/misc/makemat
NB. Make various standard matrices
NB. version: 1.0.0

NB. bandmat       band matrix
NB. diagmat       diagonal matrix
NB. hilbertmat    Hilbert matrix
NB. jordanmat     Jordan matrix from matrix list
NB. idmat         identity matrix
NB. cidmat        counter identity matrix
NB. ltmat         lower triangular matrix (of 1's)
NB. utmat         upper triangular matrix (of 1's)

NB. =========================================================
NB.*bandmat v Band matrix in position x from diagonal y
NB. eg:
NB.     1 bandmat 3 5 7
NB.  0 3 0 0
NB.  0 0 5 0
NB.  0 0 0 7
NB.  0 0 0 0
NB. eg:
NB.     _1 bandmat 3 5 7
NB.  0 0 0 0
NB.  3 0 0 0
NB.  0 5 0 0
NB.  0 0 7 0
sh=. |. !. 0                  NB. shift in zeroes
sl=. [ + #@] * _1: ^ [ < 0:   NB. signed length
bandmat=: ((sl {. ]) * [ sh =@i.@sl) f.

NB. =========================================================
NB.*cidmat v Counter identity matrix of size y
NB. eg:
NB.    cidmat 3
NB. 0 0 1
NB. 0 1 0
NB. 1 0 0
cidmat=: ]\ (([: <: +:) {. - {. 1:)

NB. =========================================================
NB.*diagmat v Diagonal matrix with y on diagonal
NB. equivalent to 0&bandmat
NB. eg:
NB.     diagmat 3 5 7
NB.  3 0 0
NB.  0 5 0
NB.  0 0 7
diagmat=: * =@i.@#

NB. =========================================================
NB.*hilbertmat v Hilbert matrix of size y
NB. eg:
NB.     hilbertmat 3
NB.  1r1 1r2 1r3
NB.  1r2 1r3 1r4
NB.  1r3 1r4 1r5
hilbertmat=: ]\ % @ x: @ (i.&.<:) @ +:

NB. =========================================================
NB. idmat v Identity matrix of size y
NB. eg:
NB.     idmat 3
NB.  1 0 0
NB.  0 1 0
NB.  0 0 1
idmat=: =@i.

NB. =========================================================
NB. jordanmat v Create Jordan matrix from matrix list
NB. eg:
NB.     jordanmat (1: + [: i. ,~) each 2 1 3
NB.  1 2 0 0 0 0
NB.  3 4 0 0 0 0
NB.  0 0 1 0 0 0
NB.  0 0 0 1 2 3
NB.  0 0 0 4 5 6
NB.  0 0 0 7 8 9
jordanmat=: [: > ((+&$ {. [) + -@:(+&$) {. ]) each /

NB. =========================================================
NB.*ltmat v Lower triangular matrix (of 1's) of size y
ltmat=: {. >:/&i. {:

NB.*utmat v Upper triangular matrix (of 1's) of size y
NB. eg:
NB.    utmat 4 5
NB. 1 1 1 1 1
NB. 0 1 1 1 1
NB. 0 0 1 1 1
NB. 0 0 0 1 1
utmat=: {. <:/&i. {:
NB. math/misc/brent
NB. Brent's method in J
NB. (from J. Patrick Harrington)
NB. version: 1.0.0

NB.*brent a Adverb to solve  f(x) = y0  by Brent's method.
NB. form: f brent (a,b,tol,y0) gives x0 such that f(x0) = y0
NB. Root must lie between a & b; tol = soln. tolerance
NB. Adapted from 'Numerical Recipes', p 253
NB.
NB. For example, let f(x) = cos(x) - x
NB.     f=. 2&o. - ]
NB.     ]x0=. f brent 0 1 1e_10 0.2
NB.  0.616124
NB.     f x0
NB.  0.2
NB.     0.2 - f x0
NB.  _3.97182e_13
brent=: 1 : 0
itmax=. 100        NB. maximum iterations
eps=. 3e_14        NB. ~ floating point precision
abc=. ((0 1){y),0
tol=. 2{y
rr=. - 3{y
NB. Model of FORTRAN "SIGN(A,B)" function:
F_sign=. 4 : '(|x)*(1- +:(y<0))'
fabc=. rr + (u 0{abc),2#(u 1{abc)
if. (*/(0 1){fabc)>0 do.
  zb=. 'Root not in bounds!'
  return.
end.
while. 1<(itmax=. <: itmax) do.
  if. (*/(1 2){fabc)>0 do.
    abc=. (0 1 0){ abc
    fabc=. (0 1 0){ fabc
    e=. d=. -/(1 0){abc
  end.
  if. (</|(2 1){fabc) do.
    abc=. (1 2 1){ abc
    fabc=. (1 2 1){ fabc
  end.
  t1=. (2*eps*|1{abc)+(-:tol)
  xm=. -:-/(2 1){abc
  if. ((|xm)<:t1)+.(0 = 1{fabc) do.
    zb=. 1{abc
    return.
  end.
  if. ((|e)>:t1)*.(>/|(0 1){fabc) do.
    s=. %/(1 0){fabc
    if. =/(0 2){abc do.
      p=. 2*xm*s
      q=. 1 - s
    else.
      q=. %/(0 2){fabc
      r=. %/(1 2){fabc
      p=. s*((2*xm*q*(q-r))-((-/(1 0){abc)*(r-1)))
      q=. (q-1)*(r-1)*(s-1)
    end.
    if. p>0 do. q=. -q
    end.
    p=. |p
    if. (2*p)<((|e*q)<.((3*xm*q)-|t1*q)) do.
      e=. d
      d=. p%q
    else.
      e=. d=. xm
    end.
  else.
    e=. d=. xm
  end.
  abc=. (1 1 2){abc
  fabc=. (1 1 2){fabc
  if. (|d)>t1 do.
    abc=. abc + (0,d,0)
  else.
    abc=. abc + (0,(t1 F_sign xm),0)
  end.
  fabc=. (rr + u (1{abc)) (1)}fabc
end.
zb=. 'Too many iterations!'
)
NB. math/misc/trig
NB. Trigonometric functions
NB. version: 1.0.0

NB.*sin v sin
NB.*cos v cos
NB.*tan v tan
NB.*sinh v sinh
NB.*cosh v cosh
NB.*tanh v tanh
NB.*arcsin v arcsin
NB.*arccos v arccos
NB.*arctan v arctan
NB.*arcsinh v arcsinh
NB.*arccosh v arccosh
NB.*arctanh v arctanh

NB.*atan2 v atan2

NB.*pi n pi

NB.*dfr v degrees from radians
NB.*rfd v radians from degrees

NB.*indegrees a convert function to use degrees:
NB.*sind v sin in degrees
NB.*cosd v cos in degrees
NB.*tand v tan in degrees

cocurrent 'z'

NB. =========================================================
sin=: 1&o.
cos=: 2&o.
tan=: 3&o.

sinh=: 5&o.
cosh=: 6&o.
tanh=: 7&o.

arcsin=: _1&o.
arccos=: _2&o.
arctan=: _3&o.

arcsinh=: _5&o.
arccosh=: _6&o.
arctanh=: _7&o.

atan2=: 12&o.

pi=: 1p1

dfr=: *&(180%pi)
rfd=: *&(pi%180)

NB. corresponding basic functions
sind=: sin @ rfd
cosd=: cos @ rfd
tand=: tan @ rfd
NB. math/misc/matutil
NB. Matrix utilities
NB. version: 1.0.0

NB. band          b band M = zero all but b band of M
NB. cond          condition number of matrix
NB. diag          diagonal of matrix
NB. amenddiag     amend the diagonal of matrix y with list x
NB. diagdom       test if matrix is diagonally dominant
NB. invsut        invert square upper-triangular matrix
NB. minors        minors of matrix
NB.
NB. pivot         (r,c) pivot M       - pivot at row, column
NB. ppivot        (r,c) ppivot M      - partial pivot at row, column
NB.
NB. coldrop       cols coldrop M      - drop cols from M
NB. coltake       cols coltake M      - take cols from M
NB. rowdrop       rows rowdrop M      - drop rows from M
NB. rowdrop       rows rowtake M      - take rows from M
NB.
NB. rowswap       (i,j) rowswap M     - swap rows i and j
NB. rowscale      (i,n) rowscale M    - multiply row i by n
NB. rowshear      (i,j,n) rowshear M  - multiply row j by n and add to row i

require 'math/misc/mathutil'
require 'math/misc/makemat'

NB.*diag v Diagonal of matrix
diag=: (<0 1)&|:

NB.amenddiag v Amend the diagonal of matrix y with list x
amenddiag=: [`(,.~@i.@(<./)@$@])`]}

NB.*diagdom v Test if matrix is diagonally dominant
diagdom=: *./@(diag >: [: +/"1 ] * -.@idmat@#)@:|

NB.*invsut v Invert square upper-triangular matrix
invsut=: 128!:1

NB.*minors v minors of matrix
minors=: 1&(|:\.)"2^:2

NB. =========================================================
NB.*band v b band M  - zero all but x bands of matrix y
NB. eg:
NB.     0 1 band 3 3$5
NB.  5 5 0
NB.  0 5 5
NB.  0 0 5
band=: ] * +./@((,@[ +"0 1 i.@#@]) =/ i.@#@])

NB.*cond v Condition number of matrix
NB. large when matrix is ill-conditioned
NB. eg: 480849 = cond hilbertmat 5
cond=: *&(+/&.(*:"_)@,) %.

NB. =========================================================

NB.*pivot v Pivot at row, column
NB. form: (row,col) pivot M
pivot=: 4 : 0
'r c'=. x
col=. c{"1 y
y - (col-r=i.#y) */ (r{y)%r{col
)

NB. ppivot v Partial pivot at row, column
NB. form: (row,col) ppivot M
NB. differences from pivot:
NB.   - the pivot element is left unchanged (pivot sets it to 1)
NB.   - only columns below the pivot element are modifed
ppivot=: 4 : 0
'r c'=. x
r1=. >:r
col=. c{"1 y
(r1{.y),(r1}.y)-(r1}.col) */ (r{y)%r{col
)

NB. =========================================================
NB. coldrop       cols coldrop M      - drop cols from M
NB. coltake       cols coltake M      - take cols from M
NB. rowdrop       rows rowdrop M      - drop rows from M
NB. rowdrop       rows rowtake M      - take rows from M

NB.*coldrop v Drop cols from M
NB. form: cols coldrop M
coldrop=: <@<@<@[ {"1 ]

NB.*coltake v Take cols from M
NB. form: cols coltake M
coltake=: {"1

NB.*rowdrop v Drop rows from M
NB. form: rows rowdrop M
rowdrop=: <@<@<@[ { ]

NB.*rowtake v Take rows from M
NB. form: rows rowtake M
rowtake=: {

NB. =========================================================

NB.*rowswap v Swap rows i and j
NB. form: (i,j) rowswap M
rowswap=: <@[ C. ]

NB.*rowscale v Multiply row i by n
NB. form: (i,n) rowscale M
NB. or: ({:@[ * {.@[ { ])`({.@[)`]}
rowscale=: 4 : 0
'i n'=. x
(n * i{y) i } y
)

NB.*rowshear v Multiply row j by n and add to row i
NB. form: (i,j,n) rowshear M
NB. or: (+/@(1&,@{:@[ * (}:@[) { ]))`({.@[)`]}
rowshear=: 4 : 0
'i j n'=. x
((i{y) + n * j{y) i } y
)
NB. math/misc/linear
NB. Solve linear equations
NB. version: 1.0.0

NB. =========================================================
NB. elimination functions:
NB.   gauss_elimination    Gauss elimination
NB.   gauss_jordan         Gauss-Jordan elimination
NB.
NB.   back_sub             Back substitution
NB.
NB. =========================================================
NB. iterative methods for solving Ax=B
NB.   gauss_seidel         Gauss-Seidel iteration
NB.   jacobi_iteration     Jacobi iteration
NB.
NB. Typically gauss_seidel converges faster than jacobi, however for
NB. some matrices, jacobi will converge while gauss_seidel does not.

require 'math/misc/matutil'

NB. =========================================================
NB.*gauss_elimination v Gauss elimination (partial pivoting)
NB. y is: (augmented) matrix
NB. x is: optional minimum tolerance, default 1e_15.
NB.   If a column below the current pivot has numbers of magnitude all
NB.   less then x, it is treated as all zeros.
NB.
NB. returns 3 elements: matrix;permutation;row swaps
NB.        where: matrix is in row-echelon form
NB.        permutation{matrix restores the original row order
NB.        row swaps is a matrix of rows that were swapped
gauss_elimination=: 3 : 0
1e_15 gauss_elimination y
:
A=. y
'r c'=. $A
rws=. i.r
i=. j=. 0
p=. ''
max=. i.>./
while. (i<r-1) *. j<c do.
  k=. max col=. | i}. j{"1 A
NB. if all col < tol, set to 0:
  if. 0 < x-k{col do.
    A=. 0 (<(i}.rws);j) } A
NB. otherwise sort and pivot:
  else.
    if. k do.
      p=. p,t=. <i,i+k
      A=. t C. A
    end.
    A=. (i,j) ppivot A
    i=. >:i
  end.
  j=. >:j
end.
q=. (,rws&-.) C. boxopen p
A;q;>p
)

NB. =========================================================
NB.*back_sub v Uses back substitution to solve Ax=b for matrix A (x) and vector b (y)
NB. y is: vector
NB. x is: matrix in row-echelon form
NB. eg: (}:"1 back_sub {:"1) 0{:: gauss_elimination A ,. b
back_sub=: 4 : 0
  A=. (% diag) x
  b=. y (% diag) x
  for_i. i. -#b do.
    b=. ((i{b) - b +/@:*&((i+1)&}.) i{A) i} b
  end.
)

NB. =========================================================
NB.*gauss_jordan v Gauss-Jordan elimination (full pivoting)
NB. y is: (augmented) matrix
NB. x is: optional minimum tolerance, default 1e_15.
NB.   If a column below the current pivot has numbers of magnitude all
NB.   less then x, it is treated as all zeros.
NB. eg: gauss_jordan Matrix
NB. if used to compute matrix inverse, first stitch on the identity matrix
NB. eg: gauss_jordan (,. idmat@#) Matrix
gauss_jordan=: 3 : 0
1e_15 gauss_jordan y
:
A=. y
'r c'=. $A
rws=. i.r
i=. j=. 0
max=. i.>./
while. (i<r) *. j<c do.
  k=. max col=. | i}. j{"1 A
NB. if all col < tol, set to 0:
  if. 0 < x-k{col do.
    A=. 0 (<(i}.rws);j) } A
NB. otherwise sort and pivot:
  else.
    if. k do.
      A=. (<i,i+k) C. A
    end.
    A=. (i,j) pivot A
    i=. >:i
  end.
  j=. >:j
end.
A
)

NB. =========================================================
NB.*gauss_seidel v Solves Ax=b for (diagonally dominant) matrix A, vector b
NB. y is: A;b
NB. x is: optional max iterations (20), error tolerance (1e_8), sor (1)
NB.     sor = successive-over-relaxation constant, between 1 and 2.
NB.         Default 1 means not used.
NB.         Set to adjust the convergence, typically between 1.2 and 1.7.
NB.
NB. returns: table of convergents
gauss_seidel=: 3 : 0
'' gauss_seidel y
:
'A b'=. y
('count';'tol';'sor')=. x,(#x) }. 20 1e_8 1
max=. (i.>./)@|

M=. (] * ltmat@#) A
Mi=. %.M

N=. Mi mp M-A
b=. Mi mp b
r=. ,: t=. b

while. count=. <:count do.
  t=. (sor * b + N mp t) + t * -.sor
  r=. r,t
  if.
    big=. (<_1 _2;max t){r
    (-/big) <&| tol*{.big
  do. break. end.
end.
)

NB. =========================================================
NB.*jacobi_iteration v Solves Ax=b for (diagonally dominant) matrix A, vector b
NB. y is: A;b
NB. x is: optional max iterations (20), error tolerance (1e_8)
NB. returns: table of convergents
jacobi_iteration=: 3 : 0
'' jacobi_iteration y
:
'A b'=. y
('count';'tol')=. x,(#x) }. 20 1e_8
max=. (i.>./)@|

d=. diag A
N=. (d %~ diagmat - ]) A
b=. d %~ b
r=. ,: t=. b

while. count=. <:count do.
  t=. b + N mp t
  r=. r,t
  if.
    big=. (<_1 _2;max t){r
    (-/big) <&| tol*{.big
  do. break. end.
end.
)

NB. =========================================================
Note 'testing...'
 NB. solve Ax=b for x
 A=: 6 1 _2 0 0, 0 4 0 _1 0, 1 _1 5 2 1, _1 0 1 5 0,: 0 1 0 _1 3
 b=: _2.2 _4.4 16.5 _19.8 18.7
 gauss_elimination A,.b        NB. get row-echelon form of A,.b
 (}:"1 back_sub {:"1) 0{:: gauss_elimination A,.b  NB. solve for x
 gauss_jordan A,.b             NB. solve for x
 gauss_jordan (,. idmat@#) A   NB. calc inverse of A
 b +/ .*~ (# }."1 gauss_jordan@(,. idmat@#)) A   NB. solve for x
 jacobi_iteration A;b          NB. solve for x
 gauss_seidel A;b              NB. solve for x
)
NB. math/misc/svd
NB. Singular value decomposition
NB. version: 1.0.0
NB.
NB. for real matrices only

require 'math/misc/jacobi'

NB. =========================================================
NB.*svd v Singular value decomposition of matrix y
NB. returns:  left singular vectors;singular values;right singular vectors
svd=: 3 : 0
mat=. y
if. b=. </$mat do. mat=. |:mat end.
'r s'=. jacobi (|:mat) mp mat
t=. %:r
u=. (mat mp s) %"1 t
|.^:b u;t;s
)

NB. =========================================================
NB. test for random matrices of size y (default 3 3), or given matrix
NB. e.g. testsvd 4 5
testsvd=: 3 : 0
if. 2=#$y do. mat=. y
else. mat=. ? (2{.y,3 3) $ 10
end.
'x y z'=. svd mat
NB. mat should be:
t=. x mp (diagmat y) mp |: z
clean each mat;t;mat-t
)
NB. math_misc manifest

CAPTION=: 'misc math scripts'

DESCRIPTION=: 0 : 0
amoeba.ijs Nelder-Mead multi-dimentional minimization, aka the amoeba method
bigpi.ijs Calculate several digits of pi
brent.ijs Brent's method in J
build.ijs
cheby.ijs Chebyshev approximation
contfrac.ijs Continued fraction utilities
det.ijs Definitions for determinants
fermat.ijs Fermat factorization
gamesolver.ijs Find optimal mixed strategies for 2-person games
gcd.ijs Calculate GCD
integer.ijs Verbs to generate various integer sequences
integrat.ijs Various methods for numeric integration
jacobi.ijs Jacobi's method for eigenvalues and vectors
legendre.ijs Legendre symbol and quadratic residues
linear.ijs Solve linear equations
makemat.ijs Make various standard matrices
matfacto.ijs Matrix factorization
mathutil.ijs Math utilities
matutil.ijs Matrix utilities
mean.ijs Various means
numbers.ijs Various number definitions (Stirling, Euler ...)
odeint.ijs Solve initial value ordinary differential equations
pollard.ijs Pollard factorizations
poly.ijs Polynomial functions
primutil.ijs Primes - prime testing programs
quatern.ijs Definitions for quaternions
rsa.ijs Examples of RSA encryption
simplex.ijs Simplex method
simplexnr.ijs Simplex method (after Numerical Recipes in C)
spline.ijs Spline utilities
svd.ijs Singular value decomposition
trig.ijs Trigonometric functions
)

VERSION=: '1.2.6'

RELEASE=: ''

FOLDER=: 'math/misc'

FILES=: 0 : 0
amoeba.ijs
bigpi.ijs
brent.ijs
build.ijs
cheby.ijs
contfrac.ijs
det.ijs
fermat.ijs
gamesolver.ijs
gcd.ijs
integer.ijs
integrat.ijs
jacobi.ijs
legendre.ijs
linear.ijs
makemat.ijs
matfacto.ijs
mathutil.ijs
matutil.ijs
mean.ijs
numbers.ijs
odeint.ijs
pollard.ijs
poly.ijs
primutil.ijs
quatern.ijs
rsa.ijs
simplex.ijs
simplexnr.ijs
spline.ijs
svd.ijs
trig.ijs
)
NB. math/misc/primutil
NB. Primes    - prime testing programs
NB. version: 1.0.0

NB. main functions:
NB.
NB.  nextprime         next prime number
NB.  prevprime         previous prime number
NB.  primesto          primes up to n
NB.  primepowersto     prime powers up to n
NB.  primeq            test for prime
NB.
NB.  carmichaelq       test for carmichael number
NB.  mersenneq         test for mersenne prime
NB.
NB.  inversep          inverse mod p
NB.
NB.  smallprimefactors get small prime factors for number

NB. powermod           x (n powermod) y
NB. timesmod           x (n timesmod) y
NB. =========================================================

NB. powermod a   x (n powermod) y
powermod=: 1 : 'm&|@^'

NB. timesmod a   x (n timesmod) y
timesmod=: 1 : 'm&|@*'

NB.*prevprime v Previous prime number to y
prevprime=: _4 & p:

NB.*nextprime v Next prime number after y
nextprime=: 4 & p:

NB.*primeq v Test for prime
primeq=: 1 & p:

NB.*primesto v Primes up to y
primesto=: p: @ i. @ (_1 p: >:)

totient=: 5 & p:

NB. =========================================================
NB.*carmichaelq v Test composite for Carmichael number
NB. eg:
NB.     carmichaelq 41 * 61 * 101
NB.   1
NB.
NB. first few such are:
NB.     (#~ carmichaelq) (>:}.i.3000) -. primesto 3000
NB.   561 1105 1729 2465 2821
NB.
NB. returns: 1 for any prime argument
carmichaelq=: 3 : 0 "0
n=. (primesto y) -. q: y
*./ 1 = n (y powermod) y-1
)

NB. =========================================================
NB.*inversep v Inverse mod p
NB.
NB. form: p inversep a    where p is a prime
inversep=: 4 : 0
u=. 1 0,x: y
v=. 0 1,x: x
f=. <. @ (%&{:)
while.
  old=. v
  {: v=. u - v * u f v
do.
  u=. old
end.
x | {. old
)

NB. =========================================================
NB.*mersenneq v Test if prime p generates a mersenne prime
NB. i.e. _1+2^p is prime
NB. eg:
NB.      [x=. (#~ mersenneq) p: i.20
NB.   2 3 5 7 13 17 19 31 61
NB.      _1 + 2x ^ x
NB.   3x 7x 31x 127x 8191x 131071x 524287x 2147483647x 2305843009213693951x
NB.
NB. first few such primes are:
NB. 2 3 5 7 13 17 19 31 61 89 107 127 521 607 1279 2203 2281 3217 4253 4423
mersenneq=: 3 : 0 "0
if. y=2 do. 1 return. end.
m=. <:2^x:y
f=. m&| @ (-&2) @ *:
0 = f^:(y-2) 4
)

NB. =========================================================
NB.*primepowersto v Generate prime powers up to y
NB. eg:
NB.      primepowersto 50
NB.   32 27 25 49 11 13 17 19 23 29 31 37 41 43 47
primepowersto=: 3 : 0
p=. primesto y
s=. <.@%: y
p0=. (p <: s) # p
w=. p0 <.@^. y
p ^ 1 >. (#p) {. w
)

NB. =========================================================
NB.*smallprimefactors v Get small primefactors from number
NB. x is: # of small primes to use, default 1000
NB.
NB. returns: (small factor list);remaining number
NB.          as extended integers
NB. eg:
NB.    smallprimefactors */ p: 7x ^ 1 + i.5
NB. +-----------+----------+
NB. |19 229 2311|3973658267|
NB. +-----------+----------+
smallprimefactors=: 3 : 0
1000 smallprimefactors y
:
x=. x: p: i. x
p=. ''
while. 1 e. msk=. 0 = x | y do.
  x=. msk # x
  p=. p, x
  y=. y % */ x
end.
(/:~p);y
)
NB. math/misc/simplex
NB. Simplex method
NB. version: 1.0.0
NB.
NB. see also math/misc/simplexnr for the simplex method following
NB. "Numerical Recipes in C"
NB.
NB. example description thanks to Henry H. Rich

NB. simplex              simplex method
NB.
NB. Example:
NB.    mat=: 1 _2 _3 0 0 0 , 0 4 1 1 0 12 ,: 0 2 5 0 1 15
NB.    simplex mat
NB. 1 0 0  0.2222222   0.5555556  11
NB. 0 1 0  0.2777778 _0.05555556 2.5
NB. 0 0 1 _0.1111111   0.2222222   2
NB.
NB. The example corresponds to the problem:
NB.
NB. Maximize
NB.   2x[2] + 3x[3]
NB. subject to the constraints
NB.   4x[2] +  x[3] <: 12
NB.   2x[2] + 5x[3] <: 15
NB.
NB. The first line of 'mat' is reserved for the objective
NB. function.  The new variable x[1] is introduced, appearing
NB. in no other equation, and the rest of the objective
NB. function is negated, leaving
NB.
NB. x[1] - 2x[2] - 3x[3] = objective (initially 0)
NB.
NB. When the simplex method finishes, x[1] will represent the
NB. value of the objective function.  The right-hand column
NB. of 'mat' has the constant constraints.
NB.
NB. All rows of 'mat' after the first represent constraints.
NB. All the constraints in 'mat' are equalities.  To use
NB. the simplex code to solve a given problem, additional
NB. variables must be added to the problem, as follows
NB. (the so-called 'Big M' method):
NB.
NB. For a constraint of the form
NB.   c[2]x[2] + ... + c[n]x[n] <: value ,
NB. create a new variable, and put it into the constraint
NB. equation with a coefficient of 1.  The coefficient of
NB. this variable in all other rows (including the objective)
NB. will be 0.  This added variable is called a 'slack variable'.
NB.
NB. For a constraint of the form
NB.   c[2]x[2] + ... + c[n]x[n] = value ,
NB. create a new variable, and put it into the constraint
NB. equation with a coefficient of 1.  The coefficient of
NB. this variable in all other rows (EXCEPT the objective)
NB. will be 0.  The coefficient in the objective equation
NB. will be a (negative) Big Number - such a big cost that the
NB. system will not rest until the added variable has been
NB. assigned the value 0.  The definition of Big depends on
NB. the scale of your problem.  This added variable is called
NB. an 'artificial variable'.
NB.
NB. For a constraint of the form
NB.   c[2]x[2] + ... + c[n]x[n] >: value ,
NB. create 2 new variables, as above: one artificial variable
NB. and one slack variable.
NB.
NB. In the example, the 2 added slack variables make the system
NB. look like:
NB.
NB. 4x[2] +  x[3] + x[4]        = 12
NB. 2x[2] + 5x[3]        + x[5] = 15
NB.
NB. The simplex code does elementary row operations on this system
NB. while ensuring that the objective increases.  When execution
NB. terminates, (#y) variables are nonzero, and the rest will have
NB. zero values. The nonzero variables are the ones whose column
NB. headings are 0 with a single 1 somewhere in a column that is
NB. otherwise all 0.  The value of each such variable is given in
NB. the right-hand column, in the row in which the 1 was found.
NB.
NB. If artificial variables were introduced, you should check to
NB. verify that they are all given 0 value.  If they are not,
NB. the problem has no solution satisfying the constraints.
NB.
NB. In the example, the solution is
NB. x[1] = 11 (final objective value), x[2]=2.5, x[3]=2

require 'math/misc/matutil'

NB. =========================================================
NB.*simplex v Simplex method
NB. eg:
NB.    mat=: 1 _2 _3 0 0 0 , 0 4 1 1 0 12 ,: 0 2 5 0 1 15
NB.    simplex mat
NB. 1 0 0  0.2222222   0.5555556  11
NB. 0 1 0  0.2777778 _0.05555556 2.5
NB. 0 0 1 _0.1111111   0.2222222   2
NB.
NB. The example corresponds to the problem:
NB.
NB. Maximize
NB.   2x[2] + 3x[3]
NB. subject to the constraints
NB.   4x[2] +  x[3] <: 12
NB.   2x[2] + 5x[3] <: 15
NB. See the 'math/misc/simplex' script for full description
simplex=: 3 : 0
min=. i. <./
m=. y
while.
  r0=. }:{.m
  c=. min r0
  0 > c{r0
do.
  t=. {:"1 m
  d=. c{"1 m
  f=. (0 > d){0 _
  r=. min f + t % d
  m=. (r,c) pivot m
end.
)
NB. math/misc/fermat
NB. Fermat factorization
NB. version: 1.0.0

NB.*fermatfactor v Find factor of n near square root of n using Fermat's method
NB. eg:  fermatfactor */ x: p:11000 12000
NB. x is: optional maximum iterations, default 10000
NB. y is: number to be factored
NB.
NB. starts with s=. >.%:n, and increments by 2 until done
NB.
NB. efficient only where there is a factor near the square root
NB.
NB. returns:  res, count
NB. where res is 0 = factor not found
NB.             >0 = proper factor
NB. count = number of iterations
NB.
NB. looks for a,b where n is (a^2) - b^2
fermatfactor=: 3 : 0
10000 fermatfactor y
:
s=. >.@%: x: y
u=. >:+:s
v=. 1
r=. (*:s)-y
c=. 0
while. c < x do.
  c=. >: c
  while. r>0 do.
    r=. r-v
    v=. v+2
  end.
  while. r<0 do.
    r=. r+u
    u=. u+2
  end.
  if. r=0 do. (-: u-v), c return. end.
end.
0, c
)
NB. math/misc/poly
NB. Polynomial functions
NB. version: 1.0.0

NB. chebyshev_tp      - explicit form of Chebyshev T polynomial
NB. chebyshev_up      - explicit form of Chebyshev U polynomial
NB.
NB. chebyshev_tpc     - coefficients of Chebyshev T polynomial
NB. chebyshev_upc     - coefficients of Chebyshev U polynomial
NB.
NB. legendre_pc       - coefficients of Legendre polynomial
NB. =========================================================

require 'trig'

NB.*chebyshev_tp v Evaluate Chebyshev T polynomial of order n at x
NB. form:  n chebyshev_tp x
chebyshev_tp=: cos @ (*arccos)

NB.*chebyshev_up v Evaluate Chebyshev U polynomial of order n at x
NB. form: n chebyshev_up x
chebyshev_up=: ((*>:)~ %&sin ]) arccos

NB. =========================================================

NB.*chebyshev_tpc v Returns coefficients of Chebyshev T polynomial of order n
NB. eg: (chebyshev_tpc 8)&p. = Chebyshev T polynomial of order 8
NB.
NB. or list coefficients to order n+1:
NB.  T=. , <@(+:@(0&,)@>@{: - >@(_2&{) , 0 0"_)
NB.  T ^: n [ 1;0 1
chebyshev_tpc=: 3 : 0
r=. 1 if. y=0 do. r return. end.
s=. 0 1 if. y=1 do. s return. end.
while. y=. <:y do.
  p=. r
  r=. s
  s=. (+:0,r) - p,0 0
end.
)

NB.*chebyshev_upc v Returns coefficients of Chebyshev U polynomial of order n
NB. eg: (chebyshev_upc 8)&p. = Chebyshev U polynomial of order 8
chebyshev_upc=: 3 : 0
r=. 1 if. y=0 do. r return. end.
c=. 0 2 if. y=1 do. c return. end.
s=. 0 1
while. y=. <:y do.
  p=. r
  r=. s
  s=. (+:0,r) - p,0 0
  c=. s + 0,c
end.
)

NB. =========================================================
NB.*legendre_pc v Returns coefficients of legendre polynomial of order n
NB. eg: (legendre_pc 8)&p.  =  Legendre polynomial of order 8
NB.
NB. or list coefficients to order n+1:
NB.  T=. , <@(+:@(0&,)@>@{: - >@(_2&{) , 0 0"_)
NB.  T ^: n [ 1;0 1
legendre_pc=: 3 : 0
r=. 1 if. y=0 do. r return. end.
s=. 0 1 if. y=1 do. s return. end.
i=. 1
while. y >: i=. >:i do.
  p=. r
  r=. s
  s=. (((<:+:i)*0,r) - (<:i)*p,0 0 ) % i
end.
)
NB. math/misc/spline
NB. Spline utilities
NB. version: 1.0.0

NB. =========================================================
NB.*cubicspline v Calculate cubic spline
NB.
NB. y is: 2-row matrix  x ,: f(x)
NB.
NB. result: x values;coefficient matrix,one row per interval.
cubicspline=: 3 : 0
diff=. }.-}:
'x y'=. y
h=. diff x
k=. diff y
w=. 3 * diff k % h
n=. +:(2}.x)-_2}.x
sm=. ,~_2+#x
m=. sm$}.,(sm+0 1){.(}:h),.n,.}.h
c=. 0,w %. m
a=. }:y
b=. (k%h) - h * ((+:c) + }.c,0) % 3
d=. (diff c,0) % 3 * h
(}:x);a,.b,.c,.d
)

NB. =========================================================
NB.*interspline v Interpolate spline
NB.
NB. x is: result from cubicspline
NB. y is: set of x coordinates
NB.
NB. returns: corresponding f(x) values
interspline=: 4 : 0
'i m'=. x
n=. <: +/ i <:/ y
(n{m) p. y-n{i
)

NB. examples:
NB. H=: 1 2 4 5 8 10 ,: 2 1.5 1.25 1.2 1.125 1.1
NB. H=: (i.6) ,: (i.6)^3
NB. H, (cubicspline H) interspline {.H

NB. =========================================================
NB.*freespline v Calculate spline
NB.
NB. y is: 2-row matrix x ,: f(x)
NB.
NB. result: x values;coefficient matrix1;coefficient matrix2
freespline=: 3 : 0
diff=. }.-}:
'x y'=. y
h=. diff x
dy=. diff y
b=. 6*diff dy%h
n=. +:(}.h)+}:h    NB. diagonal elements
sm=. ,~<:$h        NB. dim. of final matrix
t=. (}:h),.n,.}.h  NB. stitched up elements of final matrix
tm=. (sm+(0 1)){.t NB. adds needed zeros to rows!!
m=. sm$}.,tm       NB. checked
y2nd=. 0,(b%.m),0
a=. ($h)#0
d=. (}.y2nd)%h*6
b2=. ((}.y)%h)-(}.y2nd)*h%6
coeffs1=. a,.b2,.a,.d    NB. stitch up coefficients for poly 1
d1=. (}:y2nd)%h*6
b1=. ((}:y)%h)-(}:y2nd)*h%6
coeffs2=. a,.b1,.a,.d1   NB. stitch up coefficients for poly 2
x;coeffs1;coeffs2  NB. oldx and 2 tables of coefficients
)

NB. =========================================================
NB.*aprxspline v Approximate by spline
NB.
NB. x is: output from freespline
NB. y is: pt at which to interpolate
NB. k below picks out row of table to use for poly coeffs
aprxspline=: 4 : 0
'oldx coeffs1 coeffs2'=. x
k=. _1++/(y>:/oldx)
k=. k<.(_2+$oldx) NB. This is to remedy a counting error at end
((k{coeffs1) p. y-k{oldx)+(k{coeffs2) p. ((k+1){oldx)-y
)
NB. math/misc/bigpi
NB. Calculate several digits of pi
NB. from Borwein
NB. version: 1.0.0

NB.*bigpi v Calculate pi to different levels of of precision
NB. y is: number of steps
NB.       each step adds about 14 digits of precision
NB. eg: bigpi 72     (gives approx 1000 digits of pi)
bigpi=: 3 : 0
a=. 545140134x
b=. 640320x ^ 3
c=. 13591409x
d=. 6541681608x
n=. i. >: x: y
s=. (!6*n) * c + a * n
e=. (!3*n) * ((!n)^3) * b^n
m=. {:e
f=. d * -/ (s * m) % e
k=. (a*m) * <.@%: b * 10x^28*y
k <.@% f
)
NB. math/misc/mean
NB. Various means
NB. version: 1.0.0

NB. arithmean   arithmetic mean
NB. geomean     geometric mean
NB. harmean     harmonic mean
NB. commonmean  common mean

NB.*arithmean v Arithmetic mean of y
arithmean=: +/ % #

NB.*geomean v Geometric mean of y
geomean=: # %: */

NB.*harmean v Harmonic mean of y
harmean=: arithmean &. (%"_)

NB.*commonmean v Common mean of y
commonmean=: {. @ ((geomean,arithmean) ^: _)
require 'graphics/bmp graphics/gl2 graphics/png'

coclass 'jviewmat'

coinsert 'jgl2 jni jaresu'

IFJNET=: (IFJNET"_)^:(0=4!:0<'IFJNET')0
IFPLAY=: (IFPLAY"_)^:(0=4!:0<'IFPLAY')0
3 : 0''
if. 0~: 4!:0<'VIEWMATGUI' do.
  VIEWMATGUI=: (IFQT +. IFJA +. ((;:'jwin32 jjava')e.~<11!:0 ::0:'qwd')) > IFJHS +. IFIOS
end.
EMPTY
)
MINWH=: 200 200
DEFWH=: 360 360

VISIBLE=: 1

3 : 0''
if. ('Android'-:UNAME) > IFJA do.
  android_getdisplaymetrics 0
  MINWH=: <. MINWH * DM_density_ja_
  if. IFQT+.IFJA+.VIEWMATGUI do.
    DEFWH=: ,~ <./ <. 2 3{ ". wd'qscreen'
  elseif. 3=4!:0<'getdisplaymetrics_ja_' do.
    DEFWH=: ,~ <./ <. 5 3{getdisplaymetrics_ja_ 0
  end.
elseif. IFIOS do.
  MINWH=: >IFIPAD{310 150;758 250
  DEFWH=: (>:IFRETINA)* MINWH
elseif. IFJA do.
  DM_density_ja_=: {. ". wd 'dm'
end.
EMPTY
)

create=: 0:
onStart=: 3 : 0
vmwin mwh0
)
destroy=: 3 : 0
codestroy''
)
finite=: x: ^: _1
intersect=: e. # [
citemize=: ,: ^: (2: > #@$)
rndint=: <.@:+&0.5
tomatrix=: (_2 {. 1 1 , $) $ ,
fitvm=: 4 : 0
'w h'=. x
mat=. y
'r c'=. $ mat
exp=. (- 0: , }:) <. 0.5 + +/\ r $ h % r
mat=. exp # mat
exp=. (- 0: , }:) <. 0.5 + +/\ c $ w % c
exp #"1 mat
)
delinf=: 3 : 0
if. +:/ _ __ e. ,y do. y return. end.
sc=. 0.1
a=. (,y) -. _ __
max=. >./a
min=. <./a
ext=. sc * max - min
(min-ext) >. y <. max+ext
)
getbitmap=: 3 : 0
glsel'g'
box=. 0 0,glqwh''
res=. glqpixels box
(3 2 { box) $ res
)
gethue=: 4 : 0
y=. y*<:#x
b=. x {~ <.y
t=. x {~ >.y
k=. y-<.y
(t*k) + b*-.k
)
getvm=: 4 : 0
'dat tit'=. 2 {. boxopen y
tit=. ": tit
tit=. tit, (0=#tit) # 'viewmat'
if. ifRGB do.
  mat=. dat
  ang=. ''
else.
  'mat ang'=. x getvm1 dat
end.
if. 2<#$mat do.
  sminfo 'Data rank not supported in viewmat: ',":#$mat
  mat=. ''
end.
dat ; mat ; ang ; tit
)
getvm1=: 4 : 0
hue=. x
mat=. y
ang=. ''
if. 2 > #$hue do.
  hue=. |."1 [ 256 256 256 #: ,hue
end.
select. 3!:0 mat
case. 2;32 do.
  mat=. (, i. ]) mat
case. 16 do.
  ang=. * mat
  mat=. delinf | mat
case. do.
  mat=. finite mat
end.
select. #$mat
case. 0 do.
  mat=. 1 1$mat
case. 1 do.
  mat=. citemize mat
case. 2 do.
case. do.
  mat;'' return.
end.
if. */ (,mat) e. 0 1 do.
  if. #hue do.
    h=. <. 0 _1 { hue
  else.
    h=. 0 ,: 255 255 255
  end.
  mat=. mat { h
else.
  if. #hue do.
    h=. hue
  else.
    h=. 255 * #: 7 | 3^i.6
  end.
  val=. ,mat
  max=. >./ val
  min=. <./ val
  mat=. <. h gethue (mat - min) % max - min
end.

mat=. mat +/ .* 65536 256 1

mat ; ang

)
hadd=: 3 : 0
setvmh VMH,~coname''
)
hcascade=: 3 : 0
''
)
hforms=: 3 : 0
fms=. <;._2 &> <;._2 wdqpx''
fms=. fms #~ (2{"1 fms) e. VMH
fms \: 0 ". &> 4{"1 fms
)
hremove=: 3 : 0
setvmh VMH -. coname''
)
setvmh=: 3 : 0
VMH_jviewmat_=: (~.y) intersect conl 1
)
rgb1=: 256&(#. flipwritergb_jbmp_)
no_gui_bitmap=: 3 : 0
mat=. finite MAT
'rws cls'=. $mat
mwh=. cls,rws
if. -. ifRGB do.
  mwh=. MINWH >. <. mwh * <./ DEFWH % cls,rws
end.
mat=. mwh fitvm mat
)
vmcc=: 4 : 0
ifRGB=: x -: 'rgb'
'mat gid'=. y
'DAT MAT ANG TITLE'=: x getvm mat
if. 0 e. $MAT do. return. end.
mat=. finite MAT
'rws cls'=. $mat
glsel ":gid
glnodblbuf 0
mwh=. glqwh''
if. #ANG do. mwh vf_show mat return. end.
mat=. , mwh fitvm mat
glpixels (0 0, mwh), mat (27 b.) 16bffffff
)
viewmat_jctrl_fkey=: 3 : 'labnext_jlab_ :: ] '''''
viewmat_sctrl_fkey=: 3 : 0
fl=. jpath '~temp/',TITLE,'.png'
wd 'psel viewmat'
(getbitmap'') writepng fl
)
viewmat_g_resize=: 3 : 0
if. needresize do.
  adjwh mwh0
  hcascade''
  hadd''
end.
needresize=: 0
)
viewmat_g_paint=: 3 : 0
try.
mat=. finite MAT
'rws cls'=. $mat
gwh=. glqwh''
if. ifRGB > SHOW do.
  glbrush glrgb 0 0 0
  glrect 0 0,gwh
  mwh=. cls,rws
else.
  mwh=. gwh
end.
if. #ANG do. mwh vf_show mat return. end.
mat=. , mwh fitvm mat
glpixels (0 0, mwh), setalpha mat
glpaintx^:IFJA ''
SHOW=: 1
EMPTY
catch.
viewmat_close''
echo 13!:12''
end.
)
viewmat_close=: 3 : 0
hremove''
wd 'psel ',syshwndp,';pclose'
destroy''
1
)
viewmat_focus_in=: hadd
viewmat_key_press=: 3 : 0
if. isesckey y do. viewmat_close'' else. 0 end.
)
window_delete=: viewmat_cancel=: viewmat_close
fitvf=: 4 : 0

hw=. |. x

'h w'=. hw

mat=. y
'r c'=. s=. $ mat

mat=. ({."1 mat),.mat,.{:"1 mat
mat=. ({.mat),mat,{:mat

mat=. 256 256 256 #: mat

'r2 c2'=. s + 2
'h2 w2'=. <. hw * (r2,c2) % r,c

x=. (c2-1) * (i.w2+1) % w2
k=. x - <. x
b=. (<.x) {"2 mat
t=. (>.x) {"2 mat
mat=. (t *"2 k) + b *"2 -.k

x=. (r2-1) * (i.h2+1) % h2
k=. x - <. x
b=. (<.x) { mat
t=. (>.x) { mat
mat=. (t * k) + b * -.k
mat=. 256 #. >. mat

'xr xc'=. <. -: ($mat) - hw
hw {. xc }."1 xr }. mat
)
vf_show=: 4 : 0

mwh=. x
mat=. y
'rws cls'=. $mat
mat=. , mwh fitvf mat

glrgb 0 0 0
glpen 1 1
glbrush''

glpixels (0 0, mwh), setalpha mat
len=. <. <./ 'scls srws'=. mwh % cls,rws
x=. (-:scls) + scls * i. cls
y=. (-:srws) + srws * i. rws
mid=. x j."1 0 y

if. len < 3 do.
elseif. len e. 3 4 do.
  pixel=. _1 + i.len
  glpixel _2 [\ , rndint +."1 mid + + ANG */ pixel
elseif. len < 20 do.
  ext=. -: len * 0.75
  lines=. ext ,. (-ext), ext - ext * 0.7 * 1j0.8
  gllines _4 [\ , rndint +."1 mid + + ANG */ lines
elseif. do.
  ext=. -: len * 0.75
  lines=. ext , -ext
  gllines _4 [\ , rndint +."1 mid + + ANG */ lines
  poly=. ext - 0,(10 <. len*0.2) * 1j0.6,0.6,1j_0.6
  glpolygon _8 [\ , rndint +."1 mid + + ANG */ poly
end.

)
closeall=: 3 : 0
for_loc. setvmh VMH do.
  viewmat_close__loc''
end.
)
getsize=: 3 : 0
fms=. hforms''
if. 0=#fms
do. sminfo 'viewmat';'No viewmat forms.' return.
end.
wd 'psel ',(<0 1) pick fms
_2 {. wdqchildxywh 'g'
)
readmat=: 3 : 0
fms=. hforms''
if. 0=#fms do.
  sminfo 'viewmat';'No viewmat forms.' return.
end.
wd 'psel ',(<0 1) pick fms
getbitmap''
)
savemat=: 3 : 0
fl=. y
if. 0 = #fl do.
  fl=. jpath '~temp/viewmat.png'
end.
fms=. hforms''
if. 0=#fms
do. sminfo 'viewmat';'No viewmat forms.' return.
end.
wd 'psel ',(<0 1) pick fms
(getbitmap'') writepng fl
)
setsize=: 3 : 0
fms=. hforms''
if. 0=#fms
do. sminfo 'viewmat';'No viewmat forms.' return.
end.
loc=. (<0 2) { fms
wd 'psel ',(<0 1) pick fms
form=. wdqform''
xywh=. wdqchildxywh 'g'
dif=. 0 0, y - _2 {. xywh
wd 'pmove ',":form + dif
)
viewbmp=: 3 : 0
'' viewbmp y
:
dat=. readbmp y
if. 2 = 3!:0 dat do. return. end.
'rgb' viewmat dat;x
)
viewpng=: 3 : 0
'' viewpng y
:
dat=. readpng y
if. 2 = 3!:0 dat do. return. end.
'rgb' viewmat dat;x
)
viewmat=: 3 : 0
'' viewmat y
:
a=. '' conew 'jviewmat'
xx__a=: x [ yy__a=: y
if. IFPLAY do. x viewmat_play y return. end.
if. VIEWMATGUI do.
  empty vmrun__a ''
else.
  empty vmrun__a ''
  (setalpha no_gui_bitmap__a'') writepng jpath '~temp/',TITLE__a,'.png'
  TITLE=. TITLE__a
  destroy__a ''
  if. VISIBLE do.
    if. IFJHS do.
      r=. '~temp/',TITLE,'_',(}.jhsuqs''),'.png'
      (jpath r) frename jpath '~temp/',TITLE,'.png'
      jhspng r
    elseif. IFIOS do.
      uqs=. '?',((":6!:0'')rplc' ';'_';'.';'_')
      r=. '~temp/',TITLE,'_',(}.uqs),'.png'
      (iospath@jpath r) frename iospath@jpath '~temp/',TITLE,'.png'
      t=. '<img src="',(iospath@jpath r),uqs,'"></img>'
      jh t
    elseif. UNAME-:'Android' do.
      android_exec_host 'android.intent.action.VIEW';('file://',jpath '~temp/',TITLE,'.png');'image/png';0
    elseif. do.
      viewimage_j_ jpath '~temp/',TITLE,'.png'
    end.
  end.
end.
)
jhspng=: 3 : 0
d=. fread y
w=. 256#.a.i.4{.16}.d
h=. 256#.a.i.4{.20}.d
t=. '<img width=<WIDTH>px height=<HEIGHT>px src="<FILE><UQS>" ></img>'
jhtml t hrplc_jhs_ 'WIDTH HEIGHT FILE UQS';w;h;y;jhsuqs''
)
viewmatcc=: 3 : 0
'' viewmatcc y
:
empty x vmcc y
)
viewmat_play=: 4 : 0
a=. '' conew 'jviewmat'
xx__a=: x [ yy__a=: y
empty vmrun__a ''
(setalpha no_gui_bitmap__a'') writepng '/viewmat.png'
destroy__a ''
d=. tobase64_base_ fread '/viewmat.png'
playhtml_j_=: '8',d
(2!:0) getJS_j_
)
vmrun=: 3 : 0
x=. xx [ y=. yy
if. 0 > nc <'VMH' do. setvmh '' end.
SHOW=: 0
ifRGB=: x -: 'rgb'
'DAT MAT ANG TITLE'=: x getvm y
if. 0 e. $MAT do. return. end.
mat=. finite MAT
'rws cls'=. $mat
mwh=. cls,rws
if. -. ifRGB do.
  mwh=. MINWH >. <. mwh * <./ DEFWH % cls,rws
end.
mwh0=: mwh
if. IFJA do.
  needresize=: 1
  wd 'activity ',(>coname'')
else.
  vmwin^:VIEWMATGUI mwh
  hcascade''
  hadd''
end.
)
vmwin=: 3 : 0
if. IFQT do.
  wd 'pc viewmat;pn *',TITLE
  wd 'minwh ', ":mwh0
  wd 'cc g isigraph flush'
  wd 'pshow'
elseif. IFJA do.
  wd 'pc viewmat;pn *',TITLE
  wd 'wh _1 _1;cc g isigraph flush'
  wd 'pshow'
elseif. do.
  wd 'pc6j viewmat;pn *',TITLE
  wd 'xywh ', ":0 0, <.@(*&0.5) mwh0
  wd 'cc g isigraph'
  wd 'pshow'
end.
EMPTY
)
adjwh=: 3 : 0
wh0=. y
'w h'=. 2}. ". wd 'qform'
if. (%/wh0) < w%h do.
  h1=. h [ w1=. h * (%/wh0)
else.
  w1=. w [ h1=. w % (%/wh0)
end.
if. IFQT do.
  wd 'set g wh ',":w1,h1
elseif. IFJA do.
  wd 'set g wh ',": <. (w1,h1) % DM_density_ja_
elseif. do.
  wd 'setxywhx g ',":0 0,w1,h1
end.
EMPTY
)
isigraph_event=: 4 : 0
evt=. >@{.y
syshandler=. 'viewmat_handler'
sysevent=. 'viewmat_g_', evt
sysdefault=. 'viewmat_default'
wdd=. ;: 'syshandler sysevent sysdefault'
wdqdata=. (wdd ,. ".&.>wdd)
evthandler wdqdata
0
)
finalize_jviewmat_^:(3=(4!:0)@<) 'finalize_jviewmat_'
viewmat_z_=: viewmat_jviewmat_
viewbmp_z_=: viewbmp_jviewmat_
viewpng_z_=: viewpng_jviewmat_
viewrgb_z_=: 'rgb' & viewmat_jviewmat_
rgb1_z_=: rgb1_jviewmat_
graphics/viewmat - change history

== 1.0.0 ==
 * initial 701 release

== 1.0.1 ==
 * J701 beta release

== 1.0.4/5 ==
 * opengl color RGB byte order with R in the lowest byte
 * viewmat: gtk+3 compatible
 * viewmat: gl2 changes

== 1.0.6/13 ==
 * android/iOS

== 1.0.14 ==
 * android

== 1.0.15/18 ==
 * qt

== 1.0.19 ==
 * cover verb for wd query cmds

== 1.0.20/25 ==
 * qt

== 1.0.26/.. ==
 * j801

== 1.0.39 ==
 * fixed bug in closeall

== 1.0.40 ==
 * add Esc closeNB. viewmat manifest

CAPTION=: 'Displays a viewmat'

DESCRIPTION=: 0 : 0
Viewmat displays tables of data graphically.
)

VERSION=: '1.0.84'

RELEASE=: 'j805'

FOLDER=: 'graphics/viewmat'

DEPENDS=: 0 : 0
graphics/bmp
graphics/color
graphics/gl2
graphics/png
)

FILES=: 0 : 0
viewmat.ijs
history.txt
)
graphics/bmp - change history

== 1.0.0 ==
 * initial 701 release

== 1.0.1/2 ==
 * opengl color RGB byte order with R in the lowest byte
 * simplify projects

== 1.0.3 .. ==
 * j801
BMVG      v   (               F  t  t                                                    | x  |   |  x |     | x    |   x  |     |x    x |    x |        wx | x ||      |   || x   x   | ||        || | | | |  | | |  | |                 | | |           |  | |  x   x|   | | |x | x   |  | x  ||   |    | x  | ||           |  x   |  |   x|  |   x  |      coclass 'jbmp'

RGBSEQ=: 1
flipreadrgb=: endian^:RGBSEQ
flipwritergb=: endian^:RGBSEQ
readbmp=: 3 : 0

r=. readbmphdrall y
if. 2 = 3!:0 r do. return. end.
'nos dat'=. r
'bits rws cls off shdr'=. nos

pal=. off {. dat
dat=. off }. dat

if. bits e. 1 4 8 do.
  pal=. 256 #. flipreadrgb"1 a. i. _4 }: \ (shdr+14) }. pal
  dat=. , ((#~ ^.&256) 2^bits) #: a. i. dat
  pal {~ |. (rws,cls){.(rws,cls+(32%bits)|-cls) $ dat
elseif. bits=24 do.
  cl4=. 4 * >. (3*cls) % 4
  |. (rws,cls) {. 256 #. flipreadrgb"1 a.i. _3 [\"1 (rws,cl4) $ dat
elseif. 1 do.
  'only 1,4,8 and 24-bit bitmaps supported, this is ',(":bits),'-bit'
end.
)
readbmphdr=: 3 : 0
r=. readbmphdrall y
if. 2 ~: 3!:0 r do.
  3 {. 0 pick r
end.
)
readbmphdrall=: 3 : 0

try.
  dat=. 1!:1 boxopen y
  if. -. 'BM'-:2{.dat do. 'not a bitmap file' return. end.
catch.
  dat=. y
  if. -. 'BM'-:2{.dat do. 'file read error' return. end.
end.

toi=. 256&#.@(a.&i.)@(|."1)
bits=. toi 28 29 {dat

if. toi 30 31 32 33{dat do.
  'compressed format not supported' return.
end.

'off shdr cls rws'=. toi (10+i.4 4){dat
(bits,rws,cls,off,shdr);dat
)
writebmp=: 4 : 0

dat=. x
'file min'=. 2 {. (boxopen y), <0

if3=. (3=#$dat) *. 3={:$dat

sbmp=. (-if3) }. $dat
pal=. /:~ ~. ,/ dat
bit=. 4 8 24 {~ +/ 16 256 < # pal
bit=. min >. bit

if. bit e. 4 8 do.
  dat=. pal i. dat
  if. bit=4 do.
    dat=. 16 #. _2[\"1 dat
  else.
    pal=. 256 {. pal
  end.
  spal=. #pal
  if. -. if3 do.
    pal=. 256 256 256 #: pal
  end.
  pal=. flipwritergb"1 pal
  pal=. , a. {~ pal ,. 0
  xsbmp=. ($dat) + 0 1 * 4|-$dat
  bmp=. xsbmp{.dat
else.
  pal=. ''
  spal=. 0
  if. -.if3 do.
    dat=. 256 256 256 #: dat
  end.
  dat=. flipwritergb"1 dat
  bmp=. ,"2 dat
  bmp=. ((1 4)* >. ($bmp) % (1 4)) {. bmp
end.

bmp=. ,|. bmp{ a.
sdat=. $bmp

j=. (|.sbmp),(256 #. 0, bit, 0 1),0,sdat,0 0,2#spal
b=. (54+(4*spal)+sdat),0,(54+4*spal),40,j
head=. 'BM',,a.{~,|."1 (4#256)#:b

(head,pal,bmp) 1!:2 boxopen file
)
readbmp_z_=: readbmp_jbmp_
readbmphdr_z_=: readbmphdr_jbmp_
writebmp_z_=: writebmp_jbmp_
NB. viewmat manifest

CAPTION=: 'bitmap utilities'

DESCRIPTION=: 0 : 0
Utilities for *.bmp files
)

VERSION=: '1.0.14'

RELEASE=: ''

FOLDER=: 'graphics/bmp'

FILES=: 0 : 0
bmp.ijs
jbox.bmp
toucan.bmp
history.txt
)
BMt      6  (               p                2   j 
 &  U J      J  +  t     S  K | + ,!   d Wl  D #   y   = I t l O     PU X   	   R 4) \ ri, N, Lk  #O  5   eN /i p   LqL  <2 o  X ( 	   H     A7    3 5  VS'      1   b  4 0hQ " E   f H 4 ~ < F  i   P cf ^	 0%   x y T 9$ ":  i    L +* . A +(    7  IG> 2~f Q  ,P8  3 25 ^   N  q U th ? t0 dqC  8- f  " lw  7 qpo   B  : 885  #  > +% %  t 
 [c7  l  O |  wa LF  m ! `\) ]\U      C   = "XD    a  IA   $   $   ]    ld =9 3   2    #   )"    " \ 9#    sx  ?<   -#  " 
 R|[ 3 4  2 x  f 	  & .( M     @9  -%   >H*  8 }?  J $        m 4pYr6MM6i_Y?BXXeYfBfp5a"ae"d8888Dr_pH/XXXYeX/fYpH-V"n"h"gD88D(_e?BXX/fY?,kaU/fX,5rYTT_688Dd_affXBH45TYS?f5Tp/B/f4U^5kkYeaa_d8Dd_T5?XrTaBfpp/Bf/BX+Sl]e_DDDM"a]HBXX?Yak,/Bf"lBBBf+5_8DF(aHfXXBfXpYaYHX/]a",fB/Sk_DDMrT5w/X"Hwraa/BfU]aa68"kBXX?aTpX/ra"'?BfT6&"?/f?5+/X+r]'fBfe6"T4XHkaa+?4r"UBfB8("fXB-YTaYBBlar'/f"(88a5X?X/HYarw5e_,_MDkfXlapBfTaY._(D8ge5XXX?4a?BXpTTY+/fB6ia"HXf/-sYaY,?X/TT]p,XfB(8FrTkffHBhTTarBBXaYV-/_ew4s2nTBal'fB(8n:s5r_h"TYfBe]UXfi8gaaneeeenn"r+?XBfr/BM8_araaaeehearBfXYUB	8(a5paenaal?p'/iDn"V-Hpae""Tk/BBanr4D8_TYr5,Xf/Ua_YBXfXlaeneBr88MraeYkk5^U4f/B/paTeaer//?XXX/Yak:2n"'/dFlS+XB/fB/pe]p/f?4:TaY4:kTaalwBD(.+fBBBlTT:4ff,saH/g8(Bf,"a2:p5nep//?elwr	8(B/aah""eaT5f/rTT.g8Dd.?'"a"h"Ta5wYe8VBf']TT"Ta:/fB?+la8;BfBU"_hn"Tp//X/pep(;f/'ra""TfX"aXrM;,_a""T"?,kaSX;F3.Yaa"naYHXH4lT(F3Bf/+YTra"_Ta?B5eHBdM3BfX,p]Tp5aa_aXXBeXB8s/-VYapH-V"naeafXXfX(	6sBf'laU/fX,5rYTa2?XB?XX	fXU]p/B/f4U^5kkYeaaw/Yw8;B/rp/Bf/BX+Sl]ee:f?ka(FF3BUYlBBBf+5e+aM:/'",fB/Skfa86s4ra/BfU]ap/H4la(g8Be"'?Bf"HfX/w5ar688;/'"]'fBfU?fXB5Td;Bwla"UBfB^"efXpF3/r'/fB]Tl/XBHYa/X;8g:fwl_,B-rea+H+kawfV3Fs/4.TaaY.f.ek/B/45afXVl6886leaaTY+/fBXUY?BXXefBV38VYak:2nT]p,XfBBfppH/XXXYw/Vlg8DdaY2eaaYV-/BS"e?BXX/fY?V(Hal'fBBf]affXBH45T"S.3aep/?]UXfUT5?XrTTlgMkT5f/-ker/BBea]HBXX?Yak,68]a5Bw?YYUBf+kaHfXXBfXpYaY(D8_a:/fB+la'//T5w/X"rg"p//XXper4fkBXX?TTp68DdfXH"eBf?/f?l4.d(T"?,ka"'/T4XXH]"a+FYHXH4laalwB/kfXB._ek8gka?B5T/B/VTa5X?XVVVYrXV;MkTXXBlwffSYakfXUV.apB38]fXXfT.4/BBB?a"5XXX^^SVn?l	86Ya2?XB?elw4pY""HXSU'^kaY,?XV88"n/BYaYl"ae"akfU,-^-.rB8_T:/f?kaa"h"eUU-+,^SaTfB(8"e??an"T"r^-++,^p+."TYf886_paa""a"l-+-^^p+'Vn"r+Xr88p/XH4la"Taaae"]5S-,,,,'^pp++U]hrBfM88]aHfX/w5aa_hTeT"]l^-----,^pp++-^"nlBD?fX5T_n"aTe"_r.U'''''--,U^.+++STae"k/Bdi_e/Xpaa__aaT""YklpS''''''--^^S++,^]a"UfBXM8	]TTl/XH'Yaae_"__k:sPP'''.VU,+S.Ter//HVF8d;8		_a+H+kaae"""___]3qqqPP'^..,,,+^_e]-H/fM8F(	88gak-/B/45aaTT"""___Y(|O[AAPS^.p',-,,S.TTT:fVD=1D86Dg8Dd_Y?BXXBpTaTTe""""___Y2(6   *O[[AqqPS^..'---,,,,^]22:p58;~g6d7g	(MpH/XXXYaaaTe"""""____Y2i6GGI

  **O[AAqPPS^...-'---,,,.eanh""T"6d8dt1686(g{aT+?BXX/YTTe""_"____""29D8<GII


  **OO[AAqqP^...p''''---,,,^]a""TTu9MgW~ggd7D((M7D(r{T"pSl_""__Y9i&}&D8		<GGIII

  **O[[AqPP^...p''''--,-.eeT"T68=8~Ld;M2]"TaaaTTTT""""_ls||y}}}}}}}}b&&&D	<<GGI



 **O[[AAq..5p''''---,^]"hn"T_=~gWN8L(6D7L_""__"_"""_"""_""Y2|;;MZZQQbb&&&D	<<GGII

   *O[Aqqs55'''---SVTa"h"ae`86W8L(tWMN_229KRx  ZZZJJCCCQQQb&&&D		<GGII


  **O[Ass5::P''''--'._T""TauEgdL7Ft(7{cjjj\\\!\!xx   ZZZJJCCCQQQbb&&8		<GGII


  **OO[:::ssPP'-'-UlT"T_uL6t~L10c!!xx   ZZZJJCCQQQbb&&&D	<GGGII

   *O3:(|P''''Va"_T"uENktE0)))!!xxx  ZZJJCCCQQbb&&&D	<<GGII


3(3|[[[AqPP''-._a_aEEE`11%)))!!!xx   ZZJJCCCQQQbbb&&D8		<GII3(3OO[AAqPP''UaTTaeELE0$))!!!xx   ZZJJCCCQQbbb&&8	<g;d((d *OO[[AqqPP''Va]U%$$$)))!!!xx   ZZZJJCCCQQbb&&&DF6d(6 

  *OO[AqqPP'."fV`%###$$$))!!!xx   ZZJJCCCQQQbb&&&6ddi6GI


  *O[AAqPP'^aUBfp`1###$$$$)))!!!xx   ZZJJCCCQQ}yiddg8	<GII


  **O[[AqPPSVU/BL####$$$))!!!xx   ZZZJJJCCQQyi(ii8	<GGII


  *OO[[AqqPP^]]BVE####$$$))!!!xx JJCCCQQQZZyiib&D	<<GGII

   *O[[AAqPP^Veer-B###$$$$)))!!xxxJJJCCQQ}}iiy}}b&&D	<<GGII


 **O[AAqPPU._.fVu@###$$$$)))!!!!xxJdiQ}}}}bb&&&D	<<GGII


  *O[[AqPPS.UX1m####$$$)))\\!iQQQbb&&&8		<GGIII

  **OO[[AqqPP.]TpfBVE10m####$$$))c%{99iiy}}}}}JJJCCQQQbb&&&D		<<GGII

  **O[AAqP."SBN%mm##R%KK99RQQQZZJJJCCCQQbb&&&D	<<GGII


  *O[AAqP.a_'fBBV70%K{{9{{KRc\\\!!xxJJJCCQQQZZJJJCCQQbbb&&8		<GGII


  *OO[[AqPT5Ufw.WW{W{%%00c!!!xJJJCCCQQZZZJJCCCQQbbb&&&		<GGIII

  **OO[[AApTerSXBB/r=@m$))!!xx   ZZJJJCCCQQbb&&&8		<<GGII

  **O[AATa]UfB+fBUY"u=m###$$$)))!!xxx  ZZJJJCCCQQbb&&&8	<<GGII

  **O[AAqse"/B//'tm###$$$$))!!xxx  ZZJJJCCQQQbbb&&D		<GGIII

  **OO[[AqseUBffB4r"Nm####$$))!!!xx  ZZJJCCCQQQbb&&&D		<GGGI


  **OO[[AsTU/BfeE0###$$$))!!xx  ZZZJJJCCQQQbb&&&8		<<GGII

  **O[srT]B/'"1LL0m###$$$)))!!xxx  ZZJJCCCQQbb&&&8	<<GGII

  **Osreer-B/BwlaELN1%m###$$$))!!!xx  ZZJJCCCQQbbb&&D	<<GGII

   *O:re.flf/T1o>>>>>oztm####$$$))!!!xx  ZZJJCCCQQQbb&&&D		<<GGII

  ***lYaUX"Yfwr7z>ouuo>zLm###$$$)))!!!xx   ZZJJJCCCQQbb&&&8	<<GGII

    |epfB"T?BBB/4.To7###$$$))!!xxx  ZZZJJCCCQQbbb&&D	<<GGII


 :T"SB"Yp4w,leT`E7W###$$$))!!!xx  ZZJJCCCQQbb&&D		<GGII


vr__'fB"ea"lY"7W####$$$))!!!xx   ZZJJJCCQQbb&&&D8		<<GIII|.U"h"a_1###$$$$)))!!!xx   ZZJJJCCQQQbb&&&8	<<GGGv5/,]aTXBB/"n`=###$$$))!!xxx  ZZZJJCCQQQbb&&&D	<<Gg;.Bk+fBU""aa1No=m###$$$))!!!x   ZZZJJCCCQQbbb&&D	<<6:B?,kn/'e"1`>ozozE####$$$))!!!xx   ZZJJJCCQQbb&&D88(ffB4rnh_aTT"No>>>>>z`m##$$$$))!!!xx   ZZJJJCCQQQbb&&&M35fYfe_a"_"eeu`NEm###$$$))!!xxx  ZZZJJCCQQQbbb&&&MrU?,ka/'"_aT_n""TaTNEEE###$$$$))!!xxx  ZZJJCCCQQbbb}6(k_"S?f5T]+/Bwlaaeen"7W###$$$$))!!xx  ZZJJJCCQQQ}y]_eaBfpaV/B/eanY_a_u7~###$$$))!!xx   ZZZJJCCQQQ}d_Tk,/Bf"a"Sfwra"he^,pla"N7W###$$$))!!xx   ZZZJJCCQ}i"aYHX/]a"T?BBB/4.The+/?+k"uNt7m###$$$))!!xxx  ZZZJJCik]_e"Hwra"Yp4w,lea"eUBBBB]aeN`L###$$$$))!!xxx   ZZk_eTpX/ra"ea"lYn?BHl"uu%####$$$))!!xx   (k]"T5+/X+r"h"aT2-fXff+Ya_0m###$$$)))!!xx     (k]_"aa+?4r"n"eB?knaT_###$$$))!!\92]_TaYBBlaa""a"f/fU5kkYeT_{0mjjjjjj3::.V_Tarw5eae""-XBBH+5ll___]]2~~WK%%R%KK333::XUapBfTeTh_ak+f/B?/4B--U^VV_TaaTTeee""""_____""_.SBfp?BXpT"h_a/Bf/fB??/BH+,lYaaYV-/BS"Y,?X/T_anfBXB/?fB]anl'fBBf'_arBBX_a:/ke]UXfUTB4BBXXfr/BBXTYfBeel/pYUBf+kr+?XBfaY.,+HBfX?'/arBfXe"lpXH/Bff/r4Bfal?pakS4HB/XHBHX?efk/BBaaa"k5U,/XBBB?f+'p5lU"'/YBXfXlaT_5'?HffBfHB//,plk""Te]alwB/+]er/?BXXB/YaYr5,44'5k2Ta/BfVae]p-BH/f?4:TNB. standard plot defaults
NB.
NB. builds a noun PlotDefaults that is run for each plot. You
NB. can override these definitions by creating a script in your
NB. config directory: ~config/plotdefs.ijs, and enter any changed
NB. default options.
NB.
NB. For example, to default to axes without frames or grids, enter the
NB. following into your plotdefs.ijs script:
NB.
NB. AXES=: 1
NB. FRAME=: 0
NB. GRIDS=: 0
NB.
NB. Note: names for global nouns defined in this script must be
NB. uppercase only. Plot does not use uppercase names in the
NB. code, therefore names defined here cannot conflict with it.

NB. =========================================================
NB. defaults same for all platforms:
all=. 0 : 0
ASPECT=: 0
AXES=: 0
AXISCOLOR=: BLACK
BACKCOLOR=: WHITE
BANDCOLOR=: RGCLR
BARWIDTH=: 0.75 NB. width of bars in barchart (0-1)
BORDER=: 0
BORDERSIZE=: 8
BOXED=: 1
CAPTIONCOLOR=: BLACK
CLEAR=: 1
CONTOURLEVELS=: 20
EDGECOLOR=: BLACK
EDGESIZE=: 1 NB. polygons etc
FORECOLOR=: BLACK
FONTSCALE=: 0.75 NB. 72%96
FONTSIZEMIN=: 11 NB. minimum font size on firefox
FRAME=: 1
FRAMEBACKCOLOR=: '' NB. color of frame background (if different from BACKCOLOR)
FRAMESTYLE=: '' NB. 'in|out', default choose from graph type
GRAPHBACKCOLOR=: '' NB. color of graph background (if different from BACKCOLOR)
GRIDCOLOR=: SILVER
GRIDPATTERN=: 1 0 0 NB. series of 1's followed by 0's
GRIDS=: 1
NB. GUIDESIZE=: 1 NB. axes, grids, frame
NB. reduced as cairo accepts floats and 1 is too thick
GUIDESIZE=: 0.5 NB. axes, grids, frame
ITEMCOLOR=: STDCLR
KEY=: ''
KEYCOLOR=: ''   NB. color of keys, default itemcolor. Text uses labelcolor.
KEYMARKERS=: '' NB. names, or numeric indices into KeyMarkerNames
KEYPOS=: ''     NB. left|right top|bottom inside|outside (lti)
KEYSTYLE=: ''   NB. left|right boxed horizontal|vertical (lbv)
KEYTITLE=: ''
LABELCOLOR=: BLACK
LABELS=: 1
MARKERS=: '' NB. names, or numeric indices into MarkerNames
MARKERSIZE=: 1 NB. marker size
MESH=: 1
ORIENTATION=: 2
ORIGINXLABEL=: 0 NB. if show zero label at origin
PENPATTERN=: 1 0;12 6;2 4;12 6 2 4;12 6 2 4 2 4
PENSIZE=: 1 NB. line drawing except for guides and edges
PENSTYLE=: 0
PIEPERCENT=: 0 NB. if label pie with percents
PLOTCAPTION=: 'Plot'
POLAR=: 0
PRINTMARGIN=: 1440 NB. margins in twips (left,top,right,bottom)
PRINTWINDOW=: '' NB. print window
PSHOW=: '' NB. default style for pshow
RTIC=: ''
RULECOLOR=: BLACK
RULESIZE=: 1
SEPARATOR=: '|'
SHOWBOXES=: 0 NB. if show boxes (for debugging)
SINGTOLER=: 10
SUBTITLE=: '' NB. not used yet
SUBTITLECOLOR=: BLACK
SUBTITLESTYLE=: ''
SYMBOLCOLOR=: BLACK
SYMBOLS=: ''
TEXTCOLOR=: BLACK
TICMAJOR=: 7
TICMINOR=: 4
TICS=: 1
TICSTYLE=: '' NB. in|out default in
TITLE=: ''
TITLECOLOR=: BLACK
TITLESTYLE=: ''
TYPE=: ''
VIEWCENTER=: 0 0 0
VIEWPOINT=: 1.6 _2.4 1.5
VIEWSIZE=: 1 1 0.5
VIEWUP=: 0 0 1
VISIBLE=: 1
XCAPTION=: ''
XCAPTIONSTYLE=: ''
XFUNCRES=: ''
XGRIDPATTERN=: 3 5
XINT=: ''
XLABEL=: ''
XLABELSTYLE=: ''
XLOG=: 0
XRANGE=: ''
XGROUP=: ''
XTIC=: ''
XTICPOS=: ''
Y2AXIS=: '0'
YCAPTION=: ''
YCAPTIONSTYLE=: ''
YFUNCRES=: ''
YGRIDPATTERN=: 3 5
YINT=: ''
YLABEL=: ''
YLABELSTYLE=: ''
YLOG=: 0
YRANGE=: ''
YGROUP=: ''
YTIC=: ''
YTICPOS=: ''
Y2CAPTION=: ''
Y2CAPTIONSTYLE=: ''
Y2LABEL=: ''
Y2LABELSTYLE=: ''
Y2LOG=: 0
Y2RANGE=: ''
Y2TIC=: ''
Y2TICPOS=: ''
ZCAPTIONSTYLE=: ''
ZGRIDPATTERN=: 3 5
ZINT=: ''
ZLABEL=: ''
ZLABELSTYLE=: ''
ZLOG=: 0
ZRANGE=: ''
ZGROUP=: ''
ZTIC=: ''
ZTICPOS=: ''
)

NB. =========================================================
NB. add system specific definitions:
w32=. 0 : 0
CAPTIONFONT=: 'Arial 13'
KEYFONT=: 'Arial 9'
LABELFONT=: 'Arial 9'
SYMBOLFONT=: 'Arial 9'
TEXTFONT=: 'Arial 13'
SUBTITLEFONT=: 'Arial 14'
TITLEFONT=: 'Arial 15'
)

unx=. 0 : 0
CAPTIONFONT=: 'Sans 13'
KEYFONT=: 'Sans 10'
LABELFONT=: 'Sans 10'
SYMBOLFONT=: 'Monospace 10'
TEXTFONT=: 'Sans 13'
SUBTITLEFONT=: 'Sans 14'
TITLEFONT=: 'Sans 15'
)

all=. all, IFWIN pick unx;w32

NB. =========================================================
PlotDefaults=: 3 : 0 all
if. IFTESTPLOTJHS +. IFJHS do.
  r=. 'OUTPUT=: JHSOUTPUT'
elseif. IFQT do.
  r=. 'OUTPUT=: ''qt'''
elseif. IFJA do.
  r=. 'OUTPUT=: ''android'''
elseif. ('jwin32';'jjava') e.~ < (11!:0) ::0: 'qwd' do.
  r=. 'OUTPUT=: ''isi'''
elseif. do.  NB. jconsole
  r=. 'OUTPUT=: CONSOLEOUTPUT'
end.
y,r,LF
)
coclass 'jzplot'
require 'graphics/afm graphics/color/colortab graphics/bmp graphics/png math/misc/trig'

3 : 0''
if. 0 ~: 4!:0 <'JHSOUTPUT' do. JHSOUTPUT=: 'canvas' end.
if. 0 ~: 4!:0 <'CONSOLEOUTPUT' do. CONSOLEOUTPUT=: 'pdf' end.
if. 0 ~: 4!:0 <'IFTESTPLOTJHS' do. IFTESTPLOTJHS_z_=: 0 end.
if. IFTESTPLOTJHS +. IFJHS do.
elseif. IFQT do.
  if. 0 < #1!:0 jpath '~addons/ide/qt/console.ijs' do.
    require '~addons/ide/qt/console.ijs'
  end.
  require 'graphics/gl2'
  coinsert 'jgl2'
elseif. IFJA do.
  require 'graphics/gl2'
  coinsert 'jgl2'
  CONSOLEOUTPUT=: 'android'
elseif. ('jwin32';'jjava') e.~ < (11!:0) ::0: 'qwd' do.
  require 'graphics/gl2'
  coinsert 'jgl2'
elseif. do.
  if. 0 < #1!:0 jpath '~addons/graphics/gl2/gl2.ijs' do.
    require 'graphics/gl2'
    coinsert 'jgl2'
  end.
  if. -. IFIOS +. IFJA +. (UNAME-:'Android') +. ((UNAME-:'Darwin') *. ((0;'') e.~ <2!:5 'QT_PLUGIN_PATH')) +. ((UNAME-:'Linux') *. (0;'') e.~ <2!:5 'DISPLAY') do.
    if. (CONSOLEOUTPUT-:'qtc') *. (0 < #1!:0 jpath '~addons/ide/qt/qt.ijs') *. ('"',libjqt,'" dummyfunction + n')&cd :: (2={.@cder) '' do.
      require '~addons/ide/qt/console.ijs'
    end.
  end.
end.
if. 0 < #1!:0 jpath '~addons/graphics/cairo/cairo.ijs' do.
  require 'graphics/cairo'
  coinsert 'jcairo'
end.
coinsert 'jafm'
''
)
NOAXES=: 'axes 0;boxed 0;frame 0;grids 0;labels 0;tics 0;'
NOFRAME=: 'axes 1;frame 0'

KEYWORDS=: 'noaxes';'noframe'
EMPTY=: i.0 0
alfndx=: 3 & u:
assign=: 4 : '".x,''=:y'''
average=: +/ % #
blockcount=: [: {. }:@$ , 1:
boxrows=: >@(,.&.>/)@:(;/&.>)
cile=: $@] $ ((* <.@:% #@]) /:@/:@,)
citemize=: ,:^:(2 > #@$)
cleanz=: * | >: 1e_10"_
cmatch=: (#@[) $ citemize@]
cross=: +/ .* (3 3 3$0 0 0 0 0 _1 0 1 0 0 0 1 0 0 0 _1 0 0 0 _1 0 1 0 0 0 0 0)&(+/ .*)
cutxyz=: <"2@(0 1&|:)
deb=: #~ (+. 1: |. (> </\))@(' '&~:)
det=: -/ .*
dim0=: ]`({."1) @. (2=#&$)
dim1=: ]`{. @. (2=#&$)
dist=: +/&.(*:"_)
dlb=: }.~ =&' ' i. 0:
dquote=: '"'&,@(,&'"')
dquoted=: 2+./\0,2|+/\@(=&'"')
drange=: {:-{.
each=: &.>
extbmp=: , ((0 < #) *. [: -. '.'"_ e. ]) # '.bmp'"_
extemf=: , ((0 < #) *. [: -. '.'"_ e. ]) # '.emf'"_
extjpf=: , ((0 < #) *. [: -. '.'"_ e. ]) # '.jpf'"_
extpng=: , ((0 < #) *. [: -. '.'"_ e. ]) # '.png'"_
findprefixes=: +./"1 @: ([ = (#@>@[) {.each ])"0 1
first=: >@{.
firstin=: e. {.@# [
firstones=: > 0: , }:
firstword=: {.~ i.&' '
fit01=: ((- <./@,) % (>./ - <./)@,) : ((] - {.@[) % -~/@[)
fitin=: {.@[ + ({: - {.)@[ * ((- <./@,) % (>./ - <./)@,)@]
fix=: _1&".
has=: [: +./ (e.~ boxopen f.)
head=: {.~ i.&' '
hostcmd=: [: 2!:0 '(' , ,&' || true)&'
index=: [ ((#@[ = ]) { ] , _1:) i.
int01=: i.@>: % ]
intersect=: e. # [
inxb=: <:@(+/\) i. i.@(+/)
isboxed=: 0 < L.
ischar=: 3!:0 e. 2 131072 262144"_
is1color=: 3 = */ @ $
iscomplexdata=: 3!:0 e. 16 16384"_
iscounter=: -: |@<.
isempty=: 0 e. $
isinteger=: -: <.
islinear=: *./@(= {.)@(}. - }:)
islocale=: {. @ (e. 18!:1 @ 1:)
lastone=: </\ &. |.
lastones=: > }. , 0:
log10=: 10&^.
lsfit=: {:@] %. {.@] ^/ i.@>:@[
matsize=: _2 {. 1 1 , $
mp=: +/ . *
nc=: 4!:0
packs=: (, ,&< ".) &>
pdefs=: 3 : '0 $ ({."1 y)=: {:"1 y'
pbuf=: 3 : 'buf=: buf,,y,"1 LF'
pick=: >@{
pickf=: 2 : 'u @ > @ (n&{)'
pow10=: 10&^
scale01=: (% {:) @: (0: , +/\)
splits=: i.&' ' ({.;}.@}.) ]
nthword=: +/\@(> 0 , }:)@(~:&' ')@] i. >:@[
partition=: 1 , [: -. }: -:"_1 }.
rank=: #@$
rank01=: 2 > [: # $
rfd=: *&1r180p1
rnd=: [ * [: <. 0.5"_ + %~
rndint=: <.@:+&0.5
rnddn=: [ * [: <. %~
rndup=: [ * [: >. %~
signal=: 13!:8&12
tail=: }.~ >:@(i.&' ')
tolist=: }.@;@:((10{a.)&,@,@":&.>)
tominus=: '-' & (([: I. ] e. '_'"_)})
towords=: ;: ^: _1
u2a=: (1 u: 7 u: ]) :: ]
unitvec=: % dist
zero=: * | >: 1e_10"_

sin=: 1&o.
cos=: 2&o.
boxarg=: 3 : 0
ws=. 8 9 10 13 32 44{a.
del=. 34 127{a.
dat=. ' ',y
b=. (dat e. ws) > ~:/\ dat e. del
dat=. (<'') -.~ b <;._1 dat
dat -. each <del
)

boxascii=: ]
check_epsreader=: 3 : 0
check_reader y
)
check_pdfreader=: 3 : 0
check_reader y
)
check_reader=: 3 : 0
ndx=. 1 i.~ ' -' E. y
flexist ndx {. y
)
comma2blank=: 3 : 0
' ' (I. y=',') } y
)
commasep=: 3 : 0
',' (I. y=' ') } y
)
chop=: 3 : 0
y chop~ (' ',LF) {~ LF e. ,y
:
if. 2>#$y
do.
  (<'') -.~ (y e.x) <;._2 y=. y,{.x
else.
  |: &.> y -. {: y=. (*./y e.x) <;._2 |: y=. y,"1 [ 2${.x
end.
)
cubicspline=: 3 : 0
diff=. }.-}:
'x y'=. y
h=. diff x
k=. diff y
w=. 3 * diff k % *: h
n=. +:(2}.x)-_2}.x
sm=. ,~_2+#x
m=. sm$}.,(sm+0 1){.(}:h),.n,.}.h
c=. 0,w %. m
a=. }:y
b=. (k%h) - h * ((+:c) + }.c,0) % 3
d=. (diff c,0) % 3 * h
(}:x);a,.b,.c,.d
)
interspline=: 4 : 0
'i m'=. x
n=. <: +/ i <:/ y
(n{m) p. y-n{i
)

cut=: 4 : 'a: -.~ (y e.x) <;._2 y=. y,{.x'
cutopen=: 3 : 0
y cutopen~ (' ',LF) {~ LF e. ,y
:
if. L. y do. y return. end.
if. 1 < #$y do. <"_1 y return. end.
(<'') -.~ (y e.x) <;._2 y=. y,{.x
)
dictget=: 4 : 0
(({."1 y) i. x) { ({:"1 y),<''
)
facenormal=: 4 : 0
norm=. x * unitvec (}:cross&(-/)}.) 3{.y
norm + (+/y) % #y
)
getangle=: arctan@% + o.@(] < 0:)
ifjwplot=: 3 : 0
('plot' -: PForm) *. 'jwplot' -: > coname''
)
ifparent=: 3 : 0
(<y) e. 1 {"1 pforms''
)
ifplotf=: 3 : 0
2 e. 3!:0 (S:0) _1 pick y
)
info=: 3 : 0
sminfo@('Plot'&;) :: smoutput y
)
interp01=: 3 : 0
y=. y * <: #x
b=. x {~ <.y
t=. x {~ >.y
k=. y - <.y
(t*k) + b*-.k
)
keyarg=: 3 : 0
dat=. ;: tolower y
msk=. dat e. KeyOpts
({. &> msk # dat), ;(-.msk) # dat
)
maxmask=: 4 : 0
rem=. y-x
if. 0 >: rem do. 1
elseif. rem <: x do.
  1 ,~ (<:y)$((rndint x%rem)$1),0
elseif. 1 do.
  1 ,~ (<:y)$1,(rndint rem%x)$0
end.
)
mfv=: 4 : 0
if. 2>#$y do.
  ];._2 y,x #~ x ~: _1{.x,y
else.
  y
end.
)
ncile=: 4 : 0
min=. <./,y
max=. >./,y
step=. }: min+(max-min)*(i.>:x)%x
<: +/ step <:/ y
)
plenfrom=: 4 : 0
x {.each (0,+/\}:x) }.each <y
)
pfmt=: 3 : 0
dat=. ": 0.0001 round y
txt=. ,dat
($dat) $ '-' (I. txt='_') } txt
)
pfmtjs=: 1&$: : (4 : 0)
dat=. 0.0001 round y
txt=. , dat=. commasep@(('('&,)@(,&')')^:x)@":"1 dat
($dat) $ '-' (I. txt='_') } txt
)
pforms=: 3 : 0
if. 0=# z=. <;._2;._2 @ wdqpx '' do. z=. 0 6$<'' end.
z
)
qchop=: 3 : 0
q=. dquoted y
s=. ' '=y
qs=. q*.s
y=. DEL (inxb qs)}y
dltb@unquot@((DEL,' ')&charsub)@deb each chop y
)
query=: 4 : 0
x ((wdquery 'Plot'&;) :: (1: smoutput)) y
)
range=: 3 : 0
'x y n'=. 3{.y,1
s=. _1^y<x
x+s*n*i.>:<.n%~|y-x
)
rotxy=: 4 : 0
rot=. 2 2$ 1 1 _1 1 * 0 1 1 0 { 2 1 o. x
rot +/ . * "2 1 y
)
smooth=: (cubicspline@:(,:~ i.@#) interspline i.&.(4&*)@#)"1
steps=: {. + (1&{ - {.) * (i.@>: % ])@{:
unquot=: 3 : 0
'" ' charsub y
)
selectpid=: 3 : 0
if. 0~: (0&". ::]) PIdhwnd do.
  glsel ":PIdhwnd
elseif. #PId do.
  glsel PId
end.
)
isigraph_event=: 4 : 0
evt=. >@{.y
syshandler=. PForm, '_handler'
sysevent=. PForm,'_',PId,'_', evt
sysdefault=. PForm, '_default'
if. 1=#y do.
  wdd=. ;: 'syshandler sysevent sysdefault'
elseif. 2=#y do.
  sysdata=. ": >1{y
  wdd=. ;: 'syshandler sysevent sysdefault sysdata'
elseif. 3=#y do.
  sysdata=. ": >1{y
  sysmodifiers=. ": >2{y
  wdd=. ;: 'syshandler sysevent sysdefault sysdata sysmodifiers'
end.
wdqdata=. (wdd ,. ".&.>wdd)
evthandler wdqdata
0
)
rectcenter=: 2&{. + -:@(2 3&{)
angle2=: [: r.^:_1 *@(j./)"1
g0=. }:"1
g1=. (1 2&{ - 0 0&{)"2
g2=. 0: < -/"1 @: ({. * |. @: {:)"2
facing=: g2 @: g1 @: g0 f.
boxrs2wh=: 3 : 0
a=. 2 {."1 y
b=. 2 }."1 y
(a <. b) ,"1 >: | a - b
)

boxwh2rs=: 3 : 0
a=. 2 {."1 y
b=. 2 }."1 y
a,"1 a + b
)
colorxy=: 4 : 0
x=. (i. >: x) % x
x=. x * <: #y
b=. y {~ <.x
t=. y {~ >.x
k=. x - <.x
<. 0.5 + 255 * (t*k) + b*-.k
)
fonargs=: 2 : 0
v (, (u&.>)`(u"0/&.>/)@.(<:@#))@(<^:(-.@*@L.)) y
:
x v (, (u&.>)`(u"0/&.>/)@.(<:@#))@(<^:(-.@*@L.)) y
)
getbandcolor=: 3 : 0
ndx=. y - <./ y
ndx=. <. 0.5 + ndx * (<:#BANDCOLOR) % >./ ndx
ndx { BANDCOLOR
)
getitemcolor=: 3 : 0
y $ DataNdx |. ITEMCOLOR
)
getsquarebox=: 3 : 0
'x y w h'=. y
min=. w <. h
x=. x + <. -: w - min
y=. y + <. -: h - min
x,y,min,min
)
getpieframes=: 3 : 0
'Fx Fy Fw Fh'=: Fxywh=: Lxywh
'Gx Gy Gw Gh'=: Gxywh=: Lxywh
)
grays=: 3 : 0
3#"0 [ 255<. <. (256&% * i.@>:) y
)
linepattern1=: 4 : 0
len=. - -/ y
n=. rndint (%: +/ *: len) % +/ x
if. n=0 do. y
else.
  j=. +/\ 0 , , n # ,: x
  |: ({.y) + len */ (}: % {:) j
end.
)
linepattern2=: 4 : 0
len=. - -/ y
n=. rndint (%: +/ *: len) % +/ x
if. n=0 do. y
else.
  j=. +/\ 0 , , n # ,: x
  |: ({.y) + len */ (% {:) }: j
end.
)
linepattern=: 4 : 0
nap=. ,`[@.('' -: ])`]@.('' -: [)
x=. > x
y=. _2 [\ y
if. x -: 1 0 do.
  <. 2 ,\ y
else.
  a=. ; 2 < @ (x&linepattern1) \ }: y
  <. _2 ,\ a nap x linepattern2 _2 {. y
end.
)
logcheck=: 4 : 0
if. x do. if. 1 e. 0 >: ,y do.
    signal 'Log argument to plot must be positive'
    signal 'plot error' end.
end.
y
)
numcheck=: 3 : 0
if. (ischar y) +: 0 e. $y do. y return. end.
if. ischar y
do. signal 'data should be numeric'
else. signal 'no data to plot'
end.
)
project=: 3 : 0
dat=. }:"1 (y,.1) mp Tfm
dist=. ViewDist-{:"1 dat
((ViewDist*}:"1 dat)%dist),.dist
)
rectoverlap1=: 4 : 0
'lx ly lw lh'=. x
'rx ry rw rh'=. y
((lx>:rx+rw)+.rx>:lx+lw) +: (ry<:ly-lh)+.ly<:ry-rh
)
rectoverlaps=: 3 : 0
'x y w h'=. |: y
xr=. x+w
yt=. y+h
((x>1|.xr)+.xr<1|.x) +: (yt>1|.y)+.y<1|.yt
)
setbox=: 3 : 0
Plot=: Plot,Ndx;0;'draw';'';'';BACKCOLOR;'';y;0
)
setbrush=: [: ';grgb '&, ": , ';gbrush'"_
setdxywh=: 3 : 0
'Dx Dy Dw Dh'=: Dxywh=: y
Gxywh=: Fxywh=: Lxywh=: y
)
setsubdxywh=: 3 : 0
setdxywh Sxywh makepos_xywh y
)
popsxywh=: 3 : 0
if. #SSxywh do.
  'm x s'=. {: SSxywh
  SSxywh=: }: SSxywh
  'Sx Sy Sw Sh'=: Sxywh=: s
  Mxywh=: m
  Mndx=: x
end.
)
pushsxywh=: 3 : 0
SSxywh=: SSxywh, Mxywh;Mndx;Sxywh
'mat win'=. y
'Sx Sy Sw Sh'=: Sxywh=: win
Mxywh=: mat
Mndx=: 0
)
setoutput=: 3 : 0
Poutput=: y
setsizes''
)
setgxywh=: 3 : 0
'Gx Gy Gw Gh'=: Gxywh=: y
)
setlxywh=: 3 : 0
'Lx Ly Lw Lh'=: Lxywh=: y
)
setpxywh=: 3 : 0
if. isempty Pxywh do. IPxywh=: y end.
'Px Py Pw Ph'=: Pxywh=: y
'Sx Sy Sw Sh'=: Sxywh=: y
'Dx Dy Dw Dh'=: Dxywh=: y
Mxywh=: i.0 0
Mndx=: 0
SSxywh=: i.0 3
)
setp=: 3 : 0
Plot=: Plot,Ndx;y
)
showboxes=: 3 : 0
a=. 'Pxywh','Dxywh','Oxywh','Lxywh','Fxywh','Gxywh',:'Kxywh'
b=. Pxywh,Dxywh,Oxywh,Lxywh,Fxywh,Gxywh,:Kxywh
b=. b ,. +/ "2 [ _2 ([\) "1 b
r=. a; b
(- 0 = +/Kxywh) }. each r
)
shownouns=: 3 : 0
rnd=. <.@:+&0.5&.(%&0.0001)
cat=. ,&,.&.|:
x=. (>:>./# &> y) {. each y
f=. ]`rnd @. (e.&8 @ (3!:0))
y=. ":@f@". each y
r=. x cat each y
> ,&.>/ r
)
showplot=: 3 : 0
hdr=. ;:'order type item value style fit pen brush pos'
itm=. tolower each }. each (;2 {"1 Plot) { ItemNames
dat=. itm 2 }"0 1 Plot
stk=. hdr,dat
tc=. 31&<.@$ {.!.'.' ({.~ 30&<.@$)
tc@": &.>stk
)

viewplot=: 3 : 'wdview boxascii showplot y'
showopts=: 3 : 0
shownounds DefOpts
)
showstate=: 3 : 0
(showboxes''),showopts''
)
shrinksquare=: 4 : 0
x + y * 1 1 _2 _2
)
shrinkrect=: 4 : 0
x + , 1 _1 * +/\ _2 [\ 4 $ y
)
stellate=: 4 : 0 "2
norm=. x * unitvec (}:cross&(-/)}.) 3{.y
norm=. norm + (+/y) % #y
2 (norm&,)\y,{.y
)
surfacerev=: 10&$: : (4 : 0)
'r z'=. |: y
ix=. i. x+2
'x y'=. 0 1 |: r */ +. r. ix * 2p1%x
x,"0 1 y,"0 z
)
straddle=: 3 : 0
y*1.1*(y<0),y>:0
)
c=. (}: ,:"1 }.)"2
d=. (}. ,:"1 }:)"2
tiles=: (c@}: ,"2 d@}.) f.
tilesum=: (1,:2 2)&(+/@,;._3)
". toupper COLORTABLE
STDCLR=: _3[\BLUE,RED,GREEN,PURPLE,FUCHSIA,OLIVE,TEAL,YELLOW,TAN,AQUA,BROWN,GRAY
CLR16=: RED,BLUE,GREEN,AQUA,FUCHSIA,LIME,YELLOW,BROWN,TEAL,MAROON,NAVY,OLIVE,SILVER,GRAY,BLACK,:WHITE
RBCLR=: 64 colorxy 1 0 0,:0.5 0 0.5
RGCLR=: 64 colorxy 0 0.5 0.5, 0 0.75 0 ,: 1 0 0
RGBCLR=: 64 colorxy |."1 #:7|3^i.6
BGCLR=: 64 colorxy 0.25 0.95 0.3 ,: 0.25 0.25 1
GRAYSCALE=: 1 (3&#)\ <. 0.5 + 255 * 0.01 * i.101
flexist=: 1:@(1!:4)@< :: 0:
flread=: 1!:1 @ <
flwrite=: (1!:2 <) :: _1:
flwrites=: (toHOST@[ 1!:2 <@]) :: _1:
flwritenew=: 4 : 0
dat=. ,x
if. -. dat -: flread :: 0: y do. dat flwrite y end.
EMPTY
)
fitframexy=: 3 : 0
s=. $y
(s $ Fx,Fy) + y * s $ Fw,Fh
)
fitgrafx=: 3 : 0
Gx + Gw * y
)
fitgrafxy=: 3 : 0
s=. $y
(s $ Gx,Gy) + y * s $ Gw,Gh
)
fitgrafxywh=: 3 : 0
s=. $y
(s $ Gx,Gy,0 0) + y * s $ Gw,Gh
)
fitgrafxy3d=: 3 : 0
Min3d=: Min3d <. <./y
Max3d=: Max3d >. >./y
fitgrafxy3d1 y
)
fitgrafy=: 3 : 0
Gy + Gh * y
)
fit3d=: 3 : 0
pos=. fitxyz y
pos=. }:"1 project pos
fitgrafxy3d1 pos
)
fitgrafxy3d1=: 3 : 0
(Gx,Gy) +"1 (y -"1 Min3d)*"1 (Gw,Gh) % Max3d-Min3d
)
flipyarc=: 3 : 0
y=. _8[\,y
c=. Ch - (+/"1 [ 1 3{"1 y) ,. 5 7{"1 y
($y) $ ,c 1 5 7}"1 y
)
flipxy=: 3 : 0
s=. $y
(s $ 0, Ch) + y * s $ 1 _1
)
flipyrect=: 3 : 0
y=. _4 [\, y
c=. Ch - +/"1 [ 1 3{"1 y
($y) $ ,c 1}"0 1 y
)
get01x=: 3 : '(y - XMin) % XMax-XMin'
get01y=: 3 : '(y - YMin) % YMax-YMin'
getgrafx=: fitgrafx @ get01x
getgrafy=: fitgrafy @ get01y
getgrafmat=: 3 : 0
'x y'=. 2 {. y { Data
,"2 (getgrafx x) ,."1 citemize getgrafy y
)
getgrafxy=: 3 : 0
'x y'=. 2 {. y { Data
(getgrafx x) ; getgrafy y
)
movepos=: [ + $@[ $ ]
scalepos=: [ * $@[ $ ]
text2utf8=: 3 : 0
if. isutf8 y do. y return. end.
if. 2 ~: 3!:0 y do. utf8 y return. end.
val=. a. i. y
msk=. 127 < val
uni=. 192 128 +"1 [ 0 64 #: msk # val
val=. val #~ 1 j. msk
ndx=. I. 127 < val
a. {~ uni (<"0 ndx +/ 0 1) } val
)
text2ascii8=: 3 : 0
if. isutf8 y do.
  1 u: ucp y
else.
  y
end.
)
baserep=: (&#.) (^:_1)
NB.!!!
linsert=: 2&$: : ([: +/\ {.@] , [ # (}. - }:)@] % [)
round=: [ * [: <. 0.5 + %~
rounddown=: [ * [: <. %~
roundint=: <.@:+&0.5
roundup=: [ * [: >. %~
clean=: 1e_10&$: : (4 : 0)
if. L. y do.
  x clean each y
else.
  if. (3!:0 y) e. 16 16384 do.
    j./"1 y * x <: | y=. +.y
  else.
    y * x <: |y
  end.
end.
)
colsum=: 4 : 0
nub=. ~. key=. x{"1 y
nub /:~ nub x}"_1 1 key +//. y
)
groupndx=: [: <: I. + e.~
randomize=: 3 : 0
([ 9!:1) >:<.0.8*0 60 60 24 31#.0 0 0 0 _1+|.<.}.6!:0 ''
)
range=: 3 : 0
'x y n'=. 3{.y,1
s=. _1^y<x
x+s*n*i.>:<.n%~|y-x
)
recur=: 4 : 'r*+/\y%r=.*/\1,x$~<:#y'
roundbanker=: 4 : 0
rd=. <. d=. 0.5 + y % x
x * rd - (rd = d) > 0 = 2 | d
)
rounddist=: 4 : 0
($y) $ x * (- 0 , }:) <. 0.5 + +/\ y % x
)
steps=: {. + (1&{ - {.) * (i.@>: % ])@{:
coclass 'jzplot'
create=: pdreset
destroy=: codestroy
IFJNET=: (IFJNET"_)^:(0=4!:0<'IFJNET')0
FontScale=: 1
FontSizeMin=: 0
MaxAxisInt=: 0.9
MaxData=: _
PCmd=: ''
Data=: ''
PForm=: 'plot'
Ch=: Cw=: 0
PId=: 'gs'
PIdhwnd=: 0
Plot=: i. 0 0
PFormhwnd=: 0[''
Poutput=: _1
Printer=: 0
PReset=: 0
PText=: ''
PTop=: 0
PShow=: 0
Pxywh=: ''
PStyle=: ''
TypeRest=: ''
('i',each ;: 'LEFT CENTER RIGHT')=: i. 3
j=. ;: ' EPS PDF CANVAS CAIRO ANDROID QT QTC ISI'
('i' ,each j)=: i.#j
j=. 'i' ,each cutopen toupper 0 : 0
background
border
box
frame
gd
key
rule
subtitle
text
title
xaxis
xcaption
xgrid
xlabel
xtics
yaxis
ycaption
ygrid
ylabel
ytics
y2caption
y2label
y2tics
zaxis
zcaption
zgrid
zlabel
ztics
data
)

ItemNames=: j
(ItemNames)=: i.#ItemNames
readplotdefaults=: 3 : 0
MyPlotDefaults=: flread :: (''"_) jpath '~config/plotdefs.ijs'
)
setplotdefaults=: 3 : 0
select. y
fcase. 'plot' do.
  COLOR=: ''
  IfBar=: IfPie=: 0
  Ndx=: 1
  PCmd=: i.0 0
  PForm=: 'plot'
  Pxywh=: ''
  Types=: ''
fcase. 'new' do.
  IfInit=: 0
  IfMulti=: 0
  0!:100 PlotDefaults
  0!:100 MyPlotDefaults
  ((<'Y2') ,each AxisOpts)=: ". each 'Y' ,each AxisOpts
fcase. do.
  CLEAR=: 1
  BrushColor=: 255 255 255
  Data=: Frame=: Rule=: Text=: ''
  DataRep=: 1
  DimType=: 2
  Gcmd0=: i.0 0
  Gcmd1=: i.0 0
  Opts=: <i.0 0
  Pen=: 1 0
  PenColor=: 0 0 0
  PText=: i. 0 0
  XDiv=: YDiv=: Y2Div=: ZDiv=: 0
  XMax=: YMax=: Y2Max=: ZMax=: Max3d=: __
  XMin=: YMin=: Y2Min=: ZMin=: Min3d=: _
end.
if. -. IFTESTPLOTJHS +. IFJHS +. IFQT +. IFJA +. ('jwin32';'jjava') e.~ < (11!:0) ::0: 'qwd' do.
  if. IFQT do.
    r=. 'OUTPUT=: ''qt'''
  elseif. IFJA do.
    r=. 'OUTPUT=: ''android'''
  elseif. ('jwin32';'jjava') e.~ < (11!:0) ::0: 'qwd' do.
    r=. 'OUTPUT=: ''isi'''
  elseif. ('cairo' -: CONSOLEOUTPUT) do.
    r=. 'OUTPUT=: ''cairo'''
  elseif. do.
    r=. 'OUTPUT=: ''pdf'''
  end.
end.
EMPTY
)
opts=. ;: ;._2 (0 : 0)
ASPECT N
AXES V
AXISCOLOR X
BACKCOLOR X
BANDCOLOR Y
BARWIDTH N
BORDER N
BORDERSIZE N
BOXED N
CAPTIONCOLOR X
CAPTIONFONT F
CLEAR N
COLOR Y
CONTOURLEVELS N
EDGECOLOR X
EDGESIZE N
FONTSCALE N
FONTSIZEMIN N
FORECOLOR X
FRAME N
FRAMEBACKCOLOR X
FRAMESTYLE C
GRAPHBACKCOLOR X
GRIDCOLOR X
GRIDS V
GRIDPATTERN V
GUIDESIZE N
ITEMCOLOR Y
KEY A
KEYCOLOR Y
KEYFONT F
KEYMARKERS S
KEYPOS K
KEYSTYLE K
KEYTITLE M
LABELCOLOR X
LABELFONT F
LABELS V
MARKERS S
MARKERSIZE N
MESH N
ORIENTATION N
OUTPUT C
PENPATTERN W
PENSIZE N
PENSTYLE V
PIEPERCENT N
PLOTCAPTION C
POLAR N
PRINTMARGIN V
PRINTWINDOW C
PSHOW C
RTIC V
RULECOLOR X
RULESIZE N
SEPARATOR C
SHOWBOXES N
ORIGINXLABEL N
SINGTOLER N
SUBTITLE D
SUBTITLECOLOR X
SUBTITLEFONT F
SUBTITLESTYLE C
SYMBOLCOLOR X
SYMBOLFONT F
SYMBOLS C
TEXTCOLOR X
TEXTFONT F
TICMAJOR N
TICMINOR N
TICS V
TICSTYLE C
TITLE D
TITLECOLOR X
TITLEFONT F
TITLESTYLE C
TYPE B
VIEWCENTER V
VIEWPOINT V
VIEWSIZE V
VIEWUP V
VISIBLE N
XCAPTION C
XCAPTIONSTYLE C
XGRIDPATTERN V
XFUNCRES N
XINT N
XLABEL A
XLABELSTYLE C
XLOG N
XRANGE V
XGROUP V
XTIC V
XTICPOS V
Y2AXIS C
YCAPTION C
YCAPTIONSTYLE C
YGRIDPATTERN V
YFUNCRES N
YINT N
YLABEL A
YLABELSTYLE C
YLOG N
YRANGE V
YTIC V
YTICPOS V
Y2CAPTION C
Y2CAPTIONSTYLE C
Y2LABEL A
Y2LABELSTYLE C
Y2LOG N
Y2RANGE V
YGROUP V
Y2TIC V
Y2TICPOS V
ZCAPTIONSTYLE C
ZGRIDPATTERN V
ZINT N
ZLABEL A
ZLABELSTYLE C
ZLOG N
ZRANGE V
ZGROUP V
ZTIC V
ZTICPOS V
)

DefOpts=: {."1 opts
DefOptx=: ,>{:"1 opts

j=. {.&> DefOpts
AxisOpts=: }. each DefOpts #~ j e. 'X'
AxisCmds=: DefOpts #~ j e. 'XYZ'
PlotOpts=: <;._2 (0 : 0)
FONTSCALE
FONTSIZEMIN
KEY
KEYCOLOR
KEYFONT
KEYPOS
KEYSTYLE
KEYTITLE
SUBTITLE
SUBTITLECOLOR
SUBTITLEFONT
SUBTITLESTYLE
TITLE
TITLECOLOR
TITLEFONT
TITLESTYLE
VIEWCENTER
VIEWPOINT
VIEWSIZE
VIEWUP
VISIBLE
)
FontOpts=: <;._2 (0 : 0)
CAPTIONFONT
FONTSCALE
FONTSIZEMIN
KEYFONT
LABELFONT
SUBTITLEFONT
TITLEFONT
)
PDefNames=: <;._2 (0 : 0)
Data
DataRep
DimData
DimType
Frame
Gcmd0
Gcmd1
Opts
Rule
Text
Types
TypeMsk
YAxes
Y2Msk
ASPECT
AXES
CAPTIONFONT
FRAME
FRAMESTYLE
GRIDS
LABELFONT
LABELS
PIEPERCENT
RTIC
TICMAJOR
TICMINOR
TICS
TICSTYLE
TYPE
XCAPTION
XCAPTIONSTYLE
XINT
XLABEL
XLABELSTYLE
XLOG
XRANGE
XTIC
XTICPOS
Y2AXIS
YCAPTION
YCAPTIONSTYLE
YINT
YLABEL
YLABELSTYLE
YLOG
YRANGE
YTIC
YTICPOS
Y2CAPTION
Y2CAPTIONSTYLE
Y2LABEL
Y2LABELSTYLE
Y2LOG
Y2RANGE
YGROUP
Y2TIC
Y2TICPOS
ZCAPTIONSTYLE
ZINT
ZLABEL
ZLABELSTYLE
ZLOG
ZRANGE
ZGROUP
ZTIC
ZTICPOS
)

('p' ,each PDefNames)=: i.#PDefNames
PlotfNames=: <;._2 (0 : 0)
SINGTOLER
XFUNCRES
YFUNCRES
)
plotconvertstringtogerund_z_=: 3 : 0"0 _ 0
if. +./ ((,'y');'y.') e. ;: >y do.
  {. ''`(13 : (>y) f.)
else.
  {. ''`(13 : ('(' , (>y) , ') y') f.)
end.
:
if. +./ ((,'y');'y.') e. ;: >y do.
  {. ''`(13 : (>y) f.)
else.
  {. ''`(13 : ('x (' , (>y) , ') y') f.)
end.
)
plotdefverbm=: 4 : 0
locale=. x
if. 32 ~: 3!:0 gerund=. y do.
  boxs=. <@('`'"_^:(-.@*@#));._1@('`'&,) y
  specs=. (<@;;.1~ (1&(0}))@(*. |.!.0)@:(#@$@>)) boxs
  gerund=. plotconvertstringtogerund__locale specs
end.
locale ,&< gerund
)
plotdefverbd=: 4 : 0
locale=. x
if. 32 ~: 3!:0 gerund=. y do.
  boxs=. <@('`'"_^:(-.@*@#));._1@('`'&,) y
  specs=. (<@;;.1~ (1&(0}))@(*. |.!.0)@:(#@$@>)) boxs
  gerund=. '' plotconvertstringtogerund__locale specs
end.
locale ,&< gerund
)
plotsubd=: 3 : 0"1
(PlotfNames)=: PlotfDefs
origlocale=: 0 {:: > {: y
gerund=. 1 {:: > {: y
res=. 0$a:
if. 2 = #y do.
  y=. boxopen"1^:(3:<{:@$) 0 {:: y
  pfmody=: ]`(^.) @. XLOG
  pfmodz=: ]`(^.@:(0&>.)) @. YLOG
  for_n. gerund do.
    plotf_userverb_z_=: (; # (((%~,[) #) ($,) ]) (n`:6))
    d=. plotfn y
    if. (1 < #d) *. 0 = #YRANGE do.
      mtone1=. (<./@:((i.&0@:(2&(<:/\)) >. i.&0@:(2&(>:/\)))"1))@(1&{::)"1 d
      mtonen=. (>./@:((i:&0@:(0&,)@:(2&(<:/\)) <. i:&0@:(0&,)@:(2&(>:/\)))"1))@(1&{::)"1 d
      quintiles=. ((((+ {.)~ i.&1@:<: [) , ((-~ {:)~ i:&1@:>: [)) %&(1.01 >. SINGTOLER)@({:-{.))@(0&{::)"1 d
      intvl=. 0 _,."1 -~/\"1 (> 2{"1 d) {"0 1 (0 ,. {:@$@> 1{"1 d) ,"0 (mtone1,.mtonen) <.&.(1 _1&*"1) quintiles
      extremes=. (<./&.:(1 _1&*"1)) ; intvl <@:(((<./"1^:2 , >./"1^:2);.0 (1)&{::)"2 1) d
      allextremes=. (<./&.:(1 _1&*"1)) ; <@:((<./"1^:2 , >./"1^:2)@:(1&{::)"1) d
      if. allextremes >&(-~/) 2 * extremes do.
        oor=. (<extremes) +./@(<:/"1@:(<:"1 0))&.> 1{"1 d
        oormsk=. (2{"1 d) +:/@(*. (*./\ ,: *./\.))&.> oor
        d=. oormsk #"1&.>"0 1 (2){."1 d
      end.
    end.
    res=. res , < 2 {."1 d
  end.
else.
  x=. boxopen"1^:(3:<{:@$) 0 {:: y
  y=. boxopen"1^:(3:<{:@$) 1 {:: y
  pfmodx=: ]`(^.) @. XLOG
  pfmody=: ]`(^.) @. YLOG
  pfmodz=: ]`(^.) @. ZLOG
  for_n. gerund do.
    plotf_userverb_z_=: ([ ; ] ; (n`:6)"0 _)
    res=. res , < x plotfn y
  end.
end.
res
)
plotfn=: 3 : 0
if. 0 = L. y do.
  y=. ,:^:(2-#$y) y
  y=. (pfmody 2 {."1 y) ,"1 (2) }."1 y
  if. 0 = #yrange=. XRANGE do. yrange=. 0 1{"0 _1 (<./ ,: >./) y end.
  if. 0 = #sres=. XFUNCRES do. sres=. 2 * 2 { Dxywh end.
  pfresy=: (| -/ yrange) % sres
  ; <@plotfiy y
else.
  plotf_userverb__origlocale&> ,y
end.
:
x=. <@(pfmodx^:_1)@:steps@(pfmodx@(2&{.) , {.@(,&25)@(2&}.))"1^:(0:=L.) x
y=. <@(pfmody^:_1)@:steps@(pfmody@(2&{.) , {.@(,&25)@(2&}.))"1^:(0:=L.) y
; x plotf_userverb__origlocale&.>/ y
)
plotfiy=: 3 : 0 ("1)
if. 0 < 2 { y,0 do.
  (plotf_userverb__origlocale pfmody^:_1 steps y) , <0 0
else.
  pfrngz=: $ 0
  pfrngy=: 2 {. y
  plotfintvl (2 {. y),100
end.
)
plotfintvl=: 3 : 0"1
if. pfresy > -~/ 2 {. y do.
  'y res'=. plotf_userverb__origlocale pfmody^:_1 (2 {. y)
  (-. +./ res e. _ __) # (<@,"0 y) ,. (<"2@:|:@,: res) ,. 0 1;1 0
  return.
end.
'yvals zvals'=. plotf_userverb__origlocale pfmody^:_1 yscrn=. steps y
if. 0 = #pfrngz do.
  if. 0 = #pfrngz=: YRANGE do.
    pfrngz=: -~/ pfmodz (({~ , ({~ _1&-)) <.@(0.1&*)@#) /:~ ,zvals
  end.
  if. 0 = #sres=. YFUNCRES do. sres=. 2 * 3 { Dxywh end.
  pfresz=: pfrngz % sres
end.
if. 0.000001 < (-~ % 0.001&>.@|@[)/ 2 {. yvals do.
  intsize=. 2 -~/\ yvals
  'ylo zlo'=. plotf_userverb__origlocale ({.pfrngy) >. yvals - (,~ {.) 0.01 * intsize
  'yhi zhi'=. plotf_userverb__origlocale ({:pfrngy) <. yvals + (, {:) 0.01 * intsize
  secant=. (zhi-zlo) %"1 yhi-ylo
  fwdproj=. ({."1 zvals) ,"0 1 (}:"1 zvals) + (}:"1 secant) *"1 intsize
  bakproj=. ({:"1 zvals) ,~"0 1 (}."1 zvals) - (}."1 secant) *"1 intsize
  'intst inten'=. (+. (+. 1 _1&(|."0 1))@:|.) (+./ (zvals e. _ __)) +."1 +./"2 (| (bakproj,:fwdproj) -"2&:pfmodz zvals) > pfresz
  intervals=. (I. 2 </\ 0 , intst) ,. (I. 2 >/\ inten , 0)
  unsubint=. ,.@((-~ >:)/\)"1 (#~ ~:/"1) _2 ]\ 0 , (,intervals) , #yvals
  subres=. (unsubint <;.0 yvals) ,. (unsubint <@|:;.0 |: zvals) ,. <0 0
  if. #intervals do.
    subres=. /:~ subres , ; <@plotfintvl (intervals { yscrn) ,. +: >: -~/"1 intervals
  end.
  splitpoints=. _2 +./\ |.!.1 , , > 2{"1 subres
  merge=. ,@(1&((2 # (,}.)"1&.>/"1`'')`(<@(0 _1&{)@;);.1))@|:
  subres=. splitpoints merge;.1 subres
else.
  noninf=. -. +./ zvals e. _ __
  subres=. ,: (noninf#yvals) ; (noninf#"1 zvals) ; 0 0
end.
subres
)
plotshow=: 3 : 0
gtk_window_present_with_time_jgtk_ ((0&". ::]) PFormhwnd),GDK_CURRENT_TIME_jgtk_
selectpid''
gpinit''
make ''
gtk_show 1
)
PDFScale=: 0.5
Sizes=: ([:<i.&' '{.]);._2 (0 : 0)
KeyLen     key length
KeyPen     key pensize
MinMTic    minimum minor Tic distance
MinPie     minimum pie radius
MinTic     minimum major Tic distance
MKx        keybox x-margins
MKy        keybox y-margins
MLxy       labelbox margins (i.e. initial labelbox offset from drawbox)
MGxy       drawbox margins (i.e. initial grafbox offset from framebox)
MPie       pie label margin
MPieTic    pie tic size
MXlabel    xlabel margin (offset from bottom axis or frame)
MYlabel    ylabel margin (offset from left axis or frame)
MTitle     title margins (above and below)
MSubTitle  title margins (above and below)
MXCaption  X caption (above and below)
MYCaption  Y caption (left and right)
)

DefSizes=: 25 2 50 50 50 6 4 3 4 10 6 2 3 6 4 3 3
setsizes=: 3 : 0
s=. PDFScale ^ Poutput e. iEPS,iPDF,iCANVAS,iCAIRO
(Sizes)=: DefSizes * s
MarkerScale=: s
)
all=. 0 : 0
ASPECT=: 0
AXES=: 0
AXISCOLOR=: BLACK
BACKCOLOR=: WHITE
BANDCOLOR=: RGCLR
BARWIDTH=: 0.75
BORDER=: 0
BORDERSIZE=: 8
BOXED=: 1
CAPTIONCOLOR=: BLACK
CLEAR=: 1
CONTOURLEVELS=: 20
EDGECOLOR=: BLACK
EDGESIZE=: 1
FORECOLOR=: BLACK
FONTSCALE=: 0.75
FONTSIZEMIN=: 11
FRAME=: 1
FRAMEBACKCOLOR=: ''
FRAMESTYLE=: ''
GRAPHBACKCOLOR=: ''
GRIDCOLOR=: SILVER
GRIDPATTERN=: 1 0 0
GRIDS=: 1
GUIDESIZE=: 0.5
ITEMCOLOR=: STDCLR
KEY=: ''
KEYCOLOR=: ''
KEYMARKERS=: ''
KEYPOS=: ''
KEYSTYLE=: ''
KEYTITLE=: ''
LABELCOLOR=: BLACK
LABELS=: 1
MARKERS=: ''
MARKERSIZE=: 1
MESH=: 1
ORIENTATION=: 2
ORIGINXLABEL=: 0
PENPATTERN=: 1 0;12 6;2 4;12 6 2 4;12 6 2 4 2 4
PENSIZE=: 1
PENSTYLE=: 0
PIEPERCENT=: 0
PLOTCAPTION=: 'Plot'
POLAR=: 0
PRINTMARGIN=: 1440
PRINTWINDOW=: ''
PSHOW=: ''
RTIC=: ''
RULECOLOR=: BLACK
RULESIZE=: 1
SEPARATOR=: '|'
SHOWBOXES=: 0
SINGTOLER=: 10
SUBTITLE=: ''
SUBTITLECOLOR=: BLACK
SUBTITLESTYLE=: ''
SYMBOLCOLOR=: BLACK
SYMBOLS=: ''
TEXTCOLOR=: BLACK
TICMAJOR=: 7
TICMINOR=: 4
TICS=: 1
TICSTYLE=: ''
TITLE=: ''
TITLECOLOR=: BLACK
TITLESTYLE=: ''
TYPE=: ''
VIEWCENTER=: 0 0 0
VIEWPOINT=: 1.6 _2.4 1.5
VIEWSIZE=: 1 1 0.5
VIEWUP=: 0 0 1
VISIBLE=: 1
XCAPTION=: ''
XCAPTIONSTYLE=: ''
XFUNCRES=: ''
XGRIDPATTERN=: 3 5
XINT=: ''
XLABEL=: ''
XLABELSTYLE=: ''
XLOG=: 0
XRANGE=: ''
XGROUP=: ''
XTIC=: ''
XTICPOS=: ''
Y2AXIS=: '0'
YCAPTION=: ''
YCAPTIONSTYLE=: ''
YFUNCRES=: ''
YGRIDPATTERN=: 3 5
YINT=: ''
YLABEL=: ''
YLABELSTYLE=: ''
YLOG=: 0
YRANGE=: ''
YGROUP=: ''
YTIC=: ''
YTICPOS=: ''
Y2CAPTION=: ''
Y2CAPTIONSTYLE=: ''
Y2LABEL=: ''
Y2LABELSTYLE=: ''
Y2LOG=: 0
Y2RANGE=: ''
Y2TIC=: ''
Y2TICPOS=: ''
ZCAPTIONSTYLE=: ''
ZGRIDPATTERN=: 3 5
ZINT=: ''
ZLABEL=: ''
ZLABELSTYLE=: ''
ZLOG=: 0
ZRANGE=: ''
ZGROUP=: ''
ZTIC=: ''
ZTICPOS=: ''
)
w32=. 0 : 0
CAPTIONFONT=: 'Arial 13'
KEYFONT=: 'Arial 9'
LABELFONT=: 'Arial 9'
SYMBOLFONT=: 'Arial 9'
TEXTFONT=: 'Arial 13'
SUBTITLEFONT=: 'Arial 14'
TITLEFONT=: 'Arial 15'
)

unx=. 0 : 0
CAPTIONFONT=: 'Sans 13'
KEYFONT=: 'Sans 10'
LABELFONT=: 'Sans 10'
SYMBOLFONT=: 'Monospace 10'
TEXTFONT=: 'Sans 13'
SUBTITLEFONT=: 'Sans 14'
TITLEFONT=: 'Sans 15'
)

all=. all, IFWIN pick unx;w32
PlotDefaults=: 3 : 0 all
if. IFTESTPLOTJHS +. IFJHS do.
  r=. 'OUTPUT=: JHSOUTPUT'
elseif. IFQT do.
  r=. 'OUTPUT=: ''qt'''
elseif. IFJA do.
  r=. 'OUTPUT=: ''android'''
elseif. ('jwin32';'jjava') e.~ < (11!:0) ::0: 'qwd' do.
  r=. 'OUTPUT=: ''isi'''
elseif. do.
  r=. 'OUTPUT=: CONSOLEOUTPUT'
end.
y,r,LF
)
TextTypes=: ;: 'text textc textr'
PlotTypes2d=: <;._2 (0 : 0)
area
bar
contour
density
dot
errorbar
fbar
fbarv
hilo
hist
line
marker
pie
poly
point
radar
sbar
sbarv
stick
symbol
)
PlotTypes3d=: <;._2 (0 : 0)
dot
line
poly
stick
surface
wire
)
j=. ;: 'contour density'
PlotData2d=: PlotTypes2d -. j
PlotData3d=: PlotTypes3d, j
PlotTypes=: ~. PlotTypes2d,PlotTypes3d

LineTypes=: ;:'dot errorbar hist line marker point poly radar stick symbol'
BarTypes=: ;:'bar fbar fbarv hist sbar sbarv'
PieTypes=: 'pie';'radar'
FrameTypes=: 'contour';'density'

BandTypes=: 'density';'surface';'wire'
SumXTypes=: ''
SumYTypes=: ;: 'fbar fbarv sbar sbarv'
SumZTypes=: ''
plot=: 3 : 0
'' plot y
:
opt=. x
dat=. y
if. #opt do.
  ndx=. opt i.';'
  first=. deb ndx{.opt
  ind=. <./ first i.', '
  if. (<ind {. first) e. PlotTypes do.
    opt=. 'type ',opt
  end.
end.

pd 'reset'
pd boxcmd opt
if. 1 < L. dat do.
  txy=. 1000 * > { int01 each |. $dat
  rec=. rndint (_1 _1 }. txy) ,"1 [ 1 1 }. txy
  rec=. ": ,/ |. 0 2 |: rec
  dat=. ,dat
  for_d. dat do.
    pd 'use ',d_index { rec
    pd > d
  end.
elseif. 3 = #$dat do.
  for_d. dat do.
    pd d
  end.
elseif. do.
  pd dat
end.

pd 'show'
EMPTY
)
coclass 'jzplot'
makegridpos=: 4 : 0
if. *./ 1 = GRIDPATTERN do.
  x;x+y return.
end.
step=. # GRIDPATTERN
len=. GRIDPATTERN i. 0
off=. - <. -: len
cnt=. >. y % step
px=. off + step * i.cnt
pr=. px + len
(x+0>.px);x+pr<.y
)
AxisIn=: ;: 'INT LABEL LOG Min Max RANGE TIC TICPOS'
AxisOut=: ;: 'Div Int Label Min Minor Max Step Tics TicPos'
getaxes=: 3 : 0
if. IfPie do. return. end.
getaxis 'X'
getaxis 'Y'
if. {:YAxes do.
  getaxis 'Y2'
else.
  Y2Tics=: ''
  if. DimType=3 do.
    getaxis 'Z'
  end.
end.
)
getaxis=: 3 : 0
pm=. y
wid=. ('Y'={.pm) { Lw,Lh
dat=. ". each (<pm) ,each AxisIn
dat=. dat,pm;wid;IfBar
((<pm) ,each AxisOut)=: getaxis1 dat
)
getaxis1=: 3 : 0
nms=. AxisIn,;:'pm wid ifbar'
(nms)=. y
Div=. 0
Tics=. $0
Int=. INT
Label=. LABEL
TicPos=. TICPOS
'Step Minor'=. TIC
wid=. wid - getplotfontsize LabelFontX
mtc=. <. wid % MinTic

if. #RANGE do.
  Min=. {.RANGE
  Max=. 1{RANGE,Max
end.

if. #Int do.
  Min=. Min <. Int
  Max=. Max >. Int
end.

if. #Label do.
  if. #TicPos do.
    if. (#TicPos) ~: #Label do.
      signal 'Number of labels and tic positions should be the same'
    end.
  else.
    TicPos=. Label getaxis_tics pm
  end.
end.

if. #TicPos do.
  Min=. Min <. <./TicPos
  Max=. Max >. >./TicPos
end.
if. ifbar *. pm = 'X' do.

  if. 0=#Label do.
    if. #TicPos do.
      Label=. ": each TicPos
    else.
      steps=. >./ # &> {."1 Data
      Label=. ": each >:i.steps
    end.
  end.

  if. 0 = #TicPos do.
    steps=. >./ # &> {."1 Data
    TicPos=. Min + (Max-Min)*int01 <: steps
  end.

  Div=. 0
  Int=. Min
else.

  if. ifbar do.
    select. 0 <: Min, Max
    case. 1 1 do.
      Min=. 0
    case. 0 0 do.
      Max=. 0
    end.
  end.

  if. #TicPos do.
    'Min Max Int'=. pm getminmax Int;TIC;TicPos;Min;Max;LOG
  else.
    'Step Min Max Int TicPos'=. pm getticpos Int;TIC;Min;Max;LOG;mtc
  end.
  Div=. zero (Int-Min)%Max-Min

end.
Tics=. 2 }. fit01 Min,Max,TicPos
Range=. Min,Max
if. Minor = _1 do.
  if. (0=#TICPOS) *. (Step > 0) *. 1 < #TicPos do.
    Minor=. Step getminor <. wid % MinMTic * <: #TicPos
  else.
    Minor=. 0
  end.

end.
". each AxisOut
)
getaxis_tics=: 4 : 0
labs=. x
select. {. y
case. 'X' do.
  dim0 (<0 0) pick Data
case. 'Y' do.
  dim1 (<0 1) pick Data
case. 'Y2' do.
  dim1 (<(PSDataY2 i.1);1) pick Data
case. 'Z' do.
  zdata=. ; ,each 2 {"1 Data
  n=. <./zdata
  x=. >./zdata
  steps n,x, <:#labs
end.
)
drawxaxis=: 3 : 0
if. 0={.AXES do. return. end.
if. FRAME *. YDiv e. 0 1 do. return. end.
y=. Gy + Gh * YDiv
pos=. Fx, y, (Fx + Fw), y
drawline iXAXIS;AXISCOLOR;GUIDESIZE;pos
)
drawxcaption=: 3 : 0
if. #XCAPTION do.
  x=. Xx + -: Xw
  y=. Xy + Xh - MXCaption
  drawtext iXCAPTION;iCENTER;CaptionFont;CAPTIONCOLOR;XCAPTION;x,y
end.
)
drawxgrid=: 3 : 0
if. 0={.GRIDS do. return. end.
if. {.YAxes do.
  ytics=. YTics
else.
  ytics=. Y2Tics
end.
if. #ytics do.
  ytics=. fitgrafy ytics
  'px pr'=. Gx makegridpos Gw
  len=. (#px) * #ytics
  ytics=. (#px) # ytics
  pos=. |: (len$px),ytics,(len$pr),:ytics
  drawline iXGRID;GRIDCOLOR;GUIDESIZE;pos
end.
)
drawxlabs=: 3 : 0
if. 0={.LABELS do. return. end.
if. 0=#XLabel do. return. end.
if. IfBar do.
  xpos=. fitgrafx }: (0.5&% + int01) # XLabel
  ypos=. (fitgrafy 0) - MXlabel + TICMAJOR
else.
  xpos=. fitgrafx XTics
  ypos=. (fitgrafy YDiv) - MXlabel
end.
if. FRAME do.
  ypos=. Fy - MXlabel + TICMAJOR * TicOut +. IfBar
end.
pos=. xpos,.ypos
drawtext iXLABEL;iCENTER;LabelFont;LABELCOLOR;XLabel;pos
)
drawxlabs3d=: 3 : 0
if. 0={.LABELS do. return. end.
if. 0=#XLabel do. return. end.

xpos=. XTics
ypos=. - (TICMAJOR * 1 + TicOut) % Gh
ndx=. Box3dL firstin 2 6 4 9
if. ndx e. 6 9 do. ypos=. -<:ypos end.

pos=. xpos,"0 1 ypos,ndx e. 4 9
pos=. fit3d pos
drawtext iXLABEL;iCENTER;LabelFont;LABELCOLOR;XLabel;pos
)
drawxtics=: 3 : 0

if. (0={.TICS) +. 0=#XTics do. return. end.
if. IfBar do.
  xpos=. }: (0.5&% + int01) # XLabel
  mark=. -TICMAJOR
  yint=. 0
else.
  'xpos mark'=. gettics XTics;XMinor;XMax;XMin;XLOG
  mark=. mark * _1 ^ TicOut +. (FRAME=0) *. YDiv >: MaxAxisInt
  yint=. YDiv
end.

if. FRAME do.
  h=. Fy - Gy
  pox=. (0,.h+mark),"1 [ 0,h
  pos=. pox +"1 fitgrafxy xpos,.0,.xpos,.0
  if. -. TicOut +. IfBar do.
    h=. (Gy + Gh) - Fy + Fh
    pox=. (0,.h+mark),"1 [ 0,h
    pos=. pos,(-pox) +"1 fitgrafxy xpos,.1,.xpos,.1
  end.
else.
  pox=. 0 0 0&, "0 +mark
  pos=. pox +"1 fitgrafxy xpos,.yint,.xpos,.yint
end.

drawline iXTICS;AXISCOLOR;GUIDESIZE;pos

)
drawxtics3d=: 3 : 0

if. 0={.TICS do. '' return. end.

step=. >:(>:XMinor)*<:#XLabel

mark=. step$(1,XMinor)#(TICMAJOR,TICMINOR)%Gh<.Gw
mark=. mark * _1 ^ TicOut
xpos=. int01 <: step
ypos=. ,0,.mark
ndx=. Box3dL firstin 2 4 6 9
if. ndx e. 6 9 do. ypos=. -.ypos end.

pos=. (2#xpos),.ypos,.ndx e. 4 9
pos=. fit3d pos

drawline iXTICS;AXISCOLOR;GUIDESIZE;_4[\,pos
)
drawyaxis=: 3 : 0
if. 0=1{AXES do. return. end.
if. FRAME *. XDiv e. 0 1 do. return. end.
x=. Gx + Gw * XDiv
pos=. x, Fy, x, Fy + Fh
drawline iYAXIS;AXISCOLOR;GUIDESIZE;pos
)
drawycaption=: 3 : 0
if. #YCAPTION do.
  x=. Yx + MYCaption
  y=. Yy + -: Yh
  if. 0~:{.0#CaptionFont do.
    font=. CaptionFont,' angle900'
  else.
    font=. 90 (3) } CaptionFont
  end.
  drawtext iYCAPTION;iCENTER;font;CAPTIONCOLOR;YCAPTION;x,y
end.
)
drawy2caption=: 3 : 0
if. #Y2CAPTION do.
  x=. Y2x + Y2w - MYCaption
  y=. Y2y + -: Y2h
  if. 0~:{.0#CaptionFont do.
    font=. CaptionFont,' angle2700'
  else.
    font=. 270 (3) } CaptionFont
  end.
  drawtext iY2CAPTION;iCENTER;font;CAPTIONCOLOR;Y2CAPTION;x,y
end.
)
drawygrid=: 3 : 0
if. IfBar +. (0=1{GRIDS) +. 0=#XTics do. return. end.
xtics=. fitgrafx XTics
'py ps'=. Gy makegridpos Gh
len=. (#py) * #xtics
xtics=. (#py) # xtics
pos=. |: xtics,(len$py),xtics,:len$ps
drawline iYGRID;GRIDCOLOR;GUIDESIZE;pos
)
drawylabs=: 3 : 0

if. 0=1{LABELS do. return. end.
if. 0=#YLabel do. return. end.

ypos=. <. (fitgrafy YTics) + -: YLabelHeight

tout=. TICMAJOR * TicOut

if. FRAME +. IfBar do.
  pos=. (Fx - MYlabel + tout) ,. ypos
  drawtext iYLABEL;iRIGHT;LabelFont;LABELCOLOR;YLabel;pos
else.
  if. XDiv < MaxAxisInt do.
    pos=. ((fitgrafx XDiv) - MYlabel + tout),.ypos
    drawtext iYLABEL;iRIGHT;LabelFont;LABELCOLOR;YLabel;pos
  else.
    pos=. ((fitgrafx XDiv) + MYlabel + tout),.ypos
    drawtext iYLABEL;iLEFT;LabelFont;LABELCOLOR;YLabel;pos
  end.
end.
)
drawy2labs=: 3 : 0
if. -. {:YAxes do. return. end.
if. (0=2{LABELS) +. 0=#Y2Label do. return. end.
ypos=. <. (fitgrafy Y2Tics) + -: YLabelHeight
pos=. (Fx + Fw + MYlabel) ,. ypos
drawtext iY2LABEL;iLEFT;LabelFont;LABELCOLOR;Y2Label;pos
)
drawylabs3d=: 3 : 0

if. 0=1{LABELS do. '' return. end.
if. 0=#YLabel do. return. end.

ypos=. YTics
xpos=. -(TICMAJOR +1 + TicOut) % Gw
ndx=. Box3dL firstin 1 8 3 10
if. ndx e. 8 10 do. xpos=. -<:xpos end.

pos=. xpos,.ypos,.ndx e. 3 10
pos=. fit3d pos

drawtext iYLABEL;iCENTER;LabelFont;LABELCOLOR;YLabel;pos
)
drawytics=: 3 : 0

if. 0=1{TICS do. return. end.
if. ({.YAxes) *. #YTics do.
  'ypos mark'=. gettics YTics;YMinor;YMax;YMin;YLOG
  mark=. <. mark * _1 ^ FRAME < TicOut +. XDiv >: MaxAxisInt
  if. FRAME +. IfBar do.
    w=. Fx - Gx
    pox=. ,&(0,w,0) "0 mark+w
    pos=. pox + fitgrafxy 0,.ypos,.0,.ypos
    if. FRAME > TicOut +. {:YAxes do.
      w=. (Fx + Fw) - Gx + Gw
      pox=. ,&(0,w,0) "0 w-mark
      pos=. pos,pox + fitgrafxy 1,.ypos,.1,.ypos
    end.
  else.
    pox=. 0,.0,.mark,.0
    pos=. pox + fitgrafxy XDiv,.ypos,.XDiv,.ypos
  end.

  drawline iYTICS;AXISCOLOR;GUIDESIZE;pos
end.
if. ({:YAxes) *. #Y2Tics do.
  'ypos mark'=. gettics Y2Tics;YMinor;Y2Max;Y2Min;Y2LOG
  w=. Fx - Gx
  pox=. ,&(0,w,0) "0 mark+w
  pos=. (-pox) + fitgrafxy 1,.ypos,.1,.ypos
  drawline iYTICS;AXISCOLOR;GUIDESIZE;pos
end.

)
drawy2tics=: 3 : 0
EMPTY
)
drawytics3d=: 3 : 0

if. 0=1{TICS do. '' return. end.

step=. >:(>:YMinor)*<:#YLabel
mark=. step$(1,YMinor)#(TICMAJOR,TICMINOR)%Gh<.Gw
mark=. mark * _1 ^ TicOut
ypos=. int01 <: step
xpos=. ,0,.mark
ndx=. Box3dL firstin 1 8 3 10
if. ndx e. 8 10 do. xpos=. -.xpos end.

pos=. (xpos),.(2#ypos),.ndx e. 3 10
pos=. fit3d pos
drawline iYTICS;AXISCOLOR;GUIDESIZE;_4[\,pos

)
drawzlabs3d=: 3 : 0

if. 0=2{LABELS do. '' return. end.
if. 0=#ZLabel do. return. end.

zpos=. ZTics
xpos=. - (TICMAJOR + 1 + TicOut) % Gh
ndx=. Box3dL firstin 0 5 7 11
if. ndx e. 7 11 do. xpos=. -<:xpos end.

end=. ndx e. 5 11
aln=. end { iRIGHT,iLEFT
pos=. xpos,.end,.zpos
pos=. fit3d pos
drawtext iZLABEL;aln;LabelFont;LABELCOLOR;ZLabel;pos
)
drawztics3d=: 3 : 0

if. 0=2{TICS do. '' return. end.

step=. >: (>:ZMinor) * <:#ZLabel
mark=. step$(1,ZMinor)#(TICMAJOR,TICMINOR) % Gh <. Gw
mark=. mark * _1 ^ TicOut

zpos=. int01 <: step
xpos=. ,0,.mark
ndx=. Box3dL firstin 0 5 7 11
if. ndx e. 7 11 do. xpos=. -. xpos end.

pos=. xpos,.(ndx e. 5 11),.2#zpos
pos=. fit3d pos
drawline iZTICS;AXISCOLOR;GUIDESIZE;_4[\,pos
)
drawpietics=: 3 : 0
rad=. <. -: <./ _2 {. Gxywh
ctr=. (Gx+-:Gw),Gy+-:Gh
xy=. rndint (rad * y),.(rad+MPieTic) * y
xy +"1 [ 4 $ ctr
)
coclass 'jzplot'
cfserr=: 3 : 0
signal 'need data matrix for 3d plot'
signal 'plot error'
)
conform3d=: 3 : 0
'x y z'=. y

shp=. $ each x;y;z
if2=. 2 = # &> shp

select. +/if2

case. 0 do.
  x=. ,:x
  y=. ,;y
  z=. ,:z
  rxy=. $z

case. 1 do.

  rxy=. ;(-.if2)#shp
  rmat=. ;if2#shp

  if. -. rxy -: rmat do.
    if. rxy -: |.rmat do.
      nm=. if2 # 'xyz'
      (nm)=. |:,nm~
    else. cfserr''
    end.
  end.

case. 2 do.
  rz=. ;(-.if2)#shp
  rs=. if2#shp
  rxy=. 0 pick rs
  if. (-:/rs) *: (rz e. rxy) do.
    cfserr''
  end.

case. 3 do.
  if. -. shp -: 3${.shp do.
    cfserr''
  end.
  rxy=. 0 pick shp
end.

'r c'=. rxy
if. 2>rank x do.
  x=. c#"1,.x
end.
if. 2>rank y do.
  y=. rxy$y
end.
if. 2>rank z do.
  z=. rxy$z
end.

x;y;z

)
getdata=: 4 : 0
dat=. y

if. 0 e. $ y do.
  '';(i.0 0);(i.0 0) return.
end.

if. iscomplexdata dat do.
  if. dat -: + dat do.
    dat=. {."1 dat
  else.
    if. 2 > #$dat do.
      dat=. ;/ |: +. dat
    else.
      dat=. ;/ 2 0 1 |: +. dat
    end.
  end.
end.

if. isboxed dat do.
  x getdata_boxed dat
else.
  x getdata_open dat
end.

)
getdata_boxed=: 4 : 0
select. (x=3),#y
case. 0 1 do.
  y=. citemize 0 pick y
  x=. i.{:$y
  x;y;0
case. 1 1 do.
  (i.#0 pick y);(i.{:$0 pick y);y
case. 1 2 do.
  (i.#1 pick y);y
case. do.
  3 {. y,<0
end.
)
getdata_open=: 4 : 0
if. x=2 do.
  y=. citemize y
  x=. i.{:$y
  x;y;0
else.
  z=. citemize y
  y=. i. {:$ z
  x=. i. # z
  x;y;z
end.
)
getmin=: 3 : 0
<./ &> ,each y
)
getmax=: 4 : 0
types=. x
'x y z'=. y
if. (1 e. types e. SumXTypes) do.
  mx=. >./, +/"1 x
else.
  mx=. >./, x
end.
if. (1 e. types e. SumYTypes) do.
  my=. >./, +/ y
else.
  my=. >./, y
end.
if. (1 e. types e. SumZTypes) do.
  mz=. >./, +/ z
else.
  mz=. >./, z
end.
mx,my,mz
)
getpolar=: 3 : 0
'x y z'=. y
(x * cos y) ; (x * sin y) ; z
)
getdatarange=: 3 : 0

'types dat y2msk yaxes'=. y

min=. getmin "1 dat
max=. types & getmax "1 dat

y2min=. y2max=. zmin=. zmax=. 0

select. yaxes

case. 1 0 do.
  'xmin ymin zmin'=. <./ min
  'xmax ymax zmax'=. >./ max
case. 0 1 do.
  'xmin y2min zmin'=. <./ min
  'xmax y2max zmax'=. >./ max
  ymin=. y2min
  ymax=. y2max
case. 1 1 do.
  lmsk=. -.y2msk
  rmsk=. y2msk

  'xln yln j'=. <./ lmsk # min
  'xlx ylx j'=. >./ lmsk # max
  'xrn yrn j'=. <./ rmsk # min
  'xrx yrx j'=. >./ rmsk # max

  xmin=. xln <. xrn
  xmax=. xlx >. xrx
  ymin=. yln
  ymax=. ylx
  y2min=. yrn
  y2max=. yrx
end.
if. (<'radar') e. types do.
  ymin=. 0 <. ymin
  ymax=. 1 >. ymax
end.
(xmin,xmax);(ymin,ymax);(y2min,y2max);zmin,zmax

)

coclass 'jzplot'
Box3d=: _3[\,".;._2 (0 : 0)
0 0 0 0 0 1
0 0 0 0 1 0
0 0 0 1 0 0
0 0 1 0 1 1
0 0 1 1 0 1
0 1 0 0 1 1
0 1 0 1 1 0
1 0 0 1 0 1
1 0 0 1 1 0
0 1 1 1 1 1
1 0 1 1 1 1
1 1 0 1 1 1
)
dofirst=: 1 : 0
Ndx=: Ndx-1
u y
Ndx=: Ndx+1
)
dolast=: 1 : 0
Ndx=: Ndx+1
u y
Ndx=: Ndx-1
)
drawborder=: 3 : 0
if. BORDER do.
  box=. PlotBox shrinkrect BORDERSIZE
  drawbox iBORDER;FORECOLOR;GUIDESIZE;box
end.
)
drawbox=: 3 : 0
'i c s p'=. y
'x y w h'=. p
xw=. x + w
yh=. y + h
drawline i;c;s;x,y,xw,y,xw,yh,x,yh,x,y
)
drawdot=: 3 : 0
'i c s p'=. y
setp 'dot';i;s;0;0;c;0;p
)
drawframebox=: 3 : 0
if. FRAME do.
  drawbox iBOX;AXISCOLOR;GUIDESIZE;Fxywh
end.
)
drawframebox3d=: 3 : 0
box=. (Box3d scalepos XYZDiff) movepos XYZMin
box=. project box
zbox=. {:"1 box
box=. }:"1 box
Box3dX=: /: _2 +/\ zbox
j=. <Box3dX /: 3#1 0 0 1
Box3dL=: j firstin &> 2 6 4 9 ;1 8 3 10 ;0 5 7 11
box=. fitgrafxy3d box
box=. 12 4$,box
box=. Box3dX{box
drawline iFRAME;AXISCOLOR;GUIDESIZE;box
drawline dolast iFRAME;AXISCOLOR;GUIDESIZE;3{.box
)
drawfxywh=: 3 : 0
setp 'fxywh';0;0;0;0;0;0;y#Fxywh
)
drawmarker=: 3 : 0
'i s c m p'=. y
setp 'marker';i;s;m;0;c;0;p
)

drawpline=: 3 : 0
'i t c s p'=. y
setp 'pline';i;s;t;0;c;0;p
)
drawtext=: 3 : 0
'i a f c t p'=. y
setp 'text';i;t;f;a;c;0;p
)
drawtitle=: 3 : 0
if. 0=#TITLE do. '' return. end.
x=. Tx + -: Tw
if. LF e. TITLE do.
  tit=. <;._2 TITLE,LF
  h=. (Th - +:MTitle) % #tit
  y=. Ty + Th - MTitle
  for_t. tit do.
    drawtext iTITLE;iCENTER;TitleFont;TITLECOLOR;t,<x,y
    y=. y - h
  end.
else.
  y=. Ty + Th - MTitle
  drawtext iTITLE;iCENTER;TitleFont;TITLECOLOR;TITLE;x,y
end.
)
drawsubtitle=: 3 : 0
if. 0=#SUBTITLE do. '' return. end.
x=. Vx + -: Vw
if. LF e. SUBTITLE do.
  tit=. <;._2 SUBTITLE,LF
  h=. (Vh - +:MSubTitle) % #tit
  y=. Vy + Vh - MSubTitle
  for_t. tit do.
    drawtext iSUBTITLE;iCENTER;SubTitleFont;SUBTITLECOLOR;t,<x,y
    y=. y - h
  end.
else.
  y=. Vy + Vh - MSubTitle
  drawtext iSUBTITLE;iCENTER;SubTitleFont;SUBTITLECOLOR;SUBTITLE;x,y
end.
)
draw1d=: 4 : 0
'i c s p'=. y
setp x;i;s;0;0;c;0;p
)
draw2d=: 4 : 0
'i e s c p'=. y
setp x;i;s;0;0;e;c;p
)
drawarc=: 'arc' & draw1d
drawline=: 'line' & draw1d
drawpie=: 'pie' & draw2d
drawpoly=: 'poly' & draw2d
drawrect=: 'rect' & draw2d
drawcircle=: 'circle' & draw2d
cube=: 3 : 0
v=. normalize 2 2 2#: i.8
ndx=. 0 2 6 4, 4 6 7 5, 1 5 7 3, 0 1 3 2, 2 3 7 6,: 0 4 5 1
ndx{v
)
dodecahedron=: 3 : 0
x=. 2 o. 1r5p1
y=. % <: +: x
a=. |: 2 1 o./ o. (+:i.5)%5
b=. |: 2 1 o./ o. (>:+:i.5)%5
v=. normalize (a,.0),((+:a*x),.1),((+:b*x),.y),b,.>:y
ndx=. 0 4 3 2 1, 0 1 6 10 5, 1 2 7 11 6, 2 3 8 12 7, 3 4 9 13 8
ndx=. ndx, 4 0 5 14 9, 5 10 15 19 14, 6 11 16 15 10, 7 12 17 16 11
ndx=. _5[\ ndx, 8 13 18 17 12, 9 14 19 18 13, 15 16 17 18 19
ndx{v
)
icosahedron=: 3 : 0
's c'=. 1 2 o. 1r5p1
x=. %: -. % 4 * *: s
y=. %: (1++:c) % 2++:c
a=. |: (2 1 o./ o. (+:i.5)%5) % +:s
b=. |: (2 1 o./ o. (>:+:i.5)%5) % +:s
v=. normalize 0,(a,.x),(b,.x+y),0 0,y++:x
ndx=. 0 2 1, 0 3 2, 0 4 3, 0 5 4, 0 1 5, 1 2 6, 2 3 7, 3 4 8
ndx=. ndx, 4 5 9, 5 1 10, 1 6 10, 2 7 6, 3 8 7, 4 9 8, 5 10 9
ndx=. _3[\ndx, 11 6 7, 11 7 8, 11 8 9, 11 9 10, 11 10 6
ndx{v
)
octahedron=: 3 : 0
v=. normalize 0 0 1, 1 0 0, 0 1 0, _1 0 0, 0 _1 0 ,: 0 0 _1
ndx=. 0 1 2, 0 2 3, 0 3 4, 0 4 1, 5 2 1, 5 3 2, 5 4 3,: 5 1 4
ndx{v
)
tetrahedron=: 3 : 0
r3=. -%%:3
r2=. %:2
r23=. %:2r3
v=. normalize (0,0,%:3), (0, (+:r23),r3), ((-r2),(-r23),r3),: r2,(-r23),r3
ndx=. 0 1 2, 0 2 3, 0 3 1,: 1 3 2
ndx{v
)
normalize=: 3 : 0
v=. (-"1 +/ % #) y
cleanz v % >./ dist"1 v
)
drawtrims=: 3 : 0

if. IfPie do. return. end.

if. DimType=2 do.
  drawframebox''

  drawxgrid''
  drawygrid''

  drawxaxis''
  drawyaxis''

  drawxtics''
  drawytics''

  drawxlabs''
  drawylabs''
  drawy2labs''

  drawxcaption''
  drawycaption''
  drawy2caption''

else.

  if. BOXED do.
    drawframebox3d''
    drawxtics3d''
    drawytics3d''
    drawztics3d''
    drawxlabs3d''
    drawylabs3d''
    drawzlabs3d''
  end.

end.
)
pclose_android=: 3 : 0
try.
  wd 'psel ',": PFormhwnd
  PFormhwnd=: 0
  if. ifjwplot'' do.
    wpsave_j_ :: 0: PForm
  end.
  wd 'pclose'
  pd 'reset'
catch. end.
0
)
popen_android=: 3 : 0
if. wdishandle ": (0&". ::]) PFormhwnd do.
  wd 'psel ', ": (0&". ::]) PFormhwnd
  glsel PId
  0 return.
end.
fm=. PForm,'_'
id=. fm,PId,'_'
(id,'paint')=: ppaint
(id,'mmove')=: ]

Pxywh=: ''
PShow=: 0
wd 'activity ', (>coname''), ' fs'
)

onStart=: 3 : 0
wd 'pc ',PForm,' closeok'
wd 'pn *',PLOTCAPTION
wd 'cc ',PId,' isigraph flush'
wd 'pas 0 0'
PFormhwnd=: wdqhwndp''
android_show2''
)
ptop_android=: 3 : 0
PTop=: -. PTop
wd 'ptop ',":PTop
)
3 : 0''
if. IFJA do.
  pclose=: pclose_android
  popen=: popen_android
  ppaint=: android_paint
  psize=: psize_android
  ptop=: ptop_android
end.
EMPTY
)
PMenu=: 0 : 0
menupop "&File";
menu clip "&Clip" "" "" "";
menusep;
menu saveeps "&Save EPS" "" "" "";
menusep;
menu savepdf "&Save PDF" "" "" "";
menusep;
menu print "&Print" "" "" "";
menusep;
menu exit "E&xit" "" "" "";
menupopz;
menupop "&Help";
menu help "&Plot Help" "" "" "";
menusep;
menu about "&About" "" "" "";
menupopz;
)
pclose_isi=: 3 : 0
try.
  wd 'psel ',PFormhwnd
  if. ifjwplot'' do.
    wpsave_j_ :: 0: PForm
  end.
  wd 'pclose'
  pd 'reset'
catch. end.
)
popen_isi=: 3 : 0
if. ifparent PFormhwnd do.
  wd 'psel ',PFormhwnd
  wd 'pactive'
  glsel PId
  glnodblbuf^:IFJNET 0
  0 return.
end.
if. IFJNET do.
  wd 'pc6j ',PForm,' closeok'
else.
  wd 'pc ',PForm,' closeok'
end.
PFormhwnd=: wd 'qhwndp'
wd 'pn *',PLOTCAPTION
wd 'xywh 0 0 240 180'
wd 'cc ',PId,' isigraph rightmove bottommove'
wd 'pas 0 0'
glnodblbuf^:IFJNET 0

if. ifjwplot'' do.
  wpset_j_ :: 0: PForm
else.
  wdmove _1 0
end.
wdfit ''

fm=. PForm,'_'
id=. fm,PId,'_'
(id,'paint')=: ppaint
(id,'mmove')=: ]
Pxywh=: ''
PShow=: 0
)
isi_ppaint=: 3 : 0
cwh=. glqwh''
if. -. cwh -: Cw,Ch do.
  isi_show ''
end.
)
psize=: 3 : 0
if. #Plot do.
  isi_ppaint''
end.
)
ptop_isi=: 3 : 0
PTop=: -. PTop
wd 'ptop ',":PTop
)
pclose_qt=: 3 : 0
try.
  wd 'psel ',": PFormhwnd
  PFormhwnd=: 0
  if. ifjwplot'' do.
    wpsave_j_ :: 0: PForm
  end.
  wd 'pclose'
  pd 'reset'
catch. end.
0
)
popen_qt=: 3 : 0
if. #y do. size=. 0 ". y else. size=. QT_DEFSIZE end.

Poutput=: iQT
if. wdishandle ": (0&". ::]) PFormhwnd do.
  wd 'psel ', ": (0&". ::]) PFormhwnd
  glsel PId
  0 return.
end.
wd 'pc ',PForm,' closeok'
PFormhwnd=: wdqhwndp''
wd 'pn *',PLOTCAPTION
wd 'minwh ',": size
wd 'cc ',PId,' isigraph flush'
wd 'pas 0 0'

fm=. PForm,'_'
id=. fm,PId,'_'
(id,'paint')=: ppaint
(id,'mmove')=: ]

Pxywh=: ''
PShow=: 0
)
ptop_qt=: 3 : 0
PTop=: -. PTop
wd 'ptop ',":PTop
)
3 : 0''
if. IFQT do.
  pclose=: pclose_qt
  popen=: popen_qt
  ppaint=: qt_paint
  psize=: psize_qt
  ptop=: ptop_qt
elseif. IFJA do.
  pclose=: pclose_android
  popen=: popen_android
  ppaint=: android_paint
  psize=: psize_android
  ptop=: ptop_android
elseif. ('jwin32';'jjava') e.~ < (11!:0) ::0: 'qwd' do.
  pclose=: pclose_isi
  popen=: popen_isi
  ppaint=: isi_paint
  psize=: psize_isi
  ptop=: ptop_isi
end.
EMPTY
)
fzskludge=: 4%3
pgetascender=: 3 : 0
if. Poutput = iANDROID do.
  glfontextent andfontdesc y
  1 { glqtextmetrics''
elseif. Poutput e. iQT,iQTC do.
  glfontextent gtkfontdesc y
  1 { glqtextmetrics''
elseif. Poutput = iCAIRO do.
  FontScale * getascender y
elseif. Poutput = iCANVAS do.
  FontScale * getascender (FontSizeMin >. 2{y) 2 } y
elseif. Poutput=iISI do.
  glfont y
  1 { glqtextmetrics''
elseif. do.
  FontScale * getascender y
end.
)
pgetextent=: 4 : 0
select. Poutput
case. iANDROID do.
  glfontextent andfontdesc^:(0={.0#x) x
  |: glqextent &> y
case. iQT;iQTC do.
  glfontextent`glfontextent_jglc_@.(Poutput=iQTC) gtkfontdesc^:(0={.0#x) x
  |: glqextent`glqextent_jglc_@.(Poutput=iQTC) &> y
case. iCAIRO do.
  FontScale * fzskludge * x getextent y
case. iCANVAS do.
  FontScale * fzskludge * ((FontSizeMin >. 2{x) 2} x) getextent y
case. iISI do.
  glfont x
  |: glqextent &> y
case. do.
  FontScale * x getextent y
end.
)
pgetextent1=: 4 : 0
if. LF e. y do.
  r=. (<x) pgetextent1 &> <;._2 y,LF
  (>./{."1 r),+/{:"1 r return.
end.
select. Poutput
case. iANDROID do.
  glfontextent andfontdesc^:(0={.0#x) x
  glqextent y
case. iQT;iQTC do.
  glfontextent`glfontextent_jglc_@.(Poutput=iQTC) gtkfontdesc^:(0={.0#x) x
  glqextent`glqextent_jglc_@.(Poutput=iQTC) y
case. iCANVAS do.
  FontScale * fzskludge * ((FontSizeMin >. 2{x) 2} x) getextent1 y
case. iISI do.
  glfont x
  glqextent y
case. do.
  FontScale * x getextent1 y
end.
)
getfontsize=: 13 : '{.1{._1 -.~ _1 ". y'
getplotfontsize=: 3 : 0
if. 2 131072 262144 e.~ 3!:0 y do.
  FontScale * FontSizeMin >. getfontsize y
else.
  FontScale * FontSizeMin >. 2 { y
end.
)

pgetstringlen=: {. @ pgetextent
gtkfontdesc=: 3 : 0
'ind fst siz ang und'=. y
'ita bld'=. 2 2 #: fst
sty=. (bld#' bold'),(ita#' italic'),und#' underline'
('_' (I.@(' '&=)nam)} nam=. ind pick GTKFONTNAMES),sty,' ',":siz
)
setfonts=: 3 : 0

CaptionFontX=: getfontid CAPTIONFONT
KeyFontX=: getfontid KEYFONT
LabelFontX=: getfontid LABELFONT
SubTitleFontX=: getfontid SUBTITLEFONT
SymbolFontX=: getfontid SYMBOLFONT
TitleFontX=: getfontid TITLEFONT

if. Poutput e. iANDROID do.
  CaptionFont=: getgtkfontid CaptionFontX
  KeyFont=: getgtkfontid KeyFontX
  LabelFont=: getgtkfontid LabelFontX
  SubTitleFont=: getgtkfontid SubTitleFontX
  SymbolFont=: getgtkfontid SymbolFontX
  TitleFont=: getgtkfontid TitleFontX
elseif. Poutput e. iQT,iQTC do.
  CaptionFont=: getgtkfontid CaptionFontX
  KeyFont=: getgtkfontid KeyFontX
  LabelFont=: getgtkfontid LabelFontX
  SubTitleFont=: getgtkfontid SubTitleFontX
  SymbolFont=: getgtkfontid SymbolFontX
  TitleFont=: getgtkfontid TitleFontX
elseif. Poutput = iISI do.
  CaptionFont=: getisifontid CaptionFontX
  KeyFont=: getisifontid KeyFontX
  LabelFont=: getisifontid LabelFontX
  SubTitleFont=: getisifontid SubTitleFontX
  SymbolFont=: getisifontid SymbolFontX
  TitleFont=: getisifontid TitleFontX
elseif. do.
  CaptionFont=: CaptionFontX
  KeyFont=: KeyFontX
  LabelFont=: LabelFontX
  SubTitleFont=: SubTitleFontX
  SymbolFont=: SymbolFontX
  TitleFont=: TitleFontX
end.

FontScale=: (Poutput e. iEPS,iPDF,iCAIRO) { 1,FONTSCALE
FontSizeMin=: (Poutput e. iCANVAS) { 0,FONTSIZEMIN
)
coclass 'jzplot'
gdxy=: 3 : 0
xy=. _2 [\ <;._1 ' ',deb y
,('x' gdxy1 {."1 xy),.'y' gdxy1 {:"1 xy
)
gdxy1=: 4 : 0
if. x='y' do.
  b=. Gy
  s=. Gh
  max=. YMax
  min=. YMin
else.
  b=. Gx
  s=. Gw
  max=. XMax+IfBar*1.5
  min=. XMin+IfBar*0.5
end.
np=. I. mp=. 'x' = {:&> y
nr=. I. mr=. 'r' = {:&> y
nm=. I. mm=. mr +: mp
y=. 0 ".&> (-mr+.mp) }. each y
y=. ((s%1000) * nm{y) nm}y
if. #np do.
  px=. np{y
  px=. (px<0) } px,:1 + s|px
  y=. px np}y
end.
if. #nr do.
  pr=. s * (max-min) %~ (nr{y) - min
  y=. pr nr}y
end.
b + rndint y
)
gdbrushcolor=: 3 : 0
BrushColor=: rndint _1 ". toupper y
)
gdlines=: 3 : 0
drawpline iGD;({:Pen);PenColor;({.Pen);gdxy y
)
gdpen=: 3 : 0
Pen=: 2 {. _1 ". y
)
gdpencolor=: 3 : 0
PenColor=: rndint _1 ". toupper y
)
gdrect=: 3 : 0
drawrect iGD;PenColor;({.Pen);BrushColor;gdxy y
)
drawgd=: 3 : 0
cmd=. ('Gcmd',":y)~
for_d. cmd do.
  'f v'=. d
  f~v
end.
)
coclass 'jzplot'
KeyOpts=: <;._2 (0 : 0)
bottom
boxed
center
combo
fat
horizontal
inside
left
marker
middle
open
outside
right
thin
top
vertical
)
drawkey=: 3 : 0

if. 0 = #KEY do. return. end.

len=. #KEY
if. #KEYCOLOR do.
  clr=. KEYCOLOR
else.
  clr=. ITEMCOLOR
end.
clr=. len $ clr
'hz rj'=. 'hr' e. KEYSTYLE

boxed=. -. 'o' e. KEYSTYLE
marker=. 1 e. 'mc' e. KEYSTYLE

if. marker do.
  if. #ndx=. KEYMARKERS,MARKERS do.
    markers=. ndx { KeyMarkerNames
  else.
    markers=. KeyMarkerNames
  end.
end.
'kx ky'=. ((boxed + 1) * MKx,MKy) + Kx,Ky
'tw th'=. KeyExtent
mtw=. >./tw
mth=. >./th
select. hz,rj
case. 0 0 do.
  gx=. 0
  gy=. ty=. |. +/\ th
  tx=. MKx + KeyLen
  ts=. iLEFT
case. 0 1 do.
  tx=. mtw
  gx=. tx + MKx
  gy=. ty=. |. +/\ th
  ts=. iRIGHT
case. 1 0 do.
  gy=. ty=. mth
  gx=. 0, +/\ }: tw + KeyLen + 3 * MKx
  tx=. gx + KeyLen + MKx
  ts=. iLEFT
case. 1 1 do.
  gy=. ty=. mth
  gx=. (+/\ tw) + (KeyLen + 3 * MKx) * i.#tw
  tx=. gx - MKx
  ts=. iRIGHT
end.

gx=. gx + kx
tx=. tx + kx
gy=. gy + ky
ty=. ty + ky
if. boxed do.
  rect=. boxwh2rs Kxywh shrinkrect MKx,MKy,MKx,MKy
  col=. ('o' e. KEYPOS) pick FrameBackColor;BACKCOLOR
  drawrect iKEY;AXISCOLOR;1;col;rect
end.
if. marker do.
  xy=. (gx + -: KeyLen),.ty - -: th
  for_i. i.#xy do.
    drawmarker iKEY;(MarkerScale*MARKERSIZE);(i{clr);(i{markers),<,:i{xy
  end.
  if. 'c' e. KEYSTYLE do.
    wh=. KeyLen,KeyPen
    xy=. gx,.ty - -: KeyPen + th
    dat=. xy ,"1 xy +"1 wh
    drawrect iKEY;AXISCOLOR;0;clr;dat
  end.
elseif. 'f' e. KEYSTYLE do.
  hit=. 0.5 * <./th
  ly=. ty + 1 - -: hit + th
  xy=. gx,.ly
  wh=. KeyLen,hit
  dat=. xy ,"1 xy +"1 wh
  drawrect iKEY;AXISCOLOR;0;clr;dat
elseif. do.
  ly=. ty + 1 - -: KeyPen + th
  xy=. gx,.ly
  wh=. KeyLen,KeyPen
  dat=. xy ,"1 xy +"1 wh
  drawrect iKEY;AXISCOLOR;0;clr;dat
end.
if. Poutput = iANDROID do.
  ty=. ty - <. 0.75 * {.th
elseif. Poutput e. iQT,iQTC do.
end.
pos=. tx,.ty

drawtext dolast iKEY;ts;KeyFont;LABELCOLOR;KEY;pos
)
getinnerkeybox=: 3 : 0

if. 0 = #KEY do. return. end.

if. 'o' e. KEYPOS do. return. end.
if. 'h' e. KEYSTYLE do.
  if. 'r' e. KEYPOS do.
    x=. Gw - (+:MKx) + Kw
  elseif. 'c' e. KEYPOS do.
    x=. -: Gw - Kw
  elseif. do.
    x=. +:MKx
  end.
  if. 'b' e. KEYPOS do.
    y=. +:MKy
  else.
    y=. Gh - (+:MKy) + Kh
  end.
else.
  if. 'r' e. KEYPOS do.
    x=. Gw - (+:MKx) + Kw
  else.
    x=. +:MKx
  end.
  if. 'b' e. KEYPOS do.
    y=. +:MKy
  elseif. 'm' e. KEYPOS do.
    y=. -: Gh - Kh
  elseif. do.
    y=. Gh - (+:MKy) + Kh
  end.
end.

Kx=: x+Gx
Ky=: y+Gy
Kxywh=: Kx,Ky,Kw,Kh
)
ifouterkey=: 3 : 0
('o' e. KEYPOS) *. 0 < #KEY
)
getouterkeybox=: 3 : 0
if. -. ifouterkey'' do. return. end.

if. 'r' e. KEYPOS do.
  x=. Ox + Ow - Kw
elseif. 'c' e. KEYPOS do.
  x=. Ox + -: Ow - Kw
elseif. do.
  x=. Ox
end.

if. 'b' e. KEYPOS do.
  y=. Oy
elseif. 'm' e. KEYPOS do.
  y=. Oy + -: Oh - Kh
elseif. do.
  y=. Oy + Oh - Kh
end.

Kx=: x
Ky=: y
Kxywh=: Kx,Ky,Kw,Kh
)
getkeysize=: 3 : 0

if. 0 = #KEY do.
  'Kx Ky Kw Kh'=: Kxywh=: 4$0 return.
end.
len=. #KEY
KeyExtent=: KeyFont pgetextent KEY
'tw th'=. KeyExtent
if. 'h' e. KEYSTYLE do.
  kw=. (len * KeyLen + 3 * MKx) + +/tw
  kh=. (+:MKy) + >./th
else.
  kw=. (3 * MKx) + KeyLen + >./tw
  kh=. (+:MKy) + +/th
end.
if. -. 'o' e. KEYSTYLE do.
  kw=. kw + +: MKx
  kh=. kh + +: MKy
end.
'Kx Ky Kw Kh'=: Kxywh=: 0 0,kw,kh
)

coclass 'jzplot'
getaspect=: 3 : 0
if. ASPECT=0 do. return. end.
select. * ASPECT - Gh % Gw
case. _1 do.
  getaspecth''
case. 1 do.
  getaspectw''
end.
Gxywh=: Gx,Gy,Gw,Gh
Fxywh=: Fx,Fy,Fw,Fh
Lxywh=: Lx,Ly,Lw,Lh
)
getaspecth=: 3 : 0
new=. Gw * ASPECT
dh=. Gh - new
dy=. 0 >. (Dy - Gy) + -: Dh - new
Gh=: Gh - dh
Gy=: Gy + dy
Fh=: Fh - dh
Fy=: Fy + dy
Lh=: Lh - dh
Ly=: Ly + dy
if. (#KEY) *. 'o' e. KEYPOS do.
  Ky=: Ky + ('b' e. KEYPOS) { (dy-dh),dy
  Kxywh=: Kx,Ky,Kw,Kh
end.
if. #XCAPTION do.
  Xy=: Xy + dy
  Xxywh=: Xx, Xy, Xw, Xh
end.
if. #TITLE do.
  Ty=: Ty + dy - dh
  Txywh=: Tx, Ty, Tw, Th
end.
if. #SUBTITLE do.
  Vy=: Vy + dy - dh
  Vxywh=: Vx, Vy, Vw, Vh
end.
)
getaspectw=: 3 : 0
new=. Gh % ASPECT
dw=. Gw - new
dx=. 0 >. (Dx - Gx) + -: Dw - new
Gw=: Gw - dw
Gx=: Gx + dx
Fw=: Fw - dw
Fx=: Fx + dx
Lw=: Lw - dw
Lx=: Lx + dx
if. (#KEY) *. 'o' e. KEYPOS do.
  Kx=: Kx + ('r' e. KEYPOS) { dx,dx-dw
  Kxywh=: Kx,Ky,Kw,Kh
end.
if. (IfMulti >: IfPie) *. #YCAPTION do.
  Yx=: Yx + dx
  Yxywh=: Yx, Yy, Yw, Yh
end.
if. #Y2CAPTION do.
  Y2x=: Y2x + dx - dw
  Y2xywh=: Y2x, Y2y, Y2w, Y2h
end.
)
getframebox=: 3 : 0
if. 0 = #FRAMESTYLE do.
  FrameX=: -. IfBar
else.
  FrameX=: 'o' e. FRAMESTYLE
end.
if. #Frame do.
  'Fx Fy Fw Fh'=: Fxywh=: Frame return.
end.

if. 0 = #Data do. return. end.

x=. y=. r=. t=. 0
if. (YAxes -: 1 0) *. XDiv >: MaxAxisInt do.
  YAxes=: 0 1
  Y2Label=: YLabel
  Y2Tics=: YTics
  YTics=: YLabel=: ''
end.
if. #;XLabel do.
  mxlab=. MXlabel
  'xlw xlh'=. LabelFont pgetextent XLabel
  lx=. >.-:{.xlw
  lr=. 0 >. >.-:{:xlw
else.
  xlw=. xlh=. mxlab=. lx=. lr=. 0
end.
if. #;YLabel do.
  mylab=. MYlabel
  'ylw ylh'=. LabelFont pgetextent YLabel
  ly=. MGxy + (TICMAJOR * FrameX=0) + >.-:{.ylh
  lt=. 0 >. >.-:{:ylh
else.
  ylw=. ylh=. mylab=. ly=. lt=. 0
end.
YLabelHeight=: {. ylh
if. {:YAxes do.
  if. #;Y2Label do.
    mylab=. MYlabel
    'yrw yrh'=. LabelFont pgetextent Y2Label
    lr=. lr >. mylab + (>./ yrw)
    lt=. lt >. >.-:{:yrh
  else.
    ylw=. ylh=. mylab=. ly=. lt=. 0
  end.
end.
if. DimType=3 do.
  if. #;ZLabel do.
    'zlw zlh'=. LabelFont pgetextent ZLabel
    lx=. >./lx,zlw
    ly=. >./xlh,ylh,zlh
  end.
end.
if. FRAME +. XDiv=0 do.
  x=. lx >. mylab + >./ylw
else.
  x=. lx
end.
if. FRAME +. IfBar +. YDiv=0 do.
  y=. ly >. mxlab + {. >./xlh
else.
  y=. ly
end.
if. TicOut do.
  x=. x + TICMAJOR
  y=. y + TICMAJOR
  lr=. lr + TICMAJOR * {:YAxes
elseif. IfBar do.
  y=. y + TICMAJOR
end.
mrg=. rndint x,y,lr,lt
if. DimType=3 do.
  mrg=. 4 $ >./ mrg
end.
Fxywh=: Lxywh shrinkrect mrg
'Fx Fy Fw Fh'=: Fxywh
)
getminor=: 4 : 0
(y > 2) * 3 + 2 = (pow10 >. log10 x) % x
)
getminmax=: 4 : 0

'int tic ticpos min max log'=. y
if. log=1 do.
  dat=. (pow10 int);tic;(pow10 ticpos);(pow10 min);(pow10 max);2
  log10 each x getminmax dat return.
end.
min=. (10 ^ <. _2.9 + 10 ^. | min) rounddown min
max=. (10 ^ <. _2.9 + 10 ^. | max) roundup max
if. 0=#int do.
  if. max > 0 do.
    int=. 0 >. min
  else.
    int=. max
  end.
end.
min,max,int
)
gettfm=: 3 : 0
view=. VIEWPOINT-VIEWCENTER
ViewDist=: dist view
n=. view % ViewDist
v=. unitvec VIEWUP - n * n mp VIEWUP
t=. (v cross n),.v,.n
r=. -VIEWCENTER mp t
tfm=. (t,.0),r,1
XYZMin=: XMin,YMin,ZMin
XYZDiff=: (XMax,YMax,ZMax)-XYZMin
fitxyz=: [: movepos & XYZMin scalepos & XYZDiff
fit=. ((VIEWSIZE*=i.3)%XYZDiff),(-0.5+XYZMin%XYZDiff),1
Tfm=: fit mp tfm
)
getgrafbox=: 3 : 0
if. DimType=3 do.
  Gxywh=. Fxywh shrinkrect TICMAJOR * TicOut
else.
  if. FRAME *. FrameX do.
    Gxywh=: Fxywh shrinkrect TICMAJOR + MGxy
  else.
    Gxywh=: Fxywh
  end.
end.
'Gx Gy Gw Gh'=: Gxywh
)
lfmt=: 3 : 0
dat=. ": y
txt=. ,dat
($dat) $ '-' (I. txt='_') } txt
)
getlabelbox=: 3 : 0

lxywh=. Oxywh

if. ifouterkey'' do.

  'lx ly lw lh'=. lxywh
  lr=. lx + lw
  ls=. ly + lh

  if. 'h' e. KEYSTYLE do.
    if. 'b' e. KEYPOS do.
      ly=. Ky + Kh
    else.
      ls=. Ky
    end.
  else.
    if. 'r' e. KEYPOS do.
      lr=. Kx
    elseif. 'c' e. KEYPOS do.
      if. 'b' e. KEYPOS do.
        ly=. Ky + Kh
      else.
        ls=. Ky
      end.
    elseif. do.
      lx=. Kx + Kw
    end.
  end.
  lxywh=. lx,ly,(lr-lx),ls-ly

end.

'Lx Ly Lw Lh'=: Lxywh=: lxywh shrinkrect MLxy + MXlabel,MYlabel
)
getlabels=: 3 : 0

fm=. FRAME +. ORIGINXLABEL

if. (0=#XLabel) *. 0 { LABELS do.
  b=. (XInt=XTicPos) *. (XInt=0) >: YDiv e. 0 1
  ndx=. I. (DimType=2) *. fm<b
  XLabel=: (<'') ndx } lfmt each pow10 ^: XLOG XTicPos
end.
if. (0=#YLabel) *. 1 { LABELS do.
  b=. (YInt=YTicPos) *. (YInt=0) >: XDiv e. 0 1
  ndx=. I. (DimType=2) *. fm<b
  YLabel=: (<'') ndx } lfmt each pow10 ^: YLOG YTicPos
end.

if. DimType=2 do.
  if. {:YAxes do.
    if. (0=#Y2Label) *. 2 { LABELS do.
      b=. (Y2Int=Y2TicPos) *. (Y2Int=0) >: XDiv e. 0 1
      ndx=. I. (DimType=2) *. fm<b
      Y2Label=: (<'') ndx } lfmt each pow10 ^: Y2LOG Y2TicPos
    end.
  end.
  return.
end.
if. (0=#ZLabel) *. 2 { LABELS do.
  b=. (ZInt=ZTicPos) *. (ZInt=0) >: XDiv e. 0 1
  ndx=. I. (DimType=2) *. FRAME<b
  ZLabel=: (<'') ndx } lfmt each pow10 ^: ZLOG ZTicPos
end.
)
getinnerboxes=: 3 : 0
getframebox''
getgrafbox''
getaspect''
getinnerkeybox''
)
getouterlayout=: 3 : 0
if. IfPie do.
  setouterkey''
end.
getkeysize''
getouterboxes''
getouterkeybox''
)
getlayout=: 3 : 0
TicOut=: 'o' e. TICSTYLE
getouterlayout''
getlabelbox''
getaxes''
if. IfPie do.
  FRAME=: 0
  getpieframes'' return.
end.
if. 1 e. TYPE e. 'contour';'density' do.
  FRAME=: +./ AXES,FRAME
end.
getlabels''
getinnerboxes''
if. DimType=3 do.
  gettfm''
end.
)
getmultilayout=: 3 : 0
setouterkey''
getkeysize''
getouterboxes''
getouterkeybox''
getlabelbox''
)
setouterkey=: 3 : 0
KEYPOS=: ~.'o',KEYPOS -. 'i'
)
getouterboxes=: 3 : 0

'ox oy ow oh'=. Dxywh
or=. ox + ow
os=. oy + oh
if. #TITLE do.
  'Tw Th'=: (TitleFont pgetextent1 TITLE) + +: MTitle
  Tx=: Dx + -: Dw - Tw
  Ty=: Dy + Dh - Th
  Txywh=: Tx,Ty,Tw,Th
  os=. os <. Ty
else.
  'Tx Ty Tw Th'=: Txywh=: Dx,(Dy+Dh),0 0
end.
if. #SUBTITLE do.
  'Vw Vh'=: (SubTitleFont pgetextent1 SUBTITLE) + +: MSubTitle
  Vx=: Dx + -: Dw - Vw
  Vy=: Ty - Vh
  Vxywh=: Vx,Vy,Vw,Vh
  os=. os <. Vy
else.
  'Vx Vy Vw Vh'=: Vxywh=: Tx,Ty,0 0
end.
if. (-.IfPie) *. #YCAPTION do.
  'Yh Yw'=: (CaptionFont pgetextent1 YCAPTION) + +: MYCaption
  Yx=: Dx
  Yy=: Dy + -: Dh - Yh
  if. #TITLE,SUBTITLE do.
    if. (Tx<.Vx) < Yx+Yw do.
      Yy=: Dy >. Yy <. Vy - Yh
    end.
  end.
  Yxywh=: Yx,Yy,Yw,Yh
  ox=. ox >. Yx + Yw
else.
  'Yx Yy Yw Yh'=: Yxywh=: Dx,Dy,0 0
end.
if. #Y2CAPTION do.
  'Y2h Y2w'=: (CaptionFont pgetextent1 Y2CAPTION) + +: MYCaption
  Y2x=: Dx + Dw - Y2w
  Y2y=: Dy + -: Dh - Y2h
  if. #TITLE,SUBTITLE do.
    if. ((Tx+Tw)>.Vx+Vw) > Y2x do.
      Y2y=: Dy >. Y2y <. Vy - Y2h
    end.
  end.
  Y2xywh=: Y2x,Y2y,Y2w,Y2h
  or=. or <. Y2x
else.
  'Y2x Y2y Y2w Y2h'=: Y2xywh=: (Dx+Dw),Dy,0 0
end.
if. #XCAPTION do.
  'Xw Xh'=: (CaptionFont pgetextent1 XCAPTION) + +: MXCaption
  Xx=: Dx + -: Dw - Xw
  Xy=: Dy

  if. #YCAPTION do.
    if. Yy < Xy + Xh do.
      Xx=: Xx >. Yx + Yw
    end.
  end.

  if. #Y2CAPTION do.
    if. Y2y < Xy + Xh do.
      Xx=: 0 >. Xx <. Yx - Xw
    end.
  end.
  Xxywh=: Xx,Xy,Xw,Xh
  oy=. oy >. Xy + Xh
else.
  'Xx Xy Xw Xh'=: Xxywh=: Dx,Dy,0 0
end.
'Ox Oy Ow Oh'=: Oxywh=: ox,oy,(or-ox),os-oy
)
movepielabels=: 3 : 0

pos=. y
org=. y
len=. #pos
'Lmw Lmh'=: <. -: 2 3 { Lxywh
whilst. -. old -: pos do.

  old=. pos
  msk=. rectoverlaps pos
  if. -. 1 e. msk do.
    0;pos return.
  end.
  msk=. msk, 2 {. msk
  if. -. 0 e. msk do.
    pos=. moveoutpielabels pos continue.
  end.
  ndx=. 1 + I. 0 1 E. msk

  for_i. ndx do.
    'cur nxt'=. (len | i + 0 1) { pos
    if. (i+2) { msk do.
      new=. cur movepielabelback nxt
      pos=. new i } pos
    else.
      new=. cur separatepielabel nxt
      pos=. new (len | i + 0 1) } pos
    end.
    if. -. pos -: old do. break. end.
  end.

end.

(pos-:org);pos
)
moveoutpielabels=: 3 : 0
'x y w h'=. |: y
x=. x + * x
y=. y + * y
x=. (-Lmw) >. x <. Lmw - w
y=. (-Lmh) >. y <. Lmh - h
x,.y,.w,.h
)
movepielabelback=: 4 : 0

'lx ly lw lh'=. x
'rx ry rw rh'=. y
ox=. (lw+rw) + (lx<.rx) - (lx+lw)>.rx+rw
oy=. (lh+rh) + (ly<.ry) - (ly+lh)>.ry+rh
ox=. ox + 3
oy=. oy + 3
ang=. (ly - -: lh) getangle lx + -: lw
if. (ox % | cos ang) < oy % | sin ang do.
  mx=. ox
  my=. >. mx * | ly%lx
else.
  my=. oy
  mx=. >. my * | lx%ly
end.

mx=. mx * _1 ^ ly > 0
my=. my * _1 ^ lx < 0

lx=. lx + mx
ly=. ly + my

lx,ly,lw,lh
)

separatepielabel=: 4 : 0
'lx ly lw lh'=. x
'rx ry rw rh'=. y
ox=. (lw+rw) + (lx<.rx) - (lx+lw)>.rx+rw
oy=. (lh+rh) + (ly<.ry) - (ly+lh)>.ry+rh
ox=. >. 2 + -: ox
oy=. >. 2 + -: oy
ang=. (ly - -: lh) getangle lx + -: lw
rad=. -: Gh
if. rad < ly <. ry do.
  lx=. lx - ox
  rx=. rx + ox
elseif. rad < - (ly+lh) <. ry+rh do.
  lx=. lx + ox
  rx=. rx - ox
elseif. rad < rx <.ry do.
  ly=. ly - oy
  ry=. ry + oy
elseif. rad < - (rx+rw) <. ry+rw do.
  ly=. ly + oy
  ry=. ry - oy
elseif. do.
  if. (ox % | cos ang) < oy % | sin ang do.
    mx=. ox
    my=. >. mx * | ly%lx
  else.
    my=. oy
    mx=. >. my * | lx%ly
  end.
  mx=. mx * _1 ^ ly > 0
  my=. my * _1 ^ lx < 0
  lx=. lx + mx
  rx=. rx - mx
  ly=. ly + my
  ry=. ry - my
end.

lx=. (-Lmw) >. (lx + *lx) <. Lmw - lw
ly=. (-Lmh) >. (ly + *ly) <. Lmh - lh
rx=. (-Lmw) >. (rx + *rx) <. Lmw - rw
ry=. (-Lmh) >. (ry + *ry) <. Lmh - rh
(lx,ly,lw,lh),:rx,ry,rw,rh
)
rotxy=: 4 : 0
rot=. 2 2$ 1 1 _1 1 * 0 1 1 0 { 2 1 o. x
rot +/ . * "2 1 y
)
getticpos=: 4 : 0

'int tic min max log cnt'=. y

if. log do. x gettplog y return. end.
if. max ~: min do.
  nmm=. 10 ^ <. <: 10 ^. max - min
  min=. nmm rounddown min
  max=. nmm roundup max
end.

def=. cnt <. (DimType=3) { 10 6
step=. {.tic
wid=. max - min
if. wid=0 do.
  if. #int do.
    if. int=min do.
      'min max'=. straddle min
    else.
      'min max'=. sort int, min
    end.
  else.
    'min max'=. straddle int=. min
  end.
end.
if. #int do.
  max=. max >. int
  min=. min <. int
else.
  if. (min <: 0) *. max >: 0 do.
    int=. 0
  end.
end.
if. step > 0 do.
  s=. step * 1 + i.10
else.
  s=. 1 2 5 10 20 50 100 * pow10 <: <. log10 max - min
end.

if. min < 0 do.
  x=. s roundup min
else.
  x=. s rounddown min
end.
if. max > 0 do.
  y=. s rounddown max
else.
  y=. s roundup max
end.
c=. <. (y - x) % s
ndx=. (c <: def) i. 1
step=. ndx { s,0

if. (step=0) +. ndx = #x do.
  pos=. ''
else.
  pos=. (ndx{x) + step * i. 1 + ndx{c
  min=. min <. {. pos
  max=. max >. {: pos
end.
if. 0=#int do.
  if. max > 0 do.
    int=. 0 >. min
  else.
    int=. max
  end.
end.
step;min;max;int;pos
)
gettics=: 3 : 0
'tics minor max min log'=. y
if. (minor=0) +. 1 >: #tics do.
  tics;(#tics)$TICMAJOR return.
end.
if. log do.
  tics=. pow10 min + tics * max - min
  tmax=. pow10 max
  tmin=. pow10 min
  tics=. (tics - tmin) % tmax - tmin
  'pos mark'=. gettics tics;minor;0;0;0
  pos=. tmin + pos * tmax - tmin
  pos=. ((log10 pos) - min) % max - min
  pos;mark return.
end.
bgn=. {. tics
end=. {: tics
dif=. end - bgn

step=. minor + 1
len=. ((}.-}:) tics) % step
pos=. bgn + 0, +/\ step # len

if. dif = 1 do.
  mark=. (#pos) $ (1,minor) # TICMAJOR,TICMINOR
else.
  pos=. (bgn - +/\. minor # {. len), pos, end + +/\ minor # {:len
  mark=. ($pos) $ (minor,1) # TICMINOR,TICMAJOR
  msk=. (pos >: 0) *. pos <: 1
  pos=. msk # pos
  mark=. msk # mark
end.

pos;mark
)
gettplog=: 4 : 0
'int tic lmin lmax log cnt'=. y
def=. cnt <. (DimType=3) { 8 6
if. 2.9 < lmax-lmin do.
  max=. >.lmax
  min=. <.lmin
  step=. >.(max-min)%def
  if. 0=#int do.
    int=. min
  else.
    min=. min <. log10 int
  end.
  pos=. min+step*i.>:>.(max-min)%step
  step;min;max;int;pos return.
end.
min=. pow10 lmin
max=. pow10 lmax
if. max ~: min do.
  nmm=. 10 ^ <. <: 10 ^. max - min
  min=. nmm rounddown min
  max=. nmm roundup max
end.

step=. {.tic
wid=. max - min
if. wid=0 do.
  if. #int do.
    if. int=min do.
      'min max'=. straddle min
    else.
      'min max'=. sort int, min
    end.
  else.
    'min max'=. straddle int=. min
  end.
end.
if. #int do.
  max=. max >. int
  min=. min <. int
else.
  if. (min <: 0) *. max >: 0 do.
    int=. 0
  end.
end.
if. step > 0 do.
  s=. step * 1 + i.10
else.
  s=. 1 2 5 10 20 50 100 * pow10 <: <. log10 max - min
end.
x=. s rounddown min
y=. s rounddown max
c=. <. (y - x) % s
ndx=. (c <: def) i. 1
step=. ndx { s,0

if. (step=0) +. ndx = #x do.
  pos=. ''
else.
  pos=. (ndx{x) + step * i. 1 + ndx{c
  min=. min <. {. pos
  max=. max >. {: pos
end.
if. 0=#int do.
  int=. min
end.
if. min=0 do.
  pmin=. pow10 lmin
  min=. <. pmin
  if. min=0 do.
    p=. 10 ^ -i.15
    b=. 10 ^ - 1 i.~ pmin >: p
    min=. ({:p) >. b * <. pmin % b
  end.
  int=. int >. min
  pos=. pos >. min
end.

min=. log10 min
max=. log10 max
int=. log10 int
pos=. log10 pos

step;min;max;int;pos

)
coclass 'jzplot'
Y2Axis=: <'Y2AXIS'
j=. 'xint xmin xmax yint ymin ymax y2int y2min y2max zint zmin zmax'
SubCmds=: ;:'axes frame labels ',j
drawbackground=: 3 : 0
if. CLEAR do.
  drawrect iBACKGROUND;BACKCOLOR;1;BACKCOLOR;boxwh2rs Dxywh
  if. #FRAMEBACKCOLOR do.
    drawrect iBACKGROUND;FrameBackColor;1;FrameBackColor;boxwh2rs Fxywh
  end.
  if. #GRAPHBACKCOLOR do.
    drawrect iBACKGROUND;GraphBackColor;1;GraphBackColor;boxwh2rs Gxywh
  end.
  CLEAR=: 0
end.
)
getdeftype=: 3 : 0
t=. 0
if. (3 = #y) *. L. y do.
  t=. (ifplotf y) +. 2 = #$_1 pick y
end.
t { 'line';'surface'
)
getdims=: 3 : 0
'data types'=. y
if. 1 e. types e. PlotData3d -. PlotData2d do.
  dd=. 3
elseif. 1 e. types e. PlotData2d -. PlotData3d do.
  dd=. 2
elseif. do.
  dd=. >./ 2, getdim &> {:"1 data
end.
if. 1 e. types e. PlotTypes3d -. PlotTypes2d do.
  dt=. 3
elseif. 1 e. types e. PlotTypes2d -. PlotTypes3d do.
  dt=. 2
elseif. do.
  dt=. dd
end.

dd,dt
)

getdim=: [: # $^:(0 = L.)
getmulticmd=: 3 : 0
res=. i. 0 2
if. 0 e. $y do. return. end.
mat=. citemize y
for_m. mat do.
  'cmd dat'=. m
  'hdr cmd'=. pdcmdhdr boxcmd cmd
  cmd=. (1 + # &> hdr) }. each cmd
  cmd=. setoptions hdr,.cmd
  res=. res, cmd,'data';<dat
end.
)
getsubcmds=: 3 : 0
if. isboxed 0 pick y do.
  ;getsubcmds each y
else.
  'cmd dat'=. y
  if. #cmd do.
    cmd=. boxcmd cmd
    msk=. -. ({."1 cmd) e. SubCmds
    (msk # cmd), 'data';<dat
  else.
    ,:'data';<dat
  end.
end.
)
makepos_xy=: 3 : 0
'x y'=. y
if. 'p' e. x do.
  'x y'=. makepos_coords x;y
end.
tx=. (Dx,Dw) makepos1 x
ty=. (Dy,Dh) makepos1 y
tx,ty
)
makepos_coords=: 3 : 0
'x y'=. y
x=. roundint getgrafx 0 ". x -. 'p'
y=. getgrafy 0 ". y -. 'p'
y=. roundint y + -: {: (maketextfont TEXTFONT) pgetextent 'X'
(": each x,y) ,each 'x'
)
makepos_xywh=: 4 : 0

if. 0 = #y do. x return. end.

'Bx By Bw Bh'=. x
if. ischar y do.
  'x y r s'=. <;._1 ' ',deb y
  tx=. (Bx,Bw) makepos1 x
  tr=. (Bx,Bw) makepos1 r
  ty=. (By,Bh) makepos1 y
  ts=. (By,Bh) makepos1 s
  tx,ty,(tr-tx),ts-ty
else.
  (4 $ Bw,Bh) * (boxrs2wh y) % 1000
end.
)
makepos1=: 4 : 0
'b w'=. x
t=. 0 ". y -. 'x'
select. (0 > t), 'x' e. y
case. 0 0 do.
  b + w * t % 1000
case. 0 1 do.
  b + t
case. 1 0 do.
  b + w * (1 + 1000 | t) % 1000
case. 1 1 do.
  b + 1 + w | t
end.
)
settypeflags=: 3 : 0
types=. y
IfBar=: 1 e. types e. BarTypes
IfFrame=: 1 e. types e. FrameTypes
IfBand=: 1 e. types e. BandTypes
IfPie=: 1 e. types e. PieTypes
)
makedata_init=: 3 : 0
DataNdx=: 0
getlayout''
drawbackground''
drawtrims''
drawfxywh 1
drawgd 0
)
makenodata=: 3 : 0
getouterlayout''
drawbackground''
getinnerboxes''
drawgd 0
)
MultiDefs=: <;._2 (0 : 0)
BACKCOLOR
ITEMCOLOR
KEY
KEYSTYLE
KeyExtent
KeyFont
Kxywh
SUBTITLE
SUBTITLECOLOR
SUBTITLEFONT
SUBTITLESTYLE
SubTitleFont
TITLE
TITLECOLOR
TITLEFONT
TITLESTYLE
TitleFont
Txywh
Vxywh
XCAPTION
XCAPTIONSTYLE
Xxywh
Y2CAPTION
Y2CAPTIONSTYLE
YCAPTION
YCAPTIONSTYLE
Yxywh
ZCAPTION
ZCAPTIONSTYLE
)
definemultidefs=: 3 : 0
pdefs y
'Kx Ky Kw Kh'=: Kxywh
'Tx Ty Tw Th'=: Txywh
'Vx Vy Vw Vh'=: Vxywh
'Xx Xy Xw Xh'=: Xxywh
'Yx Yy Yw Yh'=: Yxywh
)
MultiGroups=: <;._2 (0 : 0)
XGROUP
YGROUP
ZGROUP
)
MultiHdrs=: MultiDefs,MultiGroups,<;._2 (0 : 0)
CLEAR
COLOR
OUTPUT
)
getxgroup=: 4 : 0
dat=. y
for_n. x </. i.#x do.
  ind=. > n
  dat=. (getxgroup1 ind { dat) ind } dat
end.
)
getxgroup1=: 3 : 0
dat=. y
if. 1 = #dat do. return. end.

if. 1 < # ~. (pDimData,pDimType) {"1 dat do.
  'Incompatible types in XGROUP' assert 0
end.

int=. ; pXINT {"1 dat
if. #int do.
  dat=. (< <./int) pXINT }"1 dat
end.

rng=. > pXRANGE {"1 dat
rng=. ({.<./rng),.{:>./rng
dat=. (<rng) pXRANGE }"1 dat

lab=. ~. (pXLABEL {"1 dat) -. a:
select. #lab
case. 0 do.
case. 1 do.
  dat=. lab pXLABEL }"1 dat
case. do.
  'Incompatible labels in XGROUP' assert 0
end.

dat

)
getygroup=: 4 : 0
dat=. y
for_n. x </. i.#x do.
  ind=. > n
  dat=. (getygroup1 ind { dat) ind } dat
end.
)

getygroup1=: 3 : 0
dat=. y
if. 1 = #dat do. return. end.

if. 1 < # ~. (pDimData,pDimType) {"1 dat do.
  'Incompatible types in YGROUP' assert 0
end.

int=. ; pYINT {"1 dat
if. #int do.
  dat=. (< <./int) pYINT }"1 dat
end.

rng=. > pYRANGE {"1 dat
rng=. ({.<./rng),.{:>./rng
dat=. (<rng) pYRANGE }"1 dat

lab=. ~. (pYLABEL {"1 dat) -. a:
select. #lab
case. 0 do.
case. 1 do.
  dat=. lab pYLABEL }"1 dat
case. do.
  'Incompatible labels in YGROUP' assert 0
end.

dat
)
make=: 3 : 0
'out xywh'=. y
setoutput out
setpxywh xywh
Plot=: i. 0 0
Ndx=: 1
cmd=. setoptions PCmd
makesub cmd
Plot=: Plot /: {."1 Plot
EMPTY
)
makemulti=: 3 : 0

setplotdefaults 'new'
setsubdxywh''

'cmd pos'=. {. y
dat=. }. y
if. 0 = #dat do.
  drawbackground '' return.
end.
if. ',' e. pos do.
  ndx=. pos i. ','
  pos=. (0 ". ndx {. pos) ; 0 ". (ndx + 1) }. pos
else.
  pos=. (0 ". pos) # each 1
end.
Shape=: # &> pos
len=. */ Shape
ndx=. ({."1 dat) i. <'data'
opts=. ndx {. dat
cmds=. getmulticmd each 1 pick ndx { dat
msk=. ({."1 e. FontOpts"_) each cmds
mopts=. ; msk #each cmds
cmds=. (-.each msk) # each cmds
mopts=. mopts ,~ (-. ({."1 opts) e. MultiHdrs) # opts
mopts=. (|. ~: |. {."1 mopts) # mopts
defineoptions opts
setfonts''
getmultilayout''
multidefs=. packs MultiDefs
multigroups=. packs MultiGroups
drawbackground''
setplotdefaults 'new'
pdefs multigroups
if. *./ (XGROUP;YGROUP;ZGROUP) e. '';i.len do.
  mxywh=. Lxywh makesubshape pos
  for_i. i.#cmds do.
    Sxywh=: i { mxywh
    cmd=. ('new';''), mopts
    cmd=. cmd, i pick cmds
    makenew cmd
  end.
else.
  mxywh=. makemultigroup mopts;cmds;<pos
end.
makemulti_fini multidefs;mxywh
)
makemultigroup=: 3 : 0
'opts cmds pos'=. y

if. Y2Axis e. ; {."1 each cmds do.
  signal 'Y2Axis not supported in grouped Multiplots'
end.

len=. */ 'rws cls'=. shape=. # &> pos
if. #XGROUP do.
  if. -. (#XGROUP) e. 1,cls,len do.
    signal 'Number of X groups should be one of 1, ',(":cls),', ',":len
  end.
else.
  XGROUP=: i.len
end.
if. #YGROUP do.
  if. -. (#YGROUP) e. 1,rws,len do.
    signal 'Number of Y groups should be one of 1, ',(":rws),', ',":len
  end.
else.
  YGROUP=: i.len
end.
XGroup=: i.~ len $ XGROUP
YGroup=: i.~ len $ ((len=#YGROUP) { cls,1) # YGROUP

IfMXlabs=: 1 = #~. shape $ XGroup
IfMYlabs=: 1 = #~. |: shape $ YGroup
def=. (". each PDefNames) & getpdef &> cmds
def=. XGroup getxgroup def
def=. YGroup getygroup def
mxywh=. Lxywh makesubshape pos
fxywh=. i. 0 4
for_i. i.#def do.
  setplotdefaults 'new'
  defineoptions opts
  setdxywh i { mxywh
  fxywh=. fxywh, getframesize i { def
end.

fxywh=. fitmulti fxywh
def=. (<"1 fxywh) pFrame }"0 1 def
for_i. i.#def do.
  setplotdefaults 'new'
  defineoptions opts
  setdxywh i { mxywh
  makepdef i { def
end.

mxywh
)
makemulti_fini=: 3 : 0
'defs mxywh'=. y
definemultidefs defs
drawtitle''
drawsubtitle''
drawmulticaptions mxywh
drawborder''
drawkey''
Ndx=: Ndx + 3
)
drawmulticaptions=: 3 : 0
mxywh=. Shape $ y
if. #XCAPTION do.
  xcap=. boxarg XCAPTION
  if. 1=#xcap do.
    drawxcaption''
  else.
    cls=. 1 { $ mxywh
    xcap=. cls {. xcap
    for_i. i.cls do.
      mat=. i {"2 mxywh
      Xx=: 0 { <./mat
      Xw=: 2 { >./mat
      XCAPTION=: i pick xcap
      drawxcaption''
    end.
  end.
end.
if. #YCAPTION do.
  ycap=. boxarg YCAPTION
  if. 1=#ycap do.
    drawycaption''
  else.
    rws=. {. $ mxywh
    ycap=. rws {. ycap
    for_i. i.rws do.
      mat=. i { mxywh
      Yy=: 1 { <./mat
      Yh=: 3 { >./mat
      YCAPTION=: i pick ycap
      drawycaption''
    end.
  end.
end.
)
getframesize=: 3 : 0
(PDefNames)=: y
if. 0=#Data do.
  Dxywh return.
end.
defineoptions 0 pick Opts
setfonts''
settypeflags ;Types
getlayout''
Fxywh
)
fitmulti=: 3 : 0
fxw=. 0 2 {"1 y
fyh=. 1 3 {"1 y

'r c'=. Shape
len=. r * c

if. #XGroup do.
  xg=. XGroup + len $ len * i.c
  fxw=. xg fitmulti1 fxw
end.

if. #YGroup do.
  yg=. YGroup + c # len * i.r
  fyh=. yg fitmulti1 fyh
end.

0 2 1 3 {"1 fxw,.fyh
)
fitmulti1=: 4 : 0
}."1 /:~ ; x fitmulti2 /. (i.#y),.y
)
fitmulti2=: 3 : 0
'i fx fw'=. |: y
fx=. >./fx
fw=. (<./fx+fw) - fx
<i,"0 1 fx,fw
)
setcolorrep=: 3 : 0
if. *./ 1 = DataRep do. return. end.
f=. 4 : 'y #~ 1 >. (#y) {. x'
COLOR=: DataRep f COLOR
BANDCOLOR=: DataRep f BANDCOLOR
ITEMCOLOR=: DataRep f ITEMCOLOR
)
defineoptions=: 3 : 0
if. #y do.
  ({."1 y)=: {:"1 y
end.
)
definecolor=: 3 : 0
if. #COLOR do.
  if. IfBand do.
    BANDCOLOR=: COLOR
  else.
    ITEMCOLOR=: COLOR
  end.
  COLOR=: ''
end.
if. #FRAMEBACKCOLOR do.
  FrameBackColor=: FRAMEBACKCOLOR
else.
  FrameBackColor=: BACKCOLOR
end.
if. #GRAPHBACKCOLOR do.
  GraphBackColor=: GRAPHBACKCOLOR
else.
  GraphBackColor=: FrameBackColor
end.
)
setoptions=: 3 : 0

if. 0 e. $y do. i.0 0 return. end.

mat=. citemize y

opt=. toupper each {."1 mat
if. 0 e. opt e. DefOpts,PDDefs,PDGD do.
  j=. tolower 0 pick opt -. DefOpts,PDDefs,PDGD
  signal 'option not found: ', j
end.

arg=. {:"1 mat

ndx=. I. opt e. DefOpts
def=. ndx { opt

if. Y2Axis e. def do.
  ind=. I. ('Y' = {.&> def) > +./\. Y2Axis = def
  new=. (<'Y2') ,each }. each ind { def
  def=. new ind } def
end.

val=. {:"1 ndx { mat
ind=. DefOpts i. def
typ=. ind { DefOptx

for_i. i.#def do.

  dat=. i pick val
  select. i{typ
  case. 'A' do.
    dat=. boxarg dat
  case. 'B' do.
    dat=. boxarg tolower dat
  case. 'C' do.
  case. 'D' do.
    dat=. dat rplc '<br/>';LF
  case. 'F' do.
    dat=. getfont dat
  case. 'K' do.
    dat=. keyarg dat
  case. 'M' do.
    dat=. SEPARATOR mfv dat
  case. 'N' do.
    dat=. {. fix dat
  case. 'T' do.
    dat=. +/ ". &> 'i'&, each boxarg toupper comma2blank dat
  case. 'U' do.
    dat=. toupper {. dat
  case. 'V' do.
    dat=. fix dat
  case. 'X' do.
    dat=. ".toupper dat
  case. 'Y' do.
    dat=. _3[\, rndint ".toupper dat
  case. 'S' do.
    select. i pick def
    case. 'MARKERS' do.
      dat=. MarkerNames setfixx dat
    case. 'KEYMARKERS' do.
      dat=. KeyMarkerNames setfixx dat
    case. do.
      signal 'plot option not supported'
    end.
  case. do.
    signal 'plot option not supported'
  end.
  val=. (<dat) i } val
end.

mat=. (def,.val) ndx } mat
)
setfixx=: 4 : 0
if. *./ y e. '0123456789 ' do.
  fix y
else.
  y=. ',',tolower y
  x i. a: -.~ (y e. ', ') <;._1 y
end.
)
makenew=: 3 : 0

dat=. y
'cmd rect'=. {. dat
dat=. }. dat

setplotdefaults cmd
setsubdxywh rect
if. (1 = #dat) *. 'BACKCOLOR' -: 0 pick {. dat do.
  defineoptions dat
  dat=. ''
end.
if. 0 = #dat do.
  drawbackground '' return.
end.
msk=. ({."1 dat) e. PlotOpts
defineoptions msk # dat
dat=. (-.msk) # dat
makepdef (". each PDefNames) getpdef dat
)
makepdef=: 3 : 0
(PDefNames)=: y

defineoptions 0 pick Opts
setfonts''
settypeflags ;Types
setcolorrep''
definecolor''
if. 0=#Data do.
  makenodata ''
else.
  makedata_init {.Y2Msk
  mat=. (Y2Msk ;&> i.#Y2Msk),.Opts,.Types
  for_m. mat do.
    maketype m
  end.
end.
makenew_fini''
)
makenew_fini=: 3 : 0
drawgd 1
drawfxywh 0
drawbackground''
maketext''
makerule''
drawtitle''
drawsubtitle''
drawborder''
drawkey''
if. SHOWBOXES do.
  drawbox iBOX;BLUE;GUIDESIZE;Lxywh
  drawbox iBOX;RED;GUIDESIZE;Fxywh
  drawbox iBOX;GREEN;GUIDESIZE;Gxywh
  dat=. Kxywh,Txywh,Xxywh,Yxywh,:Y2xywh
  dat=. dat #~ 0 < +/"1 dat
  for_d. dat do.
    drawbox iBOX;MAGENTA;GUIDESIZE;d
  end.
end.
Ndx=: Ndx + 3
)
getpdef=: 4 : 0

(PDefNames)=. x

cmd=. y
hdr=. {."1 cmd
msk=. hdr e. PDgd
if. 1 e. msk do.
  gl2=. msk#cmd
  ndx=. ({."1 gl2) i. <'gdend'
  Gcmd0=. ndx {. gl2
  Gcmd1=. (ndx+1) }. gl2
  cmd=. (-.msk) # cmd
  hdr=. {."1 cmd
end.
msk=. (4 {.each hdr) e. 'rule';'RULE'
if. 1 e. msk do.
  Rule=. msk#cmd
  cmd=. (-.msk) # cmd
  hdr=. {."1 cmd
end.
msk=. (4 {.each hdr) e. 'text';'TEXT'
if. 1 e. msk do.
  Text=. msk#cmd
  cmd=. (-.msk) # cmd
  hdr=. {."1 cmd
end.
if. -. (<'data') e. hdr do.
  (hdr)=. {:"1 cmd
  Opts=. < cmd #~ -. hdr e. PDefNames
  ". each PDefNames return.
end.
if. (<'TYPE') e. hdr do.
  type=. 1 pick (hdr i. <'TYPE') { cmd
else.
  if. #TYPE do.
    type=. TYPE
  else.
    type=. getdeftype 1 pick (hdr i. <'data') { cmd
  end.
end.
msk=. hdr e. DefOpts
def=. msk # cmd
({."1 def)=. {:"1 def
PlotfDefs=: ". each PlotfNames
msk=. hdr = <'data'
dat=. msk ((}:;{:@{:));.2 cmd
'dat rep'=. getverbres dat
DataRep=. rep
opts=. {."1 dat
hdrs=. {."1 each opts
dats=. {:"1 dat
hdrmsk=. -. each hdrs e. each <PDefNames
Opts=. hdrmsk #each opts
Types=. (<'TYPE')&dictget &> opts
if. 0 = # 0 pick Types do.
  Types=. (<type) 0 } Types
end.
'DimData DimType'=. getdims dats;<type

Data=. DimData getdata &> dats

if. 0 = +/ # &> {."1 Data do.
  Data=. 0 # Data
end.

if. POLAR *. DimType=2 do.
  Data=. getpolar "1 Data
end.
ndx=. i.#Data
ind=. (Y2Axis & e. &> hdrs) i. 1
Y2Msk=. ndx >: ind
if. (1 e. Y2Msk) *. DimData = 3 do.
  signal 'Two Y axes are not supported for 3D data.'
end.
YAxes=. (ind > {.ndx), ind <: {:ndx
if. (1 e. type e. FrameTypes) +. {:YAxes do.
  FRAME=. 1
end.
'XRANGE YRANGE Y2RANGE ZRANGE'=. getdatarange (;Types);Data;Y2Msk;YAxes
({."1 def)=. {:"1 def
if. XLOG do.
  Data=. (log10 each 0 {"1 Data) 0 }"0 1 Data
  XINT=. log10 XINT
  XRANGE=. log10 XRANGE
end.
if. YLOG do.
  ndx=. I. -. Y2Msk
  Data=. (log10 each (<ndx;1) { Data) (<ndx;1) } Data
  YINT=. log10 YINT
  YRANGE=. log10 YRANGE
end.
if. Y2LOG do.
  ndx=. I. Y2Msk
  Data=. (log10 each (<ndx;1) { Data) (<ndx;1) } Data
  Y2INT=. log10 Y2INT
  Y2RANGE=. log10 Y2RANGE
end.
if. ZLOG do.
  Data=. (log10 each 2 {"1 Data) 2 }"0 1 Data
  ZINT=. log10 ZINT
  ZRANGE=. log10 ZRANGE
end.
AXES=. 3$AXES
LABELS=. 3$LABELS
GRIDS=. 3$GRIDS
TICS=. 3$TICS

if. Y2Msk do.
  AXES=. 0 (1)} AXES
  GRIDS=. 0 (1)} GRIDS
  TICS=. 0 (1)} TICS
end.

XTIC=. XTIC,(#XTIC)}._1 _1
YTIC=. YTIC,(#YTIC)}._1 _1
Y2TIC=. Y2TIC,(#Y2TIC)}._1 _1
ZTIC=. ZTIC,(#ZTIC)}._1 _1
". each PDefNames
)
getverbres=: 3 : 0
r=. i. 0 2
s=. ''
for_d. y do.
  v=. _1 pick d
  if. 0 = #v do.
    r=. r,d
  elseif. ifplotf v do.
    v=. plotsubd v
    s=. s, # &> v
    r=. r,({.d),.<"1 ;v
  elseif. do.
    r=. r,d
    s=. s,1
  end.
end.
r;s
)
makerule=: 3 : 0

for_p. Rule do.
  cmd=. {.p
  arg=. 1 pick p
  if. -. cmd e. PDdefs do.
    (cmd)=. arg
  else.
    arg=. <;._2 (deb arg),' '
    pos1=. makepos_xy 2 {. arg
    pos2=. makepos_xy _2 {. arg
    drawline iRULE;RULECOLOR;RULESIZE;pos1,pos2
  end.
end.
)
cocurrent 'jzplot'

bSub=: <'sub'
bEndSub=: <'endsub'
makesub=: 3 : 0
pcmd=. y
ndx=. ({."1 pcmd) i. bSub
if. ndx do.
  makesubdo ndx {. pcmd
  pcmd=. ndx }. pcmd
end.
if. #pcmd do.
  cmds=. {."1 pcmd
  msk=. 1, 0 = }: +/\ (bSub=cmds)-bEndSub=cmds
  msk=. firstones msk
  pcmd=. msk <;.1 pcmd
  for_p. pcmd do.
    makesubin >p
  end.
end.
)
makesubdo=: 3 : 0
pcmd=. y
if. -. ({. {. pcmd) e. PDcmds do.
  pcmd=. ('new';''), pcmd
end.
msk=. ({."1 pcmd) e. PDcmds
pcmd=. msk <;.1 pcmd
for_p. pcmd do.
  p=. > p
  'cmd arg'=. {. p
  if. #Mxywh do.
    if. 0 = # arg do.
      Sxywh=: Mndx { Mxywh
      Mndx=: (#Mxywh) | Mndx + 1
    end.
  end.
  if. cmd -: 'multi' do.
    makemulti p
  else.
    makenew p
  end.
end.
)
makesubin=: 3 : 0
pcmd=. y
if. bSub = {. {. pcmd do.

  val=. 1 pick {. pcmd
  pcmd=. }. pcmd
  pcmd=. (- bEndSub={:pcmd) }. pcmd
  if. ',' e. val do.
    ndx=. val i. ','
    val=. (0 ". ndx {. val) ; 0 ". (ndx + 1) }. val
    smat=. Sxywh makesubshape val
    sxywh=. {. smat
  else.
    if. 2 = # 0 ". val do.
      smat=. Sxywh makesubshape (0 ". val) # each 1
      sxywh=. {. smat
    else.
      smat=. ''
      sxywh=. Sxywh makepos_xywh val
      if. 1 e. 1 >: _2 {. sxywh do. return. end.
    end.
  end.
  pushsxywh smat;sxywh
  makesub pcmd
  popsxywh ''
else.
  makesub pcmd
end.
)
makesubshape=: 4 : 0
xy=. 2 {. x
wh=. _2 {. x
txy=. > { (scale01 1 pick y);scale01 |. 0 pick y
txy=. xy +"1 txy *"1 wh
bl=. _1 _1 }. txy
tr=. 1 1 }. txy
rec=. rndint bl ,"1 tr - bl
,/ |. 0 2 |: rec
)
maketext=: 3 : 0

for_p. Text do.
  cmd=. {.p
  arg=. 1 pick p
  if. -. cmd e. TextTypes do.
    (cmd)=. arg
  else.
    arg=. <;._2 (deb arg),' '
    pos=. makepos_xy 2 {. arg
    text=. towords 2 }. arg
    align=. TextTypes i. cmd
    font=. maketextfont TEXTFONT
    drawtext iTEXT;align;font;TEXTCOLOR;text;pos
  end.

end.
)
maketextfont=: 3 : 0
font=. getfontid y
if. Poutput e. iANDROID do.
  font=. getgtkfontid font
elseif. Poutput e. iQT,iQTC do.
  font=. getgtkfontid font
elseif. Poutput = iISI do.
  font=. getisifontid font
end.
)
maketype=: 3 : 0

'y2 ndx opt type'=. y

defineoptions opt
definecolor''

if. #type do.
  DataNdx=: 0
  TYPE=: type
end.
if. y2 do.
  sety2vals''
end.
p=. (DimType=3) { 'plot_';'plot3d_'
fns=. p ,each TYPE
for_f. fns do.
  (>f)~ndx
end.
if. 1 e. TYPE e. 'errorbar';'hilo' do.
  DataNdx=: DataNdx + 1
else.
  DataNdx=: DataNdx + # citemize (<ndx;1) pick Data
end.
)
sety2vals=: 3 : 0
((<'Y') ,each AxisOut)=: ". each (<'Y2') ,each AxisOut
)
coclass 'jzplot'
j=. 'data endsub multi new rule sub text textc textr type use'

PDdefs=: ;: j
PDDefs=: ;: toupper j
j=. 'brushcolor end lines pen pencolor rect'
PDgd=: 'gd'&, each ;: j
PDGD=: 'GD'&, each ;: toupper j
PDshow=: ;: 'cairo canvas eps android qt qtc jpf pdf isi print show'
PDcopy=: ;: 'clip save get'
PDget=: ;: 'pdfr canvasr'
PDcmds=: ;: 'multi new use'
boxcmd=: 3 : 0
if. L. y do. y return. end.
if. 2 = #$y do.
  y=. ,y,.';'
end.
y=. y,';'
b=. (y e. ';',LF) > ~:/\ y e. '"'
a: -.~ b (<@dlb) ;._2 y
)
getoptions=: 3 : 0
cmd=. boxcmd y
hdr=. tolower each head each cmd
if. 1 e. b=. hdr e. KEYWORDS do.
  new=. boxcmd @ ". @ toupper each b # cmd
  cmd=. <S:0 new (I. b) } y
  hdr=. tolower each head each cmd
end.
hdr,.(1 + # &> hdr) }.each cmd
)
pdreset=: 3 : 0
readplotdefaults''
setplotdefaults 'plot'
if. #y do.
  if. 0=L. y do.
    PForm=: y
  else.
    if. 2~:#y do.
      sminfo 'invalid argument to pdreset' return.
    end.
    'f c'=. y
    p=. 2 {."1 wdforms''
    i=. <./ (|:p) i:"1 <f
    if. i=#p do.
      sminfo 'form not found: ',f return.
    end.
    'PForm PFormhwnd'=: i{p
    PId=: c
    if. IFQT do.
      ". PForm,'_',PId,'_paint__COCREATOR=: qt_paint_',(>coname''),'_'
    elseif. IFJA do.
      ". PForm,'_',PId,'_paint__COCREATOR=: android_paint_',(>coname''),'_'
    elseif. do.
      ". PForm,'_',PId,'_paint__COCREATOR=: isi_paint_',(>coname''),'_'
    end.
  end.
end.
PReset=: 1
pdcmdsave=: ''
pdcmdclip=: 0
pdcmdprint=: 0
EMPTY
)
pd=: 3 : 0

dat=. y

if. 0 = #dat do. return. end.

if. ischar dat do.
  pdcmd boxcmd dat return.
end.

if. isboxed dat do.
  if. 1 < #$dat do.
    dat=. pddefverb each <"1 dat
  elseif. ischar 0 pick dat do.
    pdcmd dat return.
  elseif. do.
    dat=. pddefverb dat
  end.
end.

if. -. PReset do. pdreset'' end.
PCmd=: PCmd,'data';<dat
EMPTY
)
pdcmd=: 3 : 0

cmd=. y
if. 0=#cmd do. EMPTY return. end.

'hdr cmd'=. pdcmdhdr cmd

len=. # hdr
cnt=. 1 + # &> hdr
if. len > ndx=. hdr i. <'reset' do.
  pdreset 6 }. ndx pick cmd
  pdcmd (ndx+1) }. cmd return.
end.
if. -. PReset do. pdreset'' end.
prm=. cnt }. each cmd
if. len = ndx=. <./ hdr i. PDshow,PDcopy,PDget do.
  PCmd=: PCmd, hdr ,. prm
else.
  PCmd=: PCmd, (ndx {. hdr) ,. ndx {. prm
  r=. ('pd_',ndx pick hdr)~ndx pick prm
  if. #r do. return. end.
  pdcmd (>:ndx) }. cmd
end.
EMPTY
)
pdcmdhdr=: 3 : 0
cmd=. y
hdr=. tolower each head each cmd
if. 1 e. b=. hdr e. KEYWORDS do.
  new=. boxcmd @ ". @ toupper each b # cmd
  cmd=. <S:0 new (I. b) } y
  hdr=. tolower each head each cmd
end.

hdr;<cmd
)
pddefverb=: 3 : 0
v=. _1 pick y
if. 2 ~: 3!:0 v do. y return. end.
v=. < caller plotdefverbm`plotdefverbd@.(3=#y) v
v _1 } y
)
pd_android=: android_show
pd_eps=: eps_show
pd_canvas=: canvas_show
pd_canvasr=: canvas_get
pd_cairo=: cairo_show
pd_qt=: qt_show
pd_qtc=: qtc_show
pd_pdf=: pdf_show
pd_pdfr=: pdf_get
pd_jpf=: pdf_jpf
pd_isi=: isi_show
pd_clip=: qt_clip`android_clip`isi_clip@.((IFQT,IFJA)&i.1)
pd_print=: qt_print`android_print`isi_print@.((IFQT,IFJA)&i.1)
pd_save=: qt_save`android_save`isi_save@.((IFQT,IFJA)&i.1)
pd_get=: qt_get`android_get`isi_get@.((IFQT,IFJA)&i.1)
pd_show=: 3 : 0
ndx=. ({."1 PCmd) i. <'output'
if. ndx < #PCmd do.
  OUTPUT=: 1 pick ndx{PCmd
end.
out=. dlb OUTPUT
fn=. 'pd_', tolower ' ' taketo out
arg=. ' ' takeafter out
fn~arg
EMPTY
)
coclass 'jzplot'
ANDROID_DEFSIZE=: 400 200
ANDROID_DEFFILE=: jpath '~temp/plot'
ANDROID_PENSCALE=: 0.4
fext=: 4 : 0
f=. deb y
f, (-. x -: (-#x) {. f) # x
)
gettemp=: 3 : 0
p=. jpath '~temp/'
d=. 1!:0 p,'*.',y
a=. 0, {.@:(0&".)@> _4 }. each {."1 d
a=. ": {. (i. >: #a) -. a
p,a,'.',y
)
andfontdesc=: 3 : 0
'ind fst siz ang und'=. y
'ita bld'=. 2 2 #: fst
sty=. (bld#' bold'),(ita#' italic'),und#' underline'
if. ' ' e. nam=. ind pick ANDFONTNAMES do. nam=. '"', nam, '"' end.
nam,sty,' ',":siz
)

android_getsize=: 3 : 0
if. -. wdishandle :: 0: ": PFormhwnd do. '' return. end.
wd 'psel ', ":PFormhwnd
s=. wdqchildxywh ::0: PId
if. s -: 0 0 0 0 do. '' return. end.
2 3 { s
)
output_parms=: 4 : 0
'size file'=. x
if. #y do.
  prm=. qchop y
  select. #prm
  case. 1 do.
    file=. 0 pick prm
  case. 2 do.
    size=. 0 ".&> prm
  case. 3 do.
    file=. 0 pick prm
    size=. 0 ". &> _2 {. prm
    if. 0 e. size do.
      size=. 0 ". &> 2 {. prm
      file=. 2 pick prm
    end.
  end.
else.
  if. #sz=. android_getsize'' do.
    size=. sz
  end.
end.
size;file
)
android_clip=: 3 : 0
if. -. IFWIN do.
  info 'Save plot to clipboard is only available in Windows'
  return.
end.
f=. gettemp 'emf'
android_emf dquote f
wd 'clipcopyx enhmetafile ',dquote f
1!:55 <f
)
android_gpcount=: ,"1~ 1 + [: {: 1 , $
android_gpcut=: 3 : 0
r=. ''
while. #y do.
  n=. {. y
  if. n=0 do.
    info 'zero length segment at: ',":#;r
    r
    return.
  end.
  r=. r, < n {. y
  y=. n }. y
end.
r
)
android_gpbuf=: 3 : 0
assert. 2 > #$y
buf=: buf,y
)
android_gpapply=: 3 : 0
rc=. glcmds buf
assert. 0=rc [ 'glcmds buf'
buf=: $0
)
android_gpflip=: flipxy @ rndint
android_gpfliplast=: 3 : 0
(<android_gpflip _1 pick y) _1 } y
)
android_gpinit=: 3 : 0
buf=: bufdef=: $0
r=. ''
r=. r,3 2003 1
r=. r,3 2071 1
buf=: r
)
android_gpbrushnull=: 3 : '2 2005'
android_gppens=: 4 : 0
y=. rndint y
5 2032,"1 x,"1 [ 4 2022,"1 y,.(y~:0){PS_NULL,PS_SOLID
)
android_gppen=: 4 : 0
y=. rndint y
5 2032,(,x),4 2022,y,(y~:0){PS_NULL,PS_SOLID
)
android_gppens1=: 3 : 0
5 2032,"1 y,"1 [ 4 2022 1,PS_SOLID
)
android_gppen1=: 3 : 0
5 2032,(,y),4 2022 1,PS_SOLID
)
android_gppenbrush1=: 3 : 0
5 2032,(,y),4 2022 1,PS_SOLID,2 2004
)
android_gppixel=: 3 : 0
's t f e c p'=. y
p=. android_gpcount 2024 ,"1 android_gpflip p
if. is1color e do.
  android_gpbuf e android_gppen 1
  android_gpbuf ,p
else.
  rws=. #p
  e=. rws $ citemize e
  pen=. e android_gppens 1
  android_gpbuf ,pen ,. p
end.
)
android_gppline=: 4 : 0
's t f e c p'=. y
if. (is1color e) *. 1 = #s do.
  android_gpbuf (,e) android_gppen s
  android_gpbuf ,android_gpcount x,"1 p
else.
  rws=. #p
  e=. rws $ citemize e
  s=. rws $ s
  pen=. e android_gppens s
  android_gpbuf ,pen ,. android_gpcount x,"1 p
end.
)
android_gppshape=: 4 : 0
'v s f e c p'=. y

if. v=0 do. e=. c end.

if. is1color e do.
  android_gpbuf e android_gppen v
  if. isempty c do.
    android_gpbuf android_gpbrushnull''
    android_gpbuf ,android_gpcount x,"1 p
  elseif. is1color c do.
    android_gpbuf 5 2032,(,c),2 2004
    android_gpbuf ,android_gpcount x,"1 p
  elseif. do.
    c=. (#p) $ c
    clr=. 5 2032 ,"1 c ,"1 [ 2 2004
    android_gpbuf , clr ,. android_gpcount x,"1 p
  end.
else.
  e=. (#p) $ e
  e=. e android_gppens v
  if. isempty c do.
    android_gpbuf android_gpbrushnull''
    android_gpbuf , e ,. android_gpcount x,"1 p
  elseif. is1color c do.
    android_gpbuf 5 2032,(,c),2 2004
    android_gpbuf , e ,. android_gpcount x,"1 p
  elseif. do.
    c=. (#p) $ c
    clr=. 5 2032 ,"1 c ,"1 [ 2 2004
    android_gpbuf , e ,. clr ,. android_gpcount x,"1 p
  end.

end.
)
androidarc=: 3 : '2001 android_gppline android_gpfliplast y'
androidline=: 3 : '2015 android_gppline android_gpfliplast y'
androidpie=: 3 : '2023 android_gppshape android_gpfliplast y'
androidpoly=: 3 : '2029 android_gppshape android_gpfliplast y'
androidcircle=: 3 : 0
p=. _1 pick y
ctr=. android_gpflip 0 1 {"1 p
rad=. rndint 2 {"1 p
xy=. ctr - rad
wh=. +: rad ,. rad
p=. xy ,. wh
2008 android_gppshape (<p) _1 } y
)
androiddot=: 3 : 0
'v s f e c p'=. y
select. v
case. 1 do.
  android_gppixel y
case. 2 do.
  p=. android_gpflip p
  p=. (p-1) ,"1 [ 2 2
  dat=. 1;0;0;e;e;p
  2031 android_gppshape dat
case. 3 do.
  h=. (p-"1[1 0) ,. p+"1[2 0
  v=. (p-"1[0 1) ,. p+"1[0 2
  androidline 1;0;0;e;e;h,v
case. do.
  o=. >. -: v
  p=. p ,"1 v,.v
  androidcircle 1;0;0;e;e;p
end.
)
androidfxywh=: 3 : 0
p=. _1 pick y
if. #p do.
  'x y w h'=. p
  xy=. _1 + <. x,Ch-y+h
  wh=. 2 + >. w,h
  android_gpbuf 6 2078,xy,wh
else.
  android_gpbuf 2 2079
end.
)
androidmarker=: 3 : 0
's m f e c p'=. y
p=. android_gpflip p
android_gpbuf android_gppenbrush1 e
s ('androidmark_',m)~ p
)
androidpie=: 3 : 0
p=. _1 pick y
ctr=. android_gpflip 0 1 {"1 p
rad=. 2 {"1 p
ang=. 3 4 {"1 p
xy=. ctr - rad
wh=. +: rad ,. rad
tx=. ({."1 ctr) + rad * sind ang
ty=. ({:"1 ctr) + rad * cosd ang
p=. rndint xy ,. wh ,. ,"2 tx ,"0 ty
2023 android_gppshape (<p) _1 } y
)
androidpline=: 3 : 0
's t f e c p'=. y
if. *./ t = 0 do.
  androidline y return.
end.
p=. android_gpflip p
t=. t { PENPATTERN
if. (is1color e) *. 1 = #s do.
  android_gpbuf 5 2032,(,e),4 2022,s,PS_SOLID
  pos=. t linepattern"0 1 p
  android_gpbuf ,android_gpcount 2015,"1 pos
else.
  rws=. #p
  e=. rws $ citemize e
  s=. rws $ s
  t=. rws $ t
  pen=. e android_gppens s
  for_i. i.#p do.
    android_gpbuf i{pen
    pos=. (i{t) linepattern i{p
    android_gpbuf ,android_gpcount 2015,"1 pos
  end.
end.
)
androidrect=: 3 : 0
p=. boxrs2wh^:1 android_gpflip _1 pick y
y=. (<p) _1 } y
2031 android_gppshape y
)
androidtext=: 3 : 0
't f a e c p'=. y

degree0=. 3{f
f=. andfontdesc^:(0={.0#f) f
p=. android_gpflip p
t=. text2utf8 each boxopen t
if. a do.
  glfontextent f
  off=. <. -: a * {."1 wh=. glqextent &> t
  if. (90=degree0)+.(1 e. 'angle900' E. f) do.
    p=. p +"1 [ ({:wh),.off
  elseif. (270=degree0)+.(1 e. 'angle2700' E. f) do.
    p=. p -"1 [ ({:wh),.off
  elseif. do.
    p=. p -"1 off,. - {:"1 wh
  end.
end.
'face size style degree'=. parseFontSpec f
android_gpbuf android_gpcount 2312,(<.size*10),style,(<.degree0*10),alfndx,face
if. is1color e do.
  android_gpbuf 5 2032,(,e),2 2040
  if. rank01 p do.
    android_gpbuf android_gpcount 2056,p
    android_gpbuf android_gpcount 2038,alfndx,>t
  else.
    t=. android_gpcount each 2038 ,each alfndx each t
    t=. (<"1 android_gpcount 2056 ,"1 p) ,each t
    android_gpbuf ; t
  end.
else.
  t=. android_gpcount each 2038 ,each alfndx each t
  t=. t ,each <"1 android_gpcount 2056 ,"1 p
  t=. (<"1 (5 2032 ,"1 e) ,"1 [ 2 2040) ,each t
  android_gpbuf ; t
end.

)
parseFontname=: 3 : 0
font=. ' ',y
b=. (font=' ') > ~:/\font='"'
a: -.~ b <@(-.&'"');._1 font
)
FontStyle=: ;:'regular bold italic underline strikeout'

parseFontSpec=: 3 : 0
'ns styleangle'=. 2 split parseFontname y
'face size'=. ns
size=. 12". size
style=. FontStyle i. tolower each styleangle
style=. <.+/2^<:(style ((> 0) *. <) #FontStyle) # style
if. 1 e. an=. ('angle'-:5&{.)&> styleangle do.
  degree=. 10%~ 0". 5}.>(an i. 1){styleangle
else.
  degree=. 0
end.
face;size;style;degree
)
androidmark_circle=: 4 : 0
s=. rndint x * 3
p=. (y - s) ,"1 >: +: s,s
android_gpbuf ,android_gpcount 2008 ,"1 p
)
androidmark_diamond=: 4 : 0
s=. rndint x * 4
'x y'=. |: y
p=. (x-s),.y,.x,.(y+s),.(x+s),.y,.x,.y-s
android_gpbuf ,android_gpcount 2029 ,"1 p
)
androidmark_line=: 4 : 0
'x y'=. , y
p=. >.(x--:KeyLen),(y--:KeyPen),<:KeyLen,KeyPen
android_gpbuf ,android_gpcount 2031 ,p
)
androidmark_plus=: 4 : 0
s=. rndint 4 1 * x
p=. (y -"1 s) ,"1 +: s
s=. |. s
p=. p , (y -"1 s) ,"1 +: s
android_gpbuf ,android_gpcount 2031 ,"1 p
)
androidmark_square=: 4 : 0
s=. rndint x * 3
p=. (y - s) ,"1 +: s,s
android_gpbuf ,android_gpcount 2031 ,"1 p
)
androidmark_times=: 4 : 0
if. x = 1 do.
  p=. (y - 3) ,. y + 4
  q=. (y - "1 [ 3 _3) ,. y +"1 [ 4 _4
  p=. p, (p +"1 [ 0 1 _1 0), p + "1 [ 1 0 0 _1
  q=. q, (q +"1 [ 0 _1 _1 0), q +"1 [ 1 0 0 1
  android_gpbuf ,android_gpcount 2015 ,"1 p,q
else.
  s=. rndint _1 + 3 * x
  n=. rndint 2 * x
  p=. (y - s) ,. y + s
  q=. (y - "1 s * 1 _1) ,. y +"1 s * 1 _1
  android_gpbuf 4 2022,n,PS_SOLID
  android_gpbuf ,android_gpcount 2015 ,"1 p,q
end.
)
androidmark_triangle=: 4 : 0
s=. rndint 2 * x
t=. rndint 4 * x
'x y'=. |: y
p=. rndint (x-t),.(y+s),.(x+t),.(y+s),.x,.y-t
android_gpbuf ,android_gpcount 2029 ,"1 p
)
PRINTP=: ''
android_print=: 3 : 0
if. PRINTP do. wd 'psel ',(":PRINTP),';pclose' end.
wd 'pc print;cc g canvas'
PRINTP=: wdqhwndp''
PRINTED=: 0
opt=. '"" "" "" orientation ',":ORIENTATION
glprint opt
)
print_g_print=: 3 : 0
'page pass'=. ". sysdata
select. pass
case. _1 do.
  PRINTP=: PRINTPXYWH=: 0
  wd 'pclose'
case. 0 do.
  glprintmore -.PRINTED
case. do.
  'Cw Ch'=: glqprintwh''
  android_paintit android_printwin''
  PRINTED=: 1
end.
)
android_printwin=: 3 : 0
'pw ph mw mh'=. 4 {. glqprintpaper''
mrg=. 0 >. PRINTMARGIN - mw,(ph - mh + Ch),(pw - mw + Cw),mh
xywh=. (0 0,Cw,Ch) shrinkrect mrg
if. 0 = #PRINTWINDOW do.
  xywh
else.
  if. 4 ~: #PRINTWINDOW do.
    info 'PRINTWINDOW should be of form: x y wh' return.
  end.
  'x y w h'=. xywh
  'px py pw ph'=. PRINTWINDOW%1000
  fx=. x + px * w
  fy=. y + py * h
  fw=. (x-fx) + pw * w
  fh=. (y-fy) + ph * h
  fx,fy,fw,fh
end.
)
android_bmp=: 3 : 0
if. #y do.
  arg=. qchop y
  num=. __ ". &.> arg
  msk=. __ e. &> num
  file=. > {. msk # arg
  wh=. >(-.msk) # num
  if. -. (#wh) e. 0 2 do.
    info 'invalid [w h] parameter in save bmp' return.
  end.
else.
  wh=. file=. ''
end.
file=. file,(0=#file)#android_DEFFILE
file=. jpath '.bmp' fext file
if. (2 = #wh) > wh -: Pw,Ph do.
  a=. cocreate''
  coinsert__a (,copath) coname''
  bitmap=. android_getbitmapwh__a wh
  coerase a
else.
  bitmap=. android_getbitmap''
end.
bitmap writebmp file
)
android_png=: 3 : 0
if. #y do.
  arg=. qchop y
  num=. __ ". &.> arg
  msk=. __ e. &> num
  file=. > {. msk # arg
  wh=. >(-.msk) # num
  if. -. (#wh) e. 0 2 do.
    info 'invalid [w h] parameter in save png' return.
  end.
else.
  wh=. file=. ''
end.
file=. file,(0=#file)#android_DEFFILE
file=. jpath '.png' fext file
if. (2 = #wh) > wh -: Pw,Ph do.
  a=. cocreate''
  coinsert__a (,copath) coname''
  bitmap=. android_getbitmapwh__a wh
  coerase a
else.
  bitmap=. android_getbitmap''
end.
bitmap writepng file
)
android_def=: 4 : 0
type=. x
file=. jpath ('.',type) fext (;qchop y),(0=#y) # android_DEFFILE
(android_getrgb'') writeimg file
)
android_defstr=: 4 : 0
type=. x
(android_getrgb'') putimg type
)
android_emf=: 3 : 0
file=. jpath '.emf' fext (;qchop y),(0=#y) # android_DEFFILE
wd 'psel ',": PFormhwnd
glsel PId
glfile file
glemfopen''
android_paint''
glemfclose''
)
android_getbitmap=: 3 : 0
wd 'psel ',": PFormhwnd
glsel PId
box=. wdqchildxywh PId
res=. glqpixels box
(3 2 { box) $ res
)
android_getbitmapwh=: 3 : 0
wd 'pc a owner;wh 480 300;cc g canvas;pas 0 0'
PFormhwnd=: wdqhwndp''
PId=: 'g'
wd 'set g wh ',":y
wd 'pshow'
glpaint''
res=. android_getbitmap''
wd 'pclose'
res
)
android_getrgb=: 3 : 0
wd 'psel ',": PFormhwnd
glsel PId
box=. wdqchildxywh PId
(3 2 { box) $ 256 256 256 #: glqpixels box
)
android_jpg=: 3 : 0
file=. ''
qual=. 100
if. #y do.
  arg=. qchop y
  num=. __ ". &.> arg
  msk=. +./ &> num = &.> __
  file=. > {. msk # arg
  qual=. <. {. (>(-.msk) # num),qual
end.
file=. jpath '.jpg' fext file,(0=#file) # android_DEFFILE
rgb=. android_getrgb''
rgb writeimg file
)
android_png=: 3 : 0
file=. ''
comp=. 9
if. #y do.
  arg=. qchop y
  num=. __ ". &.> arg
  msk=. +./ &> num = &.> __
  file=. > {. msk # arg
  comp=. <. {. (>(-.msk) # num),comp
end.
file=. jpath '.png' fext file,(0=#file) # android_DEFFILE
rgb=. android_getrgb''
rgb writeimg file
)
android_save=: 3 : 0
if. Poutput ~: iANDROID do.
  msg=. 'First display an canvas Plot.'
  info msg return.
end.
if. 0=#y do.
  android_clip'' return.
end.
type=. tolower firstword y
if. (<type) e. ;: 'gif jpg png tif gifr jpgr pngr tifr' do.
  af=. jpath '~addons/media/platimg/platimg.ijs'
  if. -. flexist af do.
    info 'Save to ',type,' requires the platimg addon.' return.
  end.
  require af
end.
('android_',type)~ (1+#type) }. y
)

android_get=: 3 : 0
if. #y do.
  type=. tolower firstword y
  if. (<type) e. ;: 'gif jpg png tif' do.
    y=. type,'r ', (#type)}. y
  end.
end.
android_save y
)
android_gif=: 'gif' & android_def
android_tif=: 'tif' & android_def
android_pngr=: 'png' & android_defstr
android_jpgr=: 'jpg' & android_defstr
android_gifr=: 'gif' & android_defstr
android_tifr=: 'tif' & android_defstr
android_show=: 3 : 0
popen_android''
)
android_show2=: 3 : 0
if. 0~: 4!:0 <'VISIBLE' do. '' return. end.
if. PShow=0 do.
  if. VISIBLE do.
    wd 'pshow ',PSHOW
  else.
    wd 'pshow hide'
  end.
  wd 'ptop ',":PTop
  PShow=: 1
else.
  if. VISIBLE do.
    wd 'ptop'
  end.
end.
''
)
android_paint=: 3 : 0
selectpid''
'Cw Ch'=: glqwh''
android_paintit 0 0,Cw,Ch
glpaintx''
0
)
android_paintit=: 3 : 0
android_gpinit''
try.
  make iANDROID;y
catch.
  PCmd=: Plot=: i.0 0
  info ({.~i.&LF) 13!:12''
end.
if. 0=#Plot do. return. end.
ids=. 1 {"1 Plot
fns=. 'android'&, each ids
dat=. 3 }."1 Plot
for_d. dat do.
  (>d_index{fns)~d
end.
android_gpapply''
)
coclass 'jzplot'
CAIRO_DEFSIZE=: 400 300
CAIRO_DEFFILE=: jpath '~temp/plot.png'
CAIRO_PENSCALE=: 0.4

plotcs=: plotcr=: 0
cairo_getparms=: 3 : 0
(CAIRO_DEFSIZE;CAIRO_DEFFILE) output_parms y
)
cairo_write=: 3 : 0
file=. y
assert. 0~:plotcr
while. 0 ~: cairo_surface_write_to_png_jcairo_ (cairo_get_target_jcairo_ plotcr) ; file do.

  msg=. 'Unable to write to file: ',file,LF,LF
  if. #d=. 1!:0 file do.
    msg=. msg, 'If the file is open in a viewer, close the file and try again.'
    if. 1 query msg do. return. end.
  else.
    info msg,'The file name is invalid.' return. end.
end.
if. (VISIBLE > IFJHS) do.
  viewimage_j_ file
end.
EMPTY
)
cairo_color=: 4 : 0
assert. 0~:plotcr
assert. 3=#,y
cairo_set_source_rgb_jcairo_ plotcr ; ;/ ,y%256
EMPTY
)
cairo_makerect=: 3 : 0
'x y r s'=. y
cairo_drawline (_2 [\ flipxy x,y,x,s,r,s,r,y,x,y)
EMPTY
)
cairo_drawline=: 3 : 0
assert. 0~:plotcr
assert. 1<$$y
cairo_move_to_jcairo_ plotcr ; ;/ {.y
for_p. }.y do.
  cairo_line_to_jcairo_ plotcr ; ;/ p
end.
EMPTY
)
cairo_makelines=: 3 : 0
len=. -: {: $ y
if. len = 0 do. i.0 0 return. end.
if. 2 > #$y do.
  cairo_drawline _2 [\ flipxy y
else.
  cairo_drawline "2 (_2 [\"1 flipxy y)
end.
EMPTY
)
cairo_pens=: 4 : 0
assert. 0 [ 'cairo_pens not implemented'
EMPTY
)
cairo_pen=: 4 : 0
assert. 0~:plotcr
0 cairo_color x
cairo_set_line_width_jcairo_ plotcr ; (1>.CAIRO_PENSCALE*y)
EMPTY
)
cairo_lines=: 3 : 0
(cairo_stroke_jcairo_ bind plotcr)@cairo_makelines"1 y
EMPTY
)
cairo_text=: 3 : 0
'fnt txt pos align rot und'=. y
pos=. citemize pos
txt=. ,each boxxopen txt
txt=. utf8 each txt
te=. (5*8)$(2.2-2.2)
te=. _1{:: cairo_font_extents_jcairo_ plotcr; te
of=. - 0 , <. {.te
if. und +. align e. iCENTER, iRIGHT do.
  len=. fnt pgetstringlen txt
end.
if. 1=#txt do. txt=. (#pos)#{.txt end.

select. rot
case. 0 do.
  select. align
  case. iCENTER do.
    pos=. pos -"1 (-:len),.0
  case. iRIGHT do.
    pos=. pos -"1 len,.0
  end.
  for_i. i.#pos do.
    cairo_move_to_jcairo_ plotcr ; <"0 flipxy of + i{pos
    cairo_show_text_jcairo_ plotcr;(,>i{txt)
  end.
case. 1 do.
  select. align
  case. iCENTER do.
    pos=. pos -"1 [ 0,.-:len
  case. iRIGHT do.
    pos=. pos -"1 [ 0,.len
  end.
  for_i. i.#pos do.
    cairo_save_jcairo_ plotcr
    cairo_move_to_jcairo_ plotcr ; <"0 flipxy of + i{pos
    cairo_rotate_jcairo_ plotcr ; - 0.5p1
    cairo_show_text_jcairo_ plotcr;(,>i{txt)
    cairo_restore_jcairo_ plotcr
  end.
case. 2 do.
  select. align
  case. iCENTER do.
    pos=. pos +"1 [ 0,.-:len
  case. iRIGHT do.
    pos=. pos +"1 [ 0,.len
  end.
  for_i. i.#pos do.
    cairo_save_jcairo_ plotcr
    cairo_move_to_jcairo_ plotcr ; <"0 flipxy of + i{pos
    cairo_rotate_jcairo_ plotcr ; 0.5p1
    cairo_show_text_jcairo_ plotcr;(,>i{txt)
    cairo_restore_jcairo_ plotcr
  end.
end.

if. -. und do. EMPTY return. end.
pos=. citemize pos
len=. , len
off=. <. -/ 2 0{te

select. rot
case. 0 do.
  bgn=. 0 >. pos -"1 [ 0,.-off
  end=. bgn + len,.0
case. 1 do.
  bgn=. 0 >. pos -"1 off,.0
  end=. bgn + 0,.len
case. 2 do.
  bgn=. 0 >. pos +"1 off,.0
  end=. bgn - 0,.len
end.

for_p. bgn,.end do.
  cairo_makelines p
  cairo_stroke_jcairo_ plotcr
end.

EMPTY
)
cairocircle=: 3 : 0
'v s f e c p'=. y
if. isempty c do.
  if. is1color e do.
    e cairo_pen v
    for_i. i.#p do.
      cairo_new_sub_path_jcairo_ plotcr
      cairo_arc_jcairo_ plotcr ; ;/ (flipxy 2{.i{p) , (2{i{p), 0, 2p1
      cairo_stroke_jcairo_ plotcr
    end.
  else.
    for_i. i.#p do.
      cairo_new_sub_path_jcairo_ plotcr
      cairo_arc_jcairo_ plotcr ; ;/ (flipxy 2{.i{p) , (2{i{p), 0, 2p1
      (i{e) cairo_pen (i{v)
      cairo_stroke_jcairo_ plotcr
    end.
  end.
else.
  p=. citemize p
  c=. p cmatch c
  e=. p cmatch e
  v=. p cmatch v
  for_i. i.#p do.
    cairo_new_sub_path_jcairo_ plotcr
    cairo_arc_jcairo_ plotcr ; ;/ (flipxy 2{.i{p) , (2{i{p), 0, 2p1
    (i{e) cairo_pen (i{v)
    cairo_stroke_preserve_jcairo_ plotcr
    1 cairo_color i{c
    cairo_fill_jcairo_ plotcr
  end.
end.
)
cairodot=: 3 : 0
'v s f e c p'=. y
p=. citemize p
v=. v * CAIRO_PENSCALE
if. is1color e do.
  1 cairo_color e
  for_i. i.#p do.
    cairo_new_sub_path_jcairo_ plotcr
    cairo_arc_jcairo_ plotcr ; ;/ (flipxy i{p) , v, 0, 2p1
    cairo_fill_jcairo_ plotcr
  end.
else.
  e=. p cmatch e
  for_i. i.#p do.
    1 cairo_color i{e
    cairo_new_sub_path_jcairo_ plotcr
    cairo_arc_jcairo_ plotcr ; ;/ (flipxy i{p) , v, 0, 2p1
    cairo_fill_jcairo_ plotcr
  end.
end.
)
cairofxywh=: 3 : 0
''return.
p=. _1 pick y
if. #p do.
  CLIP=: >: CLIP
  'x y w h'=. p
  rect=. cairo_makerect x,y,(x+w),y+h
  pbuf 'gsave ',rect,' clip newpath'
else.
  if. CLIP do.
    CLIP=: <: CLIP
    pbuf 'grestore'
  end.
end.
)
cairoline=: 3 : 0
'v s f e c p'=. y
if. (is1color e) *. 1 = #s do.
  pbuf e cairo_pen v
  pbuf cairo_lines p
else.
  rws=. #p
  e=. rws $ citemize e
  v=. rws $ v
  for_i. i. rws do.
    pbuf (i{e) cairo_pen i{v
    pbuf cairo_lines i{p
  end.
end.
)
cairomarker=: 3 : 0
('cairomark_',1 pick y)~ y
)
cairopie=: 3 : 0
'v s f e c p'=. y
pen=. e cairo_pen v
p=. citemize p
ctr=. 0 1 {"1 p
rad=. 2 {"1 p
ang=. 360 %~ 2p1 * 90 - 3 4 {"1 p
clr=. cmatch c
for_i. i.#p do.
  cairo_move_to_jcairo_ plotcr ; ;/ (flipxy i{ ctr)
  cairo_arc_negative_jcairo_ plotcr ; ;/ (flipxy i{ ctr) , (i{rad), (i{ang)
  cairo_close_path_jcairo_ plotcr
  cairo_stroke_preserve_jcairo_ plotcr
  1 cairo_color i{clr
  cairo_fill_jcairo_ plotcr
end.
)
cairopline=: 3 : 0
'v s f e c p'=. y
if. *./ s = 0 do.
  cairoline y return.
end.
s=. s { PENPATTERN
if. (is1color e) *. 1 = #v do.
  pos=. s linepattern"0 1 p
  cairoline (<pos) _1 } y
else.
  rws=. #p
  e=. rws $ citemize e
  v=. rws $ v
  s=. rws $ s
  for_i. i.#p do.
    (i{e) cairo_pen i{v
    pos=. (i{s) linepattern i{p
    cairoline (i{v);0;0;(i{e);0;pos
  end.
end.
)
cairopoly=: 3 : 0
'v s f e c p'=. y
p=. citemize p
if. v=0 do. e=. c end.
c=. p cmatch c
e=. p cmatch e
if. +/v do.
  v=. p cmatch v
  for_i. i.#p do.
    cairo_makelines i{p
    cairo_close_path_jcairo_ plotcr
    (i{e) cairo_pen i{v
    cairo_stroke_preserve_jcairo_ plotcr
    1 cairo_color i{c
    cairo_fill_jcairo_ plotcr
  end.
else.
  for_i. i.#p do.
    cairo_makelines i{p
    cairo_close_path_jcairo_ plotcr
    1 cairo_color i{c
    cairo_stroke_preserve_jcairo_ plotcr
    cairo_fill_jcairo_ plotcr
  end.
end.
)
cairorect=: 3 : 0
assert. 0~:plotcr
'v s f e c p'=. y
p=. citemize p
if. v=0 do. e=. c end.
c=. p cmatch c
e=. p cmatch e
if. +/v do.
  v=. p cmatch v
  for_i. i.#p do.
    cairo_makerect i{p
    (i{e) cairo_pen i{v
    cairo_stroke_preserve_jcairo_ plotcr
    1 cairo_color i{c
    cairo_fill_jcairo_ plotcr
  end.
else.
  for_i. i.#p do.
    cairo_makerect i{p
    1 cairo_color i{c
    cairo_fill_jcairo_ plotcr
  end.
end.
)
cairotext=: 3 : 0
't f a e c p'=. y
'fnx fst fsz fan und'=. f
rot=. 3 | 0 90 270 i. fan
asc=. _0.2 * pgetascender f
fnm=. getfntname fnx,fst
bold=. italic=. 0
if. (1 e. '-Oblique' E. fnm)+.(1 e. '-Bold' E. fnm)+.(1 e. '-Italic' E. fnm) do.
  bold=. (1 e. 'Bold' E. fnm)
  italic=. ((1 e. 'Oblique' E. fnm)+.(1 e. 'Italic' E. fnm))
  fnm=. ({.~ i:&'-') fnm
end.

cairofontangle=: <.fan*10
cairounderline=: Underline
cairo_select_font_face_jcairo_ plotcr ; fnm ; (italic{CAIRO_FONT_SLANT_NORMAL,CAIRO_FONT_SLANT_ITALIC); (bold{CAIRO_FONT_WEIGHT_NORMAL,CAIRO_FONT_WEIGHT_BOLD)
cairo_set_font_size_jcairo_ plotcr; getplotfontsize f
select. rot
case. 0 do. p=. 0 >. p -"1 [ 0, asc
case. 1 do. p=. p +"1 asc, 0
case. 2 do. p=. p -"1 asc, 0
end.
if. is1color e do.
  1 cairo_color e
  for_i. i.#p do.
    cairo_text f;t;p;a;rot;und
  end.
else.
  for_i. i.#e do.
    1 cairo_color i{e
    cairo_text f;(i{t);(i{p);a;rot;und
  end.
end.
)
cairomark_circle=: 3 : 0
's m f e c p'=. y
p=. citemize p
v=. 8 * s * CAIRO_PENSCALE
1 cairo_color e
for_i. i.#p do.
  cairo_new_sub_path_jcairo_ plotcr
  cairo_arc_jcairo_ plotcr ; ;/ (flipxy i{p) , v, 0, 2p1
  cairo_fill_jcairo_ plotcr
end.
)
cairomark_diamond=: 3 : 0
's m f e c p'=. y
p=. 8 $"1 citemize p
d=. (3.5 * s) * _1 0 0 1 1 0 0 _1
p=. p +"1 d
for_i. i.#p do.
  cairo_makelines i{p
  cairo_close_path_jcairo_ plotcr
  1 cairo_color e
  cairo_fill_jcairo_ plotcr
end.
)
cairomark_line=: 3 : 0
's m f e c p'=. y
p=. ,p
s=. -:KeyLen,KeyPen
p=. (p - s) , p + s
cairo_makerect p
cairo_close_path_jcairo_ plotcr
1 cairo_color e
cairo_fill_jcairo_ plotcr
)
cairomark_plus=: 3 : 0
's m f e c p'=. y
s=. s * 4
t=. s, 0
e cairo_pen s
p=. citemize p
d=. (p -"1 t) ,. p +"1 t
t=. |. t
d=. d, (p -"1 t) ,. p +"1 t
cairo_lines d
)
cairomark_square=: 3 : 0
's m f e c p'=. y
p=. citemize p
s=. 3 * s
p=. (p - s) ,"1 p + s
for_i. i.#p do.
  cairo_makerect i{p
  cairo_close_path_jcairo_ plotcr
  1 cairo_color e
  cairo_fill_jcairo_ plotcr
end.
)
cairomark_times=: 3 : 0
's m f e c p'=. y
e cairo_pen 4 * s
t=. _1 + s * 3
r=. (p - t) ,. p + t
s=. (p +"1 t * 1 _1) ,. p +"1 t * _1 1
cairo_lines r,s
)
cairomark_triangle=: 3 : 0
's m f e c p'=. y
p=. 6 $"1 citemize p
d=. (4 * s) * , (sin,.cos) 2p1 * 0 1 2 % 3
p=. p +"1 d
for_i. i.#p do.
  cairo_makelines i{p
  cairo_close_path_jcairo_ plotcr
  1 cairo_color e
  cairo_fill_jcairo_ plotcr
end.
)
JSESC0=: LF,CR,TAB,FF,(8{a.),'\''"'
JSESC1=: 'nrtfb\''"'
jsesc=: 3 : 0
txt=. y
msk=. txt e. JSESC0
if. 1 e. msk do.
  ndx=. , ((I. msk) + i. +/ msk) +/ 0 1
  new=. ,'\',.JSESC1 {~ JSESC0 i. msk#txt
  txt=. new ndx } (1 + msk) # txt
end.

txt
)
cairo_show=: 3 : 0
'size file'=. 2{. cairo_getparms y
res=. cairo_make size;file
cairo_write file
unrefcairo ''
if. IFJHS do. plotcairo__'' end.
EMPTY
)
cairo_make=: 3 : 0
'size file'=. y
make iCAIRO;0 0,size
fns=. 'cairo'&, each 1 {"1 Plot
dat=. 3 }."1 Plot
buf=: ''
'Cw Ch'=: size
CLIP=: 0
initcairo size
for_d. dat do.
  (>d_index{fns)~d
end.
EMPTY
)

initcairo=: 3 : 0
if. 0~:plotcr do. plotcr=: 0 [ cairo_destroy_jcairo_ plotcr end.
if. 0~:plotcs do. plotcs=: 0 [ cairo_surface_destroy_jcairo_ plotcs end.
plotcs=: cairo_image_surface_create <"0 CAIRO_FORMAT_ARGB32, y
plotcr=: cairo_create plotcs
cairo_set_source_rgb_jcairo_ plotcr ; 1 ; 1 ; 1
cairo_rectangle_jcairo_ plotcr ; 0 ; 0 ; ;/ y
cairo_fill_jcairo_ plotcr
EMPTY
)

unrefcairo=: 3 : 0
if. 0~:plotcr do. plotcr=: 0 [ cairo_destroy_jcairo_ plotcr end.
if. 0~:plotcs do. plotcs=: 0 [ cairo_surface_destroy_jcairo_ plotcs end.
EMPTY
)
coclass 'jzplot'
CANVAS_DEFSHOW=: 'jijx'
CANVAS_DEFSIZE=: 400 200
CANVAS_DEFFILE=: jpath '~temp/plot.html'
CANVAS_PENSCALE=: 0.4
canvas_getparms=: 3 : 0
(CANVAS_DEFSIZE;CANVAS_DEFFILE) output_parms y
)
canvas_write=: 4 : 0
dat=. x
'file ctx'=. y
while. _1 -: dat flwrites file do.
  msg=. 'Unable to write to file: ',file,LF,LF
  if. #d=. 1!:0 file do.
    msg=. msg, 'If the file is open in a viewer, close the file and try again.'
    if. 1 query msg do. return. end.
  else.
    info msg,'The file name is invalid.' return. end.
end.
if. (VISIBLE > IFJHS) *. '<!DOCTYPE html>' -: 15{.x do.
  viewimage_j_ file
end.
)
canvas_build=: 4 : 0
if. #x do.
  'function(ctx){',LF,y,'}',LF
else.
  canvas_wrap (canvas_header''),LF,'function drawPlot(ctx) {',LF,y,'}',LF
end.
)
canvas_header=: 3 : 0
r=. ('80';(pfmt 0{Pxywh);'40';(pfmt 1{Pxywh)) stringreplace canvas_template
r=. ('<1>';IFJHS{::'';'<!--[if lt IE 9]><script src="/~addons/ide/jhs/js/excanvas.js" type="text/javascript"></script><![endif]-->') stringreplace canvas_template
)

canvas_template=: 0 : 0
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset=utf-8>
	<title>J Plot</title>
	<style>
		#canvas1 { margin-left:80px; margin-top:40px; }
	</style>

  <1>
	<script type="text/javascript">
		function graph() {
			var graphCanvas = document.getElementById('canvas1');
			// ensure that the element is available within the DOM
			if (graphCanvas && graphCanvas.getContext) {
				// open a 2D context within the canvas
				var context = graphCanvas.getContext('2d');
				// draw
				drawPlot(context);
			}
		}
)
CANVAS_TRL=: 0 : 0
	</script>
</head>
<body onLoad="graph();">
	<article>
		<h1>plot</h1>
		<canvas id="canvas1" width="800" height="400"></canvas>
	</article>
</body>
</html>
)
canvas_wrap=: 3 : 0
y, ('800';(pfmt 2{Pxywh);'400';(pfmt 3{Pxywh)) stringreplace CANVAS_TRL
)
canvas_color=: 4 : 0
if. x do.
  'ctx.fillStyle= "rgb',"1 (pfmtjs y),"1 '";'
else.
  'ctx.strokeStyle= "rgb',"1 (pfmtjs y),"1 '";'
end.
)
canvas_makerect=: 3 : 0
'x y r s'=. y
r=. (pfmtjs _2 [\ flipxy x,y,x,s,r,s,r,y,x,y) ,.~ 1 4 # ' ctx.moveTo',:' ctx.lineTo'
(,r,"1 ';')
)
canvas_makelines=: 3 : 0
len=. -: {: $ y
if. len = 0 do. i.0 0 return. end.
opr=. (1,len-1) # 'ctx.moveTo',:'ctx.lineTo'
if. 2 > #$y do.
  , ((pfmtjs _2 [\ flipxy y) ,.~ opr) ,. ';'
else.
  ,"2 ((pfmtjs _2 [\"1 flipxy y) ,."2~ opr) ,."2 ';'
end.
)
canvas_pens=: 4 : 0
assert. 0 [ 'canvas_pens not implemented'
(0 canvas_color x) ,"1 'ctx.lineWidth="',"1 (":1>.CANVAS_PENSCALE*y),"1 '";'
)
canvas_pen=: 4 : 0
(0 canvas_color x) , 'ctx.lineWidth="',(":1>.CANVAS_PENSCALE*y),'";'
)
canvas_lines=: 3 : 0
'ctx.beginPath();' ,"1 (canvas_makelines y) ,"1 'ctx.stroke();ctx.closePath();'
)
canvas_text=: 3 : 0
'fnt txt pos align rot und'=. y
pos=. citemize pos
txt=. ,each boxxopen txt
txt=. utf8@('"'&,)@(,&'"')@jsesc each txt

if. 1=#txt do. txt=. (#pos)#{.txt end.

fn=. 'ctx.textBaseline= "middle";ctx.textAlign= "', (align{:: 'left';'center';'right'), '";'

select. rot
case. 0 do.
  res=. tolist (<fn) ,each (<'ctx.fillText(') ,each txt ,each (<',') ,each (<("1) 0&pfmtjs flipxy pos >. 0) ,each <');'
case. 1 do.
  r=. ''
  for_i. i.#pos do.
    s=. 'ctx.save();ctx.translate', (pfmtjs flipxy 0 >. i{pos), ';ctx.rotate(-Math.PI/2);'
    r=. r, <s, fn, 'ctx.fillText(' , (i pick txt), ',0,0);ctx.restore();'
  end.
  res=. tolist r
case. 2 do.
  r=. ''
  for_i. i.#pos do.
    s=. 'ctx.save();ctx.translate', (pfmtjs flipxy 0 >. i{pos), ';ctx.rotate(Math.PI/2);'
    r=. r, <s, fn, 'ctx.fillText(' , (i pick txt), ',0,0);ctx.restore();'
  end.
  res=. tolist r
end.

if. -. und do. res return. end.
wid=. ,{. fnt pgetextent txt
'off lwd'=. getunderline fnt
res=. res, LF, 'ctx.lineWidth="', (":1>.lwd) ,'";'

select. rot
case. 0 do.
  bgn=. pos - (wid * -: align),.-off
  end=. bgn + wid,.0
case. 1 do.
  bgn=. pos - off,.wid * -: align
  end=. bgn + 0,.wid
case. 2 do.
  bgn=. pos + off,.wid * -: align
  end=. bgn - 0,.wid
end.

bgn=. 'ctx.beginPath();ctx.moveTo' ,"1 (pfmtjs flipxy bgn >. 0) ,"1 ';'
end=. 'ctx.lineTo' ,"1 (pfmtjs flipxy end >. 0) ,"1 ';ctx.stroke();ctx.fill();ctx.closePath();'
lin=. ,LF,.bgn,.end

res,lin
)
canvascircle=: 3 : 0
'v s f e c p'=. y
if. isempty c do.
  if. is1color e do.
    pbuf e canvas_pen v
    pbuf 'ctx.beginPath();ctx.arc(' ,"1 (0&pfmtjs flipxy 2{."1 p) ,"1 ',' ,"1 (0&pfmtjs 2{"1 p) ,"1 ',0,2*Math.PI,1);ctx.stroke();ctx.closePath();'
  else.
    for_i. i.#p do.
      pbuf (i{e) canvas_pen i{v
      pbuf 'ctx.beginPath();ctx.arc(' ,"1 (0&pfmtjs flipxy 2{.i{p) ,"1 ',' ,"1 (0&pfmtjs 2{i{p) ,"1 ',0,2*Math.PI,1);ctx.stroke();ctx.closePath();'
    end.
  end.
else.
  p=. citemize p
  c=. p cmatch c
  e=. p cmatch e
  v=. p cmatch v
  for_i. i.#p do.
    pbuf 'ctx.beginPath();ctx.arc(' , (0&pfmtjs flipxy 2{.i{p) , ',' , (0&pfmtjs 2{i{p) , ',0,2*Math.PI,1);'
    pbuf (1 canvas_color i{c) ,((i{e) canvas_pen i{v), 'ctx.stroke();ctx.fill();ctx.closePath();'
  end.
end.
)
canvasdot=: 3 : 0
'v s f e c p'=. y
p=. citemize p
v=. v * CANVAS_PENSCALE
if. is1color e do.
  pbuf 1 canvas_color e
  pbuf 'ctx.beginPath();ctx.arc(' ,"1 (0&pfmtjs flipxy p) ,"1 ',' ,"1 (0&pfmtjs v) ,"1 ',0,2*Math.PI,1);ctx.fill();ctx.closePath();'
else.
  e=. p cmatch e
  for_c. p do.
    pbuf 1 canvas_color c_index { e
    pbuf 'ctx.beginPath();ctx.arc(' , (0&pfmtjs flipxy c) , ',' , (0&pfmtjs v) , ',0,2*Math.PI,1);ctx.fill();ctx.closePath();'
  end.
end.
)
canvasfxywh=: 3 : 0
''return.
p=. _1 pick y
if. #p do.
  CLIP=: >: CLIP
  'x y w h'=. p
  rect=. canvas_makerect x,y,(x+w),y+h
  pbuf 'gsave ',rect,' clip newpath'
else.
  if. CLIP do.
    CLIP=: <: CLIP
    pbuf 'grestore'
  end.
end.
)
canvasline=: 3 : 0
'v s f e c p'=. y
if. (is1color e) *. 1 = #s do.
  pbuf e canvas_pen v
  pbuf canvas_lines p
else.
  rws=. #p
  e=. rws $ citemize e
  v=. rws $ v
  for_i. i. rws do.
    pbuf (i{e) canvas_pen i{v
    pbuf canvas_lines i{p
  end.
end.
)
canvasmarker=: 3 : 0
('canvasmark_',1 pick y)~ y
)
canvaspie=: 3 : 0
'v s f e c p'=. y
pen=. e canvas_pen v
p=. citemize p
ctr=. 0 1 {"1 p
rad=. 2 {"1 p
ang=. 360 %~ 2p1 * 360 + 90 + - 3 4 {"1 p
clr=. cmatch c
for_i. i.#p do.
  pbuf 'ctx.beginPath();', 'ctx.moveTo', (pfmtjs flipxy i { ctr), ';'
  pbuf 'ctx.arc(', (0&pfmtjs flipxy (i { ctr) ,(i{rad)), ',', (0&pfmtjs 0{i{ang), ',', (0&pfmtjs 1{i{ang), ',1);'
  pbuf (1 canvas_color i{clr) ,pen,'ctx.stroke();ctx.fill();ctx.closePath();'
end.
)
canvaspline=: 3 : 0
'v s f e c p'=. y
if. *./ s = 0 do.
  canvasline y return.
end.
s=. s { PENPATTERN
if. (is1color e) *. 1 = #v do.
  pos=. s linepattern"0 1 p
  canvasline (<pos) _1 } y
else.
  rws=. #p
  e=. rws $ citemize e
  v=. rws $ v
  s=. rws $ s
  for_i. i.#p do.
    pbuf (i{e) canvas_pen i{v
    pos=. (i{s) linepattern i{p
    canvasline (i{v);0;0;(i{e);0;pos
  end.
end.
)
canvaspoly=: 3 : 0
'v s f e c p'=. y
p=. citemize p
if. v=0 do. e=. c end.
c=. p cmatch c
e=. p cmatch e
if. +/v do.
  v=. p cmatch v
  for_i. i.#p do.
    pbuf 'ctx.beginPath();', (canvas_makelines i{p), (1 canvas_color i{c), ((i{e) canvas_pen i{v), 'ctx.stroke();ctx.fill();ctx.closePath();'
  end.
else.
  for_i. i.#p do.
    pbuf 'ctx.beginPath();', (canvas_makelines i{p), (0 canvas_color i{c), (1 canvas_color i{c), 'ctx.stroke();ctx.fill();ctx.closePath();'
  end.
end.
)
canvasrect=: 3 : 0
'v s f e c p'=. y
p=. citemize p
if. v=0 do. e=. c end.
c=. p cmatch c
e=. p cmatch e
if. +/v do.
  v=. p cmatch v
  for_i. i.#p do.
    pbuf 'ctx.beginPath();', (canvas_makerect i{p) , (1 canvas_color i{c) ,((i{e) canvas_pen i{v) , 'ctx.stroke();ctx.fill();ctx.closePath();'
  end.
else.
  for_i. i.#p do.
    pbuf 'ctx.beginPath();', (canvas_makerect i{p) ,(1 canvas_color i{c) ,'ctx.fill();ctx.closePath();'
  end.
end.
)
canvastext=: 3 : 0
't f a e c p'=. y
'fnx fst fsz fan und'=. f
rot=. 3 | 0 90 270 i. fan
asc=. pgetascender f
fnm=. getfntname fnx,fst
bold=. italic=. ''
if. (1 e. '-Oblique' E. fnm)+.(1 e. '-Bold' E. fnm)+.(1 e. '-Italic' E. fnm) do.
  bold=. (1 e. 'Bold' E. fnm)#'bold '
  italic=. ((1 e. 'Oblique' E. fnm)+.(1 e. 'Italic' E. fnm))#'italic '
  fnm=. ({.~ i:&'-') fnm
end.
pbuf 'ctx.font= "', italic, bold, (": getplotfontsize f), 'pt \"', fnm,'\"";'
select. rot
case. 0 do. p=. 0 >. p -"1 [ 0, asc
case. 1 do. p=. p +"1 asc, 0
case. 2 do. p=. p -"1 asc, 0
end.
if. is1color e do.
  pbuf 1 canvas_color e
  pbuf canvas_text f;t;p;a;rot;und
else.
  for_i. i.#e do.
    pbuf 1 canvas_color i{e
    pbuf canvas_text f;(i{t);(i{p);a;rot;und
  end.
end.
)
canvasmark_circle=: 3 : 0
's m f e c p'=. y
p=. citemize p
v=. 8 * s * CANVAS_PENSCALE
pbuf 1 canvas_color e
pbuf 'ctx.moveTo', (pfmtjs flipxy {.p), ';'
pbuf 'ctx.beginPath();ctx.arc(' ,"1 (0&pfmtjs flipxy p) ,"1 ',' ,"1 (0&pfmtjs v) ,"1 ',0,2*Math.PI,1);ctx.stroke();ctx.fill();ctx.closePath();'
)
canvasmark_diamond=: 3 : 0
's m f e c p'=. y
e=. 1 canvas_color e
p=. 8 $"1 citemize p
d=. (3.5 * s) * _1 0 0 1 1 0 0 _1
p=. p +"1 d
pbuf 'ctx.beginPath();'
for_i. i.#p do.
  pbuf canvas_makelines i{p
  pbuf e,'ctx.fill();ctx.closePath();'
end.
)
canvasmark_line=: 3 : 0
's m f e c p'=. y
e=. 1 canvas_color e
p=. ,p
s=. -:KeyLen,KeyPen
p=. (p - s) , p + s
pbuf 'ctx.beginPath();'
pbuf canvas_makerect p
pbuf e,'ctx.fill();ctx.closePath();'
)
canvasmark_plus=: 3 : 0
's m f e c p'=. y
s=. s * 4
t=. s, 0
pbuf e canvas_pen s
p=. citemize p
d=. (p -"1 t) ,. p +"1 t
t=. |. t
d=. d, (p -"1 t) ,. p +"1 t
pbuf canvas_lines d
)
canvasmark_square=: 3 : 0
's m f e c p'=. y
e=. 1 canvas_color e
p=. citemize p
s=. 3 * s
p=. (p - s) ,"1 p + s
pbuf 'ctx.beginPath();'
for_i. i.#p do.
  pbuf canvas_makerect i{p
  pbuf e,'ctx.fill();ctx.closePath();'
end.
)
canvasmark_times=: 3 : 0
's m f e c p'=. y
pbuf e canvas_pen 4 * s
t=. _1 + s * 3
r=. (p - t) ,. p + t
s=. (p +"1 t * 1 _1) ,. p +"1 t * _1 1
pbuf canvas_lines r,s
)
canvasmark_triangle=: 3 : 0
's m f e c p'=. y
e=. 1 canvas_color e
p=. 6 $"1 citemize p
d=. (4 * s) * , (sin,.cos) 2p1 * 0 1 2 % 3
p=. p +"1 d
pbuf 'ctx.beginPath();'
for_i. i.#p do.
  pbuf canvas_makelines i{p
  pbuf e,'ctx.fill();ctx.closePath();'
end.
)
JSESC0=: LF,CR,TAB,FF,(8{a.),'\''"'
JSESC1=: 'nrtfb\''"'
jsesc=: 3 : 0
txt=. y
msk=. txt e. JSESC0
if. 1 e. msk do.
  ndx=. , ((I. msk) + i. +/ msk) +/ 0 1
  new=. ,'\',.JSESC1 {~ JSESC0 i. msk#txt
  txt=. new ndx } (1 + msk) # txt
end.

txt
)
canvas_get=: 3 : 0
'size file ctx'=. 3{. canvas_getparms y
res=. canvas_make size;file;ctx
)
canvas_show=: 3 : 0
'size file ctx'=. 3{. canvas_getparms y
res=. canvas_make size;file;ctx
res canvas_write file;ctx
if. IFJHS do. plotcanvas__'' end.
i.0 0
)
canvas_make=: 3 : 0
'size file ctx'=. y
make iCANVAS;0 0,size
fns=. 'canvas'&, each 1 {"1 Plot
dat=. 3 }."1 Plot
buf=: ''
'Cw Ch'=: size
CLIP=: 0
for_d. dat do.
  (>d_index{fns)~d
end.
ctx canvas_build buf
)
coclass 'jzplot'
EPS_DEFSIZE=: 480 360
EPS_DEFFILE=: jpath '~temp/plot.eps'
EPS_PENSCALE=: 0.4
eps_getparms=: 3 : 0
(EPS_DEFSIZE;EPS_DEFFILE) output_parms y
)
getarcangles=: 3 : 0
ang=. dfr arctan | %~/"1 y
quad=. (#. y < 0) { 0 3 1 2
(quad { 0 180 180 360) + ang * quad { 1 _1 1 _1
)
eps_write=: 4 : 0
dat=. x
file=. y
while. _1 -: dat flwrites file do.
  msg=. 'Unable to write to file: ',file,LF,LF
  if. #d=. 1!:0 file do.
    msg=. msg, 'If the file is open in a viewer, close the file and try again.'
    if. 1 query msg do. return. end.
  else.
    info msg,'The file name is invalid.' return. end.
end.
if. 0 = 4!:0 <'EPSReader_j_' do.
  if. check_EPSReader ::0: EPSReader_j_ do.
    fork_jtask_ (dquote EPSReader_j_),' ',dquote file
  else.
    info 'File written: ',file
  end.
end.
)
EPS_DEFS=: 0 : 0
/showc {dup stringwidth pop neg 2 div 0 rmoveto show } bind def
/showr {dup stringwidth pop neg 0 rmoveto show } bind def
)
eps_build=: 3 : 0
eps_wrap (eps_header''),LF,y
)

eps_header=: 3 : 0
r=. ''
r=. r,<'%!PS-Adobe-3.0 EPSF-3.0'
r=. r,<'%%Creator: J Plot'
r=. r,<'%%CreationDate: ','20', ; _2 {.each '0' ,each ": each <. 6!:0''
r=. r,<'%%BoundingBox: ',pfmt Pxywh
r=. r,<''
r=. r,<EPS_DEFS
tolist r
)
EPS_TRL=: 0 : 0
grestore
showpage
%%EOF
)
eps_wrap=: 3 : 0
y,EPS_TRL
)
eps_color=: 3 : 0
(": y % 255) ,"1 ' setrgbcolor '
)
eps_makerect=: 3 : 0
'x y r s'=. y
r=. (pfmt _2 [\ x,y,x,s,r,s,r,y) ,. 1 3 # ' moveto',:' lineto'
(,r,.LF),'closepath'
)
eps_makelines=: 3 : 0
len=. -: {: $ y
if. len = 0 do. i.0 0 return. end.
opr=. (1,len-1) # ' moveto',:' lineto'
if. 2 > #$y do.
  , ((pfmt _2 [\ y) ,. opr) ,. LF
else.
  ,"2 ((pfmt _2 [\"1 y) ,."2 opr) ,."2 LF
end.
)
eps_pens=: 4 : 0
(eps_color x) ,"1 (":,.EPS_PENSCALE*y) ,"1 ' setlinewidth '
)
eps_pen=: 4 : 0
(eps_color ,x), (":EPS_PENSCALE*y) ,' setlinewidth '
)
eps_lines=: 3 : 0
(eps_makelines y) ,"1 'stroke'
)
eps_text=: 3 : 0
'fnt txt pos align rot und'=. y
pos=. citemize pos
txt=. ,each boxxopen txt
txt=. pdfesc each txt

fn=. 'show',align{' cr'

select. rot
case. 0 do.
  res=. (<' moveto (') ,each txt ,each <') ',fn
  res=. tolist (<"1 pfmt pos >. 0) ,each res
case. 1 do.
  r=. ''
  for_i. i.#pos do.
    s=. 'save ',(pfmt 0 >. i{pos), ' translate 90 rotate',LF
    r=. r, <s, '0 0 moveto (' ,(i pick txt) , ') ',fn,' restore'
  end.
  res=. tolist r
case. 2 do.
  r=. ''
  for_i. i.#pos do.
    s=. 'save ',(pfmt 0 >. i{pos), ' translate 270 rotate',LF
    r=. r, <s, '0 0 moveto (' ,(i pick txt) , ') ',fn,' restore'
  end.
  res=. tolist r
end.

if. -. und do. return. end.
wid=. ,{. fnt pgetextent txt
'off lwd'=. getunderline fnt
res=. res, LF, (":lwd) ,' setlinewidth '

select. rot
case. 0 do.
  bgn=. pos - (wid * -: align),.-off
  end=. bgn + wid,.0
case. 1 do.
  bgn=. pos - off,.wid * -: align
  end=. bgn + 0,.wid
case. 2 do.
  bgn=. pos + off,.wid * -: align
  end=. bgn - 0,.wid
end.

bgn=. (": bgn >. 0) ,"1 ' moveto '
end=. (": end >. 0) ,"1 ' lineto stroke'
lin=. ,LF,.bgn,.end

res,lin

)
epscircle=: 3 : 0
'v s f e c p'=. y
if. isempty c do.
  txt=. (pfmt p ,"1[ 0 360) ,"1 ' arc stroke'
  if. is1color e do.
    pbuf e eps_pen v
    pbuf txt
  else.
    pbuf (e eps_pens v) ,. txt
  end.
else.
  p=. citemize p
  c=. p cmatch c
  e=. p cmatch e
  v=. p cmatch v
  for_i. i.#p do.
    pbuf (pfmt (i{p) ,"1[ 0 360) ,"1 ' arc'
    pbuf 'gsave ',(eps_color i{c),' fill grestore'
    pbuf ((i{e) eps_pen i{v),' stroke'
  end.
end.
)
epsdot=: 3 : 0
'v s f e c p'=. y
p=. citemize p
v=. v * EPS_PENSCALE
if. is1color e do.
  pbuf eps_color e
  pbuf (pfmt p,.v) ,"1 ' 0 360 arc fill'
else.
  e=. p cmatch e
  for_c. p do.
    pbuf eps_color c_index { e
    pbuf (pfmt c,.v) ,"1 ' 0 360 arc fill'
  end.
end.
)
epsfxywh=: 3 : 0
p=. _1 pick y
if. #p do.
  CLIP=: >: CLIP
  'x y w h'=. p
  rect=. eps_makerect x,y,(x+w),y+h
  pbuf 'gsave ',rect,' clip newpath'
else.
  if. CLIP do.
    CLIP=: <: CLIP
    pbuf 'grestore'
  end.
end.
)
epsline=: 3 : 0
'v s f e c p'=. y
if. (is1color e) *. 1 = #s do.
  pbuf e eps_pen v
  pbuf eps_lines p
else.
  rws=. #p
  e=. rws $ citemize e
  v=. rws $ v
  for_i. i. rws do.
    pbuf (i{e) eps_pen i{v
    pbuf eps_lines i{p
  end.
end.
)
epsmarker=: 3 : 0
('epsmark_',1 pick y)~ y
)
epspie=: 3 : 0
'v s f e c p'=. y
pen=. e eps_pen v
p=. citemize p
ctr=. 0 1 {"1 p
rad=. 2 {"1 p
ang=. 360 + _90 + 3 4 {"1 p
clr=. cmatch c
for_i. i.#p do.
  pbuf 'newpath'
  pbuf (pfmt i { ctr),' moveto'
  pbuf (pfmt (i { ctr),(i{rad),i{ang),' arc closepath'
  pbuf 'gsave ',(eps_color i{clr),' fill grestore'
  pbuf pen,' stroke'
end.
)
epspline=: 3 : 0
'v s f e c p'=. y
if. *./ s = 0 do.
  epsline y return.
end.
s=. s { PENPATTERN
if. (is1color e) *. 1 = #v do.
  pos=. s linepattern"0 1 p
  epsline (<pos) _1 } y
else.
  rws=. #p
  e=. rws $ citemize e
  v=. rws $ v
  s=. rws $ s
  for_i. i.#p do.
    pos=. (i{s) linepattern i{p
    epsline (i{v);0;0;(i{e);0;pos
  end.
end.
)
epspoly=: 3 : 0
'v s f e c p'=. y
p=. citemize p
if. v=0 do. e=. c end.
c=. p cmatch c
e=. p cmatch e
if. +/v do.
  v=. p cmatch v
  for_i. i.#p do.
    pbuf eps_makelines i{p
    pbuf 'gsave ',(eps_color i{c),' fill grestore'
    pbuf ((i{e) eps_pen i{v),' stroke'
  end.
else.
  for_i. i.#p do.
    pbuf eps_makelines i{p
    pbuf (eps_color i{c),' fill'
  end.
end.
)
epsrect=: 3 : 0
'v s f e c p'=. y
p=. citemize p
if. v=0 do. e=. c end.
c=. p cmatch c
e=. p cmatch e
if. +/v do.
  v=. p cmatch v
  for_i. i.#p do.
    pbuf eps_makerect i{p
    pbuf 'gsave ',(eps_color i{c),' fill grestore'
    pbuf ((i{e) eps_pen i{v),' stroke'
  end.
else.
  for_i. i.#p do.
    pbuf eps_makerect i{p
    pbuf (eps_color i{c),' fill'
  end.
end.
)
epstext=: 3 : 0
't f a e c p'=. y
'fnx fst fsz fan und'=. f
rot=. 3 | 0 90 270 i. fan
asc=. pgetascender f
fnm=. getfntname fnx,fst
pbuf '/',fnm,' findfont'
pbuf (": getplotfontsize f),' scalefont setfont'
select. rot
case. 0 do. p=. 0 >. p -"1 [ 0, asc
case. 1 do. p=. p +"1 asc, 0
case. 2 do. p=. p -"1 asc, 0
end.
if. is1color e do.
  pbuf eps_color e
  pbuf eps_text f;t;p;a;rot;und
else.
  for_i. i.#e do.
    pbuf eps_color i{e
    pbuf eps_text f;(i{t);(i{p);a;rot;und
  end.
end.
)
epsmark_circle=: 3 : 0
's m f e c p'=. y
p=. citemize p
v=. 8 * s * EPS_PENSCALE
pbuf eps_color e
pbuf (pfmt {.p), ' moveto'
pbuf (pfmt p,.v) ,"1 ' 0 360 arc fill'
)
epsmark_diamond=: 3 : 0
's m f e c p'=. y
e=. eps_color e
p=. 8 $"1 citemize p
d=. (3.5 * s) * _1 0 0 1 1 0 0 _1
p=. p +"1 d
for_i. i.#p do.
  pbuf eps_makelines i{p
  pbuf e,' fill'
end.
)
epsmark_line=: 3 : 0
's m f e c p'=. y
e=. eps_color e
p=. ,p
s=. -:KeyLen,KeyPen
p=. (p - s) , p + s
pbuf eps_makerect p
pbuf e,' fill'
)
epsmark_plus=: 3 : 0
's m f e c p'=. y
s=. s * 4
t=. s, 0
pbuf e eps_pen s
p=. citemize p
d=. (p -"1 t) ,. p +"1 t
t=. |. t
d=. d, (p -"1 t) ,. p +"1 t
pbuf eps_lines d
)
epsmark_square=: 3 : 0
's m f e c p'=. y
e=. eps_color e
p=. citemize p
s=. 3 * s
p=. (p - s) ,"1 p + s
for_i. i.#p do.
  pbuf eps_makerect i{p
  pbuf e,' fill'
end.
)
epsmark_times=: 3 : 0
's m f e c p'=. y
pbuf e eps_pen 4 * s
t=. _1 + s * 3
r=. (p - t) ,. p + t
s=. (p +"1 t * 1 _1) ,. p +"1 t * _1 1
pbuf eps_lines r,s
)
epsmark_triangle=: 3 : 0
's m f e c p'=. y
e=. eps_color e
p=. 6 $"1 citemize p
d=. (4 * s) * , (sin,.cos) 2p1 * 0 1 2 % 3
p=. p +"1 d
for_i. i.#p do.
  pbuf eps_makelines i{p
  pbuf e,' fill'
end.
)
eps_show=: 3 : 0
'size file ctx'=. 3{. eps_getparms y
make iEPS;0 0,size
fns=. 'eps'&, each 1 {"1 Plot
dat=. 3 }."1 Plot
buf=: ''
CLIP=: 0
for_d. dat do.
  (>d_index{fns)~d
end.
res=. eps_build buf
res eps_write file
)
ISI_DEFFILE=: '~temp/plot'
fext=: 4 : 0
f=. deb y
f, (-. x -: (-#x) {. f) # x
)
gettemp=: 3 : 0
p=. jpath '~temp/'
d=. 1!:0 p,'*.',y
a=. 0, {.@:(0&".)@> _4 }. each {."1 d
a=. ": {. (i. >: #a) -. a
p,a,'.',y
)
isi_getsize=: 3 : 0
if. -. wdishandle :: 0: PFormhwnd do. '' return. end.
wd 'psel ',PFormhwnd
s=. wd :: 0: 'qchildxywhx ',PId
if. s -: 0 do. '' return. end.
2 3 { 0 ". s
)
output_parms=: 4 : 0
'size file'=. x
if. #y do.
  prm=. qchop y
  select. #prm
  case. 1 do.
    file=. 0 pick prm
  case. 2 do.
    size=. 0 ".&> prm
  case. 3 do.
    file=. 0 pick prm
    size=. 0 ". &> _2 {. prm
    if. 0 e. size do.
      size=. 0 ". &> 2 {. prm
      file=. 2 pick prm
    end.
  end.
else.
  if. #sz=. isi_getsize'' do.
    size=. sz
  end.
end.
size;file
)
isi_clip=: 3 : 0
if. -. IFWIN+.IFJNET do.
  info 'Save plot to clipboard is only available in Windows'
  return.
end.
if. IFJNET do.
  f=. gettemp 'png'
  isi_png dquote f
  wd 'clipcopyx image ',dquote f
else.
  f=. gettemp 'emf'
  isi_emf dquote f
  wd 'clipcopyx enhmetafile ',dquote f
end.
1!:55 <f
)
gpcount=: ,"1~ 1 + [: {: 1 , $
gpcut=: 3 : 0
r=. ''
while. #y do.
  n=. {. y
  if. n=0 do.
    info 'zero length segment at: ',":#;r
    r
    return.
  end.
  r=. r, < n {. y
  y=. n }. y
end.
r
)
gpbuf=: 3 : 0
assert. 2 > #$y
buf=: buf,y
)
gpapply=: 3 : 0
glcmds buf
buf=: $0
)
gpflip=: flipxy @ rndint
gpfliplast=: 3 : 0
(<gpflip _1 pick y) _1 } y
)
gpinit=: 3 : 0
buf=: bufdef=: $0
r=. ''
r=. r,3 2003 1
r=. r,3 2071 1
gpapply''
)
gpbrushnull=: 3 : '2 2005'
gppens=: 4 : 0
y=. rndint y
5 2032,"1 x,"1 [ 4 2022,"1 y,.(y~:0){PS_NULL,PS_SOLID
)
gppen=: 4 : 0
y=. rndint y
5 2032,(,x),4 2022,y,(y~:0){PS_NULL,PS_SOLID
)
gppens1=: 3 : 0
5 2032,"1 y,"1 [ 4 2022 1,PS_SOLID
)
gppen1=: 3 : 0
5 2032,(,y),4 2022 1,PS_SOLID
)
gppenbrush1=: 3 : 0
5 2032,(,y),4 2022 1,PS_SOLID,2 2004
)
gppixel=: 3 : 0
's t f e c p'=. y
p=. gpcount 2024 ,"1 gpflip p
if. is1color e do.
  gpbuf e gppen 1
  gpbuf ,p
else.
  rws=. #p
  e=. rws $ citemize e
  pen=. e gppens 1
  gpbuf ,pen ,. p
end.
)
gppline=: 4 : 0
's t f e c p'=. y
if. (is1color e) *. 1 = #s do.
  gpbuf (,e) gppen s
  gpbuf ,gpcount x,"1 p
else.
  rws=. #p
  e=. rws $ citemize e
  s=. rws $ s
  pen=. e gppens s
  gpbuf ,pen ,. gpcount x,"1 p
end.
)
gppshape=: 4 : 0
'v s f e c p'=. y

if. v=0 do. e=. c end.

if. is1color e do.
  gpbuf e gppen v
  if. isempty c do.
    gpbuf gpbrushnull''
    gpbuf ,gpcount x,"1 p
  elseif. is1color c do.
    gpbuf 5 2032,(,c),2 2004
    gpbuf ,gpcount x,"1 p
  elseif. do.
    c=. (#p) $ c
    clr=. 5 2032 ,"1 c ,"1 [ 2 2004
    gpbuf , clr ,. gpcount x,"1 p
  end.
else.
  e=. (#p) $ e
  e=. e gppens v
  if. isempty c do.
    gpbuf gpbrushnull''
    gpbuf , e ,. gpcount x,"1 p
  elseif. is1color c do.
    gpbuf 5 2032,(,c),2 2004
    gpbuf , e ,. gpcount x,"1 p
  elseif. do.
    c=. (#p) $ c
    clr=. 5 2032 ,"1 c ,"1 [ 2 2004
    gpbuf , e ,. clr ,. gpcount x,"1 p
  end.

end.
)
isiarc=: 3 : '2001 gppline gpfliplast y'
isiline=: 3 : '2015 gppline gpfliplast y'
isipie=: 3 : '2023 gppshape gpfliplast y'
isipoly=: 3 : '2029 gppshape gpfliplast y'
isicircle=: 3 : 0
p=. _1 pick y
ctr=. gpflip 0 1 {"1 p
rad=. rndint 2 {"1 p
xy=. ctr - rad
wh=. +: rad ,. rad
p=. xy ,. wh
2008 gppshape (<p) _1 } y
)
isidot=: 3 : 0
'v s f e c p'=. y
select. v
case. 1 do.
  gppixel y
case. 2 do.
  p=. gpflip p
  p=. (p-1) ,"1 [ 2 2
  dat=. 1;0;0;e;e;p
  2031 gppshape dat
case. 3 do.
  h=. (p-"1[1 0) ,. p+"1[2 0
  v=. (p-"1[0 1) ,. p+"1[0 2
  isiline 1;0;0;e;e;h,v
case. do.
  o=. >. -: v
  p=. p ,"1 v,.v
  isicircle 1;0;0;e;e;p
end.
)
isifxywh=: 3 : 0
p=. _1 pick y
if. #p do.
  'x y w h'=. p
  xy=. _1 + <. x,Ch-y+h
  wh=. 2 + >. w,h
  gpbuf 6 2078,xy,wh
else.
  gpbuf 2 2079
end.
)
isimarker=: 3 : 0
's m f e c p'=. y
p=. gpflip p
gpbuf gppenbrush1 e
s ('isimark_',m)~ p
)
isipie=: 3 : 0
p=. _1 pick y
ctr=. gpflip 0 1 {"1 p
rad=. 2 {"1 p
ang=. 3 4 {"1 p
xy=. ctr - rad
wh=. +: rad ,. rad
tx=. ({."1 ctr) + rad * sind ang
ty=. ({:"1 ctr) + rad * cosd ang
p=. rndint xy ,. wh ,. ,"2 tx ,"0 ty
2023 gppshape (<p) _1 } y
)
isipline=: 3 : 0
's t f e c p'=. y
if. *./ t = 0 do.
  isiline y return.
end.
p=. gpflip p
t=. t { PENPATTERN
if. (is1color e) *. 1 = #s do.
  gpbuf 5 2032,(,e),4 2022,s,PS_SOLID
  pos=. t linepattern"0 1 p
  gpbuf ,gpcount 2015,"1 pos
else.
  rws=. #p
  e=. rws $ citemize e
  s=. rws $ s
  t=. rws $ t
  pen=. e gppens s
  for_i. i.#p do.
    gpbuf i{pen
    pos=. (i{t) linepattern i{p
    gpbuf ,gpcount 2015,"1 pos
  end.
end.
)
isirect=: 3 : 0
p=. boxrs2wh gpflip _1 pick y
if. IFJAVA do.
  if. 0 = 1 pick y do.
    p=. 1 1 _2 _2 +"1 p
  end.
end.
y=. (<p) _1 } y
2031 gppshape y
)
isitext=: 3 : 0
't f a e c p'=. y

p=. gpflip p
t=. text2utf8 each boxopen t
if. a do.
  glfont f
  off=. <. -: a * {."1 glqextent &> t
  if. 1 e. 'angle900' E. f do.
    p=. p +"1 [ 0,.off
  elseif. 1 e. 'angle2700' E. f do.
    p=. p -"1 [ 0,.off
  elseif. do.
    p=. p -"1 off,.0
  end.
end.
gpbuf gpcount 2012,alfndx,f
if. is1color e do.
  gpbuf 5 2032,(,e),2 2040
  if. rank01 p do.
    gpbuf gpcount 2056,p
    gpbuf gpcount 2038,alfndx,>t
  else.
    t=. gpcount each 2038 ,each alfndx each t
    t=. (<"1 gpcount 2056 ,"1 p) ,each t
    gpbuf ; t
  end.
else.
  t=. gpcount each 2038 ,each alfndx each t
  t=. t ,each <"1 gpcount 2056 ,"1 p
  t=. (<"1 (5 2032 ,"1 e) ,"1 [ 2 2040) ,each t
  gpbuf ; t
end.
)
isimark_circle=: 4 : 0
s=. rndint x * 3
p=. (y - s) ,"1 >: +: s,s
gpbuf ,gpcount 2008 ,"1 p
)
isimark_diamond=: 4 : 0
s=. rndint x * 4
'x y'=. |: y
p=. (x-s),.y,.x,.(y+s),.(x+s),.y,.x,.y-s
gpbuf ,gpcount 2029 ,"1 p
)
isimark_line=: 4 : 0
'x y'=. , y
p=. >.(x--:KeyLen),(y--:KeyPen),<:KeyLen,KeyPen
gpbuf ,gpcount 2031 ,p
)
isimark_plus=: 4 : 0
s=. rndint 4 1 * x
p=. (y -"1 s) ,"1 +: s
s=. |. s
p=. p , (y -"1 s) ,"1 +: s
gpbuf ,gpcount 2031 ,"1 p
)
isimark_square=: 4 : 0
s=. rndint x * 3
p=. (y - s) ,"1 +: s,s
gpbuf ,gpcount 2031 ,"1 p
)
isimark_times=: 4 : 0
if. x = 1 do.
  p=. (y - 3) ,. y + 4
  q=. (y - "1 [ 3 _3) ,. y +"1 [ 4 _4
  p=. p, (p +"1 [ 0 1 _1 0), p + "1 [ 1 0 0 _1
  q=. q, (q +"1 [ 0 _1 _1 0), q +"1 [ 1 0 0 1
  gpbuf ,gpcount 2015 ,"1 p,q
else.
  s=. rndint _1 + 3 * x
  n=. rndint 2 * x
  p=. (y - s) ,. y + s
  q=. (y - "1 s * 1 _1) ,. y +"1 s * 1 _1
  gpbuf 4 2022,n,PS_SOLID
  gpbuf ,gpcount 2015 ,"1 p,q
end.
)
isimark_triangle=: 4 : 0
s=. rndint 2 * x
t=. rndint 4 * x
'x y'=. |: y
p=. rndint (x-t),.(y+s),.(x+t),.(y+s),.x,.y-t
gpbuf ,gpcount 2029 ,"1 p
)
PRINTP=: ''
isi_print=: 3 : 0
if. #PRINTP do. wd 'psel ',PRINTP,';pclose' end.
if. IFJENT do.
  wd 'pc print;cc g isiprint j6'
else.
  wd 'pc print;cc g isigraph'
end.
PRINTP=: wd 'qhwndp'
PRINTED=: 0
opt=. '"" "" "" orientation ',":ORIENTATION
glprint opt
)
print_g_print=: 3 : 0
'page pass'=. ". sysdata
select. pass
case. _1 do.
  PRINTP=: PRINTPXYWH=: ''
  wd 'pclose'
case. 0 do.
  glprintmore -.PRINTED
case. do.
  'Cw Ch'=: glqprintwh''
  isi_paintit isi_printwin''
  PRINTED=: 1
end.
)
isi_printwin=: 3 : 0
'pw ph mw mh'=. 4 {. glqprintpaper''
mrg=. 0 >. PRINTMARGIN - mw,(ph - mh + Ch),(pw - mw + Cw),mh
xywh=. (0 0,Cw,Ch) shrinkrect mrg
if. 0 = #PRINTWINDOW do.
  xywh
else.
  if. 4 ~: #PRINTWINDOW do.
    info 'PRINTWINDOW should be of form: x y wh' return.
  end.
  'x y w h'=. xywh
  'px py pw ph'=. PRINTWINDOW%1000
  fx=. x + px * w
  fy=. y + py * h
  fw=. (x-fx) + pw * w
  fh=. (y-fy) + ph * h
  fx,fy,fw,fh
end.
)
isi_bmp=: 3 : 0
if. #y do.
  arg=. qchop y
  num=. __ ". &.> arg
  msk=. __ e. &> num
  file=. > {. msk # arg
  wh=. >(-.msk) # num
  if. -. (#wh) e. 0 2 do.
    info 'invalid [w h] parameter in save bmp' return.
  end.
else.
  wh=. file=. ''
end.
file=. file,(0=#file)#ISI_DEFFILE
file=. jpath '.bmp' fext file
if. (2 = #wh) > wh -: Pw,Ph do.
  a=. cocreate''
  coinsert__a (,copath) coname''
  bmp=. isi_getbmpwh__a wh
  coerase a
else.
  bmp=. isi_getbmp''
end.
bmp writebmp file
)
isi_png=: 3 : 0
if. #y do.
  arg=. qchop y
  num=. __ ". &.> arg
  msk=. __ e. &> num
  file=. > {. msk # arg
  wh=. >(-.msk) # num
  if. -. (#wh) e. 0 2 do.
    info 'invalid [w h] parameter in save bmp' return.
  end.
else.
  wh=. file=. ''
end.
file=. file,(0=#file)#ISI_DEFFILE
file=. jpath '.png' fext file
if. (2 = #wh) > wh -: Pw,Ph do.
  a=. cocreate''
  coinsert__a (,copath) coname''
  bmp=. isi_getbmpwh__a wh
  coerase a
else.
  bmp=. isi_getbmp''
end.
bmp writepng file
)
isi_def=: 4 : 0
type=. x
file=. jpath ('.',type) fext (;qchop y),(0=#y) # ISI_DEFFILE
if. IFJNET do.
  writeimg_jnet_ (isi_getrgb'') ; file
else.
  (isi_getrgb'') writeimg file
end.
)
isi_defstr=: 4 : 0
type=. x
if. IFJNET do.
  putimg_jnet_ (isi_getrgb'') ; type
else.
  (isi_getrgb'') putimg type
end.
)
isi_emf=: 3 : 0
file=. jpath '.emf' fext (;qchop y),(0=#y) # ISI_DEFFILE
wd 'psel ',PFormhwnd
glsel PId
glfile file
glemfopen''
isi_paint''
glemfclose''
)
isi_getbmp=: 3 : 0
wd 'psel ',PFormhwnd
glsel PId
box=. 0 ". wd 'qchildxywhx ',PId
res=. glqpixels box
(3 2 { box) $ res
)
isi_getbmpwh=: 3 : 0
wd 'pc a owner;xywh 0 0 240 200;cc g isigraph rightmove bottommove;pas 0 0'
PFormhwnd=: wd 'qhwndp'
PId=: 'g'
wd 'setxywhx g 0 0 ',":y
isi_paint''
glpaint''
res=. isi_getbmp''
wd 'pclose'
res
)
isi_getrgb=: 3 : 0
wd 'psel ',PFormhwnd
glsel PId
box=. 0 ". wd 'qchildxywhx ',PId
if. IFJNET do.
  (3 2 { box) $ glqpixels box
else.
  (3 2 { box) $ 256 256 256 #: glqpixels box
end.
)
isi_jpg=: 3 : 0
file=. ''
qual=. 100
if. #y do.
  arg=. qchop y
  num=. __ ". &.> arg
  msk=. +./ &> num = &.> __
  file=. > {. msk # arg
  qual=. <. {. (>(-.msk) # num),qual
end.
file=. jpath '.jpg' fext file,(0=#file) # ISI_DEFFILE
rgb=. isi_getrgb''
if. IFJNET do.
  writeimg_jnet_ rgb ; file
else.
  rgb writeimg file
end.
)
isi_png=: 3 : 0
file=. ''
comp=. 9
if. #y do.
  arg=. qchop y
  num=. __ ". &.> arg
  msk=. +./ &> num = &.> __
  file=. > {. msk # arg
  comp=. <. {. (>(-.msk) # num),comp
end.
file=. jpath '.png' fext file,(0=#file) # ISI_DEFFILE
rgb=. isi_getrgb''
if. IFJNET do.
  writeimg_jnet_ rgb ; file
else.
  rgb writeimg file
end.
)
isi_save=: 3 : 0
if. Poutput ~: iISI do.
  msg=. 'First display an isigraph Plot.'
  info msg return.
end.
if. 0=#y do.
  isi_clip'' return.
end.
type=. tolower firstword y
if. IFJNET < (<type) e. ;: 'gif jpg png tif gifr jpgr pngr tifr' do.
  af=. jpath '~addons/media/platimg/platimg.ijs'
  if. -. flexist af do.
    info 'Save to ',type,' requires the platimg addon.' return.
  end.
  require af
end.
('isi_',type)~ (1+#type) }. y
)

isi_get=: 3 : 0
if. #y do.
  type=. tolower firstword y
  if. (<type) e. ;: 'gif jpg png tif' do.
    y=. type,'r ', (#type)}. y
  end.
end.
isi_save y
)
isi_gif=: 'gif' & isi_def
isi_tif=: 'tif' & isi_def
isi_pngr=: 'png' & isi_defstr
isi_jpgr=: 'jpg' & isi_defstr
isi_gifr=: 'gif' & isi_defstr
isi_tifr=: 'tif' & isi_defstr
isi_show=: 3 : 0
popen_isi''
isi_paint`]@.IFJNET ''
if. PShow=0 do.
  if. VISIBLE do.
    wd 'pshow ',PSHOW
  else.
    wd 'pshow sw_hide'
  end.
  wd 'ptop ',":PTop
  PShow=: 1
else.
  if. VISIBLE do.
    wd 'ptop'
  end.
end.
)
isi_paint=: 3 : 0
glsel PId
'Cw Ch'=: glqwh''
isi_paintit 0 0,Cw,Ch
)
isi_paintit=: 3 : 0
gpinit''
make iISI;y
ids=. 1 {"1 Plot
fns=. 'isi'&, each ids
dat=. 3 }."1 Plot
for_d. dat do.
  (>d_index{fns)~d
end.
gpapply''
)
coclass 'jzplot'
PDF_DEFSIZE=: 480 360
PDF_DEFFILE=: jpath '~temp/plot.pdf'
JPF_DEFFILE=: jpath '~temp/plot.jpf'
PDF_PENSCALE=: 0.4

CIDFONTS=: 'MSung-Light';'STSong-Light'
endian=. ({.a.)={. 1&(3!:4) 1
toucodem=: ''&,@(1&(3!:4))@(3&u:)@u:
toucoder=: ''&,@:,@:(|."1@(_2: ]\ 1&(3!:4)))@(3&u:)@u:
toucode1=: toucodem`toucoder@.(-.endian) f.
4!:55 <'endian'
jpf_getparms=: 3 : 0
(PDF_DEFSIZE;JPF_DEFFILE) output_parms y
)
pdf_boxrs2wh=: 3 : 0
a=. 2 {."1 y
b=. 2 }."1 y
(a <. b) ,"1 | a - b
)
pdf_getparms=: 3 : 0
(PDF_DEFSIZE;PDF_DEFFILE) output_parms y
)
pdf_dict=: 3 : 0
if. L. y do.
  s=. ; y ,each <LF
else.
  s=. y , (LF ~: {: y) # LF
end.
'<<',LF,s,'>>',LF
)
pdf_rotxy=: 3 : 0
if. ROT do.
  'px py'=. y
  (Sh-py),px
else.
  y
end.
)
pdf_rotxym=: 3 : 0
if. ROT do.
  'px py'=. |:y
  (Sh-py),.px
else.
  y
end.
)
pdf_wraptext=: 3 : 0
'BT ',y,' ET '
)
pdf_write=: 4 : 0
dat=. x
file=. y
while. _1 -: dat flwrite file do.
  msg=. 'Unable to write to file: ',file,LF,LF
  if. #d=. 1!:0 file do.
    msg=. msg, 'If the file is open in Adobe, close the file and try again.'
    if. 1 query msg do. return. end.
  else.
    info msg,'The file name is invalid.' return. end.
end.
if. VISIBLE do.
  viewpdf_j_ file
end.
)
bezierarc=: 3 : 0
'x y h a b'=. y
off=. 90
t1=. rfd 360 | a - off
t2=. rfd 360 | b - off
th=. 6 %~ 2p1 | t2 - t1
'c c1 s s1'=. (cos , sin) th,t1
x0=. x1=. 1 [ y0=. 0
'x3 y3'=. c,s
x2=. 3%~ (8*cos-:th)-x0+x3+3*x1
y2=. y3-(-x2-x3)%-tan th
y1=. 3%~ (8*sin-:th)-y0+y3+3*y2
r=. (x0,x1,x2,x3),:y0,y1,y2,y3
r=. r +/ . *~ (c1,-s1),:s1,c1
r=. r (+/ . *)^:(i.6)~ (c,-s),:s,c
,@|:"2 (x,y)+"2 h*r
)
PDF_FONTOBJ=: 0 : 0
<<
/Type /Font
/Subtype /Type1
/Name /FXX
>>
)
PDF_TRAILER=: 0 : 0
trailer
<<
/Size {z}
/Info 1 0 R
/Root 2 0 R
>>
startxref
)
pdf_build=: 3 : 0
PDFFontpages=: pdf_fontpages ''
pdf_wrap (pdf_header''),pdf_page y
)
pdf_creationdate=: 3 : 0
t=. '20', ; _2 {.each '0' ,each ": each <. 6!:0''
'/CreationDate (D:',t,')'
)
pdf_cidfont=: 4 : 0
txt=. LF;<;.2 ". toupper y -. '-'
msk=. 1 = #&> txt
txt=. msk<@;;._1 txt
txt=. (<'<<',LF) ,each txt ,each <'>>',LF
'a b c'=. txt
prev=. x { 3 + 0 0, +/\PDFFontpages
b=. b rplc '%prev';":prev
c=. c rplc '%prev';":prev+1
c=. c rplc '/Name /F';'/Name /F',":x
a;b;c
)
pdf_fonts=: 3 : 0
ndx=. 1 i.~ 'XX' E. PDF_FONTOBJ
hdr=. ndx {. PDF_FONTOBJ
ftr=. (ndx+2) }. PDF_FONTOBJ
r=. ''
for_f. PDFFonts do.
  if. f e. CIDFONTS do.
    r=. r, ( 1+f_index) pdf_cidfont >f
  else.
    fnt=. (": 1 + f_index),LF,'/BaseFont /', >f
    fnt=. fnt,LF,'/Encoding /WinAnsiEncoding'
    r=. r, <hdr, fnt, ftr
  end.
end.
)
pdf_fontpages=: 3 : 0
1 + 2 * PDFFonts e. CIDFONTS
)
pdf_header=: 3 : 0
t=. '/Title (Plot)'
a=. '/Author (',(9!:14''),')'
p=. '/Producer (J Plot)'
d=. pdf_creationdate''
tit=. pdf_dict t;a;p;d
pag=. ": 3 + +/ PDFFontpages
cat=. pdf_dict '/Type /Catalog',LF,'/Pages ',pag,' 0 R',LF
fnt=. pdf_fonts ''
tit;cat;fnt
)
pdf_page=: 3 : 0
kp=. 4 + +/ PDFFontpages
r=. '/Type /Pages',LF
r=. r, pdf_pageheader''
r=. r, '/MediaBox [',(pfmt Pxywh),']',LF
r=. r,'/Kids [',(":kp),' 0 R]',LF
r=. r, '/Count 1',LF
res=. pdf_dict r
r=. '/Type /Page',LF
r=. r,'/Parent ',(":kp-1),' 0 R',LF
r=. r,'/Contents ',(":kp+1),' 0 R',LF
res=. res ; pdf_dict r
t=. y
s=. '<< /Length ',(":#t),' >>',LF
res ,< s,'stream',LF,t,'endstream',LF
)
pdf_pageheader=: 3 : 0
r=. '/Resources',LF,'<<',LF,' /ProcSet [/PDF /Text]',LF
r=. r,' /Font <<',LF
fx=. ' /F'&, &> ": each 1 + i.#PDFFonts
px=. ' ',. ": &> 2 + +/\ PDFFontpages
r=. r, ,fx ,"1 px ,"1 ' 0 R',LF
r=. r,' >>',LF,'>>',LF
)
pdf_wrap=: 3 : 0
z=. ": 1 + #y
r=. '%PDF-1.3',LF
r=. r, '%', (a. {~128 + a. i. 'elmo'),LF
s=. 'xref',LF,'0 ',z,LF
s=. s,(10#'0'),' 65535 f ',LF

for_i. i.#y do.
  s=. s,(_10 {.!.'0' ": #r),' 00000 n ',LF
  c=. LF,(>i{y)
  r=. r,(":1+i),' 0 obj',c,'endobj',LF,LF
end.
ndx=. I. '{z}' E. PDF_TRAILER
tr=. (ndx {. PDF_TRAILER), z, (ndx+3) }. PDF_TRAILER
r,s,LF,tr,(":#r),LF,'%%EOF'
)
MSUNGLIGHT=: 0 : 0
/Type /FontDescriptor
/FontName /MSung-Light
/Flags 5
/FontBBox [ -260 -174 1043 826 ]
/MissingWidth 600
/StemV 93
/ItalicAngle 0
/CapHeight 625
/Ascent 826
/Descent -174

/Type /Font
/Subtype /CIDFontType0
/BaseFont /MSung-Light
/FontDescriptor %prev 0 R
/CIDSystemInfo << /Registry (Adobe)/Ordering (CNS1)/Supplement 4 >>
/DW 1200
/W [ 1 255 600 ]

/Type /Font
/Subtype /Type0
/Name /F
/BaseFont /MSung-Light
/DescendantFonts [ %prev 0 R ]
/Encoding /UniCNS-UTF16-H
)
STSONGLIGHT=: 0 : 0
/Type /FontDescriptor
/FontName /STSong-Light
/Flags 5
/FontBBox [ -260 -174 1043 826 ]
/MissingWidth 600
/StemV 93
/ItalicAngle 0
/CapHeight 625
/Ascent 826
/Descent -174

/Type /Font
/Subtype /CIDFontType0
/BaseFont /STSong-Light
/FontDescriptor %prev 0 R
/CIDSystemInfo << /Registry (Adobe)/Ordering (GB1)/Supplement 4 >>
/DW 1200
/W [ 1 255 600 ]

/Type /Font
/Subtype /Type0
/Name /F
/BaseFont /STSong-Light
/DescendantFonts [ %prev 0 R ]
/Encoding /UniGB-UTF16-H
)
pdf_circle=: 3 : 0
'x y r'=. y
arc=. _2 [\ 0 1 2 1 1 2 1 0 { 0 1, 4r3*<:%:2
arr=. |."1 arc *"1 [ _1 1
mat=. _4 ,\ arc,arr,-arc,arr
(mat * r) + ($mat) $ x,y
)

pdf_colorstroke=: 3 : 0
(": y % 255),"1 ' RG '
)
pdf_colorfill=: 3 : 0
(": y % 255),"1 ' rg '
)
pdf_color=: 3 : 0
clr=. ": y % 255
clr ,"1 ' RG ' ,"1 clr ,"1 ' rg '
)
pdf_makelines=: 3 : 0
if. 2 > #$y do.
  ,: (pfmt 2 {. y),' m ',,(pfmt _2 [\ 2 }. y) ,"1 ' l '
else.
  mov=. (pfmt 2 {."1 y) ,"1 ' m '
  lns=. ,"2 (pfmt _2 [\"1 [ 2 }."1 y) ,"1 ' l '
  mov,.lns
end.
)
pdf_pens=: 4 : 0
(pdf_color x) ,"1 (":,.PDF_PENSCALE*y) ,"1 ' w '
)
pdf_pen=: 4 : 0
(pdf_color ,x), (":PDF_PENSCALE*y) ,' w '
)
pdf_lines=: 3 : 0
(pdf_makelines y) ,"1 ' S'
)
pdf_text=: 4 : 0
0 pdf_text y
:
'fnt clr txt pos align rot und'=. y

clr=. pdf_color clr

txt=. ,each boxopen txt
if. und +. align e. iCENTER, iRIGHT do.
  len=. fnt pgetstringlen txt
end.
if. x do.
  txt=. toucode1@(7&u:) each txt
else.
  tx=. 0$<''
  for_t. txt do.
    if. 0-: t1=. 7&u: ::0: t=. >t do.
      tx=. tx, <u2a t
    else.
      if. *./ 256 > 3&u: t1 do.
        tx=. tx, < 1&u: t1
      else.
        tx=. tx, <u2a t
      end.
    end.
  end.
  txt=. tx
end.

txt=. pdfesc each txt
select. rot

case. 0 do.
  select. align
  case. iCENTER do.
    pos=. pos -"1 (-:len),.0
  case. iRIGHT do.
    pos=. pos -"1 len,.0
  end.
  txt=. (<' Tm (') ,each txt ,each <') Tj '
  res=. clr,(<"1 '1 0 0 1 ' ,"1 pfmt pos >. 0) ,&> txt
case. 1 do.
  select. align
  case. iCENTER do.
    pos=. pos -"1 [ 0,.-:len
  case. iRIGHT do.
    pos=. pos -"1 [ 0,.len
  end.
  txt=. (<' Tm (') ,each txt ,each <') Tj '
  res=. clr,(<"1 '0 1 -1 0 ' ,"1 pfmt pos >. 0) ,&> txt
case. 2 do.
  select. align
  case. iCENTER do.
    pos=. pos +"1 [ 0,.-:len
  case. iRIGHT do.
    pos=. pos +"1 [ 0,.len
  end.
  txt=. (<' Tm (') ,each txt ,each <') Tj '
  res=. clr,(<"1 '0 -1 1 0 ' ,"1 pfmt pos >. 0) ,&> txt
end.
if. -. und do. res;'' return. end.
pos=. citemize pos
len=. , len

'off lwd'=. getunderline fnt
lin=. clr,' ',(":lwd) ,' w '

select. rot
case. 0 do.
  bgn=. 0 >. pos -"1 [ 0,.-off
  end=. bgn + len,.0
case. 1 do.
  bgn=. 0 >. pos -"1 off,.0
  end=. bgn + 0,.len
case. 2 do.
  bgn=. 0 >. pos +"1 off,.0
  end=. bgn - 0,.len
end.

lin=. lin,(pdf_makelines bgn,.end) ,"1 ' b'
res;lin

)
pdfcircle=: 3 : 0
'v s f e c p'=. y
if. isempty c do.
  if. is1color e do.
    pbuf e pdf_pen v
    clr=. (#p) $ citemize pdf_color e
    for_i. i.#p do.
      pbuf i{clr
      pos=. pdf_circle i{p
      mov=. (pfmt 2 {. {. pos) , ' m '
      pbuf mov
      crv=. (pfmt 2 }."1 pos) ,"1 ' c '
      pbuf crv
      pbuf 'S'
    end.
  end.
end.
)
pdfdot=: 3 : 0
'v s f e c p'=. y
pbuf e pdf_pen v
for_i. i.#p do.
  pos=. pdf_circle (i{p), v
  pbuf (pfmt 2 {. {. pos) , ' m '
  pbuf (pfmt 2 }."1 pos) ,"1 ' c '
  pbuf 'B'
end.
)
pdffxywh=: 3 : 0
p=. _1 pick y
if. #p do.
  PDFClip=: >: PDFClip
  pbuf 'q ',(":p),' re W n'
else.
  if. PDFClip do.
    PDFClip=: <: PDFClip
    pbuf 'Q'
  end.
end.
)
pdfline=: 3 : 0
'v s f e c p'=. y
if. (is1color e) *. 1 = #s do.
  pbuf e pdf_pen v
  pbuf pdf_lines p
else.
  rws=. #p
  e=. rws $ citemize e
  v=. rws $ v
  pen=. e pdf_pens v
  pbuf pen ,. pdf_lines p
end.
)
pdfmarker=: 3 : 0
's m f e c p'=. y
pbuf e pdf_pen 1
s ('pdfmark_',m)~ citemize p
)
pdfpie=: 3 : 0
'v s f e c p'=. y
pbuf e pdf_pen v
clr=. (pdf_colorfill c),"1 pdf_colorstroke e
clr=. (#p) $ citemize clr
for_i. i.#p do.
  pbuf i{clr
  pos=. bezierarc i{p
  pbuf (pfmt 2{.i{p), ' m ',(pfmt 2{.{.pos),' l '
  pbuf (pfmt 2}."1 pos),"1 ' c '
  pbuf 'b'
end.
)
pdfpline=: 3 : 0
'v s f e c p'=. y
if. *./ s = 0 do.
  pdfline y return.
end.
s=. s { PENPATTERN
if. (is1color e) *. 1 = #v do.
  pos=. s linepattern"0 1 p
  pdfline (<pos) _1 } y
else.
  rws=. #p
  e=. rws $ citemize e
  v=. rws $ v
  s=. rws $ s
  for_i. i.#p do.
    pos=. (i{s) linepattern i{p
    pdfline (i{v);0;0;(i{e);0;pos
  end.
end.
)
pdfpoly=: 3 : 0
'v s f e c p'=. y
if. v=0 do. e=. c end.
c=. citemize c
e=. citemize e
pbuf ({.e) pdf_pen v
pos=. (pdf_makelines p) ,"1 (v=0) pick ' b';' h f'
if. (1 = # ~.e) *. 1 = # ~.c do.
  pbuf (pdf_colorfill {.c), pdf_colorstroke {.e
  pbuf pos
else.
  c=. pos cmatch pdf_colorfill c
  e=. pos cmatch pdf_colorstroke e
  pbuf c,.e,.pos
end.
)
pdfrect=: 3 : 0
'v s f e c p'=. y
p=. pdf_boxrs2wh p
if. v=0 do.
  clr=. (pdf_colorfill c),"1 pdf_colorstroke c
else.
  pbuf e pdf_pen v
  clr=. (pdf_colorfill c),"1 pdf_colorstroke e
end.
pbuf clr ,"1 (pfmt p) ,"1 ' re B'
)
pdftext=: 3 : 0
't f a e c p'=. y
'fnx fst fsz fan und'=. f
rot=. 3 | 0 90 270 i. fan
asc=. pgetascender f
fnm=. <getfntname fnx,fst
PDFFonts=: ~. PDFFonts,fnm
fnx=. 1 + PDFFonts i. fnm
txt=. '/F',(":fnx),' ',(": getplotfontsize f),' Tf '
select. rot
case. 0 do. p=. 0 >. p -"1 [ 0, asc
case. 1 do. p=. p +"1 asc, 0
case. 2 do. p=. p -"1 asc, 0
end.

lin=. ''
if. is1color e do.
  'rtxt rlin'=. (fnm e. CIDFONTS) pdf_text f;e;t;p;a;rot;und
  txt=. txt,,LF ,"1 rtxt
  lin=. lin,rlin,(0<#rlin)#LF
else.
  for_i. i.#e do.
    'rtxt rlin'=. (fnm e. CIDFONTS) pdf_text f;(i{e);(i{t);(i{p);a;rot;und
    txt=. txt,,LF ,"1 rtxt
    lin=. lin,rlin,(0<#rlin)#LF
  end.
end.
pbuf pdf_wraptext txt
pbuf rlin
)
PDFESC0=: LF,CR,TAB,FF,(8{a.),'\()'
PDFESC1=: 'nrtfb\()'
PDFASC=: PDFESC0,32}.127{.a.
pdfesc=: 3 : 0
txt=. y
msk=. txt e. PDFESC0
if. 1 e. msk do.
  ndx=. , ((I. msk) + i. +/ msk) +/ 0 1
  new=. ,'\',.PDFESC1 {~ PDFESC0 i. msk#txt
  txt=. new ndx } (1 + msk) # txt
end.
msk=. -. txt e. PDFASC
if. 1 e. msk do.
  new=. 1 ": 8 8 8 #: a. i. msk # txt
  ndx=. ,((I. msk) + 3 * i. +/ msk) +/ i. 4
  txt=. (,'\',"1 new) ndx } (1 + msk * 3) # txt
end.

txt
)
pdfmark_circle=: 4 : 0
s=. 3.5 * x
p=. y ,. s
for_d. p do.
  pos=. pdf_circle d
  pbuf (pfmt 2 {. {. pos) , ' m '
  pbuf (pfmt 2 }."1 pos) ,"1 ' c '
  pbuf 'B'
end.
)
pdfmark_diamond=: 4 : 0
p=. 8 $"1 y
d=. (3.5 * x) * _1 0 0 1 1 0 0 _1
p=. p +"1 d
pbuf (pdf_makelines p) ,"1 ' b'
)
pdfmark_line=: 4 : 0
'x y'=. , y
p=. (x--:KeyLen),(y--:KeyPen),KeyLen,KeyPen
pbuf (pfmt p) ,"1 ' re B'
)
pdfmark_plus=: 4 : 0
s=. 0, x * 4
t=. |. s
p=. (y -"1 t) ,. y +"1 t
p=. p, (y -"1 s) ,. y +"1 s
pbuf (":PDF_PENSCALE * 5 * x) , ' w '
pbuf (pdf_makelines p) ,"1 ' b'
)
pdfmark_square=: 4 : 0
s=. 3 * x
p=. (y - s) ,"1 +: s,s
pbuf (pfmt p) ,"1 ' re B'
)
pdfmark_times=: 4 : 0
s=. _1 + 3 * x
p=. y
r=. (p - s) ,. p + s
s=. (p +"1 s * 1 _1) ,. p +"1 s * _1 1
pbuf (":PDF_PENSCALE * 5 * x) , ' w '
pbuf (pdf_makelines r,s) ,"1 ' b'
)
pdfmark_triangle=: 4 : 0
p=. 6 $"1 y
d=. (4 * x) * , (sin,.cos) 2p1 * 0 1 2 % 3
p=. p +"1 d
pbuf (pdf_makelines p) ,"1 ' b'
)
pdf_get=: 3 : 0
'size file ctx'=. 3{. pdf_getparms y
pdf_make size
)
pdf_jpf=: 3 : 0
'size file ctx'=. 3{. jpf_getparms y
txt=. pdf_make size
size=. ":size
fnt=. ; PDFFonts ,each ','
top=. ; (size;fnt) ,each ';'
txt=. top,LF,txt
res=. txt flwritenew file
if. _1 -: res do.
  info 'Unable to write to file: ',file
end.
)
pdf_show=: 3 : 0
'size file ctx'=. 3{. pdf_getparms y
res=. pdf_make size
res=. pdf_build res
res pdf_write file
)
pdf_make=: 3 : 0
make iPDF;0 0,y
fns=. 'pdf'&, each 1 {"1 Plot
dat=. 3 }."1 Plot
buf=: ''
PDFFonts=: ,<'Helvetica'
PDFClip=: 0
for_d. dat do.
  (>d_index{fns)~d
end.
dtbs buf
)
coclass 'jzplot'
qtc_show=: 3 : 0
'size file'=. 2{. qtc_getparms y
qtc_make file;size
if. VISIBLE do.
  viewimage_j_ file
end.
)
qtc_make=: 3 : 0
'file size'=. y
make iQTC;0 0,size
ids=. 1 {"1 Plot
fns=. 'qt'&, each ids
dat=. 3 }."1 Plot
glinit_jglc_ size
qt_gpinit''
'Cw Ch'=: size
for_d. dat do.
  (>d_index{fns)~d
end.
qt_gpapply''
glsavefile_jglc_ file
glfree_jglc_ ''
)
qtc_getparms=: 3 : 0
(QT_DEFSIZE;QT_DEFFILE,'.png') output_parms y
)
coclass 'jzplot'
QT_DEFSIZE=: 480 360
QT_DEFFILE=: jpath '~temp/plot'
QT_PENSCALE=: 0.4
fext=: 4 : 0
f=. deb y
f, (-. x -: (-#x) {. f) # x
)
gettemp=: 3 : 0
p=. jpath '~temp/'
d=. 1!:0 p,'*.',y
a=. 0, {.@:(0&".)@> _4 }. each {."1 d
a=. ": {. (i. >: #a) -. a
p,a,'.',y
)
qtfontdesc=: 3 : 0
'ind fst siz ang und'=. y
'ita bld'=. 2 2 #: fst
sty=. (bld#' bold'),(ita#' italic'),und#' underline'
if. ' ' e. nam=. ind pick QTFONTNAMES do. nam=. '"', nam, '"' end.
nam,' ',(":siz),sty
)

qt_getsize=: 3 : 0
if. Poutput=iQTC do. glqwh_jglc_'' return. end.
if. -. wdishandle :: 0: ": PFormhwnd do. '' return. end.
wd 'psel ', ":PFormhwnd
s=. wdqchildxywh ::0: PId
if. s -: 0 0 0 0 do. '' return. end.
2 3 { s
)
output_parms=: 4 : 0
'size file'=. x
if. #y do.
  prm=. qchop y
  select. #prm
  case. 1 do.
    file=. 0 pick prm
  case. 2 do.
    size=. 0 ".&> prm
  case. 3 do.
    file=. 0 pick prm
    size=. 0 ". &> _2 {. prm
    if. 0 e. size do.
      size=. 0 ". &> 2 {. prm
      file=. 2 pick prm
    end.
  end.
else.
  if. #sz=. qt_getsize'' do.
    size=. sz
  end.
end.
size;file
)
qt_clip=: 3 : 0
if. -. IFWIN do.
  info 'Save plot to clipboard is only available in Windows'
  return.
end.
f=. gettemp 'emf'
qt_emf dquote f
wd 'clipcopyx enhmetafile ',dquote f
1!:55 <f
)
qt_gpcount=: ,"1~ 1 + [: {: 1 , $
qt_gpcut=: 3 : 0
r=. ''
while. #y do.
  n=. {. y
  if. n=0 do.
    info 'zero length segment at: ',":#;r
    r
    return.
  end.
  r=. r, < n {. y
  y=. n }. y
end.
r
)
qt_gpbuf=: 3 : 0
assert. 2 > #$y
buf=: buf,y
)
qt_gpapply=: 3 : 0
rc=. glcmds`glcmds_jglc_@.(Poutput=iQTC) buf
assert. 0=rc [ 'glcmds buf'
buf=: $0
)
qt_gpflip=: flipxy @ rndint
qt_gpfliplast=: 3 : 0
(<qt_gpflip _1 pick y) _1 } y
)
qt_gpinit=: 3 : 0
buf=: bufdef=: $0
)
qt_gpbrushnull=: 3 : '2 2005'
qt_gppens=: 4 : 0
y=. rndint y
5 2032,"1 x,"1 [ 4 2022,"1 y,.(y~:0){PS_NULL,PS_SOLID
)
qt_gppen=: 4 : 0
y=. rndint y
5 2032,(,x),4 2022,y,(y~:0){PS_NULL,PS_SOLID
)
qt_gppens1=: 3 : 0
5 2032,"1 y,"1 [ 4 2022 1,PS_SOLID
)
qt_gppen1=: 3 : 0
5 2032,(,y),4 2022 1,PS_SOLID
)
qt_gppenbrush1=: 3 : 0
5 2032,(,y),4 2022 1,PS_SOLID,2 2004
)
qt_gppixel=: 3 : 0
's t f e c p'=. y
p=. qt_gpcount 2024 ,"1 qt_gpflip p
if. is1color e do.
  qt_gpbuf e qt_gppen 1
  qt_gpbuf ,p
else.
  rws=. #p
  e=. rws $ citemize e
  pen=. e qt_gppens 1
  qt_gpbuf ,pen ,. p
end.
)
qt_gppline=: 4 : 0
's t f e c p'=. y
if. (is1color e) *. 1 = #s do.
  qt_gpbuf (,e) qt_gppen s
  qt_gpbuf ,qt_gpcount x,"1 p
else.
  rws=. #p
  e=. rws $ citemize e
  s=. rws $ s
  pen=. e qt_gppens s
  qt_gpbuf ,pen ,. qt_gpcount x,"1 p
end.
)
qt_gppshape=: 4 : 0
'v s f e c p'=. y

if. v=0 do. e=. c end.

if. is1color e do.
  qt_gpbuf e qt_gppen v
  if. isempty c do.
    qt_gpbuf qt_gpbrushnull''
    qt_gpbuf ,qt_gpcount x,"1 p
  elseif. is1color c do.
    qt_gpbuf 5 2032,(,c),2 2004
    qt_gpbuf ,qt_gpcount x,"1 p
  elseif. do.
    c=. (#p) $ c
    clr=. 5 2032 ,"1 c ,"1 [ 2 2004
    qt_gpbuf , clr ,. qt_gpcount x,"1 p
  end.
else.
  e=. (#p) $ e
  e=. e qt_gppens v
  if. isempty c do.
    qt_gpbuf qt_gpbrushnull''
    qt_gpbuf , e ,. qt_gpcount x,"1 p
  elseif. is1color c do.
    qt_gpbuf 5 2032,(,c),2 2004
    qt_gpbuf , e ,. qt_gpcount x,"1 p
  elseif. do.
    c=. (#p) $ c
    clr=. 5 2032 ,"1 c ,"1 [ 2 2004
    qt_gpbuf , e ,. clr ,. qt_gpcount x,"1 p
  end.

end.
)
qtarc=: 3 : '2001 qt_gppline qt_gpfliplast y'
qtline=: 3 : '2015 qt_gppline qt_gpfliplast y'
qtpie=: 3 : '2023 qt_gppshape qt_gpfliplast y'
qtpoly=: 3 : '2029 qt_gppshape qt_gpfliplast y'
qtcircle=: 3 : 0
p=. _1 pick y
ctr=. qt_gpflip 0 1 {"1 p
rad=. rndint 2 {"1 p
xy=. ctr - rad
wh=. +: rad ,. rad
p=. xy ,. wh
2008 qt_gppshape (<p) _1 } y
)
qtdot=: 3 : 0
'v s f e c p'=. y
select. v
case. 1 do.
  qt_gppixel y
case. 2 do.
  p=. qt_gpflip p
  p=. (p-1) ,"1 [ 2 2
  dat=. 1;0;0;e;e;p
  2031 qt_gppshape dat
case. 3 do.
  h=. (p-"1[1 0) ,. p+"1[2 0
  v=. (p-"1[0 1) ,. p+"1[0 2
  qtline 1;0;0;e;e;h,v
case. do.
  o=. >. -: v
  p=. p ,"1 v,.v
  qtcircle 1;0;0;e;e;p
end.
)
qtfxywh=: 3 : 0
p=. _1 pick y
if. #p do.
  'x y w h'=. p
  xy=. _1 + <. x,Ch-y+h
  wh=. 2 + >. w,h
  qt_gpbuf 6 2078,xy,wh
else.
  qt_gpbuf 2 2079
end.
)
qtmarker=: 3 : 0
's m f e c p'=. y
p=. qt_gpflip p
qt_gpbuf qt_gppenbrush1 e
s ('qtmark_',m)~ p
)
qtpie=: 3 : 0
p=. _1 pick y
ctr=. qt_gpflip 0 1 {"1 p
rad=. 2 {"1 p
ang=. 3 4 {"1 p
xy=. ctr - rad
wh=. +: rad ,. rad
tx=. ({."1 ctr) + rad * sind ang
ty=. ({:"1 ctr) + rad * cosd ang
p=. rndint xy ,. wh ,. ,"2 tx ,"0 ty
2023 qt_gppshape (<p) _1 } y
)
qtpline=: 3 : 0
's t f e c p'=. y
if. *./ t = 0 do.
  qtline y return.
end.
p=. qt_gpflip p
t=. t { PENPATTERN
if. (is1color e) *. 1 = #s do.
  qt_gpbuf 5 2032,(,e),4 2022,s,PS_SOLID
  pos=. t linepattern"0 1 p
  qt_gpbuf ,qt_gpcount 2015,"1 pos
else.
  rws=. #p
  e=. rws $ citemize e
  s=. rws $ s
  t=. rws $ t
  pen=. e qt_gppens s
  for_i. i.#p do.
    qt_gpbuf i{pen
    pos=. (i{t) linepattern i{p
    qt_gpbuf ,qt_gpcount 2015,"1 pos
  end.
end.
)
qtrect=: 3 : 0
p=. boxrs2wh^:1 qt_gpflip _1 pick y
y=. (<p) _1 } y
2031 qt_gppshape y
)
qttext=: 3 : 0

't f a e c p'=. y

degree0=. 3{f
f=. qtfontdesc^:(0={.0#f) f
p=. qt_gpflip p
t=. text2utf8 each boxopen t
if. a do.
  glfontextent`glfontextent_jglc_@.(Poutput=iQTC) f
  off=. <. -: a * {."1 wh=. glqextent`glqextent_jglc_@.(Poutput=iQTC) &> t
  if. (90=degree0)+.(1 e. 'angle900' E. f) do.
    p=. p + "1 <. (0.2*{:wh),.off
  elseif. (270=degree0)+.(1 e. 'angle2700' E. f) do.
    p=. p - "1 <. (0.2*{:wh),.off
  elseif. do.
    p=. p -"1 off,. 0
  end.
end.
'face size style degree'=. parseFontSpec f
qt_gpbuf qt_gpcount 2312,(<.size*10),style,(<.degree0*10),alfndx,face
if. is1color e do.
  qt_gpbuf 5 2032,(,e),2 2040
  if. rank01 p do.
    qt_gpbuf qt_gpcount 2056,p
    qt_gpbuf qt_gpcount 2038,alfndx,>t
  else.
    t=. qt_gpcount each 2038 ,each alfndx each t
    t=. (<"1 qt_gpcount 2056 ,"1 p) ,each t
    qt_gpbuf ; t
  end.
else.
  t=. qt_gpcount each 2038 ,each alfndx each t
  t=. t ,each <"1 qt_gpcount 2056 ,"1 p
  t=. (<"1 (5 2032 ,"1 e) ,"1 [ 2 2040) ,each t
  qt_gpbuf ; t
end.

)
parseFontname=: 3 : 0
font=. ' ',y
b=. (font=' ') > ~:/\font='"'
a: -.~ b <@(-.&'"');._1 font
)
FontStyle=: ;:'regular bold italic underline strikeout'
parseFontSpec=: 3 : 0
'ns styleangle'=. 2 split parseFontname y
'face size'=. ns
size=. 12". size
style=. FontStyle i. tolower each styleangle
style=. <.+/2^<:style #~ style e. i.#FontStyle
if. 1 e. an=. ('angle'-:5&{.)&> styleangle do.
  degree=. 10%~ 0". 5}.>(an i. 1){styleangle
else.
  degree=. 0
end.
face;size;style;degree
)
qtmark_circle=: 4 : 0
s=. rndint x * 3
p=. (y - s) ,"1 >: +: s,s
qt_gpbuf ,qt_gpcount 2008 ,"1 p
)
qtmark_diamond=: 4 : 0
s=. rndint x * 4
'x y'=. |: y
p=. (x-s),.y,.x,.(y+s),.(x+s),.y,.x,.y-s
qt_gpbuf ,qt_gpcount 2029 ,"1 p
)
qtmark_line=: 4 : 0
'x y'=. , y
p=. >.(x--:KeyLen),(y--:KeyPen),<:KeyLen,KeyPen
qt_gpbuf ,qt_gpcount 2031 ,p
)
qtmark_plus=: 4 : 0
s=. rndint 4 1 * x
p=. (y -"1 s) ,"1 +: s
s=. |. s
p=. p , (y -"1 s) ,"1 +: s
qt_gpbuf ,qt_gpcount 2031 ,"1 p
)
qtmark_square=: 4 : 0
s=. rndint x * 3
p=. (y - s) ,"1 +: s,s
qt_gpbuf ,qt_gpcount 2031 ,"1 p
)
qtmark_times=: 4 : 0
if. x = 1 do.
  p=. (y - 3) ,. y + 4
  q=. (y - "1 [ 3 _3) ,. y +"1 [ 4 _4
  p=. p, (p +"1 [ 0 1 _1 0), p + "1 [ 1 0 0 _1
  q=. q, (q +"1 [ 0 _1 _1 0), q +"1 [ 1 0 0 1
  qt_gpbuf ,qt_gpcount 2015 ,"1 p,q
else.
  s=. rndint _1 + 3 * x
  n=. rndint 2 * x
  p=. (y - s) ,. y + s
  q=. (y - "1 s * 1 _1) ,. y +"1 s * 1 _1
  qt_gpbuf 4 2022,n,PS_SOLID
  qt_gpbuf ,qt_gpcount 2015 ,"1 p,q
end.
)
qtmark_triangle=: 4 : 0
s=. rndint 2 * x
t=. rndint 4 * x
'x y'=. |: y
p=. rndint (x-t),.(y+s),.(x+t),.(y+s),.x,.y-t
qt_gpbuf ,qt_gpcount 2029 ,"1 p
)
PRINTP=: ''
qt_print=: 3 : 0
if. PRINTP do. wd 'psel ',(":PRINTP),';pclose' end.
wd 'pc print;cc g canvas'
PRINTP=: wdqhwndp''
PRINTED=: 0
opt=. '"" "" "" orientation ',":ORIENTATION
glprint opt
)
print_g_print=: 3 : 0
'page pass'=. ". sysdata
select. pass
case. _1 do.
  PRINTP=: PRINTPXYWH=: 0
  wd 'pclose'
case. 0 do.
  glprintmore -.PRINTED
case. do.
  'Cw Ch'=: glqprintwh''
  qt_paintit qt_printwin''
  PRINTED=: 1
end.
)
qt_printwin=: 3 : 0
'pw ph mw mh'=. 4 {. glqprintpaper''
mrg=. 0 >. PRINTMARGIN - mw,(ph - mh + Ch),(pw - mw + Cw),mh
xywh=. (0 0,Cw,Ch) shrinkrect mrg
if. 0 = #PRINTWINDOW do.
  xywh
else.
  if. 4 ~: #PRINTWINDOW do.
    info 'PRINTWINDOW should be of form: x y wh' return.
  end.
  'x y w h'=. xywh
  'px py pw ph'=. PRINTWINDOW%1000
  fx=. x + px * w
  fy=. y + py * h
  fw=. (x-fx) + pw * w
  fh=. (y-fy) + ph * h
  fx,fy,fw,fh
end.
)
QT_SAVES=: (,,&'r'each) ;: 'bmp jpg png tif'
qt_bmp=: 3 : 0
if. #y do.
  arg=. qchop y
  num=. __ ". &.> arg
  msk=. __ e. &> num
  file=. > {. msk # arg
  wh=. >(-.msk) # num
  if. -. (#wh) e. 0 2 do.
    info 'invalid [w h] parameter in save bmp' return.
  end.
else.
  wh=. file=. ''
end.
file=. 'bmp' qt_getfile file
if. (2 = #wh) > wh -: Pw,Ph do.
  a=. cocreate''
  coinsert__a (,copath) coname''
  bitmap=. qt_getbitmapwh__a wh
  coerase a
else.
  bitmap=. qt_getbitmap''
end.
bitmap writebmp file
)

qt_png=: 3 : 0
if. #y do.
  arg=. qchop y
  num=. __ ". &.> arg
  msk=. __ e. &> num
  file=. > {. msk # arg
  wh=. >(-.msk) # num
  if. -. (#wh) e. 0 2 do.
    info 'invalid [w h] parameter in save png' return.
  end.
else.
  wh=. file=. ''
end.
file=. 'png' qt_getfile file
if. (2 = #wh) > wh -: Pw,Ph do.
  a=. cocreate''
  coinsert__a (,copath) coname''
  bitmap=. qt_getbitmapwh__a wh
  coerase a
else.
  bitmap=. qt_getbitmap''
end.
bitmap writepng file
)
qt_def=: 4 : 0
file=. x qt_getfile ;qchop y
(qt_getrgb'') qt_writeimg file
)
qt_defstr=: 4 : 0
type=. x
(qt_getrgb'') putimg type
)
qt_get=: 3 : 0
if. #y do.
  type=. tolower firstword y
  if. (<type) e. ;: 'gif jpg png tif' do.
    y=. type,'r ', (#type)}. y
  end.
end.
qt_save y
)
qt_getbitmap=: 3 : 0
wd 'psel ',": PFormhwnd
glsel PId
box=. wdqchildxywh PId
res=. glqpixels box
(3 2 { box) $ res
)
qt_getbitmapwh=: 3 : 0
wd 'pc a owner;wh 480 400;cc g canvas;pas 0 0'
PFormhwnd=: wdqhwndp''
PId=: 'g'
wd 'set g wh ',":y
wd 'pshow'
glpaint''
res=. qt_getbitmap''
wd 'pclose'
res
)
qt_getfile=: 4 : 0
jpath ('.',x) fext y,(0=#y) # QT_DEFFILE
)
qt_getrgb=: 3 : 0
wd 'psel ',": PFormhwnd
glsel PId
box=. wdqchildxywh PId
(3 2 { box) $ 256 256 256 #: glqpixels box
)
qt_jpg=: 3 : 0
file=. ''
qual=. 100
if. #y do.
  arg=. qchop y
  num=. __ ". &.> arg
  msk=. +./ &> num = &.> __
  file=. > {. msk # arg
  qual=. <. {. (>(-.msk) # num),qual
end.
file=. 'jpg' qt_getfile file
rgb=. qt_getrgb''
rgb qt_writeimg file
)
qt_png=: 3 : 0
file=. ''
comp=. 9
if. #y do.
  arg=. qchop y
  num=. __ ". &.> arg
  msk=. +./ &> num = &.> __
  file=. > {. msk # arg
  comp=. <. {. (>(-.msk) # num),comp
end.
file=. 'png' qt_getfile file
rgb=. qt_getrgb''
rgb qt_writeimg file
)
qt_save=: 3 : 0
if. Poutput ~: iQT do.
  msg=. 'First display a Plot.'
  info msg return.
end.
if. 0=#y do.
  qt_clip'' return.
end.
type=. tolower firstword y
if. (<type) e. QT_SAVES do.
  ('qt_',type)~ (1+#type) }. y
else.
  info 'Save to type not supported:',type
end.
)
qt_writeimg=: 4 : '(256 #. 255 ,"0 1 x) writeimg_jqtide_ y'
qt_gif=: 'gif' & qt_def
qt_tif=: 'tif' & qt_def
qt_pngr=: 'png' & qt_defstr
qt_jpgr=: 'jpg' & qt_defstr
qt_gifr=: 'gif' & qt_defstr
qt_tifr=: 'tif' & qt_defstr
qt_show=: 3 : 0
popen_qt y
glpaintx''
if. 0~: 4!:0 <'VISIBLE' do. '' return. end.
if. PShow=0 do.
  if. VISIBLE do.
    wd 'pshow ',PSHOW
  else.
    wd 'pshow hide'
  end.
  wd 'ptop ',":PTop
  PShow=: 1
else.
  if. VISIBLE do.
    wd 'ptop'
  end.
end.
''
)
qt_paint=: 3 : 0
selectpid''
'Cw Ch'=: glqwh''
qt_paintit 0 0,Cw,Ch
0
)
qt_paintit=: 3 : 0
qt_gpinit''
try.
  make iQT;y
catch.
  PCmd=: Plot=: i.0 0
  info ({.~i.&LF) 13!:12''
end.
if. 0=#Plot do. return. end.
ids=. 1 {"1 Plot
fns=. 'qt'&, each ids
dat=. 3 }."1 Plot
for_d. dat do.
  (>d_index{fns)~d
end.
qt_gpapply''
)
coclass 'jzplot'
plot_area=: 3 : 0

'x y'=. 2 {. y { Data

if. 1 e. 0 > ,y do.
  signal 'area plot y-values should not be negative'
end.

x=. get01x x
y=. get01y y
clr=. getitemcolor #y

for_d. y do.
  pts=. fitgrafxy x makearea d
  drawpoly iDATA;EDGECOLOR;EDGESIZE;(d_index{clr);,pts
end.

)
makearea=: 4 : 0
(x ,. y),1 0,0 0,:0,{.y
)
plot_bar=: 3 : 0
'x y'=. 2 {. y { Data
dat=. citemize y
pos=. makebar dat
pos makedrawbar dat
)
plot_fbar=: 3 : 0
'x y'=. 2 {. y { Data
dat=. citemize y
pos=. makestackbar dat
pos=. ({:$dat) }. pos
dat=. }. dat
pos makedrawbar dat
)
plot_fbarv=: 3 : 0
'x y'=. 2 {. y { Data
dat=. citemize y
pos=. makestackbar |. dat
pos=. ({:$dat) }. pos
dat=. }. dat
pos makedrawbarv dat
)
plot_sbar=: 3 : 0
'x y'=. 2 {. y { Data
dat=. citemize y
pos=. makestackbar dat
pos makedrawbar dat
)
plot_sbarv=: 3 : 0
'x y'=. 2 {. y { Data
dat=. citemize y
pos=. makestackbar |.dat
pos makedrawbarv dat
)
makedrawbar=: 4 : 0
pos=. x
dat=. y
'r c'=. $dat
if. r=1 do.
  drawrect iDATA;EDGECOLOR;EDGESIZE;(ITEMCOLOR {~ 0 >, dat);pos
else.
  clr=. r $ ITEMCOLOR
  pos=. (-c) ,\ pos
  for_p. pos do.
    drawrect iDATA;EDGECOLOR;EDGESIZE;(p_index{clr);_4 [\ p
  end.
end.
)
makedrawbarv=: 4 : 0
pos=. x
dat=. y
'r c'=. $dat
if. r=1 do.
  drawrect iDATA;EDGECOLOR;EDGESIZE;(|.ITEMCOLOR {~ 0 >, dat);pos
else.
  clr=. |. r $ ITEMCOLOR
  pos=. (-c) ,\ pos
  for_p. pos do.
    drawrect iDATA;EDGECOLOR;EDGESIZE;(p_index{clr);_4 [\ p
  end.
end.
)
makebar=: 3 : 0
dat=. ,y
'r c'=. $y
w=. Gw * BARWIDTH % r * c
t=. Gw * -: (-.BARWIDTH) % c
if. r=1 do.
  x=. Gw * }: int01 c
else.
  x=. ,(w * i.r) +/ Gw * }: int01 c
end.
x=. Gx + x + t
if. YDiv=0 do.
  h=. (dat-YMin) % YMax-YMin
elseif. YDiv=1 do.
  h=. (dat-YMax) % YMax-YMin
elseif. do.
  h=. dat % (YMax%1-YDiv) >. |YMin%YDiv
end.
h=. Gh * h
y=. Gy + Gh * YDiv
x,.y,.(x+w),.y+h
)
makestackbar=: 3 : 0
dat=. ,y
if. 1 e. 0 > dat do.
  signal 'stackbar values should not be negative'
end.
'r c'=. $y
wid=. BARWIDTH
w=. Gw * wid % c
t=. Gw * -: (-.wid) % c
h=. Gh * y % YMax
y=. Gy + ,+/\ h
x=. Gx + ($y) $ t + Gw * }: int01 c
x,.y,.(x+w),.y-,h
)
CONTRI=: 0 1 4, 0 2 4, 1 4 3,: 2 4 3
CONPTS=: 0 0 1 0 0.5 0.5, 0 0 0 1 0.5 0.5, 1 0 0.5 0.5 1 1,: 0 1 0.5 0.5 1 1
plot_contour=: 3 : 0

'x y z'=. y { Data

signal^:(2 ~: #$z) 'need data matrix for contour plot'

dat=. |: z
'rws cls'=. shape=. $dat
dat=. ,dat
min=. <./dat
max=. >./dat
dat=. (CONTOURLEVELS + 1) * (dat - min) % max - min
ndx=. ,/ 2 2 ,;._3 i. shape
dat=. |: ndx { dat
lvl=. *./ dat ="1 <.{. dat
dat=. dat, (lvl * 0.001) + 0.25 * +/ dat
dat=. ,/ 0 1 |: CONTRI { dat
xy=. 4 # ((#ndx) $ (i.cls-1)),.(cls-1) # i.rws-1
txy=. xy,.(#dat) $ 0 1 2 3
msk=. +./"1 (~:{."1) <. dat
txy=. msk # txy
dat=. msk # dat
mat=. (<.dat),.dat,.txy
res=. i.0 0
for_m. mat do.
  res=. res, contri m
end.
lvl=. {."1 res
pos=. }."1 res
pos=. pos % ($pos) $ <: |. shape
pos=. fitgrafxy pos
clr=. getbandcolor lvl
drawline iDATA;clr;PENSIZE;pos
)
contri=: 3 : 0
'l0 l1 l2 v0 v1 v2 x y i'=. y
pts=. i { CONPTS
min=. <./ l0,l1,l2
max=. >./ l0,l1,l2
lvl=. min + 1 + i. max-min
ndx=. (#. lvl >:/ v0,v1,v2) { 0 0 1 2 2 1 0 3
res=. i.0 5
for_lv. lvl do.
  select. lv_index { ndx
  case. 0 do.
    res=. res, contri1 lv,v0,v1,v2,pts
  case. 1 do.
    res=. res, contri1 lv,v0,v2,v1,0 1 4 5 2 3 { pts
  case. 2 do.
    res=. res, contri1 lv,v1,v2,v0,2 3 4 5 0 1 { pts
  case. 3 do.
  end.
end.
res + 0 ,. (0 _1 + $res) $ x,y
)
contri1=: 3 : 0
'lvl v0 v1 v2 x0 y0 x1 y1 x2 y2'=. y
p=. (lvl - v0) % v2 - v0
q=. (lvl - v1) % v2 - v1
lvl, ((p * x2,y2) + (-.p) * x0,y0), (q * x2,y2) + (-.q) * x1,y1
)
plot_density=: 3 : 0

'x y z'=. y { Data

signal^:(2 ~: #$z) 'need data matrix for density plot'

j=. {(int01 #x);int01 #y
pos=. fitgrafxy ,/ ,"2 tiles >j

j=. (#BANDCOLOR) ncile ,z
clr=. j { BANDCOLOR
drawpoly iDATA;EDGECOLOR;(EDGESIZE*MESH);clr;pos
)
plot_dot=: 3 : 0
dat=. getgrafmat y
clr=. getitemcolor #dat
for_d. dat do.
  drawdot iDATA;(d_index{clr);PENSIZE;_2[\d
end.
)

plot_point=: plot_dot
plot_errorbar=: 3 : 0

'x y'=. getgrafxy y
'r c'=. $y

if. r ~: 3 do.
  signal 'errorbar data should have 3 rows'
end.

'hi mid lo'=. y
j=. ,./x,."1 [ hi ,: lo
k=. _3 0 3 0 +"1 ,.~ _2[\,j
errorbar=. j,k

xm=. ,x,.mid

clr=. getitemcolor 1
drawline iDATA;clr;PENSIZE;xm
drawline iDATA;clr;PENSIZE;errorbar
)
plot_hilo=: 3 : 0
'x y'=. getgrafxy y
'r c'=. $y
ifclose=. 3=r
'hi lo close'=: 3$y
clr=. getitemcolor 2
hilo=. ,./x,."1 [ 2{.y
drawline iDATA;({.clr);PENSIZE;hilo
if. ifclose do.
  close=. ,x,.{:y
  drawline iDATA;({.clr);PENSIZE;close
end.
)
plot_hist=: 3 : 0
'x y'=. 2 {. y { Data
dat=. citemize y
'r c'=. $dat
if. r ~: 1 do.
  signal 'Histogram should have only one data set.'
end.
pos=. makehist dat
drawrect iDATA;EDGECOLOR;EDGESIZE;(ITEMCOLOR {~ 0 >, dat);pos
)
makehist=: 3 : 0
dat=. ,y
'r c'=. $y
w=. Gw % c
x=. Gw * }: int01 c
x=. Gx + x
if. YDiv=0 do.
  h=. (dat-YMin) % YMax-YMin
elseif. YDiv=1 do.
  h=. (dat-YMax) % YMax-YMin
elseif. do.
  h=. dat % (YMax%1-YDiv) >. |YMin%YDiv
end.
h=. Gh * h
y=. Gy + Gh * YDiv
x,.y,.(x+w),.y+h
)
plot_line=: 3 : 0
dat=. getgrafmat y
clr=. getitemcolor #dat
if. *./ PENSTYLE=0 do.
  drawline iDATA;clr;PENSIZE;dat
else.
  sty=. PENSTYLE $~ #dat
  drawpline iDATA;sty;clr;PENSIZE;dat
end.
)
MarkerNames=: ;: 'diamond square circle triangle plus times'
KeyMarkerNames=: MarkerNames,<'line'
plot_marker=: 3 : 0
dat=. getgrafmat y
clr=. getitemcolor #dat
if. #MARKERS do.
  nms=. MARKERS { MarkerNames
else.
  nms=. MarkerNames
end.
mrk=. ((#nms) | i. #dat) { nms
for_d. dat do.
  drawmarker iDATA;(MarkerScale*MARKERSIZE);(d_index{clr);(d_index{mrk),<_2 [\ d
end.
)
plot_pie=: 3 : 0
YCaption=: ; YCAPTION
'x y'=. 2 {. y { Data
if. 1 = #y do.
  plot_pied y
else.
  plot_piem y
end.
)
plot_pied=: 3 : 0
dat=. 360 | 90 - 0, 360 * (%{:) +/\ , y
if. PIEPERCENT *. 0=#XLABEL do.
  XLabel=: getpiepercent ,y
else.
  XLabel=: XLABEL
end.
if. #YCaption do.
  'w h'=. CaptionFont pgetextent1 YCaption
  cx=. Lx + -: Lw - w
  cy=. Ly + Lh - MSubTitle
  setgxywh Gxywh shrinkrect 0 0 0,h+3*MSubTitle
end.
if. #XLabel do.
  'pxy tic'=. makefitpie dat
  drawtext iXLABEL;iLEFT;LabelFont;BLACK;XLabel;pxy
  drawline iXTICS;BLACK;GUIDESIZE;tic
end.
rad=. -: Gw <. Gh
org=. (Gx,Gy) + -: Gw,Gh
dat=. (org, rad),"1 [ 2 |.\ dat
clr=. getitemcolor #dat
drawpie iDATA;EDGECOLOR;EDGESIZE;clr;dat
if. #YCaption do.
  xlab=. (0<#XLabel) * MSubTitle + {: LabelFont pgetextent1 'X'
  xcap=. {: CaptionFont pgetextent1 'X'
  cy=. cy <. ({:org) + rad + MPie + xlab + xcap
  drawtext iYCAPTION;iLEFT;CaptionFont;BLACK;YCaption;cx,cy
end.
)
makefitpie=: 3 : 0
dat=. rfd y
'lw lh'=. LabelFont pgetextent XLabel
lh=. {.lh
bgn=. }: dat
end=. }. dat
mid=. -: bgn + end - 2p1 * end > bgn
rhw=. |."1 +. r. mid
'rw rh'=. 1 _1 * |: rhw
pos=. 2 {."1 fitpie lw;lh;rw;rh;mid
tic=. drawpietics rw,.rh
pos;tic
)
fitpie=: 3 : 0

'lw lh rw rh mid'=. y
while. 1 do.
  rad=. <. -: <./ _2 {. Gxywh
  pad=. rad + MPie

  msk=. MPie <: (-:lh) + | pad * -. cos mid
  int=. lw * (-:-.msk) + msk * (mid<0) +. mid>1p1
  px=. (Gx+-:Gw) + (rw * pad) - int
  py=. (Gy+-:Gh) + (rh * pad) - -:lh
  pos=. px,.py,.lw,.lh
  if. 1 = fitpielabels pos do. continue. end.
  'rc pos'=. movepielabels pos
  if. rc do.
    if. 1 = fitpielabels pos do. continue. end.
  end.
  break.
end.
(0,lh,0 0) +"1 pos
)
fitpielabels=: 3 : 0
'x y w h'=. |: y

bx=. 0 >. Lx - <./x
ex=. 0 >. (>./x+w) - Lx + Lw
by=. 0 >. Ly - <./y
ey=. 0 >. (>./y+h) - Ly + Lh

be=. bx,by,ex,ey
if. 0 = +/be do. 0 return. end.

mw=. 0 >. Gw - MinPie
if. mw < bx + ex do.
  'bx ex'=. (bx,ex) * mw % bx + ex
end.

mh=. 0 >. Gh - MinPie
if. mh < by + ey do.
  'by ey'=. (by,ey) * mh % by + ey
end.

be=. bx,by,ex,ey
if. 0 = +/be do. 0 return. end.

setgxywh Gxywh shrinkrect >. be

1
)
getpiepercent=: 3 : 0
dat=. 100 * y % +/y
val=. 1 rounddist dat
txt=. (":each val) ,each '%'
)
plot_piem=: 3 : 0

dat=. y
if. #YCAPTION do.
  ycap=. boxarg YCAPTION
  if. 1=#ycap do.
    ycap=. (#dat) $ ycap
  else.
    if. (#dat) ~: #ycap do.
      info 'Y Captions do not match number of pie charts' return.
    end.
  end.
  'cw ch'=. CaptionFont pgetextent ycap
  cw=. >./cw
  ch=. ({.ch) + +: MSubTitle
else.
  cw=. ch=. 0
  ycap=. (#dat) # <''
end.
len=. #dat
rws=. 1 + i. len
cls=. >. len % rws
msk=. cw <: Lw % cls
rws=. msk#rws
cls=. msk#cls
ndx=. (i.>./) (Lw%cls) <. Lh%rws
rws=. ndx{rws
cls=. ndx{cls
wid=. <. Lw % cls
hit=. <. Lh % rws
OLxywh=: Lxywh
xy=. ((rws*cls)$Lx + wid*i.cls),.cls#Ly + hit*i.-rws
lxywh=. len {. xy,"1 wid,hit
lxywh=. lxywh shrinkrect"1 MPie
if. PIEPERCENT < 0 = #XLABEL do.
  gxywh=. lxywh shrinkrect"1 [ 0 0 0,ch
else.
  setlxywh {. lxywh
  getpieframes''
  setgxywh Lxywh shrinkrect 0 0 0,ch
  r=. i. 0 4
  for_d. dat do.
    deg=. 360 | 90 - 0, 360 * (%{:) +/\ d
    if. PIEPERCENT do.
      XLabel=: getpiepercent d
    else.
      XLabel=: XLABEL
    end.
    makefitpie deg
    r=. r,Gxywh
  end.
  xy=. >./2 {."1 r
  off=. xy - 2 {. Lxywh
  wh=. (<./(2 {."1 r) + 2 }."1 r) - xy
  gxywh=. (off +"1 [ 2 {."1 lxywh) ,"1 wh
end.
for_d. dat do.
  YCaption=: d_index pick ycap
  setlxywh d_index { lxywh
  getpieframes''
  setgxywh d_index { gxywh
  plot_pied d
end.
Lxywh=: OLxywh
)
plot_poly=: 3 : 0
dat=. getgrafmat y
clr=. getitemcolor #dat
drawpoly iDATA;EDGECOLOR;EDGESIZE;clr;dat
)
plot_radar=: 3 : 0

dat=. 1 pick y { Data
dat=. YRANGE fit01"1 dat

rad=. -: Gw <. Gh
org=. (Gx,Gy) + -: Gw,Gh

RTIC=: 2{. RTIC,(#RTIC)}.3 1

if. {.GRIDS do.
  grd=. org ,"1 0 [ rad * }. int01 {.RTIC
  drawcircle iXGRID;GRIDCOLOR;EDGESIZE;'';grd
end.

if. {.AXES do.
  pts=. fitgrafxy makeradaraxes dat
  drawline iXAXIS;FORECOLOR;EDGESIZE;pts
end.

pts=. fitgrafxy makeradar dat
clr=. getitemcolor #pts
sty=. PENSTYLE $~ #pts
drawpline iDATA;sty;clr;PENSIZE;pts
)
makeradar=: 3 : 0
dat=. |:y
xy=. cleanz (cos ,. sin) +: o. int01 #dat
r=. ,"2 [ 0 1 |: xy */"1 dat, {. dat
0.5 * 1 + r
)
makeradaraxes=: 3 : 0
if. {.TICS do.
  'maj min'=. RTIC
  len=. maj * >: min
  pos=. }.int01 len
  tic=. TICMINOR,(0={.GRIDS)*TICMAJOR
  mark=. len$(min,1)#500 %~ tic
  pts=. 0 0 0 1, 0 ,. pos ,. mark,. pos
else.
  pts=. ,:0 0 0 1
end.
f=. ((cos,sin),:-@sin,cos)"0
s=. f o. +: }:int01 {:$y
pts=. ,/ ,"2 [ 1 |: s mp 0 1 |: _2 [\"1 pts
pts=. 0.5 * 1 + pts
)
plot_stick=: 3 : 0
dat=. getgrafmat y
dat=. _2 (4&$)\ ,dat
ydiv=. fitgrafy YDiv
dat=. ydiv 3 }"1 dat
drawline iDATA;(getitemcolor #dat);PENSIZE;dat
)
plot_symbol=: 3 : 0
dat=. getgrafmat y
clr=. getitemcolor #dat
font=. SymbolFont
if. Poutput e. iANDROID,iQT,iQTC,iCANVAS,iCAIRO,iISI do.
  sym=. utf8 each ucp text2utf8 SYMBOLS
else.
  sym=. <&> text2ascii8 SYMBOLS
end.

off=. 0,.-:{:SymbolFont pgetextent sym
dat=. dat + ({:$dat) $"1 (#dat)$off
chr=. (#dat)$sym
for_d. dat do.
  drawtext iDATA;iCENTER;font;(d_index{clr);(d_index{chr),<_2 [\ d
end.
)
coclass 'jzplot'
plot3d_dot=: 3 : 0

'x y z'=. y { Data

dat=. 1 |: (x ,: y),"2 1 citemize z
dat=. }:"1 project dat
dat=. ,"2 dat

rws=. #dat
cls=. {:$dat
clr=. getitemcolor #dat

rws=. 1

while. #dat do.
  drawcircle iDATA;({.clr);4;({.clr);1;_2[\{.dat
  dat=. }.dat
  clr=. 1|.clr
end.
)

plot3d_point=: plot3d_dot
plot3d_line=: 3 : 0

'x y z'=. y { Data

dat=. 1 |: (x ,: y),"2 1 citemize z
shape=. $dat
dat=. shape $ , project ,/dat
dat=. _2[\ ,}:"1 dat
dat=. fitgrafxy3d dat
dat=. (-+:1{shape) [\ ,dat

clr=. getitemcolor #dat

if. *./ PENSTYLE=0 do.
  drawline iDATA;clr;PENSIZE;dat
else.
  sty=. PENSTYLE $~ #dat
  drawpline iDATA;sty;clr;PENSIZE;dat
end.
)
plot3d_poly=: 3 : 0

'x y z'=. y { Data

dat=. x ,"0 1 y ,"0 z
vert=. 1{$dat
dat=. ($dat) $ , project ,/dat
dat=. dat #~ facing dat

dist=. {:"1 dat
dat=. }:"1 dat

near=. ~.(<.-:#,dist){.sort ,dist

ndx=. /: +/"1 dist e. near
dat=. ndx{dat
dist=. ndx{dist

ndx=. \:+/"1 dist
dist=. ndx{dist
dat=. ndx{dat

dat=. ,/ dat
dat=. fitgrafxy3d dat
dat=. (-vert),\ dat


clr=. getitemcolor blockcount dat
drawpoly iDATA;EDGECOLOR;EDGESIZE;clr;dat
)
plot3d_stick=: 3 : 0

'x y z'=. conform3d y { Data
dat=. x ,"0 1 y ,"0 z
minz=. ZInt <. <./ , {:"1 dat
bas=. minz 2}"1 dat
dat=. bas ,"1 dat
dat=. ,/ _3 [\"1 dat
dat=. project ,/dat
dat=. fitgrafxy3d }:"1 dat
dat=. _2 ,\ dat
drawline iDATA;(getitemcolor'');PENSIZE;dat
)
plot3d_surface=: 3 : 0
'x y z'=. conform3d y { Data
pos=. x ,"0 1 y ,"0 z
pos=. ($pos) $ ,project ,/ pos
zpos=. ,tilesum z
dpos=. ,tilesum {:"1 pos
ndx=. \:dpos
pos=. ,/,/ tiles }:"1 pos
pos=. fitgrafxy3d pos
pos=. _8[\,pos
pos=. ndx{pos

j=. ndx { (#BANDCOLOR) ncile zpos
clr=. j { BANDCOLOR

drawpoly iDATA;EDGECOLOR;(MESH*EDGESIZE);clr;pos
)
plot3d_wire=: 3 : 0
'x y z'=. conform3d y { Data
pos=. x ,"0 1 y ,"0 z
if. PStyle has 'clear' do.
  pos=. pos,0 2 |: pos
  shape=. $pos
  pos=. shape $ ,project ,/ pos
  pos=. _2[\ ,}:"1 pos
  pos=. fitgrafxy3d pos
  pos=. (-+:1{shape) [\ ,pos
  drawline iDATA;(getitemcolor 1);EDGESIZE;pos

else.
  pos=. ($pos) $ ,project ,/ pos
  zpos=. ,tilesum z
  dpos=. ,tilesum {:"1 pos
  ndx=. \:dpos
  pos=. ,/,/ tiles }:"1 pos
  pos=. fitgrafxy3d pos
  pos=. _8[\,pos
  pos=. ndx{pos

  j=. ndx { (#BANDCOLOR) ncile zpos
  clr=. j { BANDCOLOR
  drawpoly iDATA;clr;EDGESIZE;BACKCOLOR;pos

end.

)

NB. graphics/plot manifest

CAPTION=: 'Plot'

DESCRIPTION=: 0 : 0
Plot package
)

VERSION=: '1.0.195'

DEPENDS=: 0 : 0
general/misc
graphics/afm
graphics/bmp
graphics/color
graphics/gl2
graphics/png
math/misc
)

FILES=: 0 : 0
jzplot.ijs
plot.ijs
plotdefs.ijs
)

RELEASE=: 'j805'

FOLDER=: 'graphics/plot'
NB. session definitions for plot

NB.*pd v plot driver
NB.*pdf v plot function driver
NB.*plot v cover for pd
NB.*plotf v cover for pdf

require 'jzplot'
coclass 'jwplot'
coinsert 'jzplot'

idnx=: 0
cxywh=: 4$0

NB. =========================================================
NB. deferred commands
pdcmdsave=: ''
pdcmdclip=: 0
pdcmdprint=: 0

NB. =========================================================
NB. z locale definitions
pd_z_=: 3 : 0
caller_jwplot_=. coname''
pd_jwplot_ y
)

plot_z_=: 3 : 0
caller_jwplot_=. coname''
'' plot_jwplot_ y
:
caller_jwplot_=. coname''
x plot_jwplot_ y
)
NB. png manifest

CAPTION=: 'png utilities'

DESCRIPTION=: 0 : 0
Utilities for *.png files
)

VERSION=: '1.0.28'

RELEASE=: ''

FOLDER=: 'graphics/png'

DEPENDS=: 0 : 0
arc/zlib
)

FILES=: 0 : 0
png.ijs
test/test1.ijs
)
require 'arc/zlib'

coclass 'jpng'
IFJNET=: (IFJNET"_)^:(0=4!:0<'IFJNET')0
3 : 0''
if. (IFJNET +. IFIOS +. UNAME-:'Android') do. USEQTPNG=: USEPPPNG=: 0 end.
if. 0~: 4!:0<'USEQTPNG' do.
  USEQTPNG=: IFQT
end.
if. 0~: 4!:0<'USEJAPNG' do.
  USEJAPNG=: IFJA
end.
if. 0~: 4!:0<'USEJNPNG' do.
  USEJNPNG=: IFJNET
end.
if. (0~: 4!:0<'USEPPPNG') > IFIOS +. UNAME-:'Android' do.
  USEPPPNG=: (0 < #1!:0 jpath '~addons/graphics/pplatimg/pplatimg.ijs')
  require^:USEPPPNG 'graphics/pplatimg'
  if. USEPPPNG *. UNAME-:'Linux' do.
    USEPPPNG=: (LIBGDKPIX_pplatimg_,' dummyfunction + n')&cd :: (2={.@cder) ''
    USEPPPNG=: 0
  end.
end.
require^:USEPPPNG 'graphics/pplatimg'
EMPTY
)

magic=: 137 80 78 71 13 10 26 10{a.
ffilter0=: 4 : 0
({.a.),"1 y return.
)
ffilter=: 4 : 0
y=. a.i. y
sy=. $y
r=. 0$0
prev=. ({:sy)#0
for_i. i.{.sy do.
  type=. 0
  iy=. i{y
  sum=. +/@signbyte iy
  sum=. sum, +/@signbyte sub=. 256&| iy - (-x)}.(x#0),iy
  sum=. sum, +/@signbyte up=. 256&| iy - prev
  sum=. sum, +/@signbyte ave=. 256&| iy - <.@-: prev+(-x)}.(x#0),iy
  sum=. | sum, +/@signbyte pae=. 256&| iy - paeth"1 ((-x)}.(x#0),iy),.prev,.((-x)}.(x#0),prev)
  type=. sum i.(<./sum)
  prev=. iy
  if. 1=type do.
    r=. r, type, sub
  elseif. 2=type do.
    r=. r, type, up
  elseif. 3=type do.
    r=. r, type, ave
  elseif. 4=type do.
    r=. r, type, pae
  elseif. do.
    r=. r, type, iy
  end.
end.
(0 1+sy)$a.{~r
)
rfilter=: 4 : 0
f=. a.i. {."1 y
y=. a.i. }."1 y
sy=. $y
r=. 0$0
prev=. ({:sy)#0
for_i. i.{.sy do.
  iy=. i{y
  if. 1=i{f do.
    r=. r, prev=. , <. |: 256&| +/\"1 |: (-x)[\ iy
  elseif. 2=i{f do.
    r=. r, prev=. iy (256&|@:+) prev
  elseif. 3=i{f do.
    r=. r, prev=. prev (x rave) iy
  elseif. 4=i{f do.
    raw=. x#0
    prevbpp=. (-x)}.(x#0),prev
    for_j. i.#iy do.
      raw=. raw, 256&| (j{iy) + paeth (j{prev), (j{raw), j{prevbpp
    end.
    r=. r, prev=. x}.raw
  elseif. do.
    r=. r, prev=. iy
  end.
end.
sy$a.{~r
)
paeth=: 3 : 0
p=. +/ 1 1 _1 * y
y{~ (i.<./) |p-y
)
rave=: 1 : 0
:
raw=. m#0
for_i. i.#y do.
  raw=. raw, 256&| (i{y) + <. 2%~ (i{raw) + i{x
end.
m}.raw
)
readpng=: 3 : 0

if. USEQTPNG do.
  if. 0=# dat=. readimg_jqtide_ y do.
    'Qt cannot read PNG file' return.
  end.
  dat return.
elseif. USEJAPNG do.
  if. 0=# dat=. readimg_ja_ y do.
    'jandroid cannot read PNG file' return.
  end.
  dat return.
elseif. USEJNPNG do.
  if. 0=# dat=. readimg_ja_ y do.
    'jnet cannot read PNG file' return.
  end.
  dat return.
elseif. USEPPPNG do.
  if. 0=# dat=. readimg_pplatimg_ y do.
    'pplatimg cannot read PNG file' return.
  end.
  dat return.
end.
r=. readpnghdrall y
if. 2 = 3!:0 r do. return. end.
'nos dat'=. r
'width height bit color compression filter interlace'=. nos

if. 0~:filter do.
  'invalid filter' return.
end.
if. 0~:interlace do.
  'interlace PNGs not supported' return.
end.
if. (-.bit e. 1 2 4 8) do.
  'only 1 2 4 8 bit depth supported' return.
end.
dat=. fread y
ie=. I. 'IEND' E. dat
if. 0=#ie do. 'missing IEND' return. end.
dat=. ({.ie){. dat
if. 3=color do.
  ip=. I. 'PLTE' E. dat
  if. 0=#ip do. 'mssing PLTE' return. end.
  p=. {.ip-4
  len=. {.be32inv (p+i.4){dat
  crc=. ((len+8+p)+i.4){dat
  d=. (4+len){.(4+p)}.dat
  if. -. crc-:(be32 crc32 d) do. 'crc32 error' return. end.
  ipal=. fliprgb le32inv , ({:a.),~("1) _3]\ len{.(8+p)}.dat
end.

id=. I. 'IDAT' E. dat
if. 0=#id do. 'missing IDAT' return. end.

trns=. 0$0
if. color -.@e. 4 6 do.
  d=. ({.id){. dat
  if. #ir=. I. 'tRNS' E. d do.
    p=. {.ir-4
    len=. {.be32inv (p+i.4){dat
    s=. a.i. len{.(8+p)}.dat
    if. 0=color do.
      trns=. 8&gray2rgb 256 #. _2]\ s
    elseif. 2=color do.
      trns=. 256 #. _3]\ 256 #. _2]\ s
    elseif. 3=color do.
      trns=. (#ipal){.!.255 s
      ipal=. trns setalpha ipal
    end.
  end.
end.

id=. id-4
idat=. ''
p=. {.id
for_i. i.#id do.
  if. p>i{id do. continue. end.
  len=. {.be32inv ((i{id)+i.4){dat
  crc=. ((len+8+i{id)+i.4){dat
  d=. (4+len){.(4+i{id)}.dat
  if. -. crc-:(be32 crc32 d) do. 'crc32 error' return. end.
  idat=. idat, len{.(8+i{id)}.dat
  p=. p+len
end.
datalen=. 0
try.
  data=. datalen zlib_uncompress_jzlib_ idat
catch.
  'zlib uncompression error' return.
end.
if. color e. 0 4 do.
  if. (4=color) > bit e. 8 16 do.
    'only 8 and 16 bit grayscale can have alpha channel' return.
  end.
  if. 1=bit do.
    r=. (height,width)$ (setalpha)`(trns&transparent)@.(*#trns) 1&gray2rgb , #: a.i. , 1&rfilter (height,1+>.width%8) $ data
  elseif. 2=bit do.
    r=. (height,width)$ (setalpha)`(trns&transparent)@.(*#trns) 2&gray2rgb , 4 4 4 4 #: a.i. , 1&rfilter (height,1+>.width%4) $ data
  elseif. 4=bit do.
    r=. (height,width)$ (setalpha)`(trns&transparent)@.(*#trns) 4&gray2rgb , 16 16 #: a.i. , 1&rfilter (height,1+>.width%2) $ data
  elseif. 8=bit do.
    if. 0=color do.
      r=. (height,width)$ (setalpha)`(trns&transparent)@.(*#trns) 8&gray2rgb , a.i. , 1&rfilter (height,1+width) $ data
    else.
      r=. (height,width)$ (a.i.{.("1) a) setalpha 8&gray2rgb a.i. {:("1) a=. _2]\ , 2&rfilter (height,1+2*width) $ data
    end.
  elseif. do.
    'only 1 2 4 8 bit grayscale PNGs support' return.
  end.
elseif. 3=color do.
  if. 1=bit do.
    r=. (height,width)$ ipal{~ , #: a.i. , 1&rfilter (height,1+>.width%8) $ data
  elseif. 2=bit do.
    r=. (height,width)$ ipal{~ , 4 4 4 4 #: a.i. , 1&rfilter (height,1+>.width%4) $ data
  elseif. 4=bit do.
    r=. (height,width)$ ipal{~ , 16 16 #: a.i. , 1&rfilter (height,1+>.width%2) $ data
  elseif. 8=bit do.
    r=. (height,width)$ ipal{~ a.i. , 1&rfilter (height,1+width) $ data
  elseif. do.
    'only 1 2 4 8 bit palette PNGs support' return.
  end.
elseif. 6=color do.
  r=. (height,width)$ fliprgb le32inv , 4&rfilter (height,1+4*width) $ data
elseif. 2=color do.
  r=. (height,width)$ fliprgb (trns&transparent)^:(*#trns) le32inv , ({:a.),~("1) _3[\ , 3&rfilter (height,1+3*width) $ data
elseif. do.
  'invalid color type' return.
end.
r
)
transparent=: 4 : 0
((255 0){~({.x)=y) setalpha y
)
readpnghdr=: 3 : 0
r=. readpnghdrall y
if. 2 ~: 3!:0 r do.
  0 pick r
end.
)
readpnghdrall=: 3 : 0

try.
  dat=. 1!:11 (boxopen y),<0 29
  if. -. magic-:8{.dat do. 'not a PNG file' return. end.
  if. -. 0 0 0 13 -: a.i.4{.8}.dat do. 'not a PNG file' return. end.
  if. -. 'IHDR' -: 4{.12}.dat do. 'not a PNG file' return. end.
catch.
  dat=. 29{.y
  if. -. magic-:8{.dat do. 'file read error' return. end.
  if. -. 0 0 0 13 -: a.i.4{.8}.dat do. 'file read error' return. end.
  if. -. 'IHDR' -: 4{.12}.dat do. 'file read error' return. end.
end.

ihdr=. (16+i.13){dat
'bit color compression filter interlace'=. a.i.8}.ihdr

'width height'=. be32inv 8{.ihdr

(width,height,bit,color,compression,filter,interlace);dat
)
writepng=: 4 : 0

dat=. x
'file cmp'=. 2 {. (boxopen y), <_1

if3=. (3=#$dat) *. 3={:$dat
if. if3 do.
  dat=. setalpha 256&#. dat
end.

if. USEQTPNG do.
  dat writeimg_jqtide_ (>file);'png';'quality';_1
elseif. USEJAPNG do.
  if. 805> ".}.(i.&'/' {. ])9!:14'' do.
    dat writeimg_ja_ (>file);'png';'quality';_1
  else.
    writeimg_ja_ dat;(>file);'png'
  end.
elseif. USEJNPNG do.
  writeimg_jnet_ dat;(>file);'png'
elseif. USEPPPNG do.
  dat writeimg_pplatimg_ (>file)
elseif. do.
  (boxopen file) 1!:2~ cmp encodepng_unx dat
end.
)
encodepng_unx=: 4 : 0
cmp=. (_1=x){x,NOZLIB_jzlib_{6 2
wh=. |. sy=. $y

opaque=. *./ 255= , getalpha y
if. opaque do. y=. 0&setalpha y end.

pal=. ~. ,y
bit=. 1 2 4 8 16 {~ +/ 2 4 16 256 < # pal
if. (16>bit)*.((bit%~*/8,wh)>4*#pal) do.
  if. -.opaque do.
    alfa=. a.{~ getalpha pal
    pal=. 0&setalpha pal
    y=. 0&setalpha y
  end.
  y=. sy $ ,a.{~ pal i. y
  ipal=. , }:@Endian@(2&ic)"0 fliprgb pal
  if. 1=bit do.
    y=. a.{~ #.@(_8&(]\))"1 a.i.y
  elseif. 2=bit do.
    y=. a.{~ 4&#.@(_4&(]\))"1 a.i.y
  elseif. 4=bit do.
    y=. a.{~ 16&#.@(_2&(]\))"1 a.i.y
  end.
  if. 4 > (*/wh) % #pal do.
    lines=. , 1&ffilter0 y
  else.
    lines=. , 1&ffilter y
  end.
  if. opaque do.
    magic, (png_header wh,bit, 3), ('PLTE' png_chunk ipal), ('IDAT' png_chunk cmp&zlib_compress_jzlib_ lines), ('IEND' png_chunk '')
  else.
    magic, (png_header wh,bit, 3), ('PLTE' png_chunk ipal), ('tRNS' png_chunk alfa), ('IDAT' png_chunk cmp&zlib_compress_jzlib_ lines), ('IEND' png_chunk '')
  end.
else.
  if. opaque do.
    lines=. , 3&ffilter ,"2 }:@Endian@(2&ic)"0 fliprgb y
    magic, (png_header wh,8, 2), ('IDAT' png_chunk cmp&zlib_compress_jzlib_ lines), ('IEND' png_chunk '')
  else.
    lines=. , 4&ffilter ,"2 Endian@(2&ic)"0 fliprgb y
    magic, (png_header wh,8, 6), ('IDAT' png_chunk cmp&zlib_compress_jzlib_ lines), ('IEND' png_chunk '')
  end.
end.
)
png_chunk=: 4 : 0
(be32 #y), x, y, be32 crc32 x, y
)
png_header=: 3 : 0
'IHDR' png_chunk (,be32"0 [ 2{.y), ((2}.y), 0 0 0){a.
)
gray2rgb=: 4 : 0
if. 1=x do.
  <.y*16bffffff
else.
  ($y)$ 256#.("1) _3]\ 255<. (64 16 1{~2 4 8 i.x) * 3#,y
end.
)
ENDIAN=: ('a'={.2 ic a.i.'a')
be32=: ,@:(|."1)@(_4&(]\))^:ENDIAN@:(2&ic)
be32inv=: (_2&ic)@:(,@:(|."1)@(_4&(]\))^:ENDIAN)
le32=: ,@:(|."1)@(_4&(]\))^:(-.ENDIAN)@:(2&ic)
le32inv=: (_2&ic)@:(,@:(|."1)@(_4&(]\))^:(-.ENDIAN))
crc32=: ((_2&ic)@((4&{.)`(_4&{.)@.('a'~:{.2 ic a.i.'a'))@(3&ic))^:IF64 @: (((i.32) e. 32 26 23 22 16 12 11 10 8 7 5 4 2 1 0)&(128!:3))
signbyte=: ] - 256 * 127 <  ]
readpng_z_=: readpng_jpng_
writepng_z_=: writepng_jpng_
readpnghdr_z_=: readpnghdr_jpng_

USEQTPNG_jpng_=: USEJAPNG_jpng_=: USEJNPNG_jpng_=: USEPPPNG_jpng_=: 0

load 'graphics/png bmp'     NB. require toucan.bmp for testing

T=. readbmp jpath'~addons/graphics/bmp/toucan.bmp'
T writepng jpath'~temp/toucan.png'
T -: readpng jpath'~temp/toucan.png'

(T=. setalpha i.320 320) writepng jpath'~temp/test1.png'
T -: readpng jpath'~temp/test1.png'
graphics/afm - change history

== 1.0.0 ==
 * initial release

== 1.0.1 ==
 * add GTKFONTNAMES

== 1.0.2/3 ==
 * getfont updated for GTKFONTNAMES

== 1.0.4 ==
 * android fonts

== 1.0.5/7 ==
 * qt fonts

== 1.0.8 ==
 * j801
coclass 'jafm'
create=: 3 : 0
'font size'=. y
if. -. ischar font do.
  font=. font pick PSFONTNAMES
end.
fnt=. font -. '-'
Name=: font
Size=: size
Ascender=: 0
0!:100 (fnt,'_FontMetrics')~
mat=. (fnt,'_CharMetrics')~
Chars=: a. {~ 0 {"1 mat
Widths=: (1 {"1 mat) * Size % 1000
Boxes=: 2 }."1 mat
AscenderP=: Ascender * Size % 1000
Widths=: Widths, average Widths
Boxes=: Boxes, <. average Boxes
)

destroy=: codestroy
average=: +/ % #
ischar=: 3!:0 e. 2 131072 262144"_
getascender=: 3 : 0
'fnt sty siz ang und'=. 5 {. y
nam=. getfntnameNH fnt,sty
(siz % 1000) * (nam,'_Ascender')~
)
getextent=: 4 : 0
'fnt sty siz ang und'=. 5 {. x
nam=. getfntnameNH fnt,sty
met=. (nam,'_CharMetrics')~
chr=. 0 {"1 met
wid=. 1 {"1 met
if. 1 = #y do.
  ext=. ($y) $ +/ wid {~ (#chr) | chr i. a. i. 0 pick y
else.
  len=. # &> y
  ext=. wid {~ (#chr) | chr i. a. i.; y
  msk=. , len > 0
  ext=. msk expand (; len {.each 1) +/;.1 ext
end.
|: siz * (ext % 1000) ,. 1
)
getextent1=: 4 : 0
'fnt sty siz ang und'=. 5 {. x
nam=. getfntnameNH fnt,sty
met=. (nam,'_CharMetrics')~
chr=. 0 {"1 met
wid=. 1 {"1 met
ext=. +/ wid {~ (#chr) | chr i. a. i. y
siz * (ext % 1000), 1
)
getfntname=: 3 : 0
'fnt sty'=. y
if. 4 > fnt do.
  nam=. (4 #. y) pick PSFONTNAMES
else.
  nam=. fnt pick FONTNAMES
end.
)
getfntnameNH=: 3 : 0
'fnt sty'=. y
if. 4 > fnt do.
  nam=. (4 #. y) pick PSFONTNAMESNH
else.
  nam=. fnt pick FONTNAMESNH
end.
)
getfont=: 3 : 0
font=. tolower ' ',y -. '-'
b=. (font=' ') > ~:/\font='"'
fnt=. a: -.~ b <;._1 font
nam=. < '"' -.~ > {. fnt
fnt=. }. fnt
if. #fnt do.
  num=. {. &> 0 ". each fnt
  msk=. num > 0
  siz=. (msk i. 1) { num
else.
  siz=. 10
end.
sty=. 0
ndx=. PSFONTNAMESLC i. nam
if. ndx < #PSFONTNAMESLC do.
  fnx=. <. ndx % 4
  sty=. 4 | ndx
else.
  ndx=. GTKFONTNAMESLC i. nam
  if. ndx < # GTKFONTNAMESLC do.
    fnx=. ndx { GTKFONTNAMESX
  else.
    ndx=. ISIFONTNAMESLC i. nam
    if. ndx < # ISIFONTNAMESLC do.
      fnx=. ndx { ISIFONTNAMESX
    else.
      fnx=. (#FONTNAMESLC) | FONTNAMESLC i. nam
    end.
  end.
end.
if. 0 = sty do.
  sty=. +/ 1 2 * ('bold';'italic') e. fnt
end.
und=. (<'underline') e. fnt
ang=. {. 90 270 #~ ('angle900';'angle2700') e. fnt
fnx,sty,siz,ang,und
)
getfontid=: 3 : 0
if. ischar y do.
  getfont y
else.
  y
end.
)
getgtkfontid=: 3 : 0
if. ischar y do.
  getfont y
else.
  y
end.
)
getisifontid=: 3 : 0
if. ischar y do.
  fnt=. getfont y
else.
  fnt=. y
end.
'ind fst siz ang und'=. fnt
'ita bld'=. 2 2 #: fst
sty=. (bld#' bold'),(ita#' italic'),und#' underline'
sty=. sty,(0 < ang)#' angle',":10*ang
ind=. (#ISIFONTNAMES) | ISIFONTNAMESX i. ind
'"',(ind pick ISIFONTNAMES),'" ',(":siz),sty
)

getstringlen=: {. @ getextent
getstringlen1=: {. @ getextent1
getunderline=: 3 : 0
'fnt sty siz ang und'=. 5 {. y
id=. fnt pick PSFONTNAMESNH
pos=. (id,'_UnderlinePosition')~
thk=. (id,'_UnderlineThickness')~
(siz % 1000) * pos,thk
)
j=. 0 : 0
Helvetica
Courier
Times-Roman
Symbol
MSung-Light
STSong-Light
)

FONTNAMES=: <;._2 j
FONTNAMESLC=: <;._2 tolower j -. '-'
FONTNAMESNH=: <;._2 j -. '-'
j=. 0 : 0
Helvetica
Helvetica-Bold
Helvetica-Oblique
Helvetica-BoldOblique
Courier
Courier-Bold
Courier-Oblique
Courier-BoldOblique
Times-Roman
Times-Bold
Times-Italic
Times-BoldItalic
Symbol
ZapfDingbats
)

PSFONTNAMES=: <;._2 j
PSFONTNAMESLC=: <;._2 tolower j -. '-'
PSFONTNAMESNH=: <;._2 j -. '-'
fntms=. <;._2 (0 : 0)
0 Arial
0 Sans
0 SansSerif
1 Courier
1 Lucida Console
1 Mono
1 Monospace
2 Serif
2 Times
2 Times New Roman
2 Times New Roman
3 Symbol
)

ISIFONTNAMES=: 2 }. each fntms
ISIFONTNAMESLC=: tolower each ISIFONTNAMES
ISIFONTNAMESX=: 0 ". &> 2 {. each fntms

fntux=. <;._2 (0 : 0)
0 Helvetica
0 Sans
0 SansSerif
1 Courier
1 Lucida Console
1 Mono
1 Monospace
2 Serif
2 Times
2 Times New Roman
2 Times New Roman
3 Symbol
)

fnt=. IFUNIX {:: fntms ;< fntux
GTKFONTNAMES=: 2 }. each fnt
GTKFONTNAMESLC=: tolower each GTKFONTNAMES
GTKFONTNAMESX=: 0 ". &> 2 {. each fnt

fntand=. <;._2 (0 : 0)
0 Sans
0 Sans
0 Sans
1 Monospace
1 Monospace
1 Monospace
1 Monospace
2 Serif
2 Serif
2 Serif
2 Serif
3 Mono
)

ANDFONTNAMES=: 2 }. each fntand
ANDFONTNAMESLC=: tolower each ANDFONTNAMES
ANDFONTNAMESX=: 0 ". &> 2 {. each fntand

3 : 0''
if. 'Android'-:UNAME do.
  QTFONTNAMES=: ANDFONTNAMES
  QTFONTNAMESLC=: ANDFONTNAMESLC
  QTFONTNAMESX=: ANDFONTNAMESX
else.
  QTFONTNAMES=: GTKFONTNAMES
  QTFONTNAMESLC=: GTKFONTNAMESLC
  QTFONTNAMESX=: GTKFONTNAMESX
end.
EMPTY
)
getbbox=: 3 : 0
(Chars i. y) { Boxes
)
getcellwid=: 3 : 0
vec=. , y
len=. >./ # &> vec
txt=. > len {.!.({.a.) each vec
wid=. +/"1 (Chars i. txt) { Widths
($y) $ wid
)
getcolwid=: 3 : 0
rws=. # &> y
mat=. ; y
vec=. , mat
len=. >./ # &> vec
txt=. > len {.!.({.a.) each vec
wid=. +/"1 (Chars i. txt) { Widths
wid=. ($mat) $ wid
max=. >./ wid
tab=. (; rws {.each 1) <;.1 wid
tab;max
)
getcharlen=: 3 : 0
(Chars i. y) { Widths
)
getstrlen=: 3 : 0
+/ (Chars i. y) { Widths
)
getstrwid=: 3 : 0
>./ getstrlen &> <;._1 LF,y
)
getstrlens=: 3 : 0
+/\ (Chars i. y) { Widths
)
MSungLight_Ascender=: 826
MSungLight_FontBBox=: _260 _174 1043 826
MSungLight_CharMetrics=: ,: 0 600 92 38 503 520

MSungLight_FontMetrics=: 0 : 0
Ascender=: 826
CapHeight=: 625
Descender=: -174
FontBBox=: _260 _174 1043 826
)
STSongLight_Ascender=: 826
STSongLight_FontBBox=: _260 _174 1043 826
STSongLight_CharMetrics=: ,: 0 600 92 38 503 520

STSongLight_FontMetrics=: 0 : 0
Ascender=: 826
CapHeight=: 625
Descender=: -174
FontBBox=: _260 _174 1043 826
)
Courier_Ascender=: 629

Courier_FontBBox=: _23 _250 715 805

Courier_UnderlinePosition=: _100

Courier_UnderlineThickness=: 50

Courier_FontMetrics=: 0 : 0
Ascender=: 629
CapHeight=: 562
Descender=: _157
FontBBox=: _23 _250 715 805
StdHW=: 51
StdVW=: 51
UnderlinePosition=: _100
UnderlineThickness=: 50
XHeight=: 426
)

Courier_CharMetrics=: 0 ". [;._2 (0 : 0)
  0 600  92   38 503 520
 32 600   0    0   0   0
 33 600 236  _15 364 572
 34 600 187  328 413 562
 35 600  93  _32 507 639
 36 600 105 _126 496 662
 37 600  81  _15 518 622
 38 600  63  _15 538 543
 39 600 213  328 376 562
 40 600 269 _108 440 622
 41 600 160 _108 331 622
 42 600 116  257 484 607
 43 600  80   44 520 470
 44 600 181 _112 344 122
 45 600 103  231 497 285
 46 600 229  _15 371 109
 47 600 125  _80 475 629
 48 600 106  _15 494 622
 49 600  96    0 505 622
 50 600  70    0 471 622
 51 600  75  _15 466 622
 52 600  78    0 500 622
 53 600  92  _15 497 607
 54 600 111  _15 497 622
 55 600  82    0 483 607
 56 600 102  _15 498 622
 57 600  96  _15 489 622
 58 600 229  _15 371 385
 59 600 181 _112 371 385
 60 600  41   42 519 472
 61 600  80  138 520 376
 62 600  66   42 544 472
 63 600 129  _15 492 572
 64 600  77  _15 533 622
 65 600   3    0 597 562
 66 600  43    0 559 562
 67 600  41  _18 540 580
 68 600  43    0 574 562
 69 600  53    0 550 562
 70 600  53    0 545 562
 71 600  31  _18 575 580
 72 600  32    0 568 562
 73 600  96    0 504 562
 74 600  34  _18 566 562
 75 600  38    0 582 562
 76 600  47    0 554 562
 77 600   4    0 596 562
 78 600   7  _13 593 562
 79 600  43  _18 557 580
 80 600  79    0 558 562
 81 600  43 _138 557 580
 82 600  38    0 588 562
 83 600  72  _20 529 580
 84 600  38    0 563 562
 85 600  17  _18 583 562
 86 600  _4  _13 604 562
 87 600  _3  _13 603 562
 88 600  23    0 577 562
 89 600  24    0 576 562
 90 600  86    0 514 562
 91 600 269 _108 442 622
 92 600 118  _80 482 629
 93 600 158 _108 331 622
 94 600  94  354 506 622
 95 600   0 _125 600 _75
 96 600 224  328 387 562
 97 600  53  _15 559 441
 98 600  14  _15 575 629
 99 600  66  _15 529 441
100 600  45  _15 591 629
101 600  66  _15 548 441
102 600 114    0 531 629
103 600  45 _157 566 441
104 600  18    0 582 629
105 600  95    0 505 657
106 600  82 _157 410 657
107 600  43    0 580 629
108 600  95    0 505 629
109 600  _5    0 605 441
110 600  26    0 575 441
111 600  62  _15 538 441
112 600   9 _157 555 441
113 600  45 _157 591 441
114 600  60    0 559 441
115 600  80  _15 513 441
116 600  87  _15 530 561
117 600  21  _15 562 426
118 600  10  _10 590 426
119 600  _4  _10 604 426
120 600  20    0 580 426
121 600   7 _157 592 426
122 600  99    0 502 426
123 600 182 _108 437 622
124 600 275 _250 326 750
125 600 163 _108 418 622
126 600  63  197 540 320
161 600 236 _157 364 430
162 600  96  _49 500 614
163 600  84  _21 521 611
164 600  92  _57 509 665
165 600  26    0 574 562
166 600   4 _143 539 622
167 600 113  _78 488 580
168 600  73   58 527 506
169 600 259  328 341 562
170 600 143  328 471 562
171 600  37   70 563 446
172 600 149   70 451 446
173 600 149   70 451 446
174 600   3    0 597 629
175 600   3    0 597 629
177 600  75  231 525 285
178 600 141  _78 459 580
179 600 141  _78 459 580
180 600 222  189 378 327
182 600  50  _78 511 562
183 600 172  130 428 383
184 600 213 _134 376 100
185 600 143 _134 457 100
186 600 143  328 457 562
187 600  37   70 563 446
188 600  37  _15 563 111
189 600   3  _15 600 622
191 600 108 _157 471 430
193 600 151  497 378 672
194 600 242  497 469 672
195 600 124  477 476 654
196 600 105  489 503 606
197 600 120  525 480 565
198 600 153  501 447 609
199 600 249  537 352 640
200 600 148  537 453 640
202 600 218  463 382 627
203 600 224 _151 362  10
205 600 133  497 540 672
206 600 211 _172 407   4
207 600 124  492 476 669
208 600   0  231 600 285
225 600   3    0 550 562
227 600 156  249 442 580
232 600  47    0 554 562
233 600  43  _80 557 629
234 600   7    0 567 562
235 600 157  249 443 580
241 600  19  _15 570 441
245 600  95    0 505 426
248 600  95    0 505 629
249 600  62  _80 538 506
250 600  19  _15 559 441
251 600  48  _15 588 629
)
CourierBold_Ascender=: 629

CourierBold_FontBBox=: _113 _250 749 801

CourierBold_UnderlinePosition=: _100

CourierBold_UnderlineThickness=: 50

CourierBold_FontMetrics=: 0 : 0
Ascender=: 629
CapHeight=: 562
Descender=: _157
FontBBox=: _113 _250 749 801
StdHW=: 84
StdVW=: 106
UnderlinePosition=: _100
UnderlineThickness=: 50
XHeight=: 439
)

CourierBold_CharMetrics=: 0 ". [;._2 (0 : 0)
  0 600   68   34 525 525
 32 600    0    0   0   0
 33 600  202  _15 398 572
 34 600  135  277 465 562
 35 600   56  _45 544 651
 36 600   82 _126 519 666
 37 600    5  _15 595 616
 38 600   36  _15 546 543
 39 600  171  277 423 562
 40 600  219 _102 461 616
 41 600  139 _102 381 616
 42 600   91  219 509 601
 43 600   71   39 529 478
 44 600  123 _111 393 174
 45 600  100  203 500 313
 46 600  192  _15 408 171
 47 600   98  _77 502 626
 48 600   87  _15 513 616
 49 600   81    0 539 616
 50 600   61    0 499 616
 51 600   63  _15 501 616
 52 600   53    0 507 616
 53 600   70  _15 521 601
 54 600   90  _15 521 616
 55 600   55    0 494 601
 56 600   83  _15 517 616
 57 600   79  _15 510 616
 58 600  191  _15 407 425
 59 600  123 _111 408 425
 60 600   66   15 523 501
 61 600   71  118 529 398
 62 600   77   15 534 501
 63 600   98  _14 501 580
 64 600   16  _15 584 616
 65 600   _9    0 609 562
 66 600   30    0 573 562
 67 600   22  _18 560 580
 68 600   30    0 594 562
 69 600   25    0 560 562
 70 600   39    0 570 562
 71 600   22  _18 594 580
 72 600   20    0 580 562
 73 600   77    0 523 562
 74 600   37  _18 601 562
 75 600   21    0 599 562
 76 600   39    0 578 562
 77 600   _2    0 602 562
 78 600    8  _12 610 562
 79 600   22  _18 578 580
 80 600   48    0 559 562
 81 600   32 _138 578 580
 82 600   24    0 599 562
 83 600   47  _22 553 582
 84 600   21    0 579 562
 85 600    4  _18 596 562
 86 600  _13    0 613 562
 87 600  _18    0 618 562
 88 600   12    0 588 562
 89 600   12    0 589 562
 90 600   62    0 539 562
 91 600  245 _102 475 616
 92 600   99  _77 503 626
 93 600  125 _102 355 616
 94 600  108  250 492 616
 95 600    0 _125 600 _75
 96 600  178  277 428 562
 97 600   35  _15 570 454
 98 600    0  _15 584 626
 99 600   40  _15 545 459
100 600   20  _15 591 626
101 600   40  _15 563 454
102 600   83    0 547 626
103 600   30 _146 580 454
104 600    5    0 592 626
105 600   77    0 523 658
106 600   63 _146 440 658
107 600   20    0 585 626
108 600   77    0 523 626
109 600  _22    0 626 454
110 600   18    0 592 454
111 600   30  _15 570 454
112 600   _1 _142 570 454
113 600   20 _142 591 454
114 600   47    0 580 454
115 600   68  _17 535 459
116 600   47  _15 532 562
117 600   _1  _15 569 439
118 600   _1    0 601 439
119 600  _18    0 618 439
120 600    6    0 594 439
121 600   _4 _142 601 439
122 600   81    0 520 439
123 600  160 _102 464 616
124 600  255 _250 345 750
125 600  136 _102 440 616
126 600   71  153 530 356
161 600  202 _146 398 449
162 600   66  _49 518 614
163 600   72  _28 558 611
164 600   25  _60 576 661
165 600   10    0 590 562
166 600  _30 _131 572 616
167 600   83  _70 517 580
168 600   54   49 546 517
169 600  227  277 373 562
170 600   71  277 535 562
171 600    8   70 553 446
172 600  141   70 459 446
173 600  141   70 459 446
174 600   12    0 593 626
175 600   12    0 593 626
177 600   65  203 535 313
178 600  106  _70 494 580
179 600  106  _70 494 580
180 600  196  165 404 351
182 600    6  _70 576 580
183 600  140  132 460 430
184 600  175 _142 427 143
185 600   65 _142 529 143
186 600   61  277 525 562
187 600   47   70 592 446
188 600   26  _15 574 116
189 600 _113  _15 713 616
191 600   99 _146 502 449
193 600  132  508 395 661
194 600  205  508 468 661
195 600  103  483 497 657
196 600   89  493 512 636
197 600   88  505 512 585
198 600   83  468 517 631
199 600  230  498 370 638
200 600  128  498 472 638
202 600  198  481 402 678
203 600  205 _206 387   0
205 600   68  488 588 661
206 600  169 _199 400   0
207 600  103  493 497 667
208 600  _10  203 610 313
225 600  _29    0 602 562
227 600  147  196 453 580
232 600   39    0 578 562
233 600   22  _22 578 584
234 600  _25    0 595 562
235 600  147  196 453 580
241 600   _4  _15 601 454
245 600   77    0 523 439
248 600   77    0 523 626
249 600   30  _24 570 463
250 600  _18  _15 611 454
251 600   22  _15 596 626
)
CourierBoldOblique_Ascender=: 629

CourierBoldOblique_FontBBox=: _57 _250 869 801

CourierBoldOblique_UnderlinePosition=: _100

CourierBoldOblique_UnderlineThickness=: 50

CourierBoldOblique_FontMetrics=: 0 : 0
Ascender=: 629
CapHeight=: 562
Descender=: _157
FontBBox=: _57 _250 869 801
StdHW=: 84
StdVW=: 106
UnderlinePosition=: _100
UnderlineThickness=: 50
XHeight=: 439
)

CourierBoldOblique_CharMetrics=: 0 ". [;._2 (0 : 0)
  0 600 101   34 605 525
 32 600   0    0   0   0
 33 600 215  _15 495 572
 34 600 211  277 585 562
 35 600  88  _45 641 651
 36 600  87 _126 630 666
 37 600 101  _15 625 616
 38 600  61  _15 595 543
 39 600 229  277 543 562
 40 600 265 _102 592 616
 41 600 117 _102 444 616
 42 600 179  219 598 601
 43 600 114   39 596 478
 44 600  99 _111 430 174
 45 600 143  203 567 313
 46 600 206  _15 427 171
 47 600  90  _77 626 626
 48 600 135  _15 593 616
 49 600  93    0 562 616
 50 600  61    0 594 616
 51 600  71  _15 571 616
 52 600  81    0 559 616
 53 600  77  _15 621 601
 54 600 135  _15 652 616
 55 600 147    0 622 601
 56 600 115  _15 604 616
 57 600  75  _15 592 616
 58 600 205  _15 480 425
 59 600  99 _111 481 425
 60 600 120   15 613 501
 61 600  96  118 614 398
 62 600  97   15 589 501
 63 600 183  _14 592 580
 64 600  65  _15 642 616
 65 600  _9    0 632 562
 66 600  30    0 630 562
 67 600  74  _18 675 580
 68 600  30    0 664 562
 69 600  25    0 670 562
 70 600  39    0 684 562
 71 600  74  _18 675 580
 72 600  20    0 700 562
 73 600  77    0 643 562
 74 600  58  _18 721 562
 75 600  21    0 692 562
 76 600  39    0 636 562
 77 600  _2    0 722 562
 78 600   8  _12 730 562
 79 600  74  _18 645 580
 80 600  48    0 643 562
 81 600  83 _138 636 580
 82 600  24    0 617 562
 83 600  54  _22 673 582
 84 600  86    0 679 562
 85 600 101  _18 716 562
 86 600  84    0 733 562
 87 600  79    0 738 562
 88 600  12    0 690 562
 89 600 109    0 709 562
 90 600  62    0 637 562
 91 600 223 _102 606 616
 92 600 222  _77 496 626
 93 600 103 _102 486 616
 94 600 171  250 556 616
 95 600 _27 _125 585 _75
 96 600 297  277 487 562
 97 600  61  _15 593 454
 98 600  13  _15 636 626
 99 600  81  _15 631 459
100 600  60  _15 645 626
101 600  81  _15 605 454
102 600  83    0 677 626
103 600  40 _146 674 454
104 600  18    0 615 626
105 600  77    0 546 658
106 600  36 _146 580 658
107 600  33    0 643 626
108 600  77    0 546 626
109 600 _22    0 649 454
110 600  18    0 615 454
111 600  71  _15 622 454
112 600 _32 _142 622 454
113 600  60 _142 685 454
114 600  47    0 655 454
115 600  66  _17 608 459
116 600 118  _15 567 562
117 600  70  _15 592 439
118 600  70    0 695 439
119 600  53    0 712 439
120 600   6    0 671 439
121 600 _21 _142 695 439
122 600  81    0 614 439
123 600 203 _102 595 616
124 600 201 _250 505 750
125 600 114 _102 506 616
126 600 120  153 590 356
161 600 196 _146 477 449
162 600 121  _49 605 614
163 600 106  _28 650 611
164 600  22  _60 708 661
165 600  98    0 710 562
166 600 _57 _131 702 616
167 600  74  _70 620 580
168 600  77   49 644 517
169 600 303  277 493 562
170 600 190  277 594 562
171 600  62   70 639 446
172 600 195   70 545 446
173 600 165   70 514 446
174 600  12    0 644 626
175 600  12    0 644 626
177 600 108  203 602 313
178 600 175  _70 586 580
179 600 121  _70 587 580
180 600 248  165 461 351
182 600  61  _70 700 580
183 600 196  132 523 430
184 600 144 _142 458 143
185 600  34 _142 560 143
186 600 119  277 645 562
187 600  71   70 647 446
188 600  35  _15 587 116
189 600 _45  _15 743 616
191 600 100 _146 509 449
193 600 272  508 503 661
194 600 312  508 609 661
195 600 212  483 607 657
196 600 199  493 643 636
197 600 195  505 637 585
198 600 217  468 652 631
199 600 348  498 493 638
200 600 246  498 595 638
202 600 319  481 528 678
203 600 168 _206 368   0
205 600 171  488 729 661
206 600 143 _199 367   0
207 600 238  493 633 667
208 600  33  203 677 313
225 600 _29    0 708 562
227 600 188  196 526 580
232 600  39    0 636 562
233 600  48  _22 673 584
234 600  26    0 701 562
235 600 188  196 543 580
241 600  21  _15 652 454
245 600  77    0 546 439
248 600  77    0 587 626
249 600  54  _24 638 463
250 600  18  _15 662 454
251 600  22  _15 629 626
)
CourierOblique_Ascender=: 629

CourierOblique_FontBBox=: _27 _250 849 805

CourierOblique_UnderlinePosition=: _100

CourierOblique_UnderlineThickness=: 50

CourierOblique_FontMetrics=: 0 : 0
Ascender=: 629
CapHeight=: 562
Descender=: _157
FontBBox=: _27 _250 849 805
StdHW=: 51
StdVW=: 51
UnderlinePosition=: _100
UnderlineThickness=: 50
XHeight=: 426
)

CourierOblique_CharMetrics=: 0 ". [;._2 (0 : 0)
  0 600 125   38 580 520
 32 600   0    0   0   0
 33 600 243  _15 464 572
 34 600 273  328 532 562
 35 600 133  _32 596 639
 36 600 108 _126 596 662
 37 600 134  _15 599 622
 38 600  87  _15 580 543
 39 600 283  328 495 562
 40 600 313 _108 572 622
 41 600 137 _108 396 622
 42 600 212  257 580 607
 43 600 129   44 580 470
 44 600 157 _112 370 122
 45 600 152  231 558 285
 46 600 238  _15 382 109
 47 600 112  _80 604 629
 48 600 154  _15 575 622
 49 600  98    0 515 622
 50 600  70    0 568 622
 51 600  82  _15 538 622
 52 600 108    0 541 622
 53 600  99  _15 589 607
 54 600 155  _15 629 622
 55 600 182    0 612 607
 56 600 132  _15 588 622
 57 600  93  _15 574 622
 58 600 238  _15 441 385
 59 600 157 _112 441 385
 60 600  96   42 610 472
 61 600 109  138 600 376
 62 600  85   42 599 472
 63 600 222  _15 583 572
 64 600 127  _15 582 622
 65 600   3    0 607 562
 66 600  43    0 616 562
 67 600  93  _18 655 580
 68 600  43    0 645 562
 69 600  53    0 660 562
 70 600  53    0 660 562
 71 600  83  _18 645 580
 72 600  32    0 687 562
 73 600  96    0 623 562
 74 600  52  _18 685 562
 75 600  38    0 671 562
 76 600  47    0 607 562
 77 600   4    0 715 562
 78 600   7  _13 712 562
 79 600  94  _18 625 580
 80 600  79    0 644 562
 81 600  95 _138 625 580
 82 600  38    0 598 562
 83 600  76  _20 650 580
 84 600 108    0 665 562
 85 600 125  _18 702 562
 86 600 105  _13 723 562
 87 600 106  _13 722 562
 88 600  23    0 675 562
 89 600 133    0 695 562
 90 600  86    0 610 562
 91 600 246 _108 574 622
 92 600 249  _80 468 629
 93 600 135 _108 463 622
 94 600 175  354 587 622
 95 600 _27 _125 584 _75
 96 600 343  328 457 562
 97 600  76  _15 569 441
 98 600  29  _15 625 629
 99 600 106  _15 608 441
100 600  85  _15 640 629
101 600 106  _15 598 441
102 600 114    0 662 629
103 600  61 _157 657 441
104 600  33    0 592 629
105 600  95    0 515 657
106 600  52 _157 550 657
107 600  58    0 633 629
108 600  95    0 515 629
109 600  _5    0 615 441
110 600  26    0 585 441
111 600 102  _15 588 441
112 600 _24 _157 605 441
113 600  85 _157 682 441
114 600  60    0 636 441
115 600  78  _15 584 441
116 600 167  _15 561 561
117 600 101  _15 572 426
118 600  90  _10 681 426
119 600  76  _10 695 426
120 600  20    0 655 426
121 600  _4 _157 683 426
122 600  99    0 593 426
123 600 233 _108 569 622
124 600 222 _250 485 750
125 600 140 _108 477 622
126 600 116  197 600 320
161 600 225 _157 445 430
162 600 151  _49 588 614
163 600 124  _21 621 611
164 600  84  _57 646 665
165 600 120    0 693 562
166 600 _26 _143 671 622
167 600 104  _78 590 580
168 600  94   58 628 506
169 600 345  328 460 562
170 600 262  328 541 562
171 600  92   70 652 446
172 600 204   70 540 446
173 600 170   70 506 446
174 600   3    0 619 629
175 600   3    0 619 629
177 600 124  231 586 285
178 600 217  _78 546 580
179 600 163  _78 546 580
180 600 275  189 434 327
182 600 100  _78 630 562
183 600 224  130 485 383
184 600 185 _134 397 100
185 600 115 _134 478 100
186 600 213  328 576 562
187 600  58   70 618 446
188 600  46  _15 575 111
189 600  59  _15 627 622
191 600 105 _157 466 430
193 600 294  497 484 672
194 600 348  497 612 672
195 600 229  477 581 654
196 600 212  489 629 606
197 600 232  525 600 565
198 600 279  501 576 609
199 600 373  537 478 640
200 600 272  537 579 640
202 600 332  463 500 627
203 600 197 _151 344  10
205 600 239  497 683 672
206 600 189 _172 377   4
207 600 262  492 614 669
208 600  49  231 661 285
225 600   3    0 655 562
227 600 209  249 512 580
232 600  47    0 607 562
233 600  94  _80 625 629
234 600  59    0 672 562
235 600 210  249 535 580
241 600  41  _15 626 441
245 600  95    0 515 426
248 600  95    0 587 629
249 600 102  _80 588 506
250 600  54  _15 615 441
251 600  48  _15 617 629
)
Helvetica_Ascender=: 718

Helvetica_FontBBox=: _166 _225 1000 931

Helvetica_UnderlinePosition=: _100

Helvetica_UnderlineThickness=: 50

Helvetica_FontMetrics=: 0 : 0
Ascender=: 718
CapHeight=: 718
Descender=: _207
FontBBox=: _166 _225 1000 931
StdHW=: 76
StdVW=: 88
UnderlinePosition=: _100
UnderlineThickness=: 50
XHeight=: 523
)

Helvetica_CharMetrics=: 0 ". [;._2 (0 : 0)
  0  513   44   47  468 618
 32  278    0    0    0   0
 33  278   90    0  187 718
 34  355   70  463  285 718
 35  556   28    0  529 688
 36  556   32 _115  520 775
 37  889   39  _19  850 703
 38  667   44  _15  645 718
 39  222   53  463  157 718
 40  333   68 _207  299 733
 41  333   34 _207  265 733
 42  389   39  431  349 718
 43  584   39    0  545 505
 44  278   87 _147  191 106
 45  333   44  232  289 322
 46  278   87    0  191 106
 47  278  _17  _19  295 737
 48  556   37  _19  519 703
 49  556  101    0  359 703
 50  556   26    0  507 703
 51  556   34  _19  522 703
 52  556   25    0  523 703
 53  556   32  _19  514 688
 54  556   38  _19  518 703
 55  556   37    0  523 688
 56  556   38  _19  517 703
 57  556   42  _19  514 703
 58  278   87    0  191 516
 59  278   87 _147  191 516
 60  584   48   11  536 495
 61  584   39  115  545 390
 62  584   48   11  536 495
 63  556   56    0  492 727
 64 1015  147  _19  868 737
 65  667   14    0  654 718
 66  667   74    0  627 718
 67  722   44  _19  681 737
 68  722   81    0  674 718
 69  667   86    0  616 718
 70  611   86    0  583 718
 71  778   48  _19  704 737
 72  722   77    0  646 718
 73  278   91    0  188 718
 74  500   17  _19  428 718
 75  667   76    0  663 718
 76  556   76    0  537 718
 77  833   73    0  761 718
 78  722   76    0  646 718
 79  778   39  _19  739 737
 80  667   86    0  622 718
 81  778   39  _56  739 737
 82  722   88    0  684 718
 83  667   49  _19  620 737
 84  611   14    0  597 718
 85  722   79  _19  644 718
 86  667   20    0  647 718
 87  944   16    0  928 718
 88  667   19    0  648 718
 89  667   14    0  653 718
 90  611   23    0  588 718
 91  278   63 _196  250 722
 92  278  _17  _19  295 737
 93  278   28 _196  215 722
 94  469  _14  264  483 688
 95  556    0 _125  556 _75
 96  222   65  470  169 725
 97  556   36  _15  530 538
 98  556   58  _15  517 718
 99  500   30  _15  477 538
100  556   35  _15  499 718
101  556   40  _15  516 538
102  278   14    0  262 728
103  556   40 _220  499 538
104  556   65    0  491 718
105  222   67    0  155 718
106  222  _16 _210  155 718
107  500   67    0  501 718
108  222   67    0  155 718
109  833   65    0  769 538
110  556   65    0  491 538
111  556   35  _14  521 538
112  556   58 _207  517 538
113  556   35 _207  494 538
114  333   77    0  332 538
115  500   32  _15  464 538
116  278   14   _7  257 669
117  556   68  _15  489 523
118  500    8    0  492 523
119  722   14    0  709 523
120  500   11    0  490 523
121  500   11 _214  489 523
122  500   31    0  469 523
123  334   42 _196  292 722
124  260   94 _225  167 775
125  334   42 _196  292 722
126  584   61  180  523 326
161  333  118 _195  215 523
162  556   51 _115  513 623
163  556   33  _16  539 718
164  167 _166  _19  333 703
165  556    3    0  553 688
166  556  _11 _207  501 737
167  556   43 _191  512 737
168  556   28   99  528 603
169  191   59  463  132 718
170  333   38  470  307 725
171  556   97  108  459 446
172  333   88  108  245 446
173  333   88  108  245 446
174  500   14    0  434 728
175  500   14    0  432 728
177  556    0  240  556 313
178  556   43 _159  514 718
179  556   43 _159  514 718
180  278   77  190  202 315
182  537   18 _173  497 718
183  350   18  202  333 517
184  222   53 _149  157 106
185  333   26 _149  295 106
186  333   26  463  295 718
187  556   97  108  459 446
188 1000  115    0  885 106
189 1000    7  _19  994 703
191  611   91 _201  527 525
193  333   14  593  211 734
194  333  122  593  319 734
195  333   21  593  312 734
196  333   _4  606  337 722
197  333   10  627  323 684
198  333   13  595  321 731
199  333  121  604  212 706
200  333   40  604  293 706
202  333   75  572  259 756
203  333   45 _225  259   0
205  333   31  593  409 734
206  333   73 _225  287   0
207  333   21  593  312 734
208 1000    0  240 1000 313
225 1000    8    0  951 718
227  370   24  405  346 737
232  556  _20    0  537 718
233  778   39  _19  740 737
234 1000   36  _19  965 737
235  365   25  405  341 737
241  889   36  _15  847 538
245  278   95    0  183 523
248  222  _20    0  242 718
249  611   28  _22  537 545
250  944   35  _15  902 538
251  611   67  _15  571 728
)
HelveticaBold_Ascender=: 718

HelveticaBold_FontBBox=: _170 _228 1003 962

HelveticaBold_UnderlinePosition=: _100

HelveticaBold_UnderlineThickness=: 50

HelveticaBold_FontMetrics=: 0 : 0
Ascender=: 718
CapHeight=: 718
Descender=: _207
FontBBox=: _170 _228 1003 962
StdHW=: 118
StdVW=: 140
UnderlinePosition=: _100
UnderlineThickness=: 50
XHeight=: 532
)

HelveticaBold_CharMetrics=: 0 ". [;._2 (0 : 0)
  0  535   38   44  495 624
 32  278    0    0    0   0
 33  333   90    0  244 718
 34  474   98  447  376 718
 35  556   18    0  538 698
 36  556   30 _115  523 775
 37  889   28  _19  861 710
 38  722   54  _19  701 718
 39  278   69  445  209 718
 40  333   35 _208  314 734
 41  333   19 _208  298 734
 42  389   27  387  362 718
 43  584   40    0  544 506
 44  278   64 _168  214 146
 45  333   27  215  306 345
 46  278   64    0  214 146
 47  278  _33  _19  311 737
 48  556   32  _19  524 710
 49  556   69    0  378 710
 50  556   26    0  511 710
 51  556   27  _19  516 710
 52  556   27    0  526 710
 53  556   27  _19  516 698
 54  556   31  _19  520 710
 55  556   25    0  528 698
 56  556   32  _19  524 710
 57  556   30  _19  522 710
 58  333   92    0  242 512
 59  333   92 _168  242 512
 60  584   38   _8  546 514
 61  584   40   87  544 419
 62  584   38   _8  546 514
 63  611   60    0  556 727
 64  975  118  _19  856 737
 65  722   20    0  702 718
 66  722   76    0  669 718
 67  722   44  _19  684 737
 68  722   76    0  685 718
 69  667   76    0  621 718
 70  611   76    0  587 718
 71  778   44  _19  713 737
 72  722   71    0  651 718
 73  278   64    0  214 718
 74  556   22  _18  484 718
 75  722   87    0  722 718
 76  611   76    0  583 718
 77  833   69    0  765 718
 78  722   69    0  654 718
 79  778   44  _19  734 737
 80  667   76    0  627 718
 81  778   44  _52  737 737
 82  722   76    0  677 718
 83  667   39  _19  629 737
 84  611   14    0  598 718
 85  722   72  _19  651 718
 86  667   19    0  648 718
 87  944   16    0  929 718
 88  667   14    0  653 718
 89  667   15    0  653 718
 90  611   25    0  586 718
 91  333   63 _196  309 722
 92  278  _33  _19  311 737
 93  333   24 _196  270 722
 94  584   62  323  522 698
 95  556    0 _125  556 _75
 96  278   69  454  209 727
 97  556   29  _14  527 546
 98  611   61  _14  578 718
 99  556   34  _14  524 546
100  611   34  _14  551 718
101  556   23  _14  528 546
102  333   10    0  318 727
103  611   40 _217  553 546
104  611   65    0  546 718
105  278   69    0  209 725
106  278    3 _214  209 725
107  556   69    0  562 718
108  278   69    0  209 718
109  889   64    0  826 546
110  611   65    0  546 546
111  611   34  _14  578 546
112  611   62 _207  578 546
113  611   34 _207  552 546
114  389   64    0  373 546
115  556   30  _14  519 546
116  333   10   _6  309 676
117  611   66  _14  545 532
118  556   13    0  543 532
119  778   10    0  769 532
120  556   15    0  541 532
121  556   10 _214  539 532
122  500   20    0  480 532
123  389   48 _196  365 722
124  280   84 _225  196 775
125  389   24 _196  341 722
126  584   61  163  523 343
161  333   90 _186  244 532
162  556   34 _118  524 628
163  556   28  _16  541 718
164  167 _170  _19  336 710
165  556   _9    0  565 698
166  556  _10 _210  516 737
167  556   34 _184  522 727
168  556   _3   76  559 636
169  238   70  447  168 718
170  500   64  454  436 727
171  556   88   76  468 484
172  333   83   76  250 484
173  333   83   76  250 484
174  611   10    0  542 727
175  611   10    0  542 727
177  556    0  227  556 333
178  556   36 _171  520 718
179  556   36 _171  520 718
180  278   58  172  220 334
182  556   _8 _191  539 700
183  350   10  194  340 524
184  278   69 _146  209 127
185  500   64 _146  436 127
186  500   64  445  436 718
187  556   88   76  468 484
188 1000   92    0  908 146
189 1000   _3  _19 1003 710
191  611   55 _195  551 532
193  333  _23  604  225 750
194  333  108  604  356 750
195  333  _10  604  343 750
196  333  _17  610  350 737
197  333   _6  604  339 678
198  333   _2  604  335 750
199  333  104  614  230 729
200  333    6  614  327 729
202  333   59  568  275 776
203  333    6 _228  245   0
205  333    9  604  486 750
206  333   71 _228  304   0
207  333  _10  604  343 750
208 1000    0  227 1000 333
225 1000    5    0  954 718
227  370   22  401  347 737
232  611  _20    0  583 718
233  778   33  _27  744 745
234 1000   37  _19  961 737
235  365    6  401  360 737
241  889   29  _14  858 546
245  278   69    0  209 532
248  278  _18    0  296 718
249  611   22  _29  589 560
250  944   34  _14  912 546
251  611   69  _14  579 731
)
HelveticaBoldOblique_Ascender=: 718

HelveticaBoldOblique_FontBBox=: _174 _228 1114 962

HelveticaBoldOblique_UnderlinePosition=: _100

HelveticaBoldOblique_UnderlineThickness=: 50

HelveticaBoldOblique_FontMetrics=: 0 : 0
Ascender=: 718
CapHeight=: 718
Descender=: _207
FontBBox=: _174 _228 1114 962
StdHW=: 118
StdVW=: 140
UnderlinePosition=: _100
UnderlineThickness=: 50
XHeight=: 532
)

HelveticaBoldOblique_CharMetrics=: 0 ". [;._2 (0 : 0)
  0  535   80   44  600 624
 32  278    0    0    0   0
 33  333   94    0  397 718
 34  474  193  447  529 718
 35  556   60    0  644 698
 36  556   67 _115  622 775
 37  889  136  _19  901 710
 38  722   89  _19  732 718
 39  278  167  445  362 718
 40  333   76 _208  470 734
 41  333  _25 _208  369 734
 42  389  146  387  481 718
 43  584   82    0  610 506
 44  278   28 _168  245 146
 45  333   73  215  379 345
 46  278   64    0  245 146
 47  278  _37  _19  468 737
 48  556   86  _19  617 710
 49  556  173    0  529 710
 50  556   26    0  619 710
 51  556   65  _19  608 710
 52  556   60    0  598 710
 53  556   64  _19  636 698
 54  556   85  _19  619 710
 55  556  125    0  676 698
 56  556   69  _19  616 710
 57  556   78  _19  615 710
 58  333   92    0  351 512
 59  333   56 _168  351 512
 60  584   82   _8  655 514
 61  584   58   87  633 419
 62  584   36   _8  609 514
 63  611  165    0  671 727
 64  975  186  _19  954 737
 65  722   20    0  702 718
 66  722   76    0  764 718
 67  722  107  _19  789 737
 68  722   76    0  777 718
 69  667   76    0  757 718
 70  611   76    0  740 718
 71  778  108  _19  817 737
 72  722   71    0  804 718
 73  278   64    0  367 718
 74  556   60  _18  637 718
 75  722   87    0  858 718
 76  611   76    0  611 718
 77  833   69    0  918 718
 78  722   69    0  807 718
 79  778  107  _19  823 737
 80  667   76    0  738 718
 81  778  107  _52  823 737
 82  722   76    0  778 718
 83  667   81  _19  718 737
 84  611  140    0  751 718
 85  722  116  _19  804 718
 86  667  172    0  801 718
 87  944  169    0 1082 718
 88  667   14    0  791 718
 89  667  168    0  806 718
 90  611   25    0  737 718
 91  333   21 _196  462 722
 92  278  124  _19  307 737
 93  333  _18 _196  423 722
 94  584  131  323  591 698
 95  556  _27 _125  540 _75
 96  278  165  454  361 727
 97  556   55  _14  583 546
 98  611   61  _14  645 718
 99  556   79  _14  599 546
100  611   82  _14  704 718
101  556   70  _14  593 546
102  333   87    0  469 727
103  611   38 _217  666 546
104  611   65    0  629 718
105  278   69    0  363 725
106  278  _42 _214  363 725
107  556   69    0  670 718
108  278   69    0  362 718
109  889   64    0  909 546
110  611   65    0  629 546
111  611   82  _14  643 546
112  611   18 _207  645 546
113  611   80 _207  665 546
114  389   64    0  489 546
115  556   63  _14  584 546
116  333  100   _6  422 676
117  611   98  _14  658 532
118  556  126    0  656 532
119  778  123    0  882 532
120  556   15    0  648 532
121  556   42 _214  652 532
122  500   20    0  583 532
123  389   94 _196  518 722
124  280   36 _225  361 775
125  389  _18 _196  407 722
126  584  115  163  577 343
161  333   50 _186  353 532
162  556   79 _118  599 628
163  556   50  _16  635 718
164  167 _174  _19  487 710
165  556   60    0  713 698
166  556  _50 _210  669 737
167  556   61 _184  598 727
168  556   27   76  680 636
169  238  165  447  321 718
170  500  160  454  588 727
171  556  135   76  571 484
172  333  130   76  353 484
173  333   99   76  322 484
174  611   87    0  696 727
175  611   87    0  695 727
177  556   48  227  627 333
178  556  118 _171  626 718
179  556   46 _171  628 718
180  278  110  172  276 334
182  556   98 _191  688 700
183  350   83  194  420 524
184  278   41 _146  236 127
185  500   36 _146  463 127
186  500  162  445  589 718
187  556  104   76  540 484
188 1000   92    0  939 146
189 1000   76  _19 1038 710
191  611   53 _195  559 532
193  333  136  604  353 750
194  333  236  604  515 750
195  333  118  604  471 750
196  333  113  610  507 737
197  333  122  604  483 678
198  333  156  604  494 750
199  333  235  614  385 729
200  333  137  614  482 729
202  333  200  568  420 776
203  333  _37 _228  220   0
205  333  137  604  645 750
206  333   41 _228  264   0
207  333  149  604  502 750
208 1000   48  227 1071 333
225 1000    5    0 1100 718
227  370  125  401  465 737
232  611   34    0  611 718
233  778   35  _27  894 745
234 1000   99  _19 1114 737
235  365  123  401  485 737
241  889   56  _14  923 546
245  278   69    0  322 532
248  278   40    0  407 718
249  611   22  _29  701 560
250  944   82  _14  977 546
251  611   69  _14  657 731
)
HelveticaOblique_Ascender=: 718

HelveticaOblique_FontBBox=: _170 _225 1116 931

HelveticaOblique_UnderlinePosition=: _100

HelveticaOblique_UnderlineThickness=: 50

HelveticaOblique_FontMetrics=: 0 : 0
Ascender=: 718
CapHeight=: 718
Descender=: _207
FontBBox=: _170 _225 1116 931
StdHW=: 76
StdVW=: 88
UnderlinePosition=: _100
UnderlineThickness=: 50
XHeight=: 523
)

HelveticaOblique_CharMetrics=: 0 ". [;._2 (0 : 0)
  0  513   85   47  570 618
 32  278    0    0    0   0
 33  278   90    0  340 718
 34  355  168  463  438 718
 35  556   73    0  631 688
 36  556   69 _115  617 775
 37  889  147  _19  889 703
 38  667   77  _15  647 718
 39  222  151  463  310 718
 40  333  108 _207  454 733
 41  333   _9 _207  337 733
 42  389  165  431  475 718
 43  584   85    0  606 505
 44  278   56 _147  214 106
 45  333   93  232  357 322
 46  278   87    0  214 106
 47  278  _21  _19  452 737
 48  556   93  _19  608 703
 49  556  207    0  508 703
 50  556   26    0  617 703
 51  556   75  _19  610 703
 52  556   61    0  576 703
 53  556   68  _19  621 688
 54  556   91  _19  615 703
 55  556  137    0  669 688
 56  556   74  _19  607 703
 57  556   82  _19  609 703
 58  278   87    0  301 516
 59  278   56 _147  301 516
 60  584   94   11  641 495
 61  584   63  115  628 390
 62  584   50   11  597 495
 63  556  161    0  610 727
 64 1015  215  _19  965 737
 65  667   14    0  654 718
 66  667   74    0  712 718
 67  722  108  _19  782 737
 68  722   81    0  764 718
 69  667   86    0  762 718
 70  611   86    0  736 718
 71  778  111  _19  799 737
 72  722   77    0  799 718
 73  278   91    0  341 718
 74  500   47  _19  581 718
 75  667   76    0  808 718
 76  556   76    0  555 718
 77  833   73    0  914 718
 78  722   76    0  799 718
 79  778  105  _19  826 737
 80  667   86    0  737 718
 81  778  105  _56  826 737
 82  722   88    0  773 718
 83  667   90  _19  713 737
 84  611  148    0  750 718
 85  722  123  _19  797 718
 86  667  173    0  800 718
 87  944  169    0 1081 718
 88  667   19    0  790 718
 89  667  167    0  806 718
 90  611   23    0  741 718
 91  278   21 _196  403 722
 92  278  140  _19  291 737
 93  278  _14 _196  368 722
 94  469   42  264  539 688
 95  556  _27 _125  540 _75
 96  222  165  470  323 725
 97  556   61  _15  559 538
 98  556   58  _15  584 718
 99  500   74  _15  553 538
100  556   84  _15  652 718
101  556   84  _15  578 538
102  278   86    0  416 728
103  556   42 _220  610 538
104  556   65    0  573 718
105  222   67    0  308 718
106  222  _60 _210  308 718
107  500   67    0  600 718
108  222   67    0  308 718
109  833   65    0  852 538
110  556   65    0  573 538
111  556   83  _14  585 538
112  556   14 _207  584 538
113  556   84 _207  605 538
114  333   77    0  446 538
115  500   63  _15  529 538
116  278  102   _7  368 669
117  556   94  _15  600 523
118  500  119    0  603 523
119  722  125    0  820 523
120  500   11    0  594 523
121  500   15 _214  600 523
122  500   31    0  571 523
123  334   92 _196  445 722
124  260   46 _225  332 775
125  334    0 _196  354 722
126  584  111  180  580 326
161  333   77 _195  326 523
162  556   95 _115  584 623
163  556   49  _16  634 718
164  167 _170  _19  482 703
165  556   81    0  699 688
166  556  _52 _207  654 737
167  556   76 _191  584 737
168  556   60   99  646 603
169  191  157  463  285 718
170  333  138  470  461 725
171  556  146  108  554 446
172  333  137  108  340 446
173  333  111  108  314 446
174  500   86    0  587 728
175  500   86    0  585 728
177  556   51  240  623 313
178  556  135 _159  622 718
179  556   52 _159  623 718
180  278  129  190  257 315
182  537  126 _173  650 718
183  350   91  202  413 517
184  222   21 _149  180 106
185  333   _6 _149  318 106
186  333  124  463  448 718
187  556  120  108  528 446
188 1000  115    0  908 106
189 1000   88  _19 1029 703
191  611   85 _201  534 525
193  333  170  593  337 734
194  333  248  593  475 734
195  333  147  593  438 734
196  333  125  606  490 722
197  333  143  627  468 684
198  333  167  595  476 731
199  333  249  604  362 706
200  333  168  604  443 706
202  333  214  572  402 756
203  333    2 _225  232   0
205  333  157  593  565 734
206  333   43 _225  249   0
207  333  177  593  468 734
208 1000   51  240 1067 313
225 1000    8    0 1097 718
227  370  127  405  449 737
232  556   41    0  555 718
233  778   43  _19  890 737
234 1000   98  _19 1116 737
235  365  141  405  468 737
241  889   61  _15  909 538
245  278   95    0  294 523
248  222   41    0  347 718
249  611   29  _22  647 545
250  944   83  _15  964 538
251  611   67  _15  658 728
)
Symbol_Ascender=: 650

Symbol_FontBBox=: _180 _293 1090 1010

Symbol_UnderlinePosition=: _100

Symbol_UnderlineThickness=: 50

Symbol_FontMetrics=: 0 : 0
FontBBox=: _180 _293 1090 1010
StdHW=: 92
StdVW=: 85
UnderlinePosition=: _100
UnderlineThickness=: 50
)

Symbol_CharMetrics=: 0 ". [;._2 (0 : 0)
  0  587   47  _29  547  638
 32  250    0    0    0    0
 33  333  128  _17  240  672
 34  713   31    0  681  705
 35  500   20  _16  481  673
 36  549   25    0  478  707
 37  833   63  _36  771  655
 38  778   41  _18  750  661
 39  439   48  _17  414  500
 40  333   53 _191  300  673
 41  333   30 _191  277  673
 42  500   65  134  427  551
 43  549   10    0  539  533
 44  250   56 _152  194  104
 45  549   11  233  535  288
 46  250   69  _17  181   95
 47  278    0  _18  254  646
 48  500   24  _14  476  685
 49  500  117    0  390  673
 50  500   25    0  475  685
 51  500   43  _14  435  685
 52  500   15    0  469  685
 53  500   32  _14  445  690
 54  500   34  _14  468  685
 55  500   24  _16  448  673
 56  500   56  _14  445  685
 57  500   30  _18  459  685
 58  278   81  _17  193  460
 59  278   83 _152  221  460
 60  549   26    0  523  522
 61  549   11  141  537  390
 62  549   26    0  523  522
 63  444   70  _17  412  686
 64  549   11    0  537  475
 65  722    4    0  684  673
 66  667   29    0  592  673
 67  722   _9    0  704  673
 68  612    6    0  608  688
 69  611   32    0  617  673
 70  763   26    0  741  673
 71  603   24    0  609  673
 72  722   39    0  729  673
 73  333   32    0  316  673
 74  631   18  _18  623  689
 75  722   35    0  722  673
 76  686    6    0  680  688
 77  889   28    0  887  673
 78  722   29   _8  720  673
 79  722   41  _17  715  685
 80  768   25    0  745  673
 81  741   41  _17  715  685
 82  556   28    0  563  673
 83  592    5    0  589  673
 84  611   33    0  607  673
 85  690   _8    0  694  673
 86  439   40 _233  436  500
 87  768   34    0  736  688
 88  645   40    0  599  673
 89  795   15    0  781  684
 90  611   44    0  636  673
 91  333   86 _155  299  674
 92  863  163    0  701  487
 93  333   33 _155  246  674
 94  658   15    0  652  674
 95  500   _2 _125  502  _75
 96  500  480  881 1090  917
 97  631   41  _18  622  500
 98  549   61 _223  515  741
 99  549   12 _231  522  499
100  494   40  _19  481  740
101  439   22  _19  427  502
102  521   28 _224  492  673
103  411    5 _225  484  499
104  603    0 _202  527  514
105  329    0  _17  301  503
106  603   36 _224  587  499
107  549   33    0  558  501
108  549   24  _17  548  739
109  576   33 _223  567  500
110  521   _9  _16  475  507
111  549   35  _19  501  499
112  549   10  _19  530  487
113  521   43  _17  485  690
114  549   50 _230  490  499
115  603   30  _21  588  500
116  439   10  _19  418  500
117  576    7  _18  535  507
118  713   12  _18  671  583
119  686   42  _17  684  500
120  493   27 _224  469  766
121  686   12 _228  701  500
122  494   60 _225  467  756
123  480   58 _183  397  673
124  200   65 _293  135  707
125  480   79 _183  418  673
126  549   17  203  529  307
160  750   20  _12  714  685
161  620   _2    0  610  685
162  247   27  459  228  735
163  549   29    0  526  639
164  167 _180  _12  340  677
165  713   26  124  688  404
166  500    2 _193  494  686
167  753   86  _26  660  533
168  753  142  _36  600  550
169  753  117  _33  631  532
170  753  113  _36  629  548
171 1042   24  _15 1024  511
172  987   32  _15  942  511
173  603   45    0  571  910
174  987   49  _15  959  511
175  603   45  _22  571  888
176  400   50  385  350  685
177  549   10    0  539  645
178  411   20  459  413  737
179  549   29    0  526  639
180  549   17    8  533  524
181  713   27  123  639  404
182  494   26  _20  462  746
183  460   50  113  410  473
184  549   10   71  536  456
185  549   15  _25  540  549
186  549   14   82  538  443
187  549   14  135  527  394
188 1000  111  _17  889   95
189  603  280 _120  336 1010
190 1000  _60  220 1050  276
191  658   15  _16  602  629
192  823  175  _18  661  658
193  686   10  _53  578  740
194  795   26  _15  759  734
195  987  159 _211  870  573
196  768   43  _17  733  673
197  768   43  _15  733  675
198  823   39  _24  781  719
199  768   40    0  732  509
200  768   40  _17  732  492
201  713   20    0  673  470
202  713   20 _125  673  470
203  713   36  _70  690  540
204  713   37    0  690  470
205  713   37 _125  690  470
206  713   45    0  505  468
207  713   45  _58  505  555
208  768   26    0  738  673
209  713   36  _19  681  718
210  790   50  _17  740  673
211  790   51  _15  741  675
212  890   18  293  855  673
213  823   25 _101  803  751
214  549   10  _38  515  917
215  250   69  210  169  310
216  713   15    0  680  288
217  603   23    0  583  454
218  603   30    0  578  477
219 1042   27  _20 1023  510
220  987   30  _15  939  513
221  603   39    2  567  911
222  987   45  _20  954  508
223  603   44  _19  572  890
224  494   18    0  466  745
225  329   25 _198  306  746
226  790   50  _20  740  670
227  790   49  _15  739  675
228  786    5  293  725  673
229  713   14 _108  695  752
230  384   24 _293  436  926
231  384   24  _85  108  925
232  384   24 _293  436  926
233  384    0  _80  349  926
234  384    0  _79   77  925
235  384    0  _80  349  926
236  494  209  _85  445  925
237  494   20  _85  284  935
238  494  209  _75  445  935
239  494  209  _85  284  935
241  329   21 _198  302  746
242  274    2 _107  291  916
243  686  308  _88  675  920
244  686  308  _88  378  975
245  686   11  _87  378  921
246  384   54 _293  466  926
247  384  382  _85  466  925
248  384   54 _293  466  926
249  384   22  _80  371  926
250  384  294  _79  371  925
251  384   22  _80  371  926
252  494   48  _85  284  925
253  494  209  _85  473  935
254  494   48  _75  284  935
)
TimesBold_Ascender=: 683

TimesBold_FontBBox=: _168 _218 1000 935

TimesBold_UnderlinePosition=: _100

TimesBold_UnderlineThickness=: 50

TimesBold_FontMetrics=: 0 : 0
Ascender=: 683
CapHeight=: 676
Descender=: _217
FontBBox=: _168 _218 1000 935
StdHW=: 44
StdVW=: 139
UnderlinePosition=: _100
UnderlineThickness=: 50
XHeight=: 461
)

TimesBold_CharMetrics=: 0 ". [;._2 (0 : 0)
  0  516   27   34  487 587
 32  250    0    0    0   0
 33  333   81  _13  251 691
 34  555   83  404  472 691
 35  500    4    0  496 700
 36  500   29  _99  472 750
 37 1000  124  _14  877 692
 38  833   62  _16  787 691
 39  333   79  356  263 691
 40  333   46 _168  306 694
 41  333   27 _168  287 694
 42  500   56  255  447 691
 43  570   33    0  537 506
 44  250   39 _180  223 155
 45  333   44  171  287 287
 46  250   41  _13  210 156
 47  278  _24  _19  302 691
 48  500   24  _13  476 688
 49  500   65    0  442 688
 50  500   17    0  478 688
 51  500   16  _14  468 688
 52  500   19    0  475 688
 53  500   22   _8  470 676
 54  500   28  _13  475 688
 55  500   17    0  477 676
 56  500   28  _13  472 688
 57  500   26  _13  473 688
 58  333   82  _13  251 472
 59  333   82 _180  266 472
 60  570   31   _8  539 514
 61  570   33  107  537 399
 62  570   31   _8  539 514
 63  500   57  _13  445 689
 64  930  108  _19  822 691
 65  722    9    0  689 690
 66  667   16    0  619 676
 67  722   49  _19  687 691
 68  722   14    0  690 676
 69  667   16    0  641 676
 70  611   16    0  583 676
 71  778   37  _19  755 691
 72  778   21    0  759 676
 73  389   20    0  370 676
 74  500    3  _96  479 676
 75  778   30    0  769 676
 76  667   19    0  638 676
 77  944   14    0  921 676
 78  722   16  _18  701 676
 79  778   35  _19  743 691
 80  611   16    0  600 676
 81  778   35 _176  743 691
 82  722   26    0  715 676
 83  556   35  _19  513 692
 84  667   31    0  636 676
 85  722   16  _19  701 676
 86  722   16  _18  701 676
 87 1000   19  _15  981 676
 88  722   16    0  699 676
 89  722   15    0  699 676
 90  667   28    0  634 676
 91  333   67 _149  301 678
 92  278  _25  _19  303 691
 93  333   32 _149  266 678
 94  581   73  311  509 676
 95  500    0 _125  500 _75
 96  333   70  356  254 691
 97  500   25  _14  488 473
 98  556   17  _14  521 676
 99  444   25  _14  430 473
100  556   25  _14  534 676
101  444   25  _14  426 473
102  333   14    0  389 691
103  500   28 _206  483 473
104  556   16    0  534 676
105  278   16    0  255 691
106  333  _57 _203  263 691
107  556   22    0  543 676
108  278   16    0  255 676
109  833   16    0  814 473
110  556   21    0  539 473
111  500   25  _14  476 473
112  556   19 _205  524 473
113  556   34 _205  536 473
114  444   29    0  434 473
115  389   25  _14  361 473
116  333   20  _12  332 630
117  556   16  _14  537 461
118  500   21  _14  485 461
119  722   23  _14  707 461
120  500   12    0  484 461
121  500   16 _205  480 461
122  444   21    0  420 461
123  394   22 _175  340 698
124  220   66 _218  154 782
125  394   54 _175  372 698
126  520   29  173  491 333
161  333   82 _203  252 501
162  500   53 _140  458 588
163  500   21  _14  477 684
164  167 _168  _12  329 688
165  500  _64    0  547 676
166  500    0 _155  498 706
167  500   57 _132  443 691
168  500  _26   61  526 613
169  278   75  404  204 691
170  500   32  356  486 691
171  500   23   36  473 415
172  333   51   36  305 415
173  333   28   36  282 415
174  556   14    0  536 691
175  556   14    0  536 691
177  500    0  181  500 271
178  500   47 _134  453 691
179  500   45 _132  456 691
180  250   41  248  210 417
182  540    0 _186  519 676
183  350   35  198  315 478
184  333   79 _180  263 155
185  500   14 _180  468 155
186  500   14  356  468 691
187  500   27   36  477 415
188 1000   82  _13  917 156
189 1000    7  _29  995 706
191  500   55 _201  443 501
193  333    8  528  246 713
194  333   86  528  324 713
195  333   _2  528  335 704
196  333  _16  547  349 674
197  333    1  565  331 637
198  333   15  528  318 691
199  333  103  536  258 691
200  333   _2  537  335 667
202  333   60  527  273 740
203  333   68 _218  294   0
205  333  _13  528  425 713
206  333   90 _193  319  24
207  333   _2  528  335 704
208 1000    0  181 1000 271
225 1000    4    0  951 676
227  300   _1  397  301 688
232  667   19    0  638 676
233  778   35  _74  743 737
234 1000   22   _5  981 684
235  330   18  397  312 688
241  722   33  _14  693 473
245  278   16    0  255 461
248  278  _22    0  303 676
249  500   25  _92  476 549
250  722   22  _14  696 473
251  556   19  _12  517 691
)
TimesBoldItalic_Ascender=: 683

TimesBoldItalic_FontBBox=: _200 _218 996 921

TimesBoldItalic_UnderlinePosition=: _100

TimesBoldItalic_UnderlineThickness=: 50

TimesBoldItalic_FontMetrics=: 0 : 0
Ascender=: 683
CapHeight=: 669
Descender=: _217
FontBBox=: _200 _218 996 921
StdHW=: 42
StdVW=: 121
UnderlinePosition=: _100
UnderlineThickness=: 50
XHeight=: 462
)

TimesBoldItalic_CharMetrics=: 0 ". [;._2 (0 : 0)
  0  501    1   25 484 583
 32  250    0    0   0   0
 33  389   67  _13 370 684
 34  555  136  398 536 685
 35  500  _33    0 533 700
 36  500  _20 _100 497 733
 37  833   39  _10 793 692
 38  778    5  _19 699 682
 39  333   98  369 302 685
 40  333   28 _179 344 685
 41  333  _44 _179 271 685
 42  500   65  249 456 685
 43  570   33    0 537 506
 44  250  _60 _182 144 134
 45  333    2  166 271 282
 46  250   _9  _13 139 135
 47  278  _64  _18 342 685
 48  500   17  _14 477 683
 49  500    5    0 419 683
 50  500  _27    0 446 683
 51  500  _15  _13 450 683
 52  500  _15    0 503 683
 53  500  _11  _13 487 669
 54  500   23  _15 509 679
 55  500   52    0 525 669
 56  500    3  _13 476 683
 57  500  _12  _10 475 683
 58  333   23  _13 264 459
 59  333  _25 _183 264 459
 60  570   31   _8 539 514
 61  570   33  107 537 399
 62  570   31   _8 539 514
 63  500   79  _13 470 684
 64  832   63  _18 770 685
 65  667  _67    0 593 683
 66  667  _24    0 624 669
 67  667   32  _18 677 685
 68  722  _46    0 685 669
 69  667  _27    0 653 669
 70  667  _13    0 660 669
 71  722   21  _18 706 685
 72  778  _24    0 799 669
 73  389  _32    0 406 669
 74  500  _46  _99 524 669
 75  667  _21    0 702 669
 76  611  _22    0 590 669
 77  889  _29  _12 917 669
 78  722  _27  _15 748 669
 79  722   27  _18 691 685
 80  611  _27    0 613 669
 81  722   27 _208 691 685
 82  667  _29    0 623 669
 83  556    2  _18 526 685
 84  611   50    0 650 669
 85  722   67  _18 744 669
 86  667   65  _18 715 669
 87  889   65  _18 940 669
 88  667  _24    0 694 669
 89  611   73    0 659 669
 90  611  _11    0 590 669
 91  333  _37 _159 362 674
 92  278   _1  _18 279 685
 93  333  _56 _157 343 674
 94  570   67  304 503 669
 95  500    0 _125 500 _75
 96  333  128  369 332 685
 97  500  _21  _14 455 462
 98  500  _14  _13 444 699
 99  444   _5  _13 392 462
100  500  _21  _13 517 699
101  444    5  _13 398 462
102  333 _169 _205 446 698
103  500  _52 _203 478 462
104  556  _13   _9 498 699
105  278    2   _9 263 684
106  278 _189 _207 279 684
107  500  _23   _8 483 699
108  278    2   _9 290 699
109  778  _14   _9 722 462
110  556   _6   _9 493 462
111  500   _3  _13 441 462
112  500 _120 _205 446 462
113  500    1 _205 471 462
114  389  _21    0 389 462
115  389  _19  _13 333 462
116  278  _11   _9 281 594
117  556   15   _9 492 462
118  444   16  _13 401 462
119  667   16  _13 614 462
120  500  _46  _13 469 462
121  444  _94 _205 392 462
122  389  _43  _78 368 449
123  348    5 _187 436 686
124  220   66 _218 154 782
125  348 _129 _187 302 686
126  570   54  173 516 333
161  389   19 _205 322 492
162  500   42 _143 439 576
163  500  _32  _12 510 683
164  167 _169  _14 324 683
165  500   33    0 628 669
166  500  _87 _156 537 707
167  500   36 _143 459 685
168  500  _26   34 526 586
169  278  128  398 268 685
170  500   53  369 513 685
171  500   12   32 468 415
172  333   32   32 303 415
173  333   10   32 281 415
174  556 _188 _205 514 703
175  556 _186 _205 553 704
177  500  _40  178 477 269
178  500   91 _145 494 685
179  500   10 _139 493 685
180  250   51  257 199 405
182  500  _57 _193 562 669
183  350    0  175 350 525
184  333   _5 _182 199 134
185  500  _57 _182 403 134
186  500   53  369 513 685
187  500   12   32 468 415
188 1000   40  _13 852 135
189 1000    7  _29 996 706
191  500   30 _205 421 492
193  333   85  516 297 697
194  333  139  516 379 697
195  333   40  516 367 690
196  333   48  536 407 655
197  333   51  553 393 623
198  333   71  516 387 678
199  333  163  550 298 684
200  333   55  550 402 684
202  333  127  516 340 729
203  333  _80 _218 156   5
205  333   69  516 498 697
206  333   15 _183 244  34
207  333   79  516 411 690
208 1000  _40  178 977 269
225  944  _64    0 918 669
227  266   16  399 330 685
232  611  _22    0 590 669
233  722   27 _125 691 764
234  944   23   _8 946 677
235  300   56  400 347 685
241  722   _5  _13 673 462
245  278    2   _9 238 462
248  278   _7   _9 307 699
249  500   _3 _119 441 560
250  722    6  _13 674 462
251  500 _200 _200 473 705
)
TimesItalic_Ascender=: 683

TimesItalic_FontBBox=: _169 _217 1010 883

TimesItalic_UnderlinePosition=: _100

TimesItalic_UnderlineThickness=: 50

TimesItalic_FontMetrics=: 0 : 0
Ascender=: 683
CapHeight=: 653
Descender=: _217
FontBBox=: _169 _217 1010 883
StdHW=: 32
StdVW=: 76
UnderlinePosition=: _100
UnderlineThickness=: 50
XHeight=: 441
)

TimesItalic_CharMetrics=: 0 ". [;._2 (0 : 0)
  0  491   34   29  482 565
 32  250    0    0    0   0
 33  333   39  _11  302 667
 34  420  144  421  432 666
 35  500    2    0  540 676
 36  500   31  _89  497 731
 37  833   79  _13  790 676
 38  778   76  _18  723 666
 39  333  151  436  290 666
 40  333   42 _181  315 669
 41  333   16 _180  289 669
 42  500  128  255  492 666
 43  675   86    0  590 506
 44  250   _4 _129  135 101
 45  333   49  192  282 255
 46  250   27  _11  138 100
 47  278  _65  _18  386 666
 48  500   32   _7  497 676
 49  500   49    0  409 676
 50  500   12    0  452 676
 51  500   15   _7  465 676
 52  500    1    0  479 676
 53  500   15   _7  491 666
 54  500   30   _7  521 686
 55  500   75   _8  537 666
 56  500   30   _7  493 676
 57  500   23  _17  492 676
 58  333   50  _11  261 441
 59  333   27 _129  261 441
 60  675   84   _8  592 514
 61  675   86  120  590 386
 62  675   84   _8  592 514
 63  500  132  _12  472 664
 64  920  118  _18  806 666
 65  611  _51    0  564 668
 66  611   _8    0  588 653
 67  667   66  _18  689 666
 68  722   _8    0  700 653
 69  611   _1    0  634 653
 70  611    8    0  645 653
 71  722   52  _18  722 666
 72  722   _8    0  767 653
 73  333   _8    0  384 653
 74  444   _6  _18  491 653
 75  667    7    0  722 653
 76  556   _8    0  559 653
 77  833  _18    0  873 653
 78  667  _20  _15  727 653
 79  722   60  _18  699 666
 80  611    0    0  605 653
 81  722   59 _182  699 666
 82  611  _13    0  588 653
 83  500   17  _18  508 667
 84  556   59    0  633 653
 85  722  102  _18  765 653
 86  611   76  _18  688 653
 87  833   71  _18  906 653
 88  611  _29    0  655 653
 89  556   78    0  633 653
 90  556   _6    0  606 653
 91  389   21 _153  391 663
 92  278  _41  _18  319 666
 93  389   12 _153  382 663
 94  422    0  301  422 666
 95  500    0 _125  500 _75
 96  333  171  436  310 666
 97  500   17  _11  476 441
 98  500   23  _11  473 683
 99  444   30  _11  425 441
100  500   15  _13  527 683
101  444   31  _11  412 441
102  278 _147 _207  424 678
103  500    8 _206  472 441
104  500   19   _9  478 683
105  278   49  _11  264 654
106  278 _124 _207  276 654
107  444   14  _11  461 683
108  278   41  _11  279 683
109  722   12   _9  704 441
110  500   14   _9  474 441
111  500   27  _11  468 441
112  500  _75 _205  469 441
113  500   25 _209  483 441
114  389   45    0  412 441
115  389   16  _13  366 442
116  278   37  _11  296 546
117  500   42  _11  475 441
118  444   21  _18  426 441
119  667   16  _18  648 441
120  444  _27  _11  447 441
121  444  _24 _206  426 441
122  389   _2  _81  380 428
123  400   51 _177  407 687
124  275  105 _217  171 783
125  400   _7 _177  349 687
126  541   40  183  502 323
161  389   59 _205  322 473
162  500   77 _143  472 560
163  500   10   _6  517 670
164  167 _169  _10  337 676
165  500   27    0  603 653
166  500   25 _182  507 682
167  500   53 _162  461 666
168  500  _22   53  522 597
169  214  132  421  241 666
170  556  166  436  514 666
171  500   53   37  445 403
172  333   51   37  281 403
173  333   52   37  282 403
174  500 _141 _207  481 681
175  500 _141 _204  518 682
177  500   _6  197  505 243
178  500  101 _159  488 666
179  500   22 _143  491 666
180  250   70  199  181 310
182  523   55 _123  616 653
183  350   40  191  310 461
184  333   44 _129  183 101
185  556   57 _129  405 101
186  556  151  436  499 666
187  500   55   37  447 403
188  889   57  _11  762 100
189 1000   25  _19 1010 706
191  500   28 _205  368 471
193  333  121  492  311 664
194  333  180  494  403 664
195  333   91  492  385 661
196  333  100  517  427 624
197  333   99  532  411 583
198  333  117  492  418 650
199  333  207  548  305 646
200  333  107  548  405 646
202  333  155  492  355 691
203  333  _30 _217  182   0
205  333   93  494  486 664
206  333   20 _169  203  40
207  333  121  492  426 661
208  889   _6  197  894 243
225  889  _27    0  911 653
227  276   42  406  352 676
232  556   _8    0  559 653
233  722   60 _105  699 722
234  944   49   _8  964 666
235  310   67  406  362 676
241  667   23  _11  640 441
245  278   49  _11  235 441
248  278   41  _11  312 683
249  500   28 _135  469 554
250  667   20  _12  646 441
251  500 _168 _207  493 679
)
TimesRoman_Ascender=: 683

TimesRoman_FontBBox=: _168 _218 1000 898

TimesRoman_UnderlinePosition=: _100

TimesRoman_UnderlineThickness=: 50

TimesRoman_FontMetrics=: 0 : 0
Ascender=: 683
CapHeight=: 662
Descender=: _217
FontBBox=: _168 _218 1000 898
StdHW=: 28
StdVW=: 84
UnderlinePosition=: _100
UnderlineThickness=: 50
XHeight=: 450
)

TimesRoman_CharMetrics=: 0 ". [;._2 (0 : 0)
  0  495   31   37  459 572
 32  250    0    0    0   0
 33  333  130   _9  238 676
 34  408   77  431  331 676
 35  500    5    0  496 662
 36  500   44  _87  457 727
 37  833   61  _13  772 676
 38  778   42  _13  750 676
 39  333   79  433  218 676
 40  333   48 _177  304 676
 41  333   29 _177  285 676
 42  500   69  265  432 676
 43  564   30    0  534 506
 44  250   56 _141  195 102
 45  333   39  194  285 257
 46  250   70  _11  181 100
 47  278   _9  _14  287 676
 48  500   24  _14  476 676
 49  500  111    0  394 676
 50  500   30    0  475 676
 51  500   43  _14  431 676
 52  500   12    0  472 676
 53  500   32  _14  438 688
 54  500   34  _14  468 684
 55  500   20   _8  449 662
 56  500   56  _14  445 676
 57  500   30  _22  459 676
 58  278   81  _11  192 459
 59  278   80 _141  219 459
 60  564   28   _8  536 514
 61  564   30  120  534 386
 62  564   28   _8  536 514
 63  444   68   _8  414 676
 64  921  116  _14  809 676
 65  722   15    0  706 674
 66  667   17    0  593 662
 67  667   28  _14  633 676
 68  722   16    0  685 662
 69  611   12    0  597 662
 70  556   12    0  546 662
 71  722   32  _14  709 676
 72  722   19    0  702 662
 73  333   18    0  315 662
 74  389   10  _14  370 662
 75  722   34    0  723 662
 76  611   12    0  598 662
 77  889   12    0  863 662
 78  722   12  _11  707 662
 79  722   34  _14  688 676
 80  556   16    0  542 662
 81  722   34 _178  701 676
 82  667   17    0  659 662
 83  556   42  _14  491 676
 84  611   17    0  593 662
 85  722   14  _14  705 662
 86  722   16  _11  697 662
 87  944    5  _11  932 662
 88  722   10    0  704 662
 89  722   22    0  703 662
 90  611    9    0  597 662
 91  333   88 _156  299 662
 92  278   _9  _14  287 676
 93  333   34 _156  245 662
 94  469   24  297  446 662
 95  500    0 _125  500 _75
 96  333  115  433  254 676
 97  444   37  _10  442 460
 98  500    3  _10  468 683
 99  444   25  _10  412 460
100  500   27  _10  491 683
101  444   25  _10  424 460
102  333   20    0  383 683
103  500   28 _218  470 460
104  500    9    0  487 683
105  278   16    0  253 683
106  278  _70 _218  194 683
107  500    7    0  505 683
108  278   19    0  257 683
109  778   16    0  775 460
110  500   16    0  485 460
111  500   29  _10  470 460
112  500    5 _217  470 460
113  500   24 _217  488 460
114  333    5    0  335 460
115  389   51  _10  348 460
116  278   13  _10  279 579
117  500    9  _10  479 450
118  500   19  _14  477 450
119  722   21  _14  694 450
120  500   17    0  479 450
121  500   14 _218  475 450
122  444   27    0  418 450
123  480  100 _181  350 680
124  200   67 _218  133 782
125  480  130 _181  380 680
126  541   40  183  502 323
161  333   97 _218  205 467
162  500   53 _138  448 579
163  500   12   _8  490 676
164  167 _168  _14  331 676
165  500  _53    0  512 662
166  500    7 _189  490 676
167  500   70 _148  426 676
168  500  _22   58  522 602
169  180   48  431  133 676
170  444   43  433  414 676
171  500   42   33  456 416
172  333   63   33  285 416
173  333   48   33  270 416
174  556   31    0  521 683
175  556   32    0  521 683
177  500    0  201  500 250
178  500   59 _149  442 676
179  500   58 _153  442 676
180  250   70  199  181 310
182  453  _22 _154  450 662
183  350   40  196  310 466
184  333   79 _141  218 102
185  444   45 _141  416 102
186  444   30  433  401 676
187  500   44   33  458 416
188 1000  111  _11  888 100
189 1000    7  _19  994 706
191  444   30 _218  376 466
193  333   19  507  242 678
194  333   93  507  317 678
195  333   11  507  322 674
196  333    1  532  331 638
197  333   11  547  322 601
198  333   26  507  307 664
199  333  118  581  216 681
200  333   18  581  315 681
202  333   67  512  266 711
203  333   52 _215  261   0
205  333   _3  507  377 678
206  333   62 _165  243   0
207  333   11  507  322 674
208 1000    0  201 1000 250
225  889    0    0  863 662
227  276    4  394  270 676
232  611   12    0  598 662
233  722   34  _80  688 734
234  889   30   _6  885 668
235  310    6  394  304 676
241  667   38  _10  632 460
245  278   16    0  253 460
248  278   19    0  259 683
249  500   29 _112  470 551
250  722   30  _10  690 460
251  500   12   _9  468 683
)
ZapfDingbats_Ascender=: 650

ZapfDingbats_FontBBox=: _1 _143 981 820

ZapfDingbats_UnderlinePosition=: _100

ZapfDingbats_UnderlineThickness=: 50

ZapfDingbats_FontMetrics=: 0 : 0
FontBBox=: _1 _143 981 820
StdHW=: 28
StdVW=: 90
UnderlinePosition=: _100
UnderlineThickness=: 50
)

ZapfDingbats_CharMetrics=: 0 ". [;._2 (0 : 0)
  0  746 34   22 710 672
 32  278  0    0   0   0
 33  974 35   72 939 621
 34  961 35   81 927 611
 35  974 35   72 939 621
 36  980 35    0 945 692
 37  719 34  139 685 566
 38  789 35  _14 755 705
 39  790 35  _14 755 705
 40  791 35  _13 761 705
 41  690 34  138 655 553
 42  960 35  123 925 568
 43  939 35  134 904 559
 44  549 29  _11 516 705
 45  855 34   59 820 632
 46  911 35   50 876 642
 47  933 35  139 899 550
 48  911 35   50 876 642
 49  945 35  139 909 553
 50  974 35  104 938 587
 51  755 34  _13 721 705
 52  846 36  _14 811 705
 53  762 35    0 727 692
 54  761 35    0 727 692
 55  571 _1  _68 571 661
 56  677 36  _13 642 705
 57  763 35    0 728 692
 58  760 35    0 726 692
 59  759 35    0 725 692
 60  754 35    0 720 692
 61  494 35    0 460 692
 62  552 35    0 517 692
 63  537 35    0 503 692
 64  577 35   96 542 596
 65  692 35  _14 657 705
 66  786 35  _14 751 705
 67  788 35  _14 752 705
 68  788 35  _14 753 705
 69  790 35  _14 756 705
 70  793 35  _13 759 705
 71  794 35  _13 759 705
 72  816 35  _14 782 705
 73  823 35  _14 787 705
 74  789 35  _14 754 705
 75  841 35  _14 807 705
 76  823 35  _14 789 705
 77  833 35  _14 798 705
 78  816 35  _13 782 705
 79  831 35  _14 796 705
 80  923 35  _14 888 705
 81  744 35    0 710 692
 82  723 35    0 688 692
 83  749 35    0 714 692
 84  790 34  _14 756 705
 85  792 35  _14 758 705
 86  695 35  _14 661 706
 87  776 35   _6 741 699
 88  768 35   _7 734 699
 89  792 35  _14 757 705
 90  759 35    0 725 692
 91  707 35  _13 672 704
 92  708 35  _14 672 705
 93  682 35  _14 647 705
 94  701 35  _14 666 705
 95  826 35  _14 791 705
 96  815 35  _14 780 705
 97  789 35  _14 754 705
 98  789 35  _14 754 705
 99  707 34  _14 673 705
100  687 36    0 651 692
101  696 35    0 661 691
102  689 35    0 655 692
103  786 34  _14 751 705
104  787 35  _14 752 705
105  713 35  _14 678 705
106  791 35  _14 756 705
107  785 36  _14 751 705
108  791 35  _14 757 705
109  873 35  _14 838 705
110  761 35    0 726 692
111  762 35    0 727 692
112  762 35    0 727 692
113  759 35    0 725 692
114  759 35    0 725 692
115  892 35    0 858 705
116  892 35  _14 858 692
117  788 35  _14 754 705
118  784 35  _14 749 705
119  438 35  _14 403 705
120  138 35    0 104 692
121  277 35    0 242 692
122  415 35    0 380 692
123  392 35  263 357 705
124  392 34  263 357 705
125  668 35  263 633 705
126  668 36  263 634 705
128  390 35  _14 356 705
129  390 35  _14 355 705
130  317 35    0 283 692
131  317 35    0 283 692
132  276 35    0 242 692
133  276 35    0 242 692
134  509 35    0 475 692
135  509 35    0 475 692
136  410 35    0 375 692
137  410 35    0 375 692
138  234 35  _14 199 705
139  234 35  _14 199 705
140  334 35    0 299 692
141  334 35    0 299 692
161  732 35 _143 697 806
162  544 56  _14 488 706
163  544 34  _14 508 705
164  910 35   40 875 651
165  667 35  _14 633 705
166  760 35  _14 726 705
167  760  0  121 758 569
168  776 35    0 741 705
169  595 34  _14 560 705
170  694 35  _14 659 705
171  626 34    0 591 705
172  788 35  _14 754 705
173  788 35  _14 754 705
174  788 35  _14 754 705
175  788 35  _14 754 705
176  788 35  _14 754 705
177  788 35  _14 754 705
178  788 35  _14 754 705
179  788 35  _14 754 705
180  788 35  _14 754 705
181  788 35  _14 754 705
182  788 35  _14 754 705
183  788 35  _14 754 705
184  788 35  _14 754 705
185  788 35  _14 754 705
186  788 35  _14 754 705
187  788 35  _14 754 705
188  788 35  _14 754 705
189  788 35  _14 754 705
190  788 35  _14 754 705
191  788 35  _14 754 705
192  788 35  _14 754 705
193  788 35  _14 754 705
194  788 35  _14 754 705
195  788 35  _14 754 705
196  788 35  _14 754 705
197  788 35  _14 754 705
198  788 35  _14 754 705
199  788 35  _14 754 705
200  788 35  _14 754 705
201  788 35  _14 754 705
202  788 35  _14 754 705
203  788 35  _14 754 705
204  788 35  _14 754 705
205  788 35  _14 754 705
206  788 35  _14 754 705
207  788 35  _14 754 705
208  788 35  _14 754 705
209  788 35  _14 754 705
210  788 35  _14 754 705
211  788 35  _14 754 705
212  894 35   58 860 634
213  838 35  152 803 540
214 1016 34  152 981 540
215  458 35 _127 422 820
216  748 35   94 698 597
217  924 35  140 890 552
218  748 35   94 698 597
219  918 35  166 884 526
220  927 35   32 892 660
221  928 35  129 891 562
222  928 35  128 893 563
223  834 35  155 799 537
224  873 35   93 838 599
225  828 35  104 791 588
226  924 35   98 889 594
227  924 35   98 889 594
228  917 35    0 882 692
229  930 35   84 896 608
230  931 35   84 896 608
231  463 35  _99 429 791
232  883 35   71 848 623
233  836 35   44 802 648
234  836 35   44 802 648
235  867 35  101 832 591
236  867 35  101 832 591
237  696 35   44 661 648
238  696 35   44 661 648
239  874 35   77 840 619
241  874 35   73 840 615
242  760 35    0 725 692
243  946 35  160 911 533
244  771 34   37 736 655
245  865 35  207 830 481
246  771 34   37 736 655
247  888 34  _19 853 712
248  967 35  124 932 568
249  888 34  _19 853 712
250  831 35  113 796 579
251  873 36  118 838 578
252  927 35  150 891 542
253  970 35   76 931 616
254  918 34   99 884 593
)
NB. graphics/afm manifest

CAPTION=: 'AFM'

DESCRIPTION=: 0 : 0
Adobe Font Metrics
)

VERSION=: '1.0.15'

FILES=: 0 : 0
afm.ijs
history.txt
)

RELEASE=: ''

FOLDER=: 'graphics/afm'
<html><head><style>table{border:1px solid black;}td{text-align:center;}</style></head><body><table>
<tr><td style="background-color:#f0f8ff">AliceBlue<br/>240 248 255, #f0f8ff</td><td style="background-color:#faebd7">AntiqueWhite<br/>250 235 215, #faebd7</td><td style="background-color:#00ffff">Aqua<br/>0 255 255, #00ffff</td><td style="background-color:#7fffd4">Aquamarine<br/>127 255 212, #7fffd4</td><td style="background-color:#c0dcc0">ArmyOlive<br/>192 220 192, #c0dcc0</td><td style="background-color:#f0ffff">Azure<br/>240 255 255, #f0ffff</td></tr>
<tr><td style="background-color:#f5f5dc">Beige<br/>245 245 220, #f5f5dc</td><td style="background-color:#ffe4c4">Bisque<br/>255 228 196, #ffe4c4</td><td style="background-color:#000000;color:#ffffff">Black<br/>0 0 0, #000000</td><td style="background-color:#ffebcd">BlanchedAlmond<br/>255 235 205, #ffebcd</td><td style="background-color:#0000ff;color:#ffffff">Blue<br/>0 0 255, #0000ff</td><td style="background-color:#8a2be2">BlueViolet<br/>138 43 226, #8a2be2</td></tr>
<tr><td style="background-color:#a52a2a;color:#ffffff">Brown<br/>165 42 42, #a52a2a</td><td style="background-color:#deb887">Burlywood<br/>222 184 135, #deb887</td><td style="background-color:#5f9ea0">CadetBlue<br/>95 158 160, #5f9ea0</td><td style="background-color:#7fff00">Chartreuse<br/>127 255 0, #7fff00</td><td style="background-color:#d2691e">Chocolate<br/>210 105 30, #d2691e</td><td style="background-color:#ff7f50">Coral<br/>255 127 80, #ff7f50</td></tr>
<tr><td style="background-color:#6495ed">CornflowerBlue<br/>100 149 237, #6495ed</td><td style="background-color:#fff8dc">Cornsilk<br/>255 248 220, #fff8dc</td><td style="background-color:#dc143c;color:#ffffff">Crimson<br/>220 20 60, #dc143c</td><td style="background-color:#00ffff">Cyan<br/>0 255 255, #00ffff</td><td style="background-color:#00008b;color:#ffffff">DarkBlue<br/>0 0 139, #00008b</td><td style="background-color:#008b8b;color:#ffffff">DarkCyan<br/>0 139 139, #008b8b</td></tr>
<tr><td style="background-color:#b8860b">DarkGoldenrod<br/>184 134 11, #b8860b</td><td style="background-color:#a9a9a9">DarkGray<br/>169 169 169, #a9a9a9</td><td style="background-color:#006400;color:#ffffff">DarkGreen<br/>0 100 0, #006400</td><td style="background-color:#bdb76b">DarkKhaki<br/>189 183 107, #bdb76b</td><td style="background-color:#8b008b;color:#ffffff">DarkMagenta<br/>139 0 139, #8b008b</td><td style="background-color:#556b2f;color:#ffffff">DarkOliveGreen<br/>85 107 47, #556b2f</td></tr>
<tr><td style="background-color:#ff8c00">DarkOrange<br/>255 140 0, #ff8c00</td><td style="background-color:#9932cc">DarkOrchid<br/>153 50 204, #9932cc</td><td style="background-color:#8b0000;color:#ffffff">DarkRed<br/>139 0 0, #8b0000</td><td style="background-color:#e9967a">DarkSalmon<br/>233 150 122, #e9967a</td><td style="background-color:#8fbc8f">DarkSeaGreen<br/>143 188 143, #8fbc8f</td><td style="background-color:#483d8b;color:#ffffff">DarkSlateBlue<br/>72 61 139, #483d8b</td></tr>
<tr><td style="background-color:#2f4f4f;color:#ffffff">DarkSlateGray<br/>47 79 79, #2f4f4f</td><td style="background-color:#00ced1">DarkTurquoise<br/>0 206 209, #00ced1</td><td style="background-color:#9400d3">DarkViolet<br/>148 0 211, #9400d3</td><td style="background-color:#ff1493">DeepPink<br/>255 20 147, #ff1493</td><td style="background-color:#00bfff">DeepSkyBlue<br/>0 191 255, #00bfff</td><td style="background-color:#696969">DimGray<br/>105 105 105, #696969</td></tr>
<tr><td style="background-color:#1e90ff">DodgerBlue<br/>30 144 255, #1e90ff</td><td style="background-color:#fffbf0">EggshellWhite<br/>255 251 240, #fffbf0</td><td style="background-color:#b22222;color:#ffffff">Firebrick<br/>178 34 34, #b22222</td><td style="background-color:#fffaf0">FloralWhite<br/>255 250 240, #fffaf0</td><td style="background-color:#228b22;color:#ffffff">ForestGreen<br/>34 139 34, #228b22</td><td style="background-color:#ff00ff">Fuchsia<br/>255 0 255, #ff00ff</td></tr>
<tr><td style="background-color:#dcdcdc">Gainsboro<br/>220 220 220, #dcdcdc</td><td style="background-color:#f8f8ff">GhostWhite<br/>248 248 255, #f8f8ff</td><td style="background-color:#ffd700">Gold<br/>255 215 0, #ffd700</td><td style="background-color:#daa520">Goldenrod<br/>218 165 32, #daa520</td><td style="background-color:#808080">Gray<br/>128 128 128, #808080</td><td style="background-color:#008000;color:#ffffff">Green<br/>0 128 0, #008000</td></tr>
<tr><td style="background-color:#adff2f">GreenYellow<br/>173 255 47, #adff2f</td><td style="background-color:#f0fff0">Honeydew<br/>240 255 240, #f0fff0</td><td style="background-color:#ff69b4">HotPink<br/>255 105 180, #ff69b4</td><td style="background-color:#cd5c5c">IndianRed<br/>205 92 92, #cd5c5c</td><td style="background-color:#4b0082;color:#ffffff">Indigo<br/>75 0 130, #4b0082</td><td style="background-color:#fffff0">Ivory<br/>255 255 240, #fffff0</td></tr>
<tr><td style="background-color:#008080;color:#ffffff">Jade<br/>0 128 128, #008080</td><td style="background-color:#f0e68c">Khaki<br/>240 230 140, #f0e68c</td><td style="background-color:#e6e6fa">Lavender<br/>230 230 250, #e6e6fa</td><td style="background-color:#fff0f5">LavenderBlush<br/>255 240 245, #fff0f5</td><td style="background-color:#7cfc00">LawnGreen<br/>124 252 0, #7cfc00</td><td style="background-color:#fffacd">LemonChiffon<br/>255 250 205, #fffacd</td></tr>
<tr><td style="background-color:#add8e6">LightBlue<br/>173 216 230, #add8e6</td><td style="background-color:#f08080">LightCoral<br/>240 128 128, #f08080</td><td style="background-color:#e0ffff">LightCyan<br/>224 255 255, #e0ffff</td><td style="background-color:#fafad2">LightGoldenrodYellow<br/>250 250 210, #fafad2</td><td style="background-color:#90ee90">LightGreen<br/>144 238 144, #90ee90</td><td style="background-color:#d3d3d3">LightGray<br/>211 211 211, #d3d3d3</td></tr>
<tr><td style="background-color:#ffb6c1">LightPink<br/>255 182 193, #ffb6c1</td><td style="background-color:#ffa07a">LightSalmon<br/>255 160 122, #ffa07a</td><td style="background-color:#20b2aa">LightSeaGreen<br/>32 178 170, #20b2aa</td><td style="background-color:#87cefa">LightSkyBlue<br/>135 206 250, #87cefa</td><td style="background-color:#778899">LightSlateGray<br/>119 136 153, #778899</td><td style="background-color:#b0c4de">LightSteelBlue<br/>176 196 222, #b0c4de</td></tr>
<tr><td style="background-color:#ffffe0">LightYellow<br/>255 255 224, #ffffe0</td><td style="background-color:#00ff00;color:#ffffff">Lime<br/>0 255 0, #00ff00</td><td style="background-color:#32cd32">LimeGreen<br/>50 205 50, #32cd32</td><td style="background-color:#faf0e6">Linen<br/>250 240 230, #faf0e6</td><td style="background-color:#ff00ff">Magenta<br/>255 0 255, #ff00ff</td><td style="background-color:#800000;color:#ffffff">Maroon<br/>128 0 0, #800000</td></tr>
<tr><td style="background-color:#66cdaa">MediumAquamarine<br/>102 205 170, #66cdaa</td><td style="background-color:#0000cd;color:#ffffff">MediumBlue<br/>0 0 205, #0000cd</td><td style="background-color:#bebebe">MediumGray<br/>190 190 190, #bebebe</td><td style="background-color:#ba55d3">MediumOrchid<br/>186 85 211, #ba55d3</td><td style="background-color:#9370db">MediumPurple<br/>147 112 219, #9370db</td><td style="background-color:#3cb371">MediumSeaGreen<br/>60 179 113, #3cb371</td></tr>
<tr><td style="background-color:#7b68ee">MediumSlateBlue<br/>123 104 238, #7b68ee</td><td style="background-color:#00fa9a">MediumSpringGreen<br/>0 250 154, #00fa9a</td><td style="background-color:#48d1cc">MediumTurquoise<br/>72 209 204, #48d1cc</td><td style="background-color:#c71585">MediumVioletRed<br/>199 21 133, #c71585</td><td style="background-color:#191970;color:#ffffff">MidnightBlue<br/>25 25 112, #191970</td><td style="background-color:#f5fffa">MintCream<br/>245 255 250, #f5fffa</td></tr>
<tr><td style="background-color:#ffe4e1">MistyRose<br/>255 228 225, #ffe4e1</td><td style="background-color:#ffe4b5">Moccasin<br/>255 228 181, #ffe4b5</td><td style="background-color:#ffdead">NavajoWhite<br/>255 222 173, #ffdead</td><td style="background-color:#000080;color:#ffffff">Navy<br/>0 0 128, #000080</td><td style="background-color:#fdf5e6">OldLace<br/>253 245 230, #fdf5e6</td><td style="background-color:#808000;color:#ffffff">Olive<br/>128 128 0, #808000</td></tr>
<tr><td style="background-color:#6b8e23;color:#ffffff">OliveDrab<br/>107 142 35, #6b8e23</td><td style="background-color:#ffa500">Orange<br/>255 165 0, #ffa500</td><td style="background-color:#ff4500">OrangeRed<br/>255 69 0, #ff4500</td><td style="background-color:#da70d6">Orchid<br/>218 112 214, #da70d6</td><td style="background-color:#eee8aa">PaleGoldenrod<br/>238 232 170, #eee8aa</td><td style="background-color:#98fb98">PaleGreen<br/>152 251 152, #98fb98</td></tr>
<tr><td style="background-color:#afeeee">PaleTurquoise<br/>175 238 238, #afeeee</td><td style="background-color:#db7093">PaleVioletRed<br/>219 112 147, #db7093</td><td style="background-color:#ffefd5">PapayaWhip<br/>255 239 213, #ffefd5</td><td style="background-color:#ffdab9">PeachPuff<br/>255 218 185, #ffdab9</td><td style="background-color:#cd853f">Peru<br/>205 133 63, #cd853f</td><td style="background-color:#ffc0cb">Pink<br/>255 192 203, #ffc0cb</td></tr>
<tr><td style="background-color:#dda0dd">Plum<br/>221 160 221, #dda0dd</td><td style="background-color:#b0e0e6">PowderBlue<br/>176 224 230, #b0e0e6</td><td style="background-color:#800080;color:#ffffff">Purple<br/>128 0 128, #800080</td><td style="background-color:#ff0000;color:#ffffff">Red<br/>255 0 0, #ff0000</td><td style="background-color:#bc8f8f">RosyBrown<br/>188 143 143, #bc8f8f</td><td style="background-color:#4169e1">RoyalBlue<br/>65 105 225, #4169e1</td></tr>
<tr><td style="background-color:#8b4513;color:#ffffff">SaddleBrown<br/>139 69 19, #8b4513</td><td style="background-color:#fa8072">Salmon<br/>250 128 114, #fa8072</td><td style="background-color:#f4a460">SandyBrown<br/>244 164 96, #f4a460</td><td style="background-color:#2e8b57;color:#ffffff">SeaGreen<br/>46 139 87, #2e8b57</td><td style="background-color:#fff5ee">Seashell<br/>255 245 238, #fff5ee</td><td style="background-color:#a0522d;color:#ffffff">Sienna<br/>160 82 45, #a0522d</td></tr>
<tr><td style="background-color:#c0c0c0">Silver<br/>192 192 192, #c0c0c0</td><td style="background-color:#87ceeb">SkyBlue<br/>135 206 235, #87ceeb</td><td style="background-color:#6a5acd">SlateBlue<br/>106 90 205, #6a5acd</td><td style="background-color:#708090">SlateGray<br/>112 128 144, #708090</td><td style="background-color:#fffafa">Snow<br/>255 250 250, #fffafa</td><td style="background-color:#00ff7f">SpringGreen<br/>0 255 127, #00ff7f</td></tr>
<tr><td style="background-color:#4682b4">SteelBlue<br/>70 130 180, #4682b4</td><td style="background-color:#d2b48c">Tan<br/>210 180 140, #d2b48c</td><td style="background-color:#008080;color:#ffffff">Teal<br/>0 128 128, #008080</td><td style="background-color:#d8bfd8">Thistle<br/>216 191 216, #d8bfd8</td><td style="background-color:#ff6347">Tomato<br/>255 99 71, #ff6347</td><td style="background-color:#40e0d0">Turquoise<br/>64 224 208, #40e0d0</td></tr>
<tr><td style="background-color:#ee82ee">Violet<br/>238 130 238, #ee82ee</td><td style="background-color:#f5deb3">Wheat<br/>245 222 179, #f5deb3</td><td style="background-color:#ffffff">White<br/>255 255 255, #ffffff</td><td style="background-color:#f5f5f5">WhiteSmoke<br/>245 245 245, #f5f5f5</td><td style="background-color:#ffff00">Yellow<br/>255 255 0, #ffff00</td><td style="background-color:#9acd32">YellowGreen<br/>154 205 50, #9acd32</td></tr>
</table><p><table>
<tr><td style="background-color:#ffffff">White<br/>255 255 255, #ffffff</td><td style="background-color:#fffafa">Snow<br/>255 250 250, #fffafa</td><td style="background-color:#f8f8ff">GhostWhite<br/>248 248 255, #f8f8ff</td><td style="background-color:#f0ffff">Azure<br/>240 255 255, #f0ffff</td><td style="background-color:#fffff0">Ivory<br/>255 255 240, #fffff0</td><td style="background-color:#f5fffa">MintCream<br/>245 255 250, #f5fffa</td></tr>
<tr><td style="background-color:#fffbf0">EggshellWhite<br/>255 251 240, #fffbf0</td><td style="background-color:#fffaf0">FloralWhite<br/>255 250 240, #fffaf0</td><td style="background-color:#f0f8ff">AliceBlue<br/>240 248 255, #f0f8ff</td><td style="background-color:#fff0f5">LavenderBlush<br/>255 240 245, #fff0f5</td><td style="background-color:#fff5ee">Seashell<br/>255 245 238, #fff5ee</td><td style="background-color:#f0fff0">Honeydew<br/>240 255 240, #f0fff0</td></tr>
<tr><td style="background-color:#f5f5f5">WhiteSmoke<br/>245 245 245, #f5f5f5</td><td style="background-color:#e0ffff">LightCyan<br/>224 255 255, #e0ffff</td><td style="background-color:#ffffe0">LightYellow<br/>255 255 224, #ffffe0</td><td style="background-color:#fdf5e6">OldLace<br/>253 245 230, #fdf5e6</td><td style="background-color:#fff8dc">Cornsilk<br/>255 248 220, #fff8dc</td><td style="background-color:#faf0e6">Linen<br/>250 240 230, #faf0e6</td></tr>
<tr><td style="background-color:#f5f5dc">Beige<br/>245 245 220, #f5f5dc</td><td style="background-color:#e6e6fa">Lavender<br/>230 230 250, #e6e6fa</td><td style="background-color:#fffacd">LemonChiffon<br/>255 250 205, #fffacd</td><td style="background-color:#fafad2">LightGoldenrodYellow<br/>250 250 210, #fafad2</td><td style="background-color:#ffe4e1">MistyRose<br/>255 228 225, #ffe4e1</td><td style="background-color:#ffefd5">PapayaWhip<br/>255 239 213, #ffefd5</td></tr>
<tr><td style="background-color:#faebd7">AntiqueWhite<br/>250 235 215, #faebd7</td><td style="background-color:#ffebcd">BlanchedAlmond<br/>255 235 205, #ffebcd</td><td style="background-color:#ffe4c4">Bisque<br/>255 228 196, #ffe4c4</td><td style="background-color:#ffe4b5">Moccasin<br/>255 228 181, #ffe4b5</td><td style="background-color:#dcdcdc">Gainsboro<br/>220 220 220, #dcdcdc</td><td style="background-color:#ffdab9">PeachPuff<br/>255 218 185, #ffdab9</td></tr>
<tr><td style="background-color:#afeeee">PaleTurquoise<br/>175 238 238, #afeeee</td><td style="background-color:#ffdead">NavajoWhite<br/>255 222 173, #ffdead</td><td style="background-color:#ffc0cb">Pink<br/>255 192 203, #ffc0cb</td><td style="background-color:#f5deb3">Wheat<br/>245 222 179, #f5deb3</td><td style="background-color:#eee8aa">PaleGoldenrod<br/>238 232 170, #eee8aa</td><td style="background-color:#d3d3d3">LightGray<br/>211 211 211, #d3d3d3</td></tr>
<tr><td style="background-color:#ffb6c1">LightPink<br/>255 182 193, #ffb6c1</td><td style="background-color:#b0e0e6">PowderBlue<br/>176 224 230, #b0e0e6</td><td style="background-color:#d8bfd8">Thistle<br/>216 191 216, #d8bfd8</td><td style="background-color:#add8e6">LightBlue<br/>173 216 230, #add8e6</td><td style="background-color:#f0e68c">Khaki<br/>240 230 140, #f0e68c</td><td style="background-color:#ee82ee">Violet<br/>238 130 238, #ee82ee</td></tr>
<tr><td style="background-color:#c0dcc0">ArmyOlive<br/>192 220 192, #c0dcc0</td><td style="background-color:#dda0dd">Plum<br/>221 160 221, #dda0dd</td><td style="background-color:#7fffd4">Aquamarine<br/>127 255 212, #7fffd4</td><td style="background-color:#b0c4de">LightSteelBlue<br/>176 196 222, #b0c4de</td><td style="background-color:#87cefa">LightSkyBlue<br/>135 206 250, #87cefa</td><td style="background-color:#c0c0c0">Silver<br/>192 192 192, #c0c0c0</td></tr>
<tr><td style="background-color:#87ceeb">SkyBlue<br/>135 206 235, #87ceeb</td><td style="background-color:#bebebe">MediumGray<br/>190 190 190, #bebebe</td><td style="background-color:#98fb98">PaleGreen<br/>152 251 152, #98fb98</td><td style="background-color:#da70d6">Orchid<br/>218 112 214, #da70d6</td><td style="background-color:#deb887">Burlywood<br/>222 184 135, #deb887</td><td style="background-color:#ff69b4">HotPink<br/>255 105 180, #ff69b4</td></tr>
<tr><td style="background-color:#ffa07a">LightSalmon<br/>255 160 122, #ffa07a</td><td style="background-color:#d2b48c">Tan<br/>210 180 140, #d2b48c</td><td style="background-color:#90ee90">LightGreen<br/>144 238 144, #90ee90</td><td style="background-color:#00ffff">Aqua<br/>0 255 255, #00ffff</td><td style="background-color:#00ffff">Cyan<br/>0 255 255, #00ffff</td><td style="background-color:#ff00ff">Fuchsia<br/>255 0 255, #ff00ff</td></tr>
<tr><td style="background-color:#ff00ff">Magenta<br/>255 0 255, #ff00ff</td><td style="background-color:#ffff00">Yellow<br/>255 255 0, #ffff00</td><td style="background-color:#a9a9a9">DarkGray<br/>169 169 169, #a9a9a9</td><td style="background-color:#e9967a">DarkSalmon<br/>233 150 122, #e9967a</td><td style="background-color:#f4a460">SandyBrown<br/>244 164 96, #f4a460</td><td style="background-color:#f08080">LightCoral<br/>240 128 128, #f08080</td></tr>
<tr><td style="background-color:#40e0d0">Turquoise<br/>64 224 208, #40e0d0</td><td style="background-color:#fa8072">Salmon<br/>250 128 114, #fa8072</td><td style="background-color:#6495ed">CornflowerBlue<br/>100 149 237, #6495ed</td><td style="background-color:#48d1cc">MediumTurquoise<br/>72 209 204, #48d1cc</td><td style="background-color:#ba55d3">MediumOrchid<br/>186 85 211, #ba55d3</td><td style="background-color:#bdb76b">DarkKhaki<br/>189 183 107, #bdb76b</td></tr>
<tr><td style="background-color:#9370db">MediumPurple<br/>147 112 219, #9370db</td><td style="background-color:#db7093">PaleVioletRed<br/>219 112 147, #db7093</td><td style="background-color:#66cdaa">MediumAquamarine<br/>102 205 170, #66cdaa</td><td style="background-color:#adff2f">GreenYellow<br/>173 255 47, #adff2f</td><td style="background-color:#8fbc8f">DarkSeaGreen<br/>143 188 143, #8fbc8f</td><td style="background-color:#bc8f8f">RosyBrown<br/>188 143 143, #bc8f8f</td></tr>
<tr><td style="background-color:#ffd700">Gold<br/>255 215 0, #ffd700</td><td style="background-color:#7b68ee">MediumSlateBlue<br/>123 104 238, #7b68ee</td><td style="background-color:#ff7f50">Coral<br/>255 127 80, #ff7f50</td><td style="background-color:#00bfff">DeepSkyBlue<br/>0 191 255, #00bfff</td><td style="background-color:#1e90ff">DodgerBlue<br/>30 144 255, #1e90ff</td><td style="background-color:#ff6347">Tomato<br/>255 99 71, #ff6347</td></tr>
<tr><td style="background-color:#ff1493">DeepPink<br/>255 20 147, #ff1493</td><td style="background-color:#ffa500">Orange<br/>255 165 0, #ffa500</td><td style="background-color:#00ced1">DarkTurquoise<br/>0 206 209, #00ced1</td><td style="background-color:#daa520">Goldenrod<br/>218 165 32, #daa520</td><td style="background-color:#5f9ea0">CadetBlue<br/>95 158 160, #5f9ea0</td><td style="background-color:#9acd32">YellowGreen<br/>154 205 50, #9acd32</td></tr>
<tr><td style="background-color:#778899">LightSlateGray<br/>119 136 153, #778899</td><td style="background-color:#8a2be2">BlueViolet<br/>138 43 226, #8a2be2</td><td style="background-color:#9932cc">DarkOrchid<br/>153 50 204, #9932cc</td><td style="background-color:#00fa9a">MediumSpringGreen<br/>0 250 154, #00fa9a</td><td style="background-color:#cd853f">Peru<br/>205 133 63, #cd853f</td><td style="background-color:#6a5acd">SlateBlue<br/>106 90 205, #6a5acd</td></tr>
<tr><td style="background-color:#ff8c00">DarkOrange<br/>255 140 0, #ff8c00</td><td style="background-color:#4169e1">RoyalBlue<br/>65 105 225, #4169e1</td><td style="background-color:#cd5c5c">IndianRed<br/>205 92 92, #cd5c5c</td><td style="background-color:#808080">Gray<br/>128 128 128, #808080</td><td style="background-color:#708090">SlateGray<br/>112 128 144, #708090</td><td style="background-color:#7fff00">Chartreuse<br/>127 255 0, #7fff00</td></tr>
<tr><td style="background-color:#00ff7f">SpringGreen<br/>0 255 127, #00ff7f</td><td style="background-color:#20b2aa">LightSeaGreen<br/>32 178 170, #20b2aa</td><td style="background-color:#4682b4">SteelBlue<br/>70 130 180, #4682b4</td><td style="background-color:#7cfc00">LawnGreen<br/>124 252 0, #7cfc00</td><td style="background-color:#9400d3">DarkViolet<br/>148 0 211, #9400d3</td><td style="background-color:#c71585">MediumVioletRed<br/>199 21 133, #c71585</td></tr>
<tr><td style="background-color:#3cb371">MediumSeaGreen<br/>60 179 113, #3cb371</td><td style="background-color:#d2691e">Chocolate<br/>210 105 30, #d2691e</td><td style="background-color:#b8860b">DarkGoldenrod<br/>184 134 11, #b8860b</td><td style="background-color:#ff4500">OrangeRed<br/>255 69 0, #ff4500</td><td style="background-color:#696969">DimGray<br/>105 105 105, #696969</td><td style="background-color:#32cd32">LimeGreen<br/>50 205 50, #32cd32</td></tr>
<tr><td style="background-color:#dc143c;color:#ffffff">Crimson<br/>220 20 60, #dc143c</td><td style="background-color:#a0522d;color:#ffffff">Sienna<br/>160 82 45, #a0522d</td><td style="background-color:#6b8e23;color:#ffffff">OliveDrab<br/>107 142 35, #6b8e23</td><td style="background-color:#008b8b;color:#ffffff">DarkCyan<br/>0 139 139, #008b8b</td><td style="background-color:#8b008b;color:#ffffff">DarkMagenta<br/>139 0 139, #8b008b</td><td style="background-color:#483d8b;color:#ffffff">DarkSlateBlue<br/>72 61 139, #483d8b</td></tr>
<tr><td style="background-color:#2e8b57;color:#ffffff">SeaGreen<br/>46 139 87, #2e8b57</td><td style="background-color:#008080;color:#ffffff">Jade<br/>0 128 128, #008080</td><td style="background-color:#808000;color:#ffffff">Olive<br/>128 128 0, #808000</td><td style="background-color:#800080;color:#ffffff">Purple<br/>128 0 128, #800080</td><td style="background-color:#008080;color:#ffffff">Teal<br/>0 128 128, #008080</td><td style="background-color:#0000ff;color:#ffffff">Blue<br/>0 0 255, #0000ff</td></tr>
<tr><td style="background-color:#00ff00;color:#ffffff">Lime<br/>0 255 0, #00ff00</td><td style="background-color:#ff0000;color:#ffffff">Red<br/>255 0 0, #ff0000</td><td style="background-color:#a52a2a;color:#ffffff">Brown<br/>165 42 42, #a52a2a</td><td style="background-color:#b22222;color:#ffffff">Firebrick<br/>178 34 34, #b22222</td><td style="background-color:#556b2f;color:#ffffff">DarkOliveGreen<br/>85 107 47, #556b2f</td><td style="background-color:#8b4513;color:#ffffff">SaddleBrown<br/>139 69 19, #8b4513</td></tr>
<tr><td style="background-color:#228b22;color:#ffffff">ForestGreen<br/>34 139 34, #228b22</td><td style="background-color:#2f4f4f;color:#ffffff">DarkSlateGray<br/>47 79 79, #2f4f4f</td><td style="background-color:#4b0082;color:#ffffff">Indigo<br/>75 0 130, #4b0082</td><td style="background-color:#0000cd;color:#ffffff">MediumBlue<br/>0 0 205, #0000cd</td><td style="background-color:#191970;color:#ffffff">MidnightBlue<br/>25 25 112, #191970</td><td style="background-color:#00008b;color:#ffffff">DarkBlue<br/>0 0 139, #00008b</td></tr>
<tr><td style="background-color:#8b0000;color:#ffffff">DarkRed<br/>139 0 0, #8b0000</td><td style="background-color:#008000;color:#ffffff">Green<br/>0 128 0, #008000</td><td style="background-color:#800000;color:#ffffff">Maroon<br/>128 0 0, #800000</td><td style="background-color:#000080;color:#ffffff">Navy<br/>0 0 128, #000080</td><td style="background-color:#006400;color:#ffffff">DarkGreen<br/>0 100 0, #006400</td><td style="background-color:#000000;color:#ffffff">Black<br/>0 0 0, #000000</td></tr>
</table></body></html
NB. make html color table from colortab
NB.
NB. this html table is included with the color addon
NB. customize this for other color tables

NB. =========================================================
makehtml=: 3 : 0
'file clr'=. y
tab=. makehtmlcell each <"1 clr
r=. '<html><head><style>table{border:1px solid black;}'
r=. r,'td{text-align:center;}</style></head><body><table>',LF
for_t. _6 [\ tab do. r=. r,'<tr>',(;t),'</tr>',LF end.
r=. r,'</table><p><table>',LF
tab=. tab \: +/"1 [ 0 ". clr
for_t. _6 [\ tab do. r=. r,'<tr>',(;t),'</tr>',LF end.
r=. r,'</table></body></html'
r fwrites jpath '~Addons/graphics/color/',file,'.html'
)

NB. =========================================================
makehtmlcell=: 3 : 0
x=. y i. '='
id=. x {. y
val=. 0 ". (x+2) }. y
hex=. '0123456789abcdef' {~ ,16 16 #: val
r=. '<td style="background-color:#',hex
if. 300 >: +/val do. r=. r,';color:#ffffff' end.
r,'">',id,'<br/>',(":val),', #',hex,'</td>'
)

NB. =========================================================
load '~Addons/graphics/color/colortab.ijs'
makehtml 'colortab';COLORTABLE

load '~Addons/graphics/color/colorx256.ijs'
makehtml 'colorx256';COLORX256
NB. table of 16 HTML primary colors

cocurrent 'z'

NB. =========================================================
NB.*COLOR16 n table of HTML primary colors
COLOR16=: ] ;._2 (0 : 0)
Aqua=:      0 255 255
Black=:     0   0   0
Blue=:      0   0 255
Fuchsia=: 255   0 255
Gray=:    128 128 128
Green=:     0 128   0
Lime=:      0 255   0
Maroon=:  128   0   0
Navy=:      0   0 128
Olive=:   128 128   0
Purple=:  128   0 128
Red=:     255   0   0
Silver=:  192 192 192
Teal=:      0 128 128
White=:   255 255 255
Yellow=:  255 255   0
)
NB. =========================================================
NB. showcolor    - show colors
NB.
NB. showcolor colormatrix
NB.
NB. colormatrix is a single RBG triplet, or 3 column matrix of RGB triplets
NB.
NB. e.g.  showcolor ?100 3$255
NB.       showcolor ".  COLORTABLE
NB.       showcolor STDCLR_jzplot_

coclass 'jshowcolor'

require 'gl2'
coinsert 'jgl2'

NB. =========================================================
create=: 3 : 0
Colors=: ,: ^: (1=#@$) y
wd 'pc showcolor escclose'
wd 'cc g isigraph'
wd 'pmove 0 0 600 500;pcenter;pshow'
)

NB. =========================================================
destroy=: 3 : 0
wd ::] 'pclose'
codestroy''
)

NB. =========================================================
showcolor_g_paint=: 3 : 0
'w h'=. glqwh''
num=. #Colors
rws=. <. %: num
cls=. >. num % rws
irws=. w % rws
icls=. h % cls
xy=. > , |: { (irws * i.rws);icls * i.cls
rect=. <. 0.5 + num {. xy ,"1 irws,icls
cmd=. glrect@[ glbrush@glrgb
(0 0,w,h) cmd 128 128 128
rect cmd"1 Colors
)

NB. =========================================================
showcolor_close=: 3 : 0
destroy''
)

NB. =========================================================
showcolor_z_=: 3 : 0
y conew 'jshowcolor'
)

NB. =========================================================
cocurrent 'base'
NB. convert between color triples and RGB values

cocurrent 'z'

NB. =========================================================
NB. form:  opt RGB dat
NB.   opt = 0 integers to RGB   (default)
NB.   dat = red, green, blue values or 3-col matrix of same
NB.
NB.   opt = 1 RGB to integers
NB.   dat = one or more RGB values
NB.
NB. RGB format is a 4 byte integer: unused blue green red
NB.
NB. e.g.  RGB 255 255 0   =  RGB value for bright yellow
NB.*RGB v convert between color triples and RGB values
RGB=: 3 : 0
0 RGB y
:
if. x do. |."1 [256 256 256 #: y
else. y +/ .* 1 256 65536
end.
)

NB. =========================================================
NB. form:  opt BGR dat
NB.   opt = 0 integers to BGR   (default)
NB.   dat = red, green, blue values or 3-col matrix of same
NB.
NB.   opt = 1 BGR to integers
NB.   dat = one or more BGR values
NB.
NB. BGR format is a 4 byte integer: unused red green blue
NB.
NB. e.g.  BGR 255 255 0   =  BGR value for bright yellow
NB.*BGR v convert between color triples and BGR values
BGR=: 3 : 0
0 BGR y
:
if. x do. 256 256 256 #: y
else. (|."1 y) +/ .* 1 256 65536
end.
)
NB. X Windows color table

cocurrent 'z'

COLORXWIN=: ] ;._2 (0 : 0)
AliceBlue=:            240 248 255
AntiqueWhite=:         250 235 215
AntiqueWhite1=:        255 239 219
AntiqueWhite2=:        238 223 204
AntiqueWhite3=:        205 192 176
AntiqueWhite4=:        139 131 120
Aquamarine1=:          127 255 212
Aquamarine2=:          118 238 198
Aquamarine4=:           69 139 116
Azure1=:               240 255 255
Azure2=:               224 238 238
Azure3=:               193 205 205
Azure4=:               131 139 139
Beige=:                245 245 220
Bisque1=:              255 228 196
Bisque2=:              238 213 183
Bisque3=:              205 183 158
Bisque4=:              139 125 107
Black=:                  0   0   0
BlanchedAlmond=:       255 235 205
Blue1=:                  0   0 255
Blue2=:                  0   0 238
Blue4=:                  0   0 139
BlueViolet=:           138  43 226
Brown=:                165  42  42
Brown1=:               255  64  64
Brown2=:               238  59  59
Brown3=:               205  51  51
Brown4=:               139  35  35
Burlywood=:            222 184 135
Burlywood1=:           255 211 155
Burlywood2=:           238 197 145
Burlywood3=:           205 170 125
Burlywood4=:           139 115  85
CadetBlue=:             95 158 160
CadetBlue1=:           152 245 255
CadetBlue2=:           142 229 238
CadetBlue3=:           122 197 205
CadetBlue4=:            83 134 139
Chartreuse1=:          127 255   0
Chartreuse2=:          118 238   0
Chartreuse3=:          102 205   0
Chartreuse4=:           69 139   0
Chocolate=:            210 105  30
Chocolate1=:           255 127  36
Chocolate2=:           238 118  33
Chocolate3=:           205 102  29
Coral=:                255 127  80
Coral1=:               255 114  86
Coral2=:               238 106  80
Coral3=:               205  91  69
Coral4=:               139  62  47
CornflowerBlue=:       100 149 237
Cornsilk1=:            255 248 220
Cornsilk2=:            238 232 205
Cornsilk3=:            205 200 177
Cornsilk4=:            139 136 120
Cyan1=:                  0 255 255
Cyan2=:                  0 238 238
Cyan3=:                  0 205 205
Cyan4=:                  0 139 139
DarkGoldenrod=:        184 134  11
DarkGoldenrod1=:       255 185  15
DarkGoldenrod2=:       238 173  14
DarkGoldenrod3=:       205 149  12
DarkGoldenrod4=:       139 101   8
DarkGreen=:              0 100   0
DarkKhaki=:            189 183 107
DarkOliveGreen=:        85 107  47
DarkOliveGreen1=:      202 255 112
DarkOliveGreen2=:      188 238 104
DarkOliveGreen3=:      162 205  90
DarkOliveGreen4=:      110 139  61
DarkOrange=:           255 140   0
DarkOrange1=:          255 127   0
DarkOrange2=:          238 118   0
DarkOrange3=:          205 102   0
DarkOrange4=:          139  69   0
DarkOrchid=:           153  50 204
DarkOrchid1=:          191  62 255
DarkOrchid2=:          178  58 238
DarkOrchid3=:          154  50 205
DarkOrchid4=:          104  34 139
DarkSalmon=:           233 150 122
DarkSeaGreen=:         143 188 143
DarkSeaGreen1=:        193 255 193
DarkSeaGreen2=:        180 238 180
DarkSeaGreen3=:        155 205 155
DarkSeaGreen4=:        105 139 105
DarkSlateBlue=:         72  61 139
DarkSlateGray=:         47  79  79
DarkSlateGray1=:       151 255 255
DarkSlateGray2=:       141 238 238
DarkSlateGray3=:       121 205 205
DarkSlateGray4=:        82 139 139
DarkTurquoise=:          0 206 209
DarkViolet=:           148   0 211
DeepPink1=:            255  20 147
DeepPink2=:            238  18 137
DeepPink3=:            205  16 118
DeepPink4=:            139  10  80
DeepSkyBlue1=:           0 191 255
DeepSkyBlue2=:           0 178 238
DeepSkyBlue3=:           0 154 205
DeepSkyBlue4=:           0 104 139
DimGray=:              105 105 105
DodgerBlue1=:           30 144 255
DodgerBlue2=:           28 134 238
DodgerBlue3=:           24 116 205
DodgerBlue4=:           16  78 139
Firebrick=:            178  34  34
Firebrick1=:           255  48  48
Firebrick2=:           238  44  44
Firebrick3=:           205  38  38
Firebrick4=:           139  26  26
FloralWhite=:          255 250 240
ForestGreen=:           34 139  34
Gainsboro=:            220 220 220
GhostWhite=:           248 248 255
Gold1=:                255 215   0
Gold2=:                238 201   0
Gold3=:                205 173   0
Gold4=:                139 117   0
Goldenrod=:            218 165  32
Goldenrod1=:           255 193  37
Goldenrod2=:           238 180  34
Goldenrod3=:           205 155  29
Goldenrod4=:           139 105  20
Gray=:                 190 190 190
Gray1=:                  3   3   3
Gray10=:                26  26  26
Gray11=:                28  28  28
Gray12=:                31  31  31
Gray13=:                33  33  33
Gray14=:                36  36  36
Gray15=:                38  38  38
Gray16=:                41  41  41
Gray17=:                43  43  43
Gray18=:                46  46  46
Gray19=:                48  48  48
Gray2=:                  5   5   5
Gray20=:                51  51  51
Gray21=:                54  54  54
Gray22=:                56  56  56
Gray23=:                59  59  59
Gray24=:                61  61  61
Gray25=:                64  64  64
Gray26=:                66  66  66
Gray27=:                69  69  69
Gray28=:                71  71  71
Gray29=:                74  74  74
Gray3=:                  8   8   8
Gray30=:                77  77  77
Gray31=:                79  79  79
Gray32=:                82  82  82
Gray33=:                84  84  84
Gray34=:                87  87  87
Gray35=:                89  89  89
Gray36=:                92  92  92
Gray37=:                94  94  94
Gray38=:                97  97  97
Gray39=:                99  99  99
Gray4=:                 10  10  10
Gray40=:               102 102 102
Gray41=:               105 105 105
Gray42=:               107 107 107
Gray43=:               110 110 110
Gray44=:               112 112 112
Gray45=:               115 115 115
Gray46=:               117 117 117
Gray47=:               120 120 120
Gray48=:               122 122 122
Gray49=:               125 125 125
Gray5=:                 13  13  13
Gray50=:               127 127 127
Gray51=:               130 130 130
Gray52=:               133 133 133
Gray53=:               135 135 135
Gray54=:               138 138 138
Gray55=:               140 140 140
Gray56=:               143 143 143
Gray57=:               145 145 145
Gray58=:               148 148 148
Gray59=:               150 150 150
Gray6=:                 15  15  15
Gray60=:               153 153 153
Gray61=:               156 156 156
Gray62=:               158 158 158
Gray63=:               161 161 161
Gray64=:               163 163 163
Gray65=:               166 166 166
Gray66=:               168 168 168
Gray67=:               171 171 171
Gray68=:               173 173 173
Gray69=:               176 176 176
Gray7=:                 18  18  18
Gray70=:               179 179 179
Gray71=:               181 181 181
Gray72=:               184 184 184
Gray73=:               186 186 186
Gray74=:               189 189 189
Gray75=:               191 191 191
Gray76=:               194 194 194
Gray77=:               196 196 196
Gray78=:               199 199 199
Gray79=:               201 201 201
Gray8=:                 20  20  20
Gray80=:               204 204 204
Gray81=:               207 207 207
Gray82=:               209 209 209
Gray83=:               212 212 212
Gray84=:               214 214 214
Gray85=:               217 217 217
Gray86=:               219 219 219
Gray87=:               222 222 222
Gray88=:               224 224 224
Gray89=:               227 227 227
Gray9=:                 23  23  23
Gray90=:               229 229 229
Gray91=:               232 232 232
Gray92=:               235 235 235
Gray93=:               237 237 237
Gray94=:               240 240 240
Gray95=:               242 242 242
Gray97=:               247 247 247
Gray98=:               250 250 250
Gray99=:               252 252 252
Green1=:                 0 255   0
Green2=:                 0 238   0
Green3=:                 0 205   0
Green4=:                 0 139   0
GreenYellow=:          173 255  47
Honeydew1=:            240 255 240
Honeydew2=:            224 238 224
Honeydew3=:            193 205 193
Honeydew4=:            131 139 131
HotPink=:              255 105 180
HotPink1=:             255 110 180
HotPink2=:             238 106 167
HotPink3=:             205  96 144
HotPink4=:             139  58  98
IndianRed=:            205  92  92
IndianRed1=:           255 106 106
IndianRed2=:           238  99  99
IndianRed3=:           205  85  85
IndianRed4=:           139  58  58
Ivory1=:               255 255 240
Ivory2=:               238 238 224
Ivory3=:               205 205 193
Ivory4=:               139 139 131
Khaki=:                240 230 140
Khaki1=:               255 246 143
Khaki2=:               238 230 133
Khaki3=:               205 198 115
Khaki4=:               139 134  78
Lavender=:             230 230 250
LavenderBlush1=:       255 240 245
LavenderBlush2=:       238 224 229
LavenderBlush3=:       205 193 197
LavenderBlush4=:       139 131 134
LawnGreen=:            124 252   0
LemonChiffon1=:        255 250 205
LemonChiffon2=:        238 233 191
LemonChiffon3=:        205 201 165
LemonChiffon4=:        139 137 112
Light=:                238 221 130
LightBlue=:            173 216 230
LightBlue1=:           191 239 255
LightBlue2=:           178 223 238
LightBlue3=:           154 192 205
LightBlue4=:           104 131 139
LightCoral=:           240 128 128
LightCyan1=:           224 255 255
LightCyan2=:           209 238 238
LightCyan3=:           180 205 205
LightCyan4=:           122 139 139
LightGoldenrod1=:      255 236 139
LightGoldenrod2=:      238 220 130
LightGoldenrod3=:      205 190 112
LightGoldenrod4=:      139 129  76
LightGoldenrodYellow=: 250 250 210
LightGray=:            211 211 211
LightPink=:            255 182 193
LightPink1=:           255 174 185
LightPink2=:           238 162 173
LightPink3=:           205 140 149
LightPink4=:           139  95 101
LightSalmon1=:         255 160 122
LightSalmon2=:         238 149 114
LightSalmon3=:         205 129  98
LightSalmon4=:         139  87  66
LightSeaGreen=:         32 178 170
LightSkyBlue=:         135 206 250
LightSkyBlue1=:        176 226 255
LightSkyBlue2=:        164 211 238
LightSkyBlue3=:        141 182 205
LightSkyBlue4=:         96 123 139
LightSlateBlue=:       132 112 255
LightSlateGray=:       119 136 153
LightSteelBlue=:       176 196 222
LightSteelBlue1=:      202 225 255
LightSteelBlue2=:      188 210 238
LightSteelBlue3=:      162 181 205
LightSteelBlue4=:      110 123 139
LightYellow1=:         255 255 224
LightYellow2=:         238 238 209
LightYellow3=:         205 205 180
LightYellow4=:         139 139 122
LimeGreen=:             50 205  50
Linen=:                250 240 230
Magenta=:              255   0 255
Magenta2=:             238   0 238
Magenta3=:             205   0 205
Magenta4=:             139   0 139
Maroon=:               176  48  96
Maroon1=:              255  52 179
Maroon2=:              238  48 167
Maroon3=:              205  41 144
Maroon4=:              139  28  98
Medium=:               102 205 170
MediumAquamarine=:     102 205 170
MediumBlue=:             0   0 205
MediumOrchid=:         186  85 211
MediumOrchid1=:        224 102 255
MediumOrchid2=:        209  95 238
MediumOrchid3=:        180  82 205
MediumOrchid4=:        122  55 139
MediumPurple=:         147 112 219
MediumPurple1=:        171 130 255
MediumPurple2=:        159 121 238
MediumPurple3=:        137 104 205
MediumPurple4=:         93  71 139
MediumSeaGreen=:        60 179 113
MediumSlateBlue=:      123 104 238
MediumSpringGreen=:      0 250 154
MediumTurquoise=:       72 209 204
MediumVioletRed=:      199  21 133
MidnightBlue=:          25  25 112
MintCream=:            245 255 250
MistyRose1=:           255 228 225
MistyRose2=:           238 213 210
MistyRose3=:           205 183 181
MistyRose4=:           139 125 123
Moccasin=:             255 228 181
NavajoWhite1=:         255 222 173
NavajoWhite2=:         238 207 161
NavajoWhite3=:         205 179 139
NavajoWhite4=:         139 121  94
NavyBlue=:               0   0 128
OldLace=:              253 245 230
OliveDrab=:            107 142  35
OliveDrab1=:           192 255  62
OliveDrab2=:           179 238  58
OliveDrab4=:           105 139  34
Orange1=:              255 165   0
Orange2=:              238 154   0
Orange3=:              205 133   0
Orange4=:              139  90   0
OrangeRed1=:           255  69   0
OrangeRed2=:           238  64   0
OrangeRed3=:           205  55   0
OrangeRed4=:           139  37   0
Orchid=:               218 112 214
Orchid1=:              255 131 250
Orchid2=:              238 122 233
Orchid3=:              205 105 201
Orchid4=:              139  71 137
Pale=:                 219 112 147
PaleGoldenrod=:        238 232 170
PaleGreen=:            152 251 152
PaleGreen1=:           154 255 154
PaleGreen2=:           144 238 144
PaleGreen3=:           124 205 124
PaleGreen4=:            84 139  84
PaleTurquoise=:        175 238 238
PaleTurquoise1=:       187 255 255
PaleTurquoise2=:       174 238 238
PaleTurquoise3=:       150 205 205
PaleTurquoise4=:       102 139 139
PaleVioletRed=:        219 112 147
PaleVioletRed1=:       255 130 171
PaleVioletRed2=:       238 121 159
PaleVioletRed3=:       205 104 137
PaleVioletRed4=:       139  71  93
PapayaWhip=:           255 239 213
PeachPuff1=:           255 218 185
PeachPuff2=:           238 203 173
PeachPuff3=:           205 175 149
PeachPuff4=:           139 119 101
Pink=:                 255 192 203
Pink1=:                255 181 197
Pink2=:                238 169 184
Pink3=:                205 145 158
Pink4=:                139  99 108
Plum=:                 221 160 221
Plum1=:                255 187 255
Plum2=:                238 174 238
Plum3=:                205 150 205
Plum4=:                139 102 139
PowderBlue=:           176 224 230
Purple=:               160  32 240
Purple1=:              155  48 255
Purple2=:              145  44 238
Purple3=:              125  38 205
Purple4=:               85  26 139
Red1=:                 255   0   0
Red2=:                 238   0   0
Red3=:                 205   0   0
Red4=:                 139   0   0
RosyBrown=:            188 143 143
RosyBrown1=:           255 193 193
RosyBrown2=:           238 180 180
RosyBrown3=:           205 155 155
RosyBrown4=:           139 105 105
RoyalBlue=:             65 105 225
RoyalBlue1=:            72 118 255
RoyalBlue2=:            67 110 238
RoyalBlue3=:            58  95 205
RoyalBlue4=:            39  64 139
SaddleBrown=:          139  69  19
Salmon=:               250 128 114
Salmon1=:              255 140 105
Salmon2=:              238 130  98
Salmon3=:              205 112  84
Salmon4=:              139  76  57
SandyBrown=:           244 164  96
SeaGreen1=:             84 255 159
SeaGreen2=:             78 238 148
SeaGreen3=:             67 205 128
SeaGreen4=:             46 139  87
Seashell1=:            255 245 238
Seashell2=:            238 229 222
Seashell3=:            205 197 191
Seashell4=:            139 134 130
Sienna=:               160  82  45
Sienna1=:              255 130  71
Sienna2=:              238 121  66
Sienna3=:              205 104  57
Sienna4=:              139  71  38
SkyBlue=:              135 206 235
SkyBlue1=:             135 206 255
SkyBlue2=:             126 192 238
SkyBlue3=:             108 166 205
SkyBlue4=:              74 112 139
SlateBlue=:            106  90 205
SlateBlue1=:           131 111 255
SlateBlue2=:           122 103 238
SlateBlue3=:           105  89 205
SlateBlue4=:            71  60 139
SlateGray=:            112 128 144
SlateGray1=:           198 226 255
SlateGray2=:           185 211 238
SlateGray3=:           159 182 205
SlateGray4=:           108 123 139
Snow1=:                255 250 250
Snow2=:                238 233 233
Snow3=:                205 201 201
Snow4=:                139 137 137
SpringGreen1=:           0 255 127
SpringGreen2=:           0 238 118
SpringGreen3=:           0 205 102
SpringGreen4=:           0 139  69
SteelBlue=:             70 130 180
SteelBlue1=:            99 184 255
SteelBlue2=:            92 172 238
SteelBlue3=:            79 148 205
SteelBlue4=:            54 100 139
Tan=:                  210 180 140
Tan1=:                 255 165  79
Tan2=:                 238 154  73
Tan3=:                 205 133  63
Tan4=:                 139  90  43
Thistle=:              216 191 216
Thistle1=:             255 225 255
Thistle2=:             238 210 238
Thistle3=:             205 181 205
Thistle4=:             139 123 139
Tomato1=:              255  99  71
Tomato2=:              238  92  66
Tomato3=:              205  79  57
Tomato4=:              139  54  38
Turquoise=:             64 224 208
Turquoise1=:             0 245 255
Turquoise2=:             0 229 238
Turquoise3=:             0 197 205
Turquoise4=:             0 134 139
Violet=:               238 130 238
VioletRed=:            208  32 144
VioletRed1=:           255  62 150
VioletRed2=:           238  58 140
VioletRed3=:           205  50 120
VioletRed4=:           139  34  82
Wheat=:                245 222 179
Wheat1=:               255 231 186
Wheat2=:               238 216 174
Wheat3=:               205 186 150
Wheat4=:               139 126 102
White=:                255 255 255
WhiteSmoke=:           245 245 245
Yellow1=:              255 255   0
Yellow2=:              238 238   0
Yellow3=:              205 205   0
Yellow4=:              139 139   0
YellowGreen=:          154 205  50
)
NB. color manifest

CAPTION=: 'Color tables'

DESCRIPTION=: 0 : 0
Color tables and related scripts.
)

VERSION=: '1.0.19'

RELEASE=: ''

FOLDER=: 'graphics/color'

FILES=: 0 : 0
color.txt
color16.ijs
colorcss.ijs
colortab.html
colortab.ijs
colorx256.html
colorx256.ijs
html.ijs
hues.ijs
rgb.ijs
showcolor.ijs
xwin.ijs
)
NB. xterm 256 colors

cocurrent 'z'

a=. ,/128 255 */ |."1 #:i.8
a=. 192 (7)} 128 (8) }a
b=. >,{3#<0,95+40*i.5
c=. 3#&>8 + 10 * i.24

COLORX256=: ('p<color>q<=: >' 8!:2 ,. i.256) ,"1 ":a,b,c
NB. hues

cocurrent 'z'

NB. =========================================================
NB.*hue v generate select color
NB. x is color set
NB. y is values from 0 to 1, selecting color
hue=: 4 : 0
y=. y*<:#x
b=. x {~ <.y
t=. x {~ >.y
k=. y-<.y
(t*k)+b*-.k
)

NB. ---------------------------------------------------------
NB.* hue v function to create hues as 0-255 RGB triples
NB. exmaple:
NB.    hue 5r6*(i.%<:)100
NB. creates a palette with 100 pure color entries
hues=: 3 : 0
h=. 255 * |."1 #: 7 | 3^i.7
y=. y * <: #h
b=. h {~ <. y
t=. h {~ >. y
k=. y - <.y
(t*k)+b*-.k
)

NB. showcolor hues 5r6 * (i.%<:) 12
NB. H=: (_2 }. 255 * |."1 #: 7 | 3^i.7)
NB. H hue (i.%<:) 12
NB. css colors

cocurrent 'z'

NB. =========================================================
NB.*COLORCSS n css color table
COLORCSS=: ] ;._2 (0 : 0)
Black=:                  0   0   0
Navy=:                   0   0 128
DarkBlue=:               0   0 139
MediumBlue=:             0   0 205
Blue=:                   0   0 255
DarkGreen=:              0 100   0
Green=:                  0 128   0
Teal=:                   0 128 128
DarkCyan=:               0 139 139
DeepSkyBlue=:            0 191 255
DarkTurquoise=:          0 206 209
MediumSpringGreen=:      0 250 154
Lime=:                   0 255   0
SpringGreen=:            0 255 127
Aqua=:                   0 255 255
Cyan=:                   0 255 255
MidnightBlue=:          25  25 112
DodgerBlue=:            30 144 255
LightSeaGreen=:         32 178 170
ForestGreen=:           34 139  34
SeaGreen=:              46 139  87
DarkSlateGray=:         47  79  79
DarkSlateGrey=:         47  79  79
LimeGreen=:             50 205  50
MediumSeaGreen=:        60 179 113
Turquoise=:             64 224 208
RoyalBlue=:             65 105 225
SteelBlue=:             70 130 180
DarkSlateBlue=:         72  61 139
MediumTurquoise=:       72 209 204
Indigo=:                75   0 130
DarkOliveGreen=:        85 107  47
CadetBlue=:             95 158 160
CornflowerBlue=:       100 149 237
RebeccaPurple=:        102  51 153
MediumAquaMarine=:     102 205 170
DimGray=:              105 105 105
DimGrey=:              105 105 105
SlateBlue=:            106  90 205
OliveDrab=:            107 142  35
SlateGray=:            112 128 144
SlateGrey=:            112 128 144
LightSlateGray=:       119 136 153
LightSlateGrey=:       119 136 153
MediumSlateBlue=:      123 104 238
LawnGreen=:            124 252   0
Chartreuse=:           127 255   0
Aquamarine=:           127 255 212
Maroon=:               128   0   0
Purple=:               128   0 128
Olive=:                128 128   0
Gray=:                 128 128 128
Grey=:                 128 128 128
SkyBlue=:              135 206 235
LightSkyBlue=:         135 206 250
BlueViolet=:           138  43 226
DarkRed=:              139   0   0
DarkMagenta=:          139   0 139
SaddleBrown=:          139  69  19
DarkSeaGreen=:         143 188 143
LightGreen=:           144 238 144
MediumPurple=:         147 112 219
DarkViolet=:           148   0 211
PaleGreen=:            152 251 152
DarkOrchid=:           153  50 204
YellowGreen=:          154 205  50
Sienna=:               160  82  45
Brown=:                165  42  42
DarkGray=:             169 169 169
DarkGrey=:             169 169 169
LightBlue=:            173 216 230
GreenYellow=:          173 255  47
PaleTurquoise=:        175 238 238
LightSteelBlue=:       176 196 222
PowderBlue=:           176 224 230
FireBrick=:            178  34  34
DarkGoldenRod=:        184 134  11
MediumOrchid=:         186  85 211
RosyBrown=:            188 143 143
DarkKhaki=:            189 183 107
Silver=:               192 192 192
MediumVioletRed=:      199  21 133
IndianRed=:            205  92  92
Peru=:                 205 133  63
Chocolate=:            210 105  30
Tan=:                  210 180 140
LightGray=:            211 211 211
LightGrey=:            211 211 211
Thistle=:              216 191 216
Orchid=:               218 112 214
GoldenRod=:            218 165  32
PaleVioletRed=:        219 112 147
Crimson=:              220  20  60
Gainsboro=:            220 220 220
Plum=:                 221 160 221
BurlyWood=:            222 184 135
LightCyan=:            224 255 255
Lavender=:             230 230 250
DarkSalmon=:           233 150 122
Violet=:               238 130 238
PaleGoldenRod=:        238 232 170
LightCoral=:           240 128 128
Khaki=:                240 230 140
AliceBlue=:            240 248 255
HoneyDew=:             240 255 240
Azure=:                240 255 255
SandyBrown=:           244 164  96
Wheat=:                245 222 179
Beige=:                245 245 220
WhiteSmoke=:           245 245 245
MintCream=:            245 255 250
GhostWhite=:           248 248 255
Salmon=:               250 128 114
AntiqueWhite=:         250 235 215
Linen=:                250 240 230
LightGoldenRodYellow=: 250 250 210
OldLace=:              253 245 230
Red=:                  255   0   0
Fuchsia=:              255   0 255
Magenta=:              255   0 255
DeepPink=:             255  20 147
OrangeRed=:            255  69   0
Tomato=:               255  99  71
HotPink=:              255 105 180
Coral=:                255 127  80
DarkOrange=:           255 140   0
LightSalmon=:          255 160 122
Orange=:               255 165   0
LightPink=:            255 182 193
Pink=:                 255 192 203
Gold=:                 255 215   0
PeachPuff=:            255 218 185
NavajoWhite=:          255 222 173
Moccasin=:             255 228 181
Bisque=:               255 228 196
MistyRose=:            255 228 225
BlanchedAlmond=:       255 235 205
PapayaWhip=:           255 239 213
LavenderBlush=:        255 240 245
SeaShell=:             255 245 238
Cornsilk=:             255 248 220
LemonChiffon=:         255 250 205
FloralWhite=:          255 250 240
Snow=:                 255 250 250
Yellow=:               255 255   0
LightYellow=:          255 255 224
Ivory=:                255 255 240
White=:                255 255 255
)<html><head><style>table{border:1px solid black;}td{text-align:center;}</style></head><body><table>
<tr><td style="background-color:#000000;color:#ffffff">color0<br/>0 0 0, #000000</td><td style="background-color:#800000;color:#ffffff">color1<br/>128 0 0, #800000</td><td style="background-color:#008000;color:#ffffff">color2<br/>0 128 0, #008000</td><td style="background-color:#808000;color:#ffffff">color3<br/>128 128 0, #808000</td><td style="background-color:#000080;color:#ffffff">color4<br/>0 0 128, #000080</td><td style="background-color:#800080;color:#ffffff">color5<br/>128 0 128, #800080</td></tr>
<tr><td style="background-color:#008080;color:#ffffff">color6<br/>0 128 128, #008080</td><td style="background-color:#c0c0c0">color7<br/>192 192 192, #c0c0c0</td><td style="background-color:#808080">color8<br/>128 128 128, #808080</td><td style="background-color:#ff0000;color:#ffffff">color9<br/>255 0 0, #ff0000</td><td style="background-color:#00ff00;color:#ffffff">color10<br/>0 255 0, #00ff00</td><td style="background-color:#ffff00">color11<br/>255 255 0, #ffff00</td></tr>
<tr><td style="background-color:#0000ff;color:#ffffff">color12<br/>0 0 255, #0000ff</td><td style="background-color:#ff00ff">color13<br/>255 0 255, #ff00ff</td><td style="background-color:#00ffff">color14<br/>0 255 255, #00ffff</td><td style="background-color:#ffffff">color15<br/>255 255 255, #ffffff</td><td style="background-color:#000000;color:#ffffff">color16<br/>0 0 0, #000000</td><td style="background-color:#00005f;color:#ffffff">color17<br/>0 0 95, #00005f</td></tr>
<tr><td style="background-color:#000087;color:#ffffff">color18<br/>0 0 135, #000087</td><td style="background-color:#0000af;color:#ffffff">color19<br/>0 0 175, #0000af</td><td style="background-color:#0000d7;color:#ffffff">color20<br/>0 0 215, #0000d7</td><td style="background-color:#0000ff;color:#ffffff">color21<br/>0 0 255, #0000ff</td><td style="background-color:#005f00;color:#ffffff">color22<br/>0 95 0, #005f00</td><td style="background-color:#005f5f;color:#ffffff">color23<br/>0 95 95, #005f5f</td></tr>
<tr><td style="background-color:#005f87;color:#ffffff">color24<br/>0 95 135, #005f87</td><td style="background-color:#005faf;color:#ffffff">color25<br/>0 95 175, #005faf</td><td style="background-color:#005fd7">color26<br/>0 95 215, #005fd7</td><td style="background-color:#005fff">color27<br/>0 95 255, #005fff</td><td style="background-color:#008700;color:#ffffff">color28<br/>0 135 0, #008700</td><td style="background-color:#00875f;color:#ffffff">color29<br/>0 135 95, #00875f</td></tr>
<tr><td style="background-color:#008787;color:#ffffff">color30<br/>0 135 135, #008787</td><td style="background-color:#0087af">color31<br/>0 135 175, #0087af</td><td style="background-color:#0087d7">color32<br/>0 135 215, #0087d7</td><td style="background-color:#0087ff">color33<br/>0 135 255, #0087ff</td><td style="background-color:#00af00;color:#ffffff">color34<br/>0 175 0, #00af00</td><td style="background-color:#00af5f;color:#ffffff">color35<br/>0 175 95, #00af5f</td></tr>
<tr><td style="background-color:#00af87">color36<br/>0 175 135, #00af87</td><td style="background-color:#00afaf">color37<br/>0 175 175, #00afaf</td><td style="background-color:#00afd7">color38<br/>0 175 215, #00afd7</td><td style="background-color:#00afff">color39<br/>0 175 255, #00afff</td><td style="background-color:#00d700;color:#ffffff">color40<br/>0 215 0, #00d700</td><td style="background-color:#00d75f">color41<br/>0 215 95, #00d75f</td></tr>
<tr><td style="background-color:#00d787">color42<br/>0 215 135, #00d787</td><td style="background-color:#00d7af">color43<br/>0 215 175, #00d7af</td><td style="background-color:#00d7d7">color44<br/>0 215 215, #00d7d7</td><td style="background-color:#00d7ff">color45<br/>0 215 255, #00d7ff</td><td style="background-color:#00ff00;color:#ffffff">color46<br/>0 255 0, #00ff00</td><td style="background-color:#00ff5f">color47<br/>0 255 95, #00ff5f</td></tr>
<tr><td style="background-color:#00ff87">color48<br/>0 255 135, #00ff87</td><td style="background-color:#00ffaf">color49<br/>0 255 175, #00ffaf</td><td style="background-color:#00ffd7">color50<br/>0 255 215, #00ffd7</td><td style="background-color:#00ffff">color51<br/>0 255 255, #00ffff</td><td style="background-color:#5f0000;color:#ffffff">color52<br/>95 0 0, #5f0000</td><td style="background-color:#5f005f;color:#ffffff">color53<br/>95 0 95, #5f005f</td></tr>
<tr><td style="background-color:#5f0087;color:#ffffff">color54<br/>95 0 135, #5f0087</td><td style="background-color:#5f00af;color:#ffffff">color55<br/>95 0 175, #5f00af</td><td style="background-color:#5f00d7">color56<br/>95 0 215, #5f00d7</td><td style="background-color:#5f00ff">color57<br/>95 0 255, #5f00ff</td><td style="background-color:#5f5f00;color:#ffffff">color58<br/>95 95 0, #5f5f00</td><td style="background-color:#5f5f5f;color:#ffffff">color59<br/>95 95 95, #5f5f5f</td></tr>
<tr><td style="background-color:#5f5f87">color60<br/>95 95 135, #5f5f87</td><td style="background-color:#5f5faf">color61<br/>95 95 175, #5f5faf</td><td style="background-color:#5f5fd7">color62<br/>95 95 215, #5f5fd7</td><td style="background-color:#5f5fff">color63<br/>95 95 255, #5f5fff</td><td style="background-color:#5f8700;color:#ffffff">color64<br/>95 135 0, #5f8700</td><td style="background-color:#5f875f">color65<br/>95 135 95, #5f875f</td></tr>
<tr><td style="background-color:#5f8787">color66<br/>95 135 135, #5f8787</td><td style="background-color:#5f87af">color67<br/>95 135 175, #5f87af</td><td style="background-color:#5f87d7">color68<br/>95 135 215, #5f87d7</td><td style="background-color:#5f87ff">color69<br/>95 135 255, #5f87ff</td><td style="background-color:#5faf00;color:#ffffff">color70<br/>95 175 0, #5faf00</td><td style="background-color:#5faf5f">color71<br/>95 175 95, #5faf5f</td></tr>
<tr><td style="background-color:#5faf87">color72<br/>95 175 135, #5faf87</td><td style="background-color:#5fafaf">color73<br/>95 175 175, #5fafaf</td><td style="background-color:#5fafd7">color74<br/>95 175 215, #5fafd7</td><td style="background-color:#5fafff">color75<br/>95 175 255, #5fafff</td><td style="background-color:#5fd700">color76<br/>95 215 0, #5fd700</td><td style="background-color:#5fd75f">color77<br/>95 215 95, #5fd75f</td></tr>
<tr><td style="background-color:#5fd787">color78<br/>95 215 135, #5fd787</td><td style="background-color:#5fd7af">color79<br/>95 215 175, #5fd7af</td><td style="background-color:#5fd7d7">color80<br/>95 215 215, #5fd7d7</td><td style="background-color:#5fd7ff">color81<br/>95 215 255, #5fd7ff</td><td style="background-color:#5fff00">color82<br/>95 255 0, #5fff00</td><td style="background-color:#5fff5f">color83<br/>95 255 95, #5fff5f</td></tr>
<tr><td style="background-color:#5fff87">color84<br/>95 255 135, #5fff87</td><td style="background-color:#5fffaf">color85<br/>95 255 175, #5fffaf</td><td style="background-color:#5fffd7">color86<br/>95 255 215, #5fffd7</td><td style="background-color:#5fffff">color87<br/>95 255 255, #5fffff</td><td style="background-color:#870000;color:#ffffff">color88<br/>135 0 0, #870000</td><td style="background-color:#87005f;color:#ffffff">color89<br/>135 0 95, #87005f</td></tr>
<tr><td style="background-color:#870087;color:#ffffff">color90<br/>135 0 135, #870087</td><td style="background-color:#8700af">color91<br/>135 0 175, #8700af</td><td style="background-color:#8700d7">color92<br/>135 0 215, #8700d7</td><td style="background-color:#8700ff">color93<br/>135 0 255, #8700ff</td><td style="background-color:#875f00;color:#ffffff">color94<br/>135 95 0, #875f00</td><td style="background-color:#875f5f">color95<br/>135 95 95, #875f5f</td></tr>
<tr><td style="background-color:#875f87">color96<br/>135 95 135, #875f87</td><td style="background-color:#875faf">color97<br/>135 95 175, #875faf</td><td style="background-color:#875fd7">color98<br/>135 95 215, #875fd7</td><td style="background-color:#875fff">color99<br/>135 95 255, #875fff</td><td style="background-color:#878700;color:#ffffff">color100<br/>135 135 0, #878700</td><td style="background-color:#87875f">color101<br/>135 135 95, #87875f</td></tr>
<tr><td style="background-color:#878787">color102<br/>135 135 135, #878787</td><td style="background-color:#8787af">color103<br/>135 135 175, #8787af</td><td style="background-color:#8787d7">color104<br/>135 135 215, #8787d7</td><td style="background-color:#8787ff">color105<br/>135 135 255, #8787ff</td><td style="background-color:#87af00">color106<br/>135 175 0, #87af00</td><td style="background-color:#87af5f">color107<br/>135 175 95, #87af5f</td></tr>
<tr><td style="background-color:#87af87">color108<br/>135 175 135, #87af87</td><td style="background-color:#87afaf">color109<br/>135 175 175, #87afaf</td><td style="background-color:#87afd7">color110<br/>135 175 215, #87afd7</td><td style="background-color:#87afff">color111<br/>135 175 255, #87afff</td><td style="background-color:#87d700">color112<br/>135 215 0, #87d700</td><td style="background-color:#87d75f">color113<br/>135 215 95, #87d75f</td></tr>
<tr><td style="background-color:#87d787">color114<br/>135 215 135, #87d787</td><td style="background-color:#87d7af">color115<br/>135 215 175, #87d7af</td><td style="background-color:#87d7d7">color116<br/>135 215 215, #87d7d7</td><td style="background-color:#87d7ff">color117<br/>135 215 255, #87d7ff</td><td style="background-color:#87ff00">color118<br/>135 255 0, #87ff00</td><td style="background-color:#87ff5f">color119<br/>135 255 95, #87ff5f</td></tr>
<tr><td style="background-color:#87ff87">color120<br/>135 255 135, #87ff87</td><td style="background-color:#87ffaf">color121<br/>135 255 175, #87ffaf</td><td style="background-color:#87ffd7">color122<br/>135 255 215, #87ffd7</td><td style="background-color:#87ffff">color123<br/>135 255 255, #87ffff</td><td style="background-color:#af0000;color:#ffffff">color124<br/>175 0 0, #af0000</td><td style="background-color:#af005f;color:#ffffff">color125<br/>175 0 95, #af005f</td></tr>
<tr><td style="background-color:#af0087">color126<br/>175 0 135, #af0087</td><td style="background-color:#af00af">color127<br/>175 0 175, #af00af</td><td style="background-color:#af00d7">color128<br/>175 0 215, #af00d7</td><td style="background-color:#af00ff">color129<br/>175 0 255, #af00ff</td><td style="background-color:#af5f00;color:#ffffff">color130<br/>175 95 0, #af5f00</td><td style="background-color:#af5f5f">color131<br/>175 95 95, #af5f5f</td></tr>
<tr><td style="background-color:#af5f87">color132<br/>175 95 135, #af5f87</td><td style="background-color:#af5faf">color133<br/>175 95 175, #af5faf</td><td style="background-color:#af5fd7">color134<br/>175 95 215, #af5fd7</td><td style="background-color:#af5fff">color135<br/>175 95 255, #af5fff</td><td style="background-color:#af8700">color136<br/>175 135 0, #af8700</td><td style="background-color:#af875f">color137<br/>175 135 95, #af875f</td></tr>
<tr><td style="background-color:#af8787">color138<br/>175 135 135, #af8787</td><td style="background-color:#af87af">color139<br/>175 135 175, #af87af</td><td style="background-color:#af87d7">color140<br/>175 135 215, #af87d7</td><td style="background-color:#af87ff">color141<br/>175 135 255, #af87ff</td><td style="background-color:#afaf00">color142<br/>175 175 0, #afaf00</td><td style="background-color:#afaf5f">color143<br/>175 175 95, #afaf5f</td></tr>
<tr><td style="background-color:#afaf87">color144<br/>175 175 135, #afaf87</td><td style="background-color:#afafaf">color145<br/>175 175 175, #afafaf</td><td style="background-color:#afafd7">color146<br/>175 175 215, #afafd7</td><td style="background-color:#afafff">color147<br/>175 175 255, #afafff</td><td style="background-color:#afd700">color148<br/>175 215 0, #afd700</td><td style="background-color:#afd75f">color149<br/>175 215 95, #afd75f</td></tr>
<tr><td style="background-color:#afd787">color150<br/>175 215 135, #afd787</td><td style="background-color:#afd7af">color151<br/>175 215 175, #afd7af</td><td style="background-color:#afd7d7">color152<br/>175 215 215, #afd7d7</td><td style="background-color:#afd7ff">color153<br/>175 215 255, #afd7ff</td><td style="background-color:#afff00">color154<br/>175 255 0, #afff00</td><td style="background-color:#afff5f">color155<br/>175 255 95, #afff5f</td></tr>
<tr><td style="background-color:#afff87">color156<br/>175 255 135, #afff87</td><td style="background-color:#afffaf">color157<br/>175 255 175, #afffaf</td><td style="background-color:#afffd7">color158<br/>175 255 215, #afffd7</td><td style="background-color:#afffff">color159<br/>175 255 255, #afffff</td><td style="background-color:#d70000;color:#ffffff">color160<br/>215 0 0, #d70000</td><td style="background-color:#d7005f">color161<br/>215 0 95, #d7005f</td></tr>
<tr><td style="background-color:#d70087">color162<br/>215 0 135, #d70087</td><td style="background-color:#d700af">color163<br/>215 0 175, #d700af</td><td style="background-color:#d700d7">color164<br/>215 0 215, #d700d7</td><td style="background-color:#d700ff">color165<br/>215 0 255, #d700ff</td><td style="background-color:#d75f00">color166<br/>215 95 0, #d75f00</td><td style="background-color:#d75f5f">color167<br/>215 95 95, #d75f5f</td></tr>
<tr><td style="background-color:#d75f87">color168<br/>215 95 135, #d75f87</td><td style="background-color:#d75faf">color169<br/>215 95 175, #d75faf</td><td style="background-color:#d75fd7">color170<br/>215 95 215, #d75fd7</td><td style="background-color:#d75fff">color171<br/>215 95 255, #d75fff</td><td style="background-color:#d78700">color172<br/>215 135 0, #d78700</td><td style="background-color:#d7875f">color173<br/>215 135 95, #d7875f</td></tr>
<tr><td style="background-color:#d78787">color174<br/>215 135 135, #d78787</td><td style="background-color:#d787af">color175<br/>215 135 175, #d787af</td><td style="background-color:#d787d7">color176<br/>215 135 215, #d787d7</td><td style="background-color:#d787ff">color177<br/>215 135 255, #d787ff</td><td style="background-color:#d7af00">color178<br/>215 175 0, #d7af00</td><td style="background-color:#d7af5f">color179<br/>215 175 95, #d7af5f</td></tr>
<tr><td style="background-color:#d7af87">color180<br/>215 175 135, #d7af87</td><td style="background-color:#d7afaf">color181<br/>215 175 175, #d7afaf</td><td style="background-color:#d7afd7">color182<br/>215 175 215, #d7afd7</td><td style="background-color:#d7afff">color183<br/>215 175 255, #d7afff</td><td style="background-color:#d7d700">color184<br/>215 215 0, #d7d700</td><td style="background-color:#d7d75f">color185<br/>215 215 95, #d7d75f</td></tr>
<tr><td style="background-color:#d7d787">color186<br/>215 215 135, #d7d787</td><td style="background-color:#d7d7af">color187<br/>215 215 175, #d7d7af</td><td style="background-color:#d7d7d7">color188<br/>215 215 215, #d7d7d7</td><td style="background-color:#d7d7ff">color189<br/>215 215 255, #d7d7ff</td><td style="background-color:#d7ff00">color190<br/>215 255 0, #d7ff00</td><td style="background-color:#d7ff5f">color191<br/>215 255 95, #d7ff5f</td></tr>
<tr><td style="background-color:#d7ff87">color192<br/>215 255 135, #d7ff87</td><td style="background-color:#d7ffaf">color193<br/>215 255 175, #d7ffaf</td><td style="background-color:#d7ffd7">color194<br/>215 255 215, #d7ffd7</td><td style="background-color:#d7ffff">color195<br/>215 255 255, #d7ffff</td><td style="background-color:#ff0000;color:#ffffff">color196<br/>255 0 0, #ff0000</td><td style="background-color:#ff005f">color197<br/>255 0 95, #ff005f</td></tr>
<tr><td style="background-color:#ff0087">color198<br/>255 0 135, #ff0087</td><td style="background-color:#ff00af">color199<br/>255 0 175, #ff00af</td><td style="background-color:#ff00d7">color200<br/>255 0 215, #ff00d7</td><td style="background-color:#ff00ff">color201<br/>255 0 255, #ff00ff</td><td style="background-color:#ff5f00">color202<br/>255 95 0, #ff5f00</td><td style="background-color:#ff5f5f">color203<br/>255 95 95, #ff5f5f</td></tr>
<tr><td style="background-color:#ff5f87">color204<br/>255 95 135, #ff5f87</td><td style="background-color:#ff5faf">color205<br/>255 95 175, #ff5faf</td><td style="background-color:#ff5fd7">color206<br/>255 95 215, #ff5fd7</td><td style="background-color:#ff5fff">color207<br/>255 95 255, #ff5fff</td><td style="background-color:#ff8700">color208<br/>255 135 0, #ff8700</td><td style="background-color:#ff875f">color209<br/>255 135 95, #ff875f</td></tr>
<tr><td style="background-color:#ff8787">color210<br/>255 135 135, #ff8787</td><td style="background-color:#ff87af">color211<br/>255 135 175, #ff87af</td><td style="background-color:#ff87d7">color212<br/>255 135 215, #ff87d7</td><td style="background-color:#ff87ff">color213<br/>255 135 255, #ff87ff</td><td style="background-color:#ffaf00">color214<br/>255 175 0, #ffaf00</td><td style="background-color:#ffaf5f">color215<br/>255 175 95, #ffaf5f</td></tr>
<tr><td style="background-color:#ffaf87">color216<br/>255 175 135, #ffaf87</td><td style="background-color:#ffafaf">color217<br/>255 175 175, #ffafaf</td><td style="background-color:#ffafd7">color218<br/>255 175 215, #ffafd7</td><td style="background-color:#ffafff">color219<br/>255 175 255, #ffafff</td><td style="background-color:#ffd700">color220<br/>255 215 0, #ffd700</td><td style="background-color:#ffd75f">color221<br/>255 215 95, #ffd75f</td></tr>
<tr><td style="background-color:#ffd787">color222<br/>255 215 135, #ffd787</td><td style="background-color:#ffd7af">color223<br/>255 215 175, #ffd7af</td><td style="background-color:#ffd7d7">color224<br/>255 215 215, #ffd7d7</td><td style="background-color:#ffd7ff">color225<br/>255 215 255, #ffd7ff</td><td style="background-color:#ffff00">color226<br/>255 255 0, #ffff00</td><td style="background-color:#ffff5f">color227<br/>255 255 95, #ffff5f</td></tr>
<tr><td style="background-color:#ffff87">color228<br/>255 255 135, #ffff87</td><td style="background-color:#ffffaf">color229<br/>255 255 175, #ffffaf</td><td style="background-color:#ffffd7">color230<br/>255 255 215, #ffffd7</td><td style="background-color:#ffffff">color231<br/>255 255 255, #ffffff</td><td style="background-color:#080808;color:#ffffff">color232<br/>8 8 8, #080808</td><td style="background-color:#121212;color:#ffffff">color233<br/>18 18 18, #121212</td></tr>
<tr><td style="background-color:#1c1c1c;color:#ffffff">color234<br/>28 28 28, #1c1c1c</td><td style="background-color:#262626;color:#ffffff">color235<br/>38 38 38, #262626</td><td style="background-color:#303030;color:#ffffff">color236<br/>48 48 48, #303030</td><td style="background-color:#3a3a3a;color:#ffffff">color237<br/>58 58 58, #3a3a3a</td><td style="background-color:#444444;color:#ffffff">color238<br/>68 68 68, #444444</td><td style="background-color:#4e4e4e;color:#ffffff">color239<br/>78 78 78, #4e4e4e</td></tr>
<tr><td style="background-color:#585858;color:#ffffff">color240<br/>88 88 88, #585858</td><td style="background-color:#626262;color:#ffffff">color241<br/>98 98 98, #626262</td><td style="background-color:#6c6c6c">color242<br/>108 108 108, #6c6c6c</td><td style="background-color:#767676">color243<br/>118 118 118, #767676</td><td style="background-color:#808080">color244<br/>128 128 128, #808080</td><td style="background-color:#8a8a8a">color245<br/>138 138 138, #8a8a8a</td></tr>
<tr><td style="background-color:#949494">color246<br/>148 148 148, #949494</td><td style="background-color:#9e9e9e">color247<br/>158 158 158, #9e9e9e</td><td style="background-color:#a8a8a8">color248<br/>168 168 168, #a8a8a8</td><td style="background-color:#b2b2b2">color249<br/>178 178 178, #b2b2b2</td><td style="background-color:#bcbcbc">color250<br/>188 188 188, #bcbcbc</td><td style="background-color:#c6c6c6">color251<br/>198 198 198, #c6c6c6</td></tr>
<tr><td style="background-color:#d0d0d0">color252<br/>208 208 208, #d0d0d0</td><td style="background-color:#dadada">color253<br/>218 218 218, #dadada</td><td style="background-color:#e4e4e4">color254<br/>228 228 228, #e4e4e4</td><td style="background-color:#eeeeee">color255<br/>238 238 238, #eeeeee</td></tr>
</table><p><table>
<tr><td style="background-color:#ffffff">color15<br/>255 255 255, #ffffff</td><td style="background-color:#ffffff">color231<br/>255 255 255, #ffffff</td><td style="background-color:#d7ffff">color195<br/>215 255 255, #d7ffff</td><td style="background-color:#ffd7ff">color225<br/>255 215 255, #ffd7ff</td><td style="background-color:#ffffd7">color230<br/>255 255 215, #ffffd7</td><td style="background-color:#eeeeee">color255<br/>238 238 238, #eeeeee</td></tr>
<tr><td style="background-color:#afffff">color159<br/>175 255 255, #afffff</td><td style="background-color:#d7d7ff">color189<br/>215 215 255, #d7d7ff</td><td style="background-color:#d7ffd7">color194<br/>215 255 215, #d7ffd7</td><td style="background-color:#ffafff">color219<br/>255 175 255, #ffafff</td><td style="background-color:#ffd7d7">color224<br/>255 215 215, #ffd7d7</td><td style="background-color:#ffffaf">color229<br/>255 255 175, #ffffaf</td></tr>
<tr><td style="background-color:#e4e4e4">color254<br/>228 228 228, #e4e4e4</td><td style="background-color:#dadada">color253<br/>218 218 218, #dadada</td><td style="background-color:#87ffff">color123<br/>135 255 255, #87ffff</td><td style="background-color:#afd7ff">color153<br/>175 215 255, #afd7ff</td><td style="background-color:#afffd7">color158<br/>175 255 215, #afffd7</td><td style="background-color:#d7afff">color183<br/>215 175 255, #d7afff</td></tr>
<tr><td style="background-color:#d7d7d7">color188<br/>215 215 215, #d7d7d7</td><td style="background-color:#d7ffaf">color193<br/>215 255 175, #d7ffaf</td><td style="background-color:#ff87ff">color213<br/>255 135 255, #ff87ff</td><td style="background-color:#ffafd7">color218<br/>255 175 215, #ffafd7</td><td style="background-color:#ffd7af">color223<br/>255 215 175, #ffd7af</td><td style="background-color:#ffff87">color228<br/>255 255 135, #ffff87</td></tr>
<tr><td style="background-color:#d0d0d0">color252<br/>208 208 208, #d0d0d0</td><td style="background-color:#5fffff">color87<br/>95 255 255, #5fffff</td><td style="background-color:#87d7ff">color117<br/>135 215 255, #87d7ff</td><td style="background-color:#87ffd7">color122<br/>135 255 215, #87ffd7</td><td style="background-color:#afafff">color147<br/>175 175 255, #afafff</td><td style="background-color:#afd7d7">color152<br/>175 215 215, #afd7d7</td></tr>
<tr><td style="background-color:#afffaf">color157<br/>175 255 175, #afffaf</td><td style="background-color:#d787ff">color177<br/>215 135 255, #d787ff</td><td style="background-color:#d7afd7">color182<br/>215 175 215, #d7afd7</td><td style="background-color:#d7d7af">color187<br/>215 215 175, #d7d7af</td><td style="background-color:#d7ff87">color192<br/>215 255 135, #d7ff87</td><td style="background-color:#ff5fff">color207<br/>255 95 255, #ff5fff</td></tr>
<tr><td style="background-color:#ff87d7">color212<br/>255 135 215, #ff87d7</td><td style="background-color:#ffafaf">color217<br/>255 175 175, #ffafaf</td><td style="background-color:#ffd787">color222<br/>255 215 135, #ffd787</td><td style="background-color:#ffff5f">color227<br/>255 255 95, #ffff5f</td><td style="background-color:#c6c6c6">color251<br/>198 198 198, #c6c6c6</td><td style="background-color:#c0c0c0">color7<br/>192 192 192, #c0c0c0</td></tr>
<tr><td style="background-color:#5fd7ff">color81<br/>95 215 255, #5fd7ff</td><td style="background-color:#5fffd7">color86<br/>95 255 215, #5fffd7</td><td style="background-color:#87afff">color111<br/>135 175 255, #87afff</td><td style="background-color:#87d7d7">color116<br/>135 215 215, #87d7d7</td><td style="background-color:#87ffaf">color121<br/>135 255 175, #87ffaf</td><td style="background-color:#af87ff">color141<br/>175 135 255, #af87ff</td></tr>
<tr><td style="background-color:#afafd7">color146<br/>175 175 215, #afafd7</td><td style="background-color:#afd7af">color151<br/>175 215 175, #afd7af</td><td style="background-color:#afff87">color156<br/>175 255 135, #afff87</td><td style="background-color:#d75fff">color171<br/>215 95 255, #d75fff</td><td style="background-color:#d787d7">color176<br/>215 135 215, #d787d7</td><td style="background-color:#d7afaf">color181<br/>215 175 175, #d7afaf</td></tr>
<tr><td style="background-color:#d7d787">color186<br/>215 215 135, #d7d787</td><td style="background-color:#d7ff5f">color191<br/>215 255 95, #d7ff5f</td><td style="background-color:#ff5fd7">color206<br/>255 95 215, #ff5fd7</td><td style="background-color:#ff87af">color211<br/>255 135 175, #ff87af</td><td style="background-color:#ffaf87">color216<br/>255 175 135, #ffaf87</td><td style="background-color:#ffd75f">color221<br/>255 215 95, #ffd75f</td></tr>
<tr><td style="background-color:#bcbcbc">color250<br/>188 188 188, #bcbcbc</td><td style="background-color:#b2b2b2">color249<br/>178 178 178, #b2b2b2</td><td style="background-color:#5fafff">color75<br/>95 175 255, #5fafff</td><td style="background-color:#5fd7d7">color80<br/>95 215 215, #5fd7d7</td><td style="background-color:#5fffaf">color85<br/>95 255 175, #5fffaf</td><td style="background-color:#8787ff">color105<br/>135 135 255, #8787ff</td></tr>
<tr><td style="background-color:#87afd7">color110<br/>135 175 215, #87afd7</td><td style="background-color:#87d7af">color115<br/>135 215 175, #87d7af</td><td style="background-color:#87ff87">color120<br/>135 255 135, #87ff87</td><td style="background-color:#af5fff">color135<br/>175 95 255, #af5fff</td><td style="background-color:#af87d7">color140<br/>175 135 215, #af87d7</td><td style="background-color:#afafaf">color145<br/>175 175 175, #afafaf</td></tr>
<tr><td style="background-color:#afd787">color150<br/>175 215 135, #afd787</td><td style="background-color:#afff5f">color155<br/>175 255 95, #afff5f</td><td style="background-color:#d75fd7">color170<br/>215 95 215, #d75fd7</td><td style="background-color:#d787af">color175<br/>215 135 175, #d787af</td><td style="background-color:#d7af87">color180<br/>215 175 135, #d7af87</td><td style="background-color:#d7d75f">color185<br/>215 215 95, #d7d75f</td></tr>
<tr><td style="background-color:#ff5faf">color205<br/>255 95 175, #ff5faf</td><td style="background-color:#ff8787">color210<br/>255 135 135, #ff8787</td><td style="background-color:#ffaf5f">color215<br/>255 175 95, #ffaf5f</td><td style="background-color:#ffff00">color11<br/>255 255 0, #ffff00</td><td style="background-color:#ff00ff">color13<br/>255 0 255, #ff00ff</td><td style="background-color:#00ffff">color14<br/>0 255 255, #00ffff</td></tr>
<tr><td style="background-color:#00ffff">color51<br/>0 255 255, #00ffff</td><td style="background-color:#ff00ff">color201<br/>255 0 255, #ff00ff</td><td style="background-color:#ffff00">color226<br/>255 255 0, #ffff00</td><td style="background-color:#a8a8a8">color248<br/>168 168 168, #a8a8a8</td><td style="background-color:#5f87ff">color69<br/>95 135 255, #5f87ff</td><td style="background-color:#5fafd7">color74<br/>95 175 215, #5fafd7</td></tr>
<tr><td style="background-color:#5fd7af">color79<br/>95 215 175, #5fd7af</td><td style="background-color:#5fff87">color84<br/>95 255 135, #5fff87</td><td style="background-color:#875fff">color99<br/>135 95 255, #875fff</td><td style="background-color:#8787d7">color104<br/>135 135 215, #8787d7</td><td style="background-color:#87afaf">color109<br/>135 175 175, #87afaf</td><td style="background-color:#87d787">color114<br/>135 215 135, #87d787</td></tr>
<tr><td style="background-color:#87ff5f">color119<br/>135 255 95, #87ff5f</td><td style="background-color:#af5fd7">color134<br/>175 95 215, #af5fd7</td><td style="background-color:#af87af">color139<br/>175 135 175, #af87af</td><td style="background-color:#afaf87">color144<br/>175 175 135, #afaf87</td><td style="background-color:#afd75f">color149<br/>175 215 95, #afd75f</td><td style="background-color:#d75faf">color169<br/>215 95 175, #d75faf</td></tr>
<tr><td style="background-color:#d78787">color174<br/>215 135 135, #d78787</td><td style="background-color:#d7af5f">color179<br/>215 175 95, #d7af5f</td><td style="background-color:#ff5f87">color204<br/>255 95 135, #ff5f87</td><td style="background-color:#ff875f">color209<br/>255 135 95, #ff875f</td><td style="background-color:#9e9e9e">color247<br/>158 158 158, #9e9e9e</td><td style="background-color:#00d7ff">color45<br/>0 215 255, #00d7ff</td></tr>
<tr><td style="background-color:#00ffd7">color50<br/>0 255 215, #00ffd7</td><td style="background-color:#d700ff">color165<br/>215 0 255, #d700ff</td><td style="background-color:#d7ff00">color190<br/>215 255 0, #d7ff00</td><td style="background-color:#ff00d7">color200<br/>255 0 215, #ff00d7</td><td style="background-color:#ffd700">color220<br/>255 215 0, #ffd700</td><td style="background-color:#5f5fff">color63<br/>95 95 255, #5f5fff</td></tr>
<tr><td style="background-color:#5f87d7">color68<br/>95 135 215, #5f87d7</td><td style="background-color:#5fafaf">color73<br/>95 175 175, #5fafaf</td><td style="background-color:#5fd787">color78<br/>95 215 135, #5fd787</td><td style="background-color:#5fff5f">color83<br/>95 255 95, #5fff5f</td><td style="background-color:#875fd7">color98<br/>135 95 215, #875fd7</td><td style="background-color:#8787af">color103<br/>135 135 175, #8787af</td></tr>
<tr><td style="background-color:#87af87">color108<br/>135 175 135, #87af87</td><td style="background-color:#87d75f">color113<br/>135 215 95, #87d75f</td><td style="background-color:#af5faf">color133<br/>175 95 175, #af5faf</td><td style="background-color:#af8787">color138<br/>175 135 135, #af8787</td><td style="background-color:#afaf5f">color143<br/>175 175 95, #afaf5f</td><td style="background-color:#d75f87">color168<br/>215 95 135, #d75f87</td></tr>
<tr><td style="background-color:#d7875f">color173<br/>215 135 95, #d7875f</td><td style="background-color:#ff5f5f">color203<br/>255 95 95, #ff5f5f</td><td style="background-color:#949494">color246<br/>148 148 148, #949494</td><td style="background-color:#00afff">color39<br/>0 175 255, #00afff</td><td style="background-color:#00d7d7">color44<br/>0 215 215, #00d7d7</td><td style="background-color:#00ffaf">color49<br/>0 255 175, #00ffaf</td></tr>
<tr><td style="background-color:#af00ff">color129<br/>175 0 255, #af00ff</td><td style="background-color:#afff00">color154<br/>175 255 0, #afff00</td><td style="background-color:#d700d7">color164<br/>215 0 215, #d700d7</td><td style="background-color:#d7d700">color184<br/>215 215 0, #d7d700</td><td style="background-color:#ff00af">color199<br/>255 0 175, #ff00af</td><td style="background-color:#ffaf00">color214<br/>255 175 0, #ffaf00</td></tr>
<tr><td style="background-color:#8a8a8a">color245<br/>138 138 138, #8a8a8a</td><td style="background-color:#5f5fd7">color62<br/>95 95 215, #5f5fd7</td><td style="background-color:#5f87af">color67<br/>95 135 175, #5f87af</td><td style="background-color:#5faf87">color72<br/>95 175 135, #5faf87</td><td style="background-color:#5fd75f">color77<br/>95 215 95, #5fd75f</td><td style="background-color:#875faf">color97<br/>135 95 175, #875faf</td></tr>
<tr><td style="background-color:#878787">color102<br/>135 135 135, #878787</td><td style="background-color:#87af5f">color107<br/>135 175 95, #87af5f</td><td style="background-color:#af5f87">color132<br/>175 95 135, #af5f87</td><td style="background-color:#af875f">color137<br/>175 135 95, #af875f</td><td style="background-color:#d75f5f">color167<br/>215 95 95, #d75f5f</td><td style="background-color:#0087ff">color33<br/>0 135 255, #0087ff</td></tr>
<tr><td style="background-color:#00afd7">color38<br/>0 175 215, #00afd7</td><td style="background-color:#00d7af">color43<br/>0 215 175, #00d7af</td><td style="background-color:#00ff87">color48<br/>0 255 135, #00ff87</td><td style="background-color:#8700ff">color93<br/>135 0 255, #8700ff</td><td style="background-color:#87ff00">color118<br/>135 255 0, #87ff00</td><td style="background-color:#af00d7">color128<br/>175 0 215, #af00d7</td></tr>
<tr><td style="background-color:#afd700">color148<br/>175 215 0, #afd700</td><td style="background-color:#d700af">color163<br/>215 0 175, #d700af</td><td style="background-color:#d7af00">color178<br/>215 175 0, #d7af00</td><td style="background-color:#ff0087">color198<br/>255 0 135, #ff0087</td><td style="background-color:#ff8700">color208<br/>255 135 0, #ff8700</td><td style="background-color:#808080">color8<br/>128 128 128, #808080</td></tr>
<tr><td style="background-color:#808080">color244<br/>128 128 128, #808080</td><td style="background-color:#5f5faf">color61<br/>95 95 175, #5f5faf</td><td style="background-color:#5f8787">color66<br/>95 135 135, #5f8787</td><td style="background-color:#5faf5f">color71<br/>95 175 95, #5faf5f</td><td style="background-color:#875f87">color96<br/>135 95 135, #875f87</td><td style="background-color:#87875f">color101<br/>135 135 95, #87875f</td></tr>
<tr><td style="background-color:#af5f5f">color131<br/>175 95 95, #af5f5f</td><td style="background-color:#767676">color243<br/>118 118 118, #767676</td><td style="background-color:#005fff">color27<br/>0 95 255, #005fff</td><td style="background-color:#0087d7">color32<br/>0 135 215, #0087d7</td><td style="background-color:#00afaf">color37<br/>0 175 175, #00afaf</td><td style="background-color:#00d787">color42<br/>0 215 135, #00d787</td></tr>
<tr><td style="background-color:#00ff5f">color47<br/>0 255 95, #00ff5f</td><td style="background-color:#5f00ff">color57<br/>95 0 255, #5f00ff</td><td style="background-color:#5fff00">color82<br/>95 255 0, #5fff00</td><td style="background-color:#8700d7">color92<br/>135 0 215, #8700d7</td><td style="background-color:#87d700">color112<br/>135 215 0, #87d700</td><td style="background-color:#af00af">color127<br/>175 0 175, #af00af</td></tr>
<tr><td style="background-color:#afaf00">color142<br/>175 175 0, #afaf00</td><td style="background-color:#d70087">color162<br/>215 0 135, #d70087</td><td style="background-color:#d78700">color172<br/>215 135 0, #d78700</td><td style="background-color:#ff005f">color197<br/>255 0 95, #ff005f</td><td style="background-color:#ff5f00">color202<br/>255 95 0, #ff5f00</td><td style="background-color:#5f5f87">color60<br/>95 95 135, #5f5f87</td></tr>
<tr><td style="background-color:#5f875f">color65<br/>95 135 95, #5f875f</td><td style="background-color:#875f5f">color95<br/>135 95 95, #875f5f</td><td style="background-color:#6c6c6c">color242<br/>108 108 108, #6c6c6c</td><td style="background-color:#005fd7">color26<br/>0 95 215, #005fd7</td><td style="background-color:#0087af">color31<br/>0 135 175, #0087af</td><td style="background-color:#00af87">color36<br/>0 175 135, #00af87</td></tr>
<tr><td style="background-color:#00d75f">color41<br/>0 215 95, #00d75f</td><td style="background-color:#5f00d7">color56<br/>95 0 215, #5f00d7</td><td style="background-color:#5fd700">color76<br/>95 215 0, #5fd700</td><td style="background-color:#8700af">color91<br/>135 0 175, #8700af</td><td style="background-color:#87af00">color106<br/>135 175 0, #87af00</td><td style="background-color:#af0087">color126<br/>175 0 135, #af0087</td></tr>
<tr><td style="background-color:#af8700">color136<br/>175 135 0, #af8700</td><td style="background-color:#d7005f">color161<br/>215 0 95, #d7005f</td><td style="background-color:#d75f00">color166<br/>215 95 0, #d75f00</td><td style="background-color:#626262;color:#ffffff">color241<br/>98 98 98, #626262</td><td style="background-color:#5f5f5f;color:#ffffff">color59<br/>95 95 95, #5f5f5f</td><td style="background-color:#005faf;color:#ffffff">color25<br/>0 95 175, #005faf</td></tr>
<tr><td style="background-color:#008787;color:#ffffff">color30<br/>0 135 135, #008787</td><td style="background-color:#00af5f;color:#ffffff">color35<br/>0 175 95, #00af5f</td><td style="background-color:#5f00af;color:#ffffff">color55<br/>95 0 175, #5f00af</td><td style="background-color:#5faf00;color:#ffffff">color70<br/>95 175 0, #5faf00</td><td style="background-color:#870087;color:#ffffff">color90<br/>135 0 135, #870087</td><td style="background-color:#878700;color:#ffffff">color100<br/>135 135 0, #878700</td></tr>
<tr><td style="background-color:#af005f;color:#ffffff">color125<br/>175 0 95, #af005f</td><td style="background-color:#af5f00;color:#ffffff">color130<br/>175 95 0, #af5f00</td><td style="background-color:#585858;color:#ffffff">color240<br/>88 88 88, #585858</td><td style="background-color:#808000;color:#ffffff">color3<br/>128 128 0, #808000</td><td style="background-color:#800080;color:#ffffff">color5<br/>128 0 128, #800080</td><td style="background-color:#008080;color:#ffffff">color6<br/>0 128 128, #008080</td></tr>
<tr><td style="background-color:#ff0000;color:#ffffff">color9<br/>255 0 0, #ff0000</td><td style="background-color:#00ff00;color:#ffffff">color10<br/>0 255 0, #00ff00</td><td style="background-color:#0000ff;color:#ffffff">color12<br/>0 0 255, #0000ff</td><td style="background-color:#0000ff;color:#ffffff">color21<br/>0 0 255, #0000ff</td><td style="background-color:#00ff00;color:#ffffff">color46<br/>0 255 0, #00ff00</td><td style="background-color:#ff0000;color:#ffffff">color196<br/>255 0 0, #ff0000</td></tr>
<tr><td style="background-color:#4e4e4e;color:#ffffff">color239<br/>78 78 78, #4e4e4e</td><td style="background-color:#005f87;color:#ffffff">color24<br/>0 95 135, #005f87</td><td style="background-color:#00875f;color:#ffffff">color29<br/>0 135 95, #00875f</td><td style="background-color:#5f0087;color:#ffffff">color54<br/>95 0 135, #5f0087</td><td style="background-color:#5f8700;color:#ffffff">color64<br/>95 135 0, #5f8700</td><td style="background-color:#87005f;color:#ffffff">color89<br/>135 0 95, #87005f</td></tr>
<tr><td style="background-color:#875f00;color:#ffffff">color94<br/>135 95 0, #875f00</td><td style="background-color:#0000d7;color:#ffffff">color20<br/>0 0 215, #0000d7</td><td style="background-color:#00d700;color:#ffffff">color40<br/>0 215 0, #00d700</td><td style="background-color:#d70000;color:#ffffff">color160<br/>215 0 0, #d70000</td><td style="background-color:#444444;color:#ffffff">color238<br/>68 68 68, #444444</td><td style="background-color:#005f5f;color:#ffffff">color23<br/>0 95 95, #005f5f</td></tr>
<tr><td style="background-color:#5f005f;color:#ffffff">color53<br/>95 0 95, #5f005f</td><td style="background-color:#5f5f00;color:#ffffff">color58<br/>95 95 0, #5f5f00</td><td style="background-color:#0000af;color:#ffffff">color19<br/>0 0 175, #0000af</td><td style="background-color:#00af00;color:#ffffff">color34<br/>0 175 0, #00af00</td><td style="background-color:#af0000;color:#ffffff">color124<br/>175 0 0, #af0000</td><td style="background-color:#3a3a3a;color:#ffffff">color237<br/>58 58 58, #3a3a3a</td></tr>
<tr><td style="background-color:#303030;color:#ffffff">color236<br/>48 48 48, #303030</td><td style="background-color:#000087;color:#ffffff">color18<br/>0 0 135, #000087</td><td style="background-color:#008700;color:#ffffff">color28<br/>0 135 0, #008700</td><td style="background-color:#870000;color:#ffffff">color88<br/>135 0 0, #870000</td><td style="background-color:#800000;color:#ffffff">color1<br/>128 0 0, #800000</td><td style="background-color:#008000;color:#ffffff">color2<br/>0 128 0, #008000</td></tr>
<tr><td style="background-color:#000080;color:#ffffff">color4<br/>0 0 128, #000080</td><td style="background-color:#262626;color:#ffffff">color235<br/>38 38 38, #262626</td><td style="background-color:#00005f;color:#ffffff">color17<br/>0 0 95, #00005f</td><td style="background-color:#005f00;color:#ffffff">color22<br/>0 95 0, #005f00</td><td style="background-color:#5f0000;color:#ffffff">color52<br/>95 0 0, #5f0000</td><td style="background-color:#1c1c1c;color:#ffffff">color234<br/>28 28 28, #1c1c1c</td></tr>
<tr><td style="background-color:#121212;color:#ffffff">color233<br/>18 18 18, #121212</td><td style="background-color:#080808;color:#ffffff">color232<br/>8 8 8, #080808</td><td style="background-color:#000000;color:#ffffff">color0<br/>0 0 0, #000000</td><td style="background-color:#000000;color:#ffffff">color16<br/>0 0 0, #000000</td></tr>
</table></body></html
NB. main colortable used in J

cocurrent 'z'

NB. =========================================================
NB.*COLORTABLE n main colortable
COLORTABLE=: ] ;._2 (0 : 0)
AliceBlue=:            240 248 255
AntiqueWhite=:         250 235 215
Aqua=:                   0 255 255
Aquamarine=:           127 255 212
ArmyOlive=:            192 220 192
Azure=:                240 255 255
Beige=:                245 245 220
Bisque=:               255 228 196
Black=:                  0   0   0
BlanchedAlmond=:       255 235 205
Blue=:                   0   0 255
BlueViolet=:           138  43 226
Brown=:                165  42  42
Burlywood=:            222 184 135
CadetBlue=:             95 158 160
Chartreuse=:           127 255   0
Chocolate=:            210 105  30
Coral=:                255 127  80
CornflowerBlue=:       100 149 237
Cornsilk=:             255 248 220
Crimson=:              220  20  60
Cyan=:                   0 255 255
DarkBlue=:               0   0 139
DarkCyan=:               0 139 139
DarkGoldenrod=:        184 134  11
DarkGray=:             169 169 169
DarkGreen=:              0 100   0
DarkKhaki=:            189 183 107
DarkMagenta=:          139   0 139
DarkOliveGreen=:        85 107  47
DarkOrange=:           255 140   0
DarkOrchid=:           153  50 204
DarkRed=:              139   0   0
DarkSalmon=:           233 150 122
DarkSeaGreen=:         143 188 143
DarkSlateBlue=:         72  61 139
DarkSlateGray=:         47  79  79
DarkTurquoise=:          0 206 209
DarkViolet=:           148   0 211
DeepPink=:             255  20 147
DeepSkyBlue=:            0 191 255
DimGray=:              105 105 105
DodgerBlue=:            30 144 255
EggshellWhite=:        255 251 240
Firebrick=:            178  34  34
FloralWhite=:          255 250 240
ForestGreen=:           34 139  34
Fuchsia=:              255   0 255
Gainsboro=:            220 220 220
GhostWhite=:           248 248 255
Gold=:                 255 215   0
Goldenrod=:            218 165  32
Gray=:                 128 128 128
Green=:                  0 128   0
GreenYellow=:          173 255  47
Honeydew=:             240 255 240
HotPink=:              255 105 180
IndianRed=:            205  92  92
Indigo=:                75   0 130
Ivory=:                255 255 240
Jade=:                   0 128 128
Khaki=:                240 230 140
Lavender=:             230 230 250
LavenderBlush=:        255 240 245
LawnGreen=:            124 252   0
LemonChiffon=:         255 250 205
LightBlue=:            173 216 230
LightCoral=:           240 128 128
LightCyan=:            224 255 255
LightGoldenrodYellow=: 250 250 210
LightGreen=:           144 238 144
LightGray=:            211 211 211
LightPink=:            255 182 193
LightSalmon=:          255 160 122
LightSeaGreen=:         32 178 170
LightSkyBlue=:         135 206 250
LightSlateGray=:       119 136 153
LightSteelBlue=:       176 196 222
LightYellow=:          255 255 224
Lime=:                   0 255   0
LimeGreen=:             50 205  50
Linen=:                250 240 230
Magenta=:              255   0 255
Maroon=:               128   0   0
MediumAquamarine=:     102 205 170
MediumBlue=:             0   0 205
MediumGray=:           190 190 190
MediumOrchid=:         186  85 211
MediumPurple=:         147 112 219
MediumSeaGreen=:        60 179 113
MediumSlateBlue=:      123 104 238
MediumSpringGreen=:      0 250 154
MediumTurquoise=:       72 209 204
MediumVioletRed=:      199  21 133
MidnightBlue=:          25  25 112
MintCream=:            245 255 250
MistyRose=:            255 228 225
Moccasin=:             255 228 181
NavajoWhite=:          255 222 173
Navy=:                   0   0 128
OldLace=:              253 245 230
Olive=:                128 128   0
OliveDrab=:            107 142  35
Orange=:               255 165   0
OrangeRed=:            255  69   0
Orchid=:               218 112 214
PaleGoldenrod=:        238 232 170
PaleGreen=:            152 251 152
PaleTurquoise=:        175 238 238
PaleVioletRed=:        219 112 147
PapayaWhip=:           255 239 213
PeachPuff=:            255 218 185
Peru=:                 205 133  63
Pink=:                 255 192 203
Plum=:                 221 160 221
PowderBlue=:           176 224 230
Purple=:               128   0 128
Red=:                  255   0   0
RosyBrown=:            188 143 143
RoyalBlue=:             65 105 225
SaddleBrown=:          139  69  19
Salmon=:               250 128 114
SandyBrown=:           244 164  96
SeaGreen=:              46 139  87
Seashell=:             255 245 238
Sienna=:               160  82  45
Silver=:               192 192 192
SkyBlue=:              135 206 235
SlateBlue=:            106  90 205
SlateGray=:            112 128 144
Snow=:                 255 250 250
SpringGreen=:            0 255 127
SteelBlue=:             70 130 180
Tan=:                  210 180 140
Teal=:                   0 128 128
Thistle=:              216 191 216
Tomato=:               255  99  71
Turquoise=:             64 224 208
Violet=:               238 130 238
Wheat=:                245 222 179
White=:                255 255 255
WhiteSmoke=:           245 245 245
Yellow=:               255 255   0
YellowGreen=:          154 205  50
)
directory:  addons/graphics/color

This directory contains scripts to assist with RGB color
definitions.

rgb.ijs
=======
This script defines the verb RGB to convert between color
triples and RGB values.

--------------

The following color tables are defined as character
matrices of name followed by RGB definition.
Execute them to define global names.

color16.ijs
===========
This script defines COLOR16, the 16 primary colors.

colorcss.ijs
===========
This script defines COLORCSS, the colors supported by CSS

colortab.ijs
============
This script defines COLORTABLE, the main color table used in J.

showcolor.ijs
============
This script defines verb showcolor to display color values.

xwin.ijs
========
This script defines COLORXWIN, the X Windows color table.
NB. startup J code for the j playground
NB. make changes in the playground source directory and rebuild

Displayload_j_=: 0
SystemFolders_j_=: |: ('temp';'') ,. ('addons';'/addons/')

load 'jlibrary/system/util/scripts.ijs'
load 'jlibrary/system/util/pacman.ijs'

IFTESTPLOTJHS_z_=: 1

IFJHS_jzplot_=: 1
IFPLAY_jviewmat_=: 1

getJS_j_=: {{)n
var html = jgetstr("playhtml_j_");
tcmreturn(html);
}}

canvasnum_jws_=: 0
Ignore_j_=: ~.'jhs';Ignore_j_

boxdraw_j_ 0
NB. util

cocurrent 'z'

Aqua=: 0 255 255
Black=: 0 0 0
Blue=: 0 0 255
Fuchsia=: 255 0 255
Gray=: 128 128 128
Green=: 0 128 0
Lime=: 0 255 0
Maroon=: 128 0 0
Navy=: 0 0 128
Olive=: 128 128 0
Purple=: 128 0 128
Red=: 255 0 0
Silver=: 192 192 192
Teal=: 0 128 128
White=: 255 255 255
Yellow=: 255 255 0

NB. =========================================================
NB. convert strings with J box chars to utf8
NB. rank < 2
boxj2utf8=: 3 : 0
if. 1 < #$y do. y return. end.
b=. (16+i.11) { a.
if. -. 1 e. b e. y do. y return. end.
y=. ucp y
a=. ucp ''
x=. I. y e. b
utf8 (a {~ b i. x { y) x } y
)

NB. =========================================================
NB. opens a file in the j playground editor
open=: 3 : 0
data =. fread getscripts_j_ y
(2!:0) 'if (confirm("Are you sure you wish to overwrite the editor?")) { ecmset(jgetstr("data")) }'
)

NB. =========================================================
plotcanvas=: 3 : 0
d=. fread '~temp/plot.html'
canvasnum_jws_=: >:canvasnum_jws_
canvasname=. 'canvas',":canvasnum_jws_
c=. canvasname,' ',":CANVAS_DEFSIZE_jzplot_
d=. (('function graph()'E.d)i.1)}.d
d=. (('</script>'E.d)i.1){.d
d=. d,'graph();'
d=. d rplc'canvas1';canvasname
playhtml_j_=: '7',c,LF,d
(2!:0) getJS_j_
)

NB. =========================================================
plotdef=: 3 : 0
'CANVAS_DEFSHOW_jzplot_ CANVAS_DEFWINDOW_jzplot_ CANVAS_DEFSIZE_jzplot_ JHSOUTPUT_jzplot_'=: y
JHSOUTPUT_jzplot_=: 'canvas'
i.0 0
)

NB. =========================================================
BASE64=: (a.{~ ,(a.i.'Aa') +/i.26),'0123456789+/'
tobase64=: 3 : 0
res=. BASE64 {~ #. _6 [\ , (8#2) #: a. i. y
res, (0 2 1 i. 3 | # y) # '='
)
NB. ===================================================
NB. support for pacman (WIP)

cocurrent 'jpacman'

httpgetJS =: {{)n
    let url = jgetstr("URL_httpget_");
    var request = new XMLHttpRequest();
    request.open('GET', url, false);
    request.send(null);
    console.log(url);
    if (request.status === 200) {
      //console.log(request.responseText);
      //this fails on a large file
      //jsetstr("RESPONSE_httpget_",request.responseText);

      //from https://github.com/emscripten-core/emscripten/issues/6860
      var bufferSize = Module.lengthBytesUTF8(request.responseText);
      var bufferPtr = Module._malloc(bufferSize + 1);
      Module.stringToUTF8(request.responseText, bufferPtr, bufferSize + 1);

      jsetstrPtr("RESPONSE_httpget_",bufferPtr);
    }


}}

getfileurl=: 3 : 0
'tag rep cmt file'=. y
select. tag
case. 'github' do.
  p=. <;.2 rep,'/'
  rpo=. ;2 {. p
  sub=. ;2 }. p
  'https://raw.githubusercontent.com/',rpo,cmt,'/',sub,file
case. do.
  ''
end.
)

NB. extracts a path from a path with filename
getPath =: 3 : 0
'/' , y #~ +./\. y e. '=/'
)

readpackage =: 3 : 0

'tag rep cmt'=: y

NB. execute the manifest to get the FILES list
(0!:100) <'manifest.ijs'

NB. make the folder for the addon
mkdir (jpath '~addons/',FOLDER)

filesBoxed =. LF cut FILES
urls =. getfileurl each {{tag;rep;cmt;(y,LF)}} each filesBoxed
outputPaths =. {{jpath '~addons/',FOLDER,'/',y}} each filesBoxed
cmds =. urls,.(<"0 (#urls)#100),.outputPaths

NB. make any subdirectories
mkdir_jpacman_ each ~. getPath each outputPaths

NB. download each file
httpget each <"1 cmds
)

httpget =: 3 : 0
'f t p'=. 3 {. (boxxopen y),a:
URL_httpget_ =: f
(2!:0) httpgetJS
n=. f #~ -. +./\. f e. '=/'
if. 0=#p do. p=. jpath '~temp/',n end.
RESPONSE_httpget_ (1!:2) <p
0;n
)

NB. override install to only support github for now
install_z_ =: 3 : 0
  install_gitrepo_jpacman_ y
)

NB. create a helper httpget in z
httpget_z_ =: 3 : 0
  httpget_jpacman_ y
)
cocurrent 'jws'

ContextHelp=: ,'j'
ContextTarget=: 'nuvoc'
NB. help

NB. =========================================================
helpcontext=: 3 : 0
ContextTarget=: 'dict'
helpcontext_do y
)

NB. =========================================================
helpcontext1=: 3 : 0
ContextTarget=: 'nuvoc'
helpcontext_do y
)

NB. =========================================================
helpcontext_do=: 3 : 0
ndx=. 2 { I. ' ' = 40 {. y
'class bgn end'=. 0 ". ndx {. y
txt=. (ndx+1) }. y
if. end > bgn do.
  sel=. (1+end-bgn) {. bgn }. txt
else.
  sel=. helppos class;bgn;txt,LF
end.
if. 0=#sel do. '' return. end.
helpsel sel
)

NB. =========================================================
NB. return help topic ndx from primitive
helpndx=: 3 : 0
y=. ,y
if. 2 = 3!:0 y do.
  if. 'goto_' -: 5{.y do. y=. 'goto_?'
  elseif. 'for_' -: 4{.y do. y=. 'for_?'
  elseif. 'label_' -: 6{.y do. y=. 'label_?'
  end.
  top=. <y
  if. top e. DICT do.
    >DICTX {~ DICT i.top
  else.
    ''
  end.
else.
  ''
end.
)

NB. =========================================================
NB. return nuvoc help topic ndx from primitive
helpndx_nuvoc=: 3 : 0
top=. <,y
if. top e. DICTNV do.
  >DICTNVX {~ DICTNV i.top
else.
  ''
end.
)

NB. =========================================================
helppos=: 3 : 0
'class pos txt'=. y
txt=. ucp txt
txt=. txt {.~ pos + (pos }. txt) i. LF
ndx=. - (|. txt) i. LF
pos=. pos - ndx + #txt
txt=. ndx {. txt

NB. ---------------------------------------------------------
NB. check for context-sensitive error handling:
if. '[-' -: }. 3 {. txt do.
  if. helperror utf8 txt do. '' return. end.
end.

NB. ---------------------------------------------------------
NB. check for word formation:
if. class=0 do.
  at=. pos{txt,LF          NB. current position
  as=. pos{LF,txt          NB. previous position
  if. *./ (at,as) e. ' ',LF do.
    '' [ helpword utf8 txt return.
  end.
end.

NB. ---------------------------------------------------------
NB. handle dictionary or definition entry:
sep=. {.~ <./ @ (i.&('() ''',{.a.))
beg=. sep&.|. pos{.txt
bit=. beg,sep pos}.txt

if. 0=#bit-.' ' do.
  txt=. ''
else.
  wds=. ;:utf8 bit
  len=. #&>}:wds
  txt=. > wds {~ 0 i.~ (#beg)>:+/\len
end.

txt
)

NB. =========================================================
helpsel=: 3 : 0
assert. 2=3!:0 y
s=. dlb@dtb y
if. 0=#s do. return. end.
if. 0=#ContextHelp do. return. end.
for_h. ,ContextHelp do.
  select. h
  case. 'j' do.
    if. #ndx=. helpndx_nuvoc s do.
      ndx return.
    end.
  end.
end.
''
)

NB. =========================================================
helpword=: 3 : 0
r=. ;: :: 0: y
if. r -: 0 do.
  smoutput LF,'word formation failed: ',dlb y
else.
  smoutput r
  smoutput ''
end.
)
NB. NuVoc -- generate Vocabulary/ page name from J primitive (as string)

CBYTE=: 0 : 0
=eq
<lt
>gt
_under
+plus
*star
-minus
%percent
^hat
$dollar
~tilde
|bar
.dot
:co
,comma
;semi
#number
!bang
/slash
\bslash
[squarelf
]squarert
{curlylf
}curlyrt
(parenlf
)parenrt
'apostrophe
"quote
`grave
@at
&amp
?query
0zero
1one
2two
3three
4four
5five
6six
7seven
8eight
9nine
)

cbyte=: (3 : 0)"0
if. y e. 'abcdefghijklmnopqrstuvwxyz' do. < y
elseif. y e. 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' do. < 'cap' ,~ tolower y
elseif. y e. CBYTE {~ I. 1 , }: LF=CBYTE do. < }. LF taketo (CBYTE i. y) }. CBYTE
elseif. do. ''
end.
)

cname=: ; @: cbyte

assert 'eq' 		-: cname '='
assert 'eqco' 		-: cname '=:'
assert 'ncapbcapdot' 	-: cname 'NB.'
NB. defines globals for NuVoc help jumps

j=. <;._2 (0 : 0)
= eq
=. eqdot
=: eqco
< lt
<. ltdot
<: ltco
> gt
>. gtdot
>: gtco
_ under
_. underdot
_: underco
+ plus
+. plusdot
+: plusco
* star
*. stardot
*: starco
- minus
-. minusdot
-: minusco
% percent
%. percentdot
%: percentco
^ hat
^. hatdot
^: hatco
$ dollar
$. dollardot
$: dollarco
~ tilde
~. tildedot
~: tildeco
| bar
|. bardot
|: barco
. dot
.. dotdot
.: dotco
: co
:. codot
:: coco
, comma
,. commadot
,: commaco
; semi
;. semidot
;: semico
# number
#. numberdot
#: numberco
! bang
!. bangdot
!: bangco
/ slash
/. slashdot
/: slashco
\ bslash
\. bslashdot
\: bslashco
[ squarelf
[: squarelfco
] squarert
{ curlylf
{. curlylfdot
{: curlylfco
{:: curlylfcoco
} curlyrt
}. curlyrtdot
}: curlyrtco
" quote
". quotedot
": quoteco
` grave
`: graveco
@ at
@. atdot
@: atco
& ampm
&. ampdot
&.: ampdotco
&: ampco
? query
?. querydot
0: zeroco
1: zeroco
2: zeroco
3: zeroco
4: zeroco
5: zeroco
6: zeroco
7: zeroco
8: zeroco
9: zeroco
_1: zeroco
_2: zeroco
_3: zeroco
_4: zeroco
_5: zeroco
_6: zeroco
_7: zeroco
_8: zeroco
_9: zeroco
a. adot
a: aco
A. acapdot
b. bdot
C. ccapdot
d. ddot
D. dcapdot
D: dcapco
e. edot
E. ecapdot
f. fdot
H. hcapdot
i. idot
i: ico
I. icapdot
j. jdot
L. lcapdot
L: lcapco
M. mcapdot
NB. ncapbcapdot
o. odot
p. pdot
p.. pdotdot
p: pco
q: qco
r. rdot
s: sco
S: scapco
t. tdot
t: tco
T. tcapdot
u: uco
x: xco
)

n=. j i.&> ' '
DICTNV=: n {.each j
DICTNVX=: (n+1) }.each j
NB. help

NB. =========================================================
helperror=: 0:

NB. =========================================================
helpplay=: 3 : 0
WF=: ''
ndx=. y i. ' '
dic=. 0 ". ndx{.y
bal=. (ndx+1) }. y
if. dic=0 do.
  s=. helpcontext bal
else.-
  s=. helpcontext1 bal
end.
if. (0=#s) +. 0<#WF do.
  r=. boxj2utf8 '90',WF
else.
  r=. '91',(dic#'nuvoc/'),s
end.
playhtml_j_=: r
(2!:0) getJS_j_
)

NB. =========================================================
helpword=: 3 : 0
r=. ;: :: 0: y
if. r -: 0 do.
  WF=: 'word formation failed: ',(dlb y),LF
else.
  WF=: ,(":r),.LF
end.
)

cocurrent 'base'
